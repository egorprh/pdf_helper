!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("React"),require("ReactDOM"),require("ReactJSX"),require("mobx"),require("mobxReact"),require("@ok/ont")):"function"===typeof define&&define.amd?define("CandleChartV2",["React","ReactDOM","ReactJSX","mobx","mobxReact"],t):"object"===typeof exports?exports.CandleChartV2=t(require("React"),require("ReactDOM"),require("ReactJSX"),require("mobx"),require("mobxReact"),require("@ok/ont")):e.CandleChartV2=t(e.React,e.ReactDOM,e.ReactJSX,e.mobx,e.mobxReact,e.utils.ont)}(self,((e,t,n,r,o,i)=>(()=>{var a={2903:(e,t,n)=>{"use strict";n.d(t,{Av:()=>r,Iz:()=>o,Sk:()=>i});var r="M2.75 13.5333H11.25C11.9588 13.5333 12.5333 12.9588 12.5333 12.25V5.00918C12.5333 4.58443 12.3232 4.1872 11.972 3.94823L7.39384 0.832512C7.15619 0.670777 6.84381 0.670777 6.60616 0.832512L2.02797 3.94823C1.67682 4.1872 1.46667 4.58443 1.46667 5.00918V12.25C1.46667 12.9588 2.04124 13.5333 2.75 13.5333Z",o="M2.5 8.85h2.76c1.23 0 2.28-.78 2.28-2.11 0-1-.66-1.53-1.14-1.72v-.07c.55-.3.89-.85.89-1.55 0-1.08-.82-1.9-2.24-1.9H2.5v7.35ZM3.6 4.6V2.47h1.38c.7 0 1.18.4 1.18 1.04 0 .65-.48 1.09-1.2 1.09H3.6Zm0 3.28v-2.4h1.35c.74 0 1.41.35 1.41 1.19S5.8 7.88 5.02 7.88H3.6Z",i="M7.9 6.8c0 .5-.1.9-.4 1.2-.2.3-.5.6-1 .7-.3.2-.8.3-1.3.3-.7 0-1.4-.2-2-.5-.5-.3-.8-.8-1-1.3l1-.5c.1.4.4.7.7 1 .4.2.8.3 1.3.3s.9 0 1.1-.3c.3-.1.4-.4.4-.7 0-.3 0-.5-.3-.7-.1-.2-.3-.3-.6-.4l-1-.3L3.6 5c-.3 0-.5-.3-.8-.5-.2-.3-.3-.6-.3-1 0-.5.1-.9.4-1.2.2-.3.5-.5 1-.7l1.3-.2a3 3 0 0 1 1.7.4c.4.3.7.7.9 1.1l-1 .5c-.3-.7-.8-1-1.6-1-.5 0-.8 0-1.1.2-.3.2-.4.5-.4.8 0 .2 0 .4.2.5l.6.4 1 .3 1.2.4.8.6c.3.3.4.7.4 1.1Z"},3223:(e,t,n)=>{"use strict";n.d(t,{A:()=>U});var r=n(675),o=n(4467),i=n(5458),a=n(296),s=n(4883),l=n.n(s),c=n(792),u=n.n(c),d=n(5061),f=n(1656),h=n(7001),p=n(7769),v=n(1178),g=n(8174),m=n(4820),y=n(8001),b=n(3023),A=n(8887),w=n(8656),_=n(1287),C=n(8437),S=n(6285),k=n(1029),T=n(2992),x=n(9792),P=n(4414),E=n(3840),L=n(8721);const I=(0,n(4747).t)((function(){return Promise.all([n.e(417),n.e(204),n.e(921),n.e(21)]).then(n.bind(n,2533))}));var O=n(4822),R=n(1529),M=n(2539),N=n(9136);const D="red-dot-jFgKr",B="show-ellipsis-Kz1vo";var F=(0,M.X)("default","custom_intervals_new_feature");const j=function(e){var t=(0,C.Bv)().customIntervals.length>=N.j,n=e.onClick,r=(0,s.useState)(!0),o=(0,a.A)(r,2),i=o[0],c=o[1],u=(0,C.iK)().chartType===k.N.TradingView;(0,s.useEffect)((function(){var e="1"===localStorage.getItem(F),t=new Date(2025,2,10).getTime(),n=(new Date).getTime();c(n<t&&!e)}),[]);return l().createElement(h.A,{title:u?(0,A.tl)("trade_charts_label_intervals_notsupport"):(0,A.tl)("trade_mid_tooltips_max_5_custom_intervals"),disabled:!t&&!u,placement:O.M8.top},l().createElement(g.A,{category:g.A.CATEGORY.text,type:g.A.TYPE.primary,disabled:t||u,size:g.A.SIZE.xxs,icon:"okds-plus",iconType:"leading",className:B,ellipsis:!0,onClick:function(){null===n||void 0===n||n(),localStorage.setItem(F,"1"),c(!1),(0,R.so2)()}},i&&l().createElement("div",{className:D}),(0,A.tl)("trade_mid_select_add_custom_interval")))};var V=n(472),H=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},z={s:"ok_component_okline_period_1s",m:"ok_component_okline_period_min",H:"ok_component_okline_period_hour",D:"ok_component_okline_period_day",W:"ok_component_okline_period_week",M:"ok_component_okline_period_month",Y:"ok_component_okline_period_year"};const U=(0,d.observer)((function(e){var t,n=this,c=e.value,d=e.allResolutions,O=e.pinnedResolutions,R=e.onChange,M=e.onPinnedResolutionsChange,N=e.className,D=e.dropdownMode,B=e.popupProps,F="resolutionShortcutTip",U=(0,C.Bv)(),W=U.setSelectedIndex,K=U.selectedIndex,G=U.customIntervals,q=U.setCustomIntervals,Y=U.datafeedConfig,Z=(0,S.yw)().chartIndex,X=(0,C.iK)(),J=X.enableCustomIntervals,Q=X.chartType===k.N.TradingView,$=null!==(t=null===Y||void 0===Y?void 0:Y.defaultPinnedResolutions)&&void 0!==t?t:T.DE,ee=function(){(null!==Z&&void 0!==Z?Z:K)!==K&&W(null!==Z&&void 0!==Z?Z:K)},te=function(e){ee(),null===M||void 0===M||M(e)},ne=function(e){!function(e){ee(),null===R||void 0===R||R(e)}(e),(0,b.vb)({timeframe:(0,T.g4)(e)?e.name:e})},re=(0,s.useRef)(null),oe=(0,s.useState)(!1),ie=(0,a.A)(oe,2),ae=ie[0],se=ie[1],le=(0,s.useState)(!1),ce=(0,a.A)(le,2),ue=ce[0],de=ce[1],fe=(0,s.useState)(!1),he=(0,a.A)(fe,2),pe=he[0],ve=he[1],ge=(0,s.useState)(O||[]),me=(0,a.A)(ge,2),ye=me[0],be=me[1],Ae=(0,s.useState)(!f.A.get(F)),we=(0,a.A)(Ae,2),_e=we[0],Ce=we[1],Se=(0,s.useState)(!1),ke=(0,a.A)(Se,2),Te=ke[0],xe=ke[1],Pe=(0,T.QQ)([].concat((0,i.A)(d),(0,i.A)(G)),O);Pe.find((function(e){return(0,T.fD)(e,c)}))||Pe.push(c);var Ee=function(e){be((function(t){var n=(0,i.A)(t),r=n.indexOf(e);return-1!==r?n.splice(r,1):n.push(e),n}))},Le=function(e){if((0,T.g4)(e))return(0,A.tl)(e.displayName);var t=(0,_.sG)(e),n=(0,a.A)(t,2),r=n[0],o=n[1];return r+((0,A.tl)(z[o])||o)},Ie=function(e){return H(n,void 0,void 0,(0,r.A)().mark((function t(){var n,o,a,s;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=G.indexOf(e),(o=(0,i.A)(G)).splice(n,1),q(o),-1!==(a=O.indexOf(e))&&((s=(0,i.A)(O)).splice(a,1),te(s));case 6:case"end":return t.stop()}}),t)})))},Oe=l().createElement(P.W,{className:u()(V.A.resolutionMenu,V.A.override)},_e&&!w.Fr&&l().createElement("div",{className:V.A.resolutionShortcutTipWrap},l().createElement(v.A,{boxClassName:V.A.resolutionShortcutTipBox,title:(0,A.tl)("trade_charts_alertbanner_title_timeframe_shortcut"),desc:(0,A.tl)("trade_charts_alertbanner_title_select_an_interval"),type:v.A.TYPE.normal,onClose:function(){Ce(!1),f.A.set(F,"true")}})),l().createElement("div",{className:V.A.resolutionSection},l().createElement("div",{className:V.A.resolutionSectionHeader},l().createElement("div",null,(0,A.tl)("trade_charts_textarea_select_intervals")),l().createElement("div",{className:V.A.buttonArea},pe?l().createElement(g.A,{category:g.A.CATEGORY.text,type:g.A.TYPE.primary,size:g.A.SIZE.xxs,onClick:function(){be($)}},(0,A.tl)("commonall_filter_btn_reset")):J&&l().createElement(j,{onClick:function(){var e;null===(e=re.current)||void 0===e||e.setVisible(!1),xe(!0)}}),l().createElement(m.A,{className:V.A.resolutionEditButton,onClick:function(){var e;pe?(ve(!1),null===(e=re.current)||void 0===e||e.setVisible(!1),te(ye)):((0,b.R0)(),ve(!0),se(!0),be(O))}},pe?(0,A.tl)("ok_component_okline_period_save"):l().createElement(l().Fragment,null,l().createElement("i",{className:u()("iconfont","okx-candle-chart-draw",V.A.resolutionEditButtonIcon)}),l().createElement("span",null,(0,A.tl)("ok_component_okline_period_edit")))))),function(){var e=d.slice();return l().createElement("div",{className:u()(V.A.resolutionItemContainer,V.A.resolutionItemGridContainer)},e.map((function(e){var t=(0,T.g4)(e)?e.name:e;return l().createElement(x.I,{key:t,className:u()(V.A.resolutionItem,(0,o.A)({},V.A.selected,ye.includes(t))),onClick:function(n){pe?(Ee(t),n.preventDefault()):e!==c&&ne(e)}},Le(e),pe&&l().createElement("i",{className:u()("iconfont","okx-candle-chart-select",V.A.resolutionEditIcon)}))})))}(),G.length?l().createElement("div",null,l().createElement("p",{className:u()(V.A.customIntervalsTitle,(0,o.A)({},V.A.disabled,Q))},(0,A.tl)("trade_mid_select_add_custom_interval")),l().createElement("div",{className:u()(V.A.resolutionItemContainer,V.A.resolutionItemGridContainer)},G.map((function(e){return l().createElement(h.A,{key:e,disabled:!Q,trigger:h.A.TRIGGER.hover,title:(0,A.tl)("trade_charts_label_intervals_notsupport")},l().createElement(x.I,{key:e,className:u()(V.A.resolutionItem,V.A.resolutionItemDelete,(0,o.A)((0,o.A)({},V.A.selected,ye.includes(e)),V.A.disabled,Q)),disabled:Q,onClick:function(t){pe?(Ee(e),t.preventDefault()):e!==c&&ne(e)}},pe&&l().createElement("div",{className:V.A.closeIconContainer},l().createElement(p.A,{className:V.A.closeIcon,iconName:"okds-close",onClick:function(){return H(n,void 0,void 0,(0,r.A)().mark((function t(){return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Q){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Ie(e);case 4:case"end":return t.stop()}}),t)})))},a11yText:(0,A.tl)("trade_dialog_btn_delete")})),Le(e),pe&&l().createElement("i",{className:u()("iconfont","okx-candle-chart-select",V.A.resolutionEditIcon)})))})))):null));return l().createElement("div",{className:N},!D&&l().createElement("div",{className:V.A.resolutionList},Pe.map((function(e){var t=(0,T.g4)(e),n=t?e.name:e,r=!t&&G.includes(e),i=Q&&r;return l().createElement("button",{key:n,type:"button",className:u()(V.A.resolutionButton,(0,o.A)((0,o.A)({},V.A.selected,(0,T.fD)(e,c)),V.A.disabled,i)),onClick:function(){i||ne(e)}},Le(e))}))),l().createElement(E.ms,Object.assign({ref:re,content:Oe,offset:[-6,0]},B,{trigger:ae?y.A.TRIGGER.click:y.A.TRIGGER.hover,className:u()(V.A.actionIcon,(0,o.A)({},V.A.selected,ue)),onVisibleChange:function(e){de(e),e?ve(!1):(se(!1),pe&&be(O))}}),D&&l().createElement("span",{className:V.A.resolutionValue},Le(c)),l().createElement(L.P,null)),l().createElement(I,{onResolutionChange:R,open:Te,onClose:function(){xe(!1)}}))}))},9136:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,j:()=>o});var r="custom_intervals",o=15},9047:(e,t,n)=>{"use strict";n.d(t,{Q:()=>f});var r=n(4883),o=n(5314),i=n(5302),a=n(2658),s=n(7009),l=n(4316),c=n(1029),u=n(8437),d=n(3253),f=function(){var e=(0,u.Bv)(),t=e.trade,n=e.showPriceAlertLabel,f=e.setShowPriceAlertLabel,h=e.brokerTerminalDelegate,p=e.setTrade,v=(0,u.iK)(),g=v.enablePriceAlert,m=v.enableTrade,y=v.chartType,b=null!=h?h.configFlags.supportOrders:m,A=null!=h?h.configFlags.supportPositions:m,w=null!=h?h.configFlags.supportExecutions:m,_=(0,r.useMemo)((function(){return[{type:"left-checkbox",visible:b,id:d.Q.PlaceOrder,title:"trade_charts_checkbox_quick_order",value:t.orderPanel||t.orderButton,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderPanel:e,orderButton:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"quick_order",button_name:"quick_order_switch",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},children:[{type:"switch",id:d.Q.OrderPanel,title:"ok_component_okline_trade_settings_show_order_input",value:t.orderPanel,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderPanel:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"quick_order",button_name:"floating_window",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}},{type:"switch",id:d.Q.OrderButton,title:"trade_charts_select_btn_plus_button",tooltip:"trade_charts_tooltips_desc_plus_button",value:t.orderButton,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderButton:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"quick_order",button_name:"plus_button",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}}]},{type:"left-checkbox",visible:b,id:d.Q.OrderLine,title:"ok_component_okline_trade_settings_show_order_line",value:t.orderLine,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderLine:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"open_order",button_name:"open_order_switch",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},children:[{type:"switch",static:!0,id:d.Q.OrderLineQuickAttachTpSl,title:"chart_displaysetting_switchoptiontitle_quicktpsl",value:t.orderLineQuickAttachTpSl,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderLineQuickAttachTpSl:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"open_order",button_name:"quick_tpsl",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},description:"trade_charts_textarea_desc_openorder_quick_tpsl"},{type:"dropdown",id:d.Q.OrderLineValueDisplayType,title:"trade_charts_textarea_title_tpsl_display",options:[{label:"trade_charts_btn_option_estimated_pnl",value:a.B.Pnl},{label:"trade_charts_btn_option_estimated_pnl_percentage",value:a.B.PnlRatio},{label:"ok_component_okline_onchart_tooltip_order_quantity",value:a.B.Amount}],value:t.orderLineValueDisplayType,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderLineValueDisplayType:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,status:void 0,setting_option:"open_order",button_name:l.Qn[e],function_switch:void 0,switch_status:void 0})}},{type:"switch",static:!0,id:d.Q.OrderLineQuickChange,title:"chart_displaysetting_switchoptiontitle_orderchange",value:t.orderLineQuickChange,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderLineQuickChange:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"open_order",button_name:"quick_order_edit",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},description:"chart_displaysetting_switchoptionenable_orderchange"},{type:"switch",static:!0,id:d.Q.OrderLineHorzVisible,title:"trade_charts_switch_extended_line",value:t.orderLineHorzVisible,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderLineHorzVisible:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"open_order",button_name:"extended_price_line",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}},{type:"dropdown",id:d.Q.OrderLinePosition,title:"trade_charts_dropdown_display",options:[{label:"trade_charts_dropdown_left",value:i.DF.LEFT},{label:"trade_charts_dropdown_middle",value:i.DF.CENTER},{label:"trade_charts_dropdown_right",value:i.DF.RIGHT}],value:t.orderLinePosition,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderLinePosition:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,status:void 0,setting_option:"open_order",button_name:l.c_[e],function_switch:void 0,switch_status:void 0})}}]},{type:"left-checkbox",visible:A,id:d.Q.PositionLine,title:"ok_component_okline_trade_settings_show_position_line",value:t.positionLine,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{positionLine:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"open_position",button_name:"open_position_switch",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},children:[{type:"switch",static:!0,id:d.Q.PositionLineQuickTpSl,title:"chart_displaysetting_switchoptiontitle_quicktpsl",value:t.positionLineQuickTpSl,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{positionLineQuickTpSl:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"open_position",button_name:"quick_tpsl",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},description:"chart_displaysetting_switchoptionenable_quicktpsl"},{type:"switch",static:!0,id:d.Q.PositionLineQuickClose,title:"chart_displaysetting_switchoptiontitle_marketcloseall",value:t.positionLineQuickClose,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{positionLineQuickClose:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"open_position",button_name:"quick_close_all",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},description:"chart_displaysetting_switchoptionenable_marketcloseall"},{type:"separator"},{type:"switch",static:!0,id:d.Q.PositionLineHorzVisible,title:"trade_charts_switch_extended_line",value:t.positionLineHorzVisible,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{positionLineHorzVisible:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"open_position",button_name:"extended_price_line",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}},{type:"dropdown",id:d.Q.PositionLinePosition,title:"trade_charts_dropdown_module_position",options:[{label:"trade_charts_dropdown_left",value:i.DF.LEFT},{label:"trade_charts_dropdown_middle",value:i.DF.CENTER},{label:"trade_charts_dropdown_right",value:i.DF.RIGHT}],value:t.positionLinePosition,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{positionLinePosition:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,status:void 0,setting_option:"open_position",button_name:l.c_[e],function_switch:void 0,switch_status:void 0})},description:"trade_charts_label_extend_price_display_cost_positions"}]},{type:"left-checkbox",visible:w,id:d.Q.OrderRecord,title:"ok_component_okline_trade_settings_show_order_record",tooltip:"trade_charts_tooltips_historic_trade",value:t.orderRecord,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderRecord:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"historical_order",button_name:"historical_order_switch",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}},{type:"separator"},{type:"left-checkbox",visible:g,id:d.Q.PriceAlert,title:"trade_charts_dropdown_label",value:n,onChange:function(e){(0,o.runInAction)((function(){f(e)})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"price_alert",button_name:"alert_line",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}}]}),[y,w,b,A,g,f,p,n,t]),C=(0,r.useMemo)((function(){return[{type:"left-checkbox",visible:b,id:d.Q.PlaceOrder,title:"trade_charts_checkbox_quick_order",value:t.orderPanel||t.orderButton,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderPanel:e,orderButton:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"quick_order",button_name:"quick_order_switch",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},children:[{type:"switch",id:d.Q.OrderPanel,title:"ok_component_okline_trade_settings_show_order_input",value:t.orderPanel,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderPanel:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"quick_order",button_name:"floating_window",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}},{type:"switch",id:d.Q.OrderButton,title:"trade_charts_select_btn_plus_button",tooltip:"trade_charts_tooltips_desc_plus_button",value:t.orderButton,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderButton:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"quick_order",button_name:"plus_button",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}}]},{type:"left-checkbox",visible:y===c.N.TradingView&&(b||A),id:d.Q.TradingViewTrade,title:"trade_charts_btn_orders_and_positions",value:t.trade,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{trade:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"order_and_position",button_name:"order_and_position_switch",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},children:[{type:"switch",static:!0,id:d.Q.QuickTpSl,title:"chart_displaysetting_switchoptiontitle_quicktpsl",value:t.quickTpSl,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{quickTpSl:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"order_and_position",button_name:"quick_tpsl",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}},{type:"dropdown",id:d.Q.ValueDisplayType,title:"trade_charts_textarea_title_tpsl_display",options:[{label:"trade_charts_btn_option_estimated_pnl",value:a.B.Pnl},{label:"trade_charts_btn_option_estimated_pnl_percentage",value:a.B.PnlRatio}],value:t.valueDisplayType,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{valueDisplayType:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,status:void 0,setting_option:"order_and_position",button_name:l.Qn[e],function_switch:void 0,switch_status:void 0})}},{type:"switch",static:!0,id:d.Q.QuickEdit,title:"chart_displaysetting_switchoptiontitle_orderchange",value:t.quickEdit,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{quickEdit:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"order_and_position",button_name:"quick_order_edit",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},description:"chart_displaysetting_switchoptionenable_orderchange"},{type:"switch",static:!0,id:d.Q.QuickClose,title:"chart_displaysetting_switchoptiontitle_marketcloseall",value:t.quickClose,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{quickClose:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"order_and_position",button_name:"quick_close_all",status:e?"on":"off",function_switch:void 0,switch_status:void 0})},description:"chart_displaysetting_switchoptionenable_marketcloseall"},{type:"switch",static:!0,id:d.Q.LineHorzVisible,title:"trade_charts_switch_extended_line",value:t.lineHorzVisible,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{lineHorzVisible:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"order_and_position",button_name:"extended_price_line",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}},{type:"dropdown",id:d.Q.PositionLinePosition,title:"trade_chartsettings_title_position_display",options:[{label:"trade_charts_dropdown_left",value:i.DF.LEFT},{label:"trade_charts_dropdown_middle",value:i.DF.CENTER},{label:"trade_charts_dropdown_right",value:i.DF.RIGHT}],value:t.positionLinePosition,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{positionLinePosition:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,status:void 0,setting_option:"open_position",button_name:l.c_[e],function_switch:void 0,switch_status:void 0})}},{type:"dropdown",id:d.Q.OrderLinePosition,title:"trade_chartsettings_title_order_display",options:[{label:"trade_charts_dropdown_left",value:i.DF.LEFT},{label:"trade_charts_dropdown_middle",value:i.DF.CENTER},{label:"trade_charts_dropdown_right",value:i.DF.RIGHT}],value:t.orderLinePosition,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderLinePosition:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,status:void 0,setting_option:"open_order",button_name:l.c_[e],function_switch:void 0,switch_status:void 0})}}]},{type:"left-checkbox",visible:w,id:d.Q.OrderRecord,title:"ok_component_okline_trade_settings_show_order_record",tooltip:"trade_charts_tooltips_historic_trade",value:t.orderRecord,onChange:function(e){(0,o.runInAction)((function(){p(Object.assign(Object.assign({},t),{orderRecord:e}))})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"historical_order",button_name:"historical_order_switch",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}},{type:"separator"},{type:"left-checkbox",visible:g,id:d.Q.PriceAlert,title:"trade_charts_dropdown_label",value:n,onChange:function(e){(0,o.runInAction)((function(){f(e)})),(0,s.G4W)({terminal:"web",chart_type:y.toLowerCase(),chart_layout:void 0,chart_settings:void 0,setting_option:"price_alert",button_name:"alert_line",status:e?"on":"off",function_switch:void 0,switch_status:void 0})}}]}),[y,w,b,A,g,f,p,n,t]);return(0,r.useMemo)((function(){return y===c.N.Original?_:C}),[y,_,C])}},8313:(e,t,n)=>{"use strict";n.d(t,{tz:()=>A});var r=n(4467),o=n(4883),i=n.n(o),a=n(792),s=n.n(a),l=n(7769),c=n(4415),u=n(7001),d=n(1484),f=n(1330),h=n(9422),p=n(3451),v=n(4414),g=n(1535);const m={contextMenu:"contextMenu-VzmSM",contextMenuSeparator:"contextMenuSeparator-mHrg7",contextMenuArrow:"contextMenuArrow-C1uQf",contextMenuItemContainer:"contextMenuItemContainer-fFU1U",contextMenuItem:"contextMenuItem-fGgT8",active:"active-KMlEt",toolbarMenuItemFlex:"toolbarMenuItemFlex-_ECog",contextMenuIcon:"contextMenuIcon-oBgLt",contextMenuText:"contextMenuText-K2IiE",contextMenuCheckbox:"contextMenuCheckbox-Pl9Pa",disabled:"disabled-yMB_9",contextMenuItemContent:"contextMenuItemContent-GFrek",contextMenuItemRow:"contextMenuItemRow-TLymo",contextMenuDescription:"contextMenuDescription-Znyr7",contextMenuSwitch:"contextMenuSwitch-QVmqc",contextMenuDropdown:"contextMenuDropdown-KPIwF",contextMenuItemTitle:"contextMenuItemTitle-ar24E",dashed:"dashed-dX4LS",compact:"compact-la_En",contextMenuContainer:"contextMenuContainer-UBez5",override:"override-Gn6Op",contextMenuContainerContent:"contextMenuContainerContent-mHTCu"};function y(e){return e.filter((function(e){var t;return!(null!==(t=e.visible)&&void 0!==t&&!t)})).map((function(e){return Array.isArray(e.children)?Object.assign(Object.assign({},e),{children:y(e.children)}):e}))}function b(e){var t=[];for(e.forEach((function(e){if("separator"!==e.type||0!==t.length&&"separator"!==t[t.length-1].type)if(Array.isArray(e.children)){var n=b(e.children);t.push(Object.assign(Object.assign({},e),{children:n}))}else t.push(e)}));t.length&&"separator"===t[t.length-1].type;)t.pop();return t}function A(e){var t=b(y(e.items));return i().createElement(v.W,{className:s()(m.contextMenu,e.className,(0,r.A)({},m.compact,e.compact)),style:e.style},t.map((function(t,n,o){var a,v;if(null!==(a=t.visible)&&void 0!==a&&!a)return null;if("separator"===t.type)return 0!==n&&n!==o.length-1&&"separator"!==o[n-1].type?i().createElement("div",{key:n,className:m.contextMenuSeparator}):null;if("text"===t.type)return i().createElement("span",{key:n,className:s()(m.contextMenuText,t.titleClassName),style:t.titleStyle},(0,p.t)(t.title)||t.title);var y=t.icon?i().createElement(l.A,{iconName:t.icon,className:s()(m.contextMenuIcon)}):null,b="left-checkbox"===t.type&&i().createElement(c.A,{className:s()(m.contextMenuCheckbox,(0,r.A)({},m.disabled,t.disabled)),disabled:t.disabled,checked:t.value}),w=i().createElement("span",{className:s()(m.contextMenuItemTitle,t.titleClassName,(0,r.A)({},m.dashed,t.tooltip)),style:t.titleStyle},t.tooltip?i().createElement(u.A,{placement:u.A.DIRECTION.right,title:(0,p.t)(t.tooltip)||t.tooltip,maxWidth:250},(0,p.t)(t.title)||t.title):(0,p.t)(t.title)||t.title),_="switch"===t.type&&i().createElement(d.A,{className:s()(m.contextMenuSwitch,(0,r.A)({},m.disabled,t.disabled)),checked:t.value,disabled:t.disabled,size:d.A.SIZE.sm,onChange:function(n){var r,o;null===(r=t.onChange)||void 0===r||r.call(t,n),null===(o=e.forceUpdate)||void 0===o||o.call(e)}}),C="dropdown"===t.type&&i().createElement(f.A,{hoverMode:!0,className:m.contextMenuDropdown,value:t.value,size:f.A.SIZE.sm,graspBaseDom:!1,options:t.options.map((function(e){return{value:e.value,label:(0,p.t)(e.label)||e.label}})),onChange:function(e){var n,r=e.value;null===(n=t.onChange)||void 0===n||n.call(t,r)},searchable:!1}),S=t.children&&i().createElement(l.A,{iconName:"okds-arrow-chevron-right-centered-sm",className:m.contextMenuArrow}),k=t.description&&i().createElement("span",{className:s()(m.contextMenuDescription,t.titleClassName),style:t.titleStyle},(0,p.t)(t.description)||t.description),T=i().createElement(g.D,{className:s()(m.contextMenuItem,(0,r.A)({},m.active,t.active)),key:t.id,disabled:t.disabled,static:null!==(v=t.static)&&void 0!==v?v:"dropdown"===t.type,onClick:function(n){var r,o,i,a,s,l=!1;t.static||("left-checkbox"===t.type||"switch"===t.type?(l=null!==(o=null===(r=t.onChange)||void 0===r?void 0:r.call(t,!t.value))&&void 0!==o&&o,null===(i=e.forceUpdate)||void 0===i||i.call(e)):l=null===(s=null===(a=t.action)||void 0===a?void 0:a.call(t))||void 0===s||s),l||n.preventDefault()}},i().createElement("div",{className:m.contextMenuItemContent},i().createElement("div",{className:m.contextMenuItemRow},y,b,w,i().createElement("div",{className:m.toolbarMenuItemFlex}),_,C,S),k));return t.children&&!t.disabled?i().createElement(h.A,{key:t.id,rebirthPopper:!0,disabled:!t.children||t.disabled,hideArrow:!0,className:m.contextMenuItemContainer,popperClassName:s()(m.contextMenuContainer,m.override),descClassName:m.contextMenuContainerContent,popupProps:{offset:[-5,2]},description:Array.isArray(t.children)?i().createElement(A,{items:t.children,compact:e.compact,forceUpdate:e.forceUpdate}):t.children,placement:h.A.DIRECTION.rightTop},T):T})))}},3253:(e,t,n)=>{"use strict";var r,o;n.d(t,{Q:()=>r,z:()=>o}),function(e){e[e.PlaceOrder=0]="PlaceOrder",e[e.OrderPanel=1]="OrderPanel",e[e.OrderButton=2]="OrderButton",e[e.OrderLine=3]="OrderLine",e[e.OrderLineQuickAttachTpSl=4]="OrderLineQuickAttachTpSl",e[e.OrderLineValueDisplayType=6]="OrderLineValueDisplayType",e[e.OrderLineQuickChange=7]="OrderLineQuickChange",e[e.OrderLineHorzVisible=9]="OrderLineHorzVisible",e[e.OrderLinePosition=10]="OrderLinePosition",e[e.PositionLine=11]="PositionLine",e[e.PositionLineLiquidationPriceVisible=12]="PositionLineLiquidationPriceVisible",e[e.PositionLineBreakevenPriceVisible=13]="PositionLineBreakevenPriceVisible",e[e.PositionLineQuickTpSl=14]="PositionLineQuickTpSl",e[e.PositionLineQuickClose=18]="PositionLineQuickClose",e[e.PositionLineHorzVisible=19]="PositionLineHorzVisible",e[e.PositionLinePosition=20]="PositionLinePosition",e[e.TradingViewTrade=21]="TradingViewTrade",e[e.QuickTpSl=22]="QuickTpSl",e[e.ValueDisplayType=23]="ValueDisplayType",e[e.QuickEdit=24]="QuickEdit",e[e.QuickClose=25]="QuickClose",e[e.LineHorzVisible=26]="LineHorzVisible",e[e.LinePosition=27]="LinePosition",e[e.OrderRecord=28]="OrderRecord",e[e.PriceAlert=29]="PriceAlert",e[e.ContextMenuReset=30]="ContextMenuReset",e[e.ContextMenuPlaceOrder=31]="ContextMenuPlaceOrder",e[e.ContextMenuCreateAlert=32]="ContextMenuCreateAlert",e[e.ContextMenuDrawHorizontalLine=33]="ContextMenuDrawHorizontalLine",e[e.ContextMenuRiskAndReward=34]="ContextMenuRiskAndReward",e[e.ContextMenuRiskAndRewardLong=35]="ContextMenuRiskAndRewardLong",e[e.ContextMenuRiskAndRewardShort=36]="ContextMenuRiskAndRewardShort",e[e.ContextMenuDisplay=37]="ContextMenuDisplay",e[e.ContextMenuRemoveDrawings=38]="ContextMenuRemoveDrawings",e[e.ContextMenuRemoveIndicators=39]="ContextMenuRemoveIndicators",e[e.ContextMenuTheme=40]="ContextMenuTheme",e[e.ContextMenuThemeLight=41]="ContextMenuThemeLight",e[e.ContextMenuThemeDark=42]="ContextMenuThemeDark",e[e.ContextMenuSetting=43]="ContextMenuSetting",e[e.ContextMenuPrefillPrice=44]="ContextMenuPrefillPrice",e[e.ContextMenuCopyPrice=45]="ContextMenuCopyPrice"}(r||(r={})),function(e){e.DisplaySetting="displaySetting",e.ChartContextMenu="chartContextMenu"}(o||(o={}))},3840:(e,t,n)=>{"use strict";n.d(t,{ms:()=>f,nV:()=>u,qJ:()=>d});var r=n(296),o=n(4883),i=n.n(o),a=n(8001),s=n(8656),l=i().createContext(!1),c=i().createContext(i().createRef());function u(){return(0,o.useContext)(l)}function d(){return(0,o.useContext)(c)}var f=i().forwardRef((function(e,t){var n=(0,o.useState)(!1),u=(0,r.A)(n,2),d=u[0],f=u[1],h=(0,o.useRef)();return(0,o.useEffect)((function(){if(s.Fr){var e=function(e){h.current&&"canvas"===e.target.tagName.toLowerCase()&&h.current.setVisible(!1)};return window.addEventListener("touchstart",e),function(){window.removeEventListener("touchstart",e)}}}),[h]),i().createElement(c.Provider,{value:h},i().createElement(l.Provider,{value:d},i().createElement(a.A,Object.assign({ref:function(e){h.current=null!==e&&void 0!==e?e:void 0,null!=t&&"object"===typeof t?t.current=e:"function"===typeof t&&t(e)},placement:a.A.DIRECTION.bottomLeft,alwaysUpdatePopper:!0,rebirthPopper:!0},e,{onVisibleChange:function(t){var n;null===(n=e.onVisibleChange)||void 0===n||n.call(e,t),f(t)},flipOptions:{flipVariations:!1},hideArrow:!0,gutter:0}))))}))},8721:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var r=n(4467),o=n(4883),i=n.n(o),a=n(792),s=n.n(a),l=n(3840),c=n(5222);function u(e){var t=(0,l.nV)();return i().createElement("i",Object.assign({},e,{className:s()("iconfont","okds-arrow-chevron-down-sm",c.A.dropdownArrow,e.className,(0,r.A)({},c.A.open,t))}))}},9792:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var r=n(4883),o=n.n(r),i=n(3840);function a(e){var t=(0,i.qJ)();return o().createElement("div",Object.assign({},e,{role:"presentation",onClick:function(n){var r,o;e.disabled||(n.defaultPrevented||null===(r=e.onClick)||void 0===r||r.call(e,n),n.defaultPrevented||null===(o=t.current)||void 0===o||o.setVisible(!1))}}))}},4414:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var r=n(4883),o=n.n(r),i=n(792),a=n.n(i),s=n(5222),l=o().forwardRef((function(e,t){return o().createElement("div",Object.assign({ref:t},e,{className:a()(s.A.menu,e.className)}))}))},1535:(e,t,n)=>{"use strict";n.d(t,{D:()=>d});var r=n(4467),o=n(4883),i=n.n(o),a=n(792),s=n.n(a),l=n(9792),c=n(5222),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function d(e){var t=e.static,n=u(e,["static"]);return i().createElement(l.I,Object.assign({},n,{className:s()(e.className,c.A.menuItem,(0,r.A)((0,r.A)({},c.A.active,n.selected),c.A.static,t))}))}},1737:(e,t,n)=>{"use strict";n.d(t,{h:()=>R,Y:()=>O});var r=n(3029),o=n(2901),i=n(4883),a=n.n(i),s=n(3986),l=n(4467),c=n(9379),u=n(296),d=n(792),f=n.n(d),h=n(5061),p=n(3151),v=n(4195),g=n(8887),m=n(1029),y=n(8437),b=n(8032),A=["enter","enterClassName","enterActiveClassName","exitClassName","exitActiveClassName","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],w=0,_=1,C=2,S=3,k=4,T=5;function x(e){var t=e.enter,n=e.enterClassName,r=e.enterActiveClassName,o=e.exitClassName,a=e.exitActiveClassName,d=e.onEnter,h=e.onEntering,p=e.onEntered,v=e.onExit,g=e.onExiting,m=e.onExited,y=(0,s.A)(e,A),x=(0,i.useState)(),P=(0,u.A)(x,2),E=P[0],L=P[1],I=(0,i.useRef)(),O=(0,i.useRef)();return(0,i.useEffect)((function(){O.current={onEnter:d,onEntering:h,onEntered:p,onExit:v,onExiting:g,onExited:m}}),[O,d,h,p,v,g,m]),(0,i.useEffect)((function(){"boolean"===typeof t&&(t?(L(w),requestAnimationFrame((function(){L(_)}))):(L(S),requestAnimationFrame((function(){L(k)}))))}),[t]),(0,i.useEffect)((function(){if(I.current){var e=function(){L((function(e){switch(e){case _:return C;case k:return T;default:return e}}))},t=I.current;return t.addEventListener("transitionend",e),function(){t.removeEventListener("transitionend",e)}}}),[I]),(0,i.useEffect)((function(){var e,t,n,r,o,i,a,s,l,c,u,d;switch(E){case w:null===(e=O.current)||void 0===e||null===(t=e.onEnter)||void 0===t||t.call(e);break;case _:null===(n=O.current)||void 0===n||null===(r=n.onEntering)||void 0===r||r.call(n);break;case C:null===(o=O.current)||void 0===o||null===(i=o.onEntered)||void 0===i||i.call(o);break;case S:null===(a=O.current)||void 0===a||null===(s=a.onExit)||void 0===s||s.call(a);break;case k:null===(l=O.current)||void 0===l||null===(c=l.onExiting)||void 0===c||c.call(l);break;case T:null===(u=O.current)||void 0===u||null===(d=u.onExited)||void 0===d||d.call(u)}}),[E,O]),(0,b.jsx)("div",(0,c.A)((0,c.A)({ref:I},y),{},{className:f()((0,l.A)((0,l.A)((0,l.A)((0,l.A)({},n,null==E||E===w||E===_),r,E===_||E===C),o,E===S||E===k),a,E===k||E===T))}))}const P={notificationManager:"notificationManager-Xg9ni",tradingView:"tradingView-HkMV8",notificationEnterActive:"notificationEnterActive-e4qvc",notificationExit:"notificationExit-I5tdh",notificationEnter:"notificationEnter-pUcRZ",notificationExitActive:"notificationExitActive-irRcQ",notification:"notification-Ec1Oc",override:"override-b8IG5",description:"description-qbg8d",compact:"compact-SUuKA"};var E=["id","timeout","showClose","isInline","autoWidth","title","desc","onClickClose","onClose"],L=a().forwardRef((function(e,t){var n=(0,i.useState)([]),r=(0,u.A)(n,2),o=r[0],a=r[1],d=(0,i.useState)([]),h=(0,u.A)(d,2),A=h[0],w=h[1],_=(0,i.useState)([]),C=(0,u.A)(_,2),S=C[0],k=C[1],T=(0,i.useState)(0),L=(0,u.A)(T,2),I=L[0],O=L[1],R=(0,i.useState)(0),M=(0,u.A)(R,2),N=M[0],D=M[1],B=(0,y.iK)().chartType,F=(0,i.useRef)({}),j=B===m.N.TradingView,V=function(e,t){return e((function(e){return e.concat([t])}))};return(0,i.useEffect)((function(){a((function(e){return e.filter((function(e){return!A.includes(e.id)}))})),k((function(e){return e.filter((function(e){return!A.includes(e)}))}))}),[A]),(0,i.useImperativeHandle)(t,(function(){return{showNotification:function(e){var t=(0,g.Lz)();return V(a,(0,c.A)({id:t},e)),function(){var n;V(w,t),null===(n=e.onClose)||void 0===n||n.call(e)}},closeAllNotifications:function(){a([]),k([]),w([])},setPosition:function(e){var t=e.right,n=e.bottom;D((function(e){return null!==t&&void 0!==t?t:e})),O((function(e){return null!==n&&void 0!==n?n:e}))}}}),[]),(0,b.jsx)("div",{style:{transform:"translate(".concat(-N,"px, ").concat(-I,"px)")},className:f()(P.notificationManager,(0,l.A)({},P.tradingView,j)),children:o.map((function(e,t,n){var r=e.id,o=e.timeout,i=void 0===o?2e3:o,a=e.showClose,u=void 0!==a&&a,d=e.isInline,h=void 0===d||d,g=e.autoWidth,m=void 0===g||g,y=e.title,A=e.desc,_=e.onClickClose,C=e.onClose,T=(0,s.A)(e,E);return(0,b.jsx)(x,{enter:!S.includes(r)&&n.length-t<=5,enterClassName:P.notificationEnter,enterActiveClassName:P.notificationEnterActive,exitClassName:P.notificationExit,exitActiveClassName:P.notificationExitActive,onEntering:function(){clearTimeout(F.current[r]),0!==i&&(F.current[r]=setTimeout((function(){V(k,r)}),i+400))},onEntered:function(){clearTimeout(F.current[r]),0!==i&&(F.current[r]=setTimeout((function(){V(k,r)}),i))},onExiting:function(){clearTimeout(F.current[r]),0!==i&&(F.current[r]=setTimeout((function(){V(w,r)}),1300))},onExited:function(){clearTimeout(F.current[r]),V(w,r),null===C||void 0===C||C()},children:(0,b.jsx)(p.A,(0,c.A)((0,c.A)({destroy:function(){V(w,r),null===_||void 0===_||_(),null===C||void 0===C||C()},showClose:u,isInline:h,autoWidth:m,title:y&&(0,b.jsx)("div",{className:P.title,children:y}),desc:A&&(0,b.jsx)("div",{className:P.description,children:A})},T),{},{className:f()(v.A.data.okdNamespace,P.notification,P.override,(0,l.A)({},P.compact,h))}))},r)}))})}));const I=(0,h.observer)(L);var O=a().forwardRef((function(e,t){return a().createElement(I,Object.assign({},e,{ref:t}))})),R=function(){return(0,o.A)((function e(){(0,r.A)(this,e),this.handle=null,this.pendingPosition=null,this.pendingNotifications=new Set,this.pendingCallbacks=new Map}),[{key:"setHandle",value:function(e){var t=this;this.handle=e,null!=this.handle&&(null!=this.pendingPosition&&(this.handle.setPosition(this.pendingPosition),this.pendingPosition=null),this.pendingNotifications.forEach((function(e){t.pendingNotifications.delete(e),t.pendingCallbacks.set(e,t.handle.showNotification(e))})))}},{key:"showNotification",value:function(e){var t=this;return null!=this.handle?this.handle.showNotification(e):(this.pendingNotifications.add(e),function(){var n;null===(n=t.pendingCallbacks.get(e))||void 0===n||n(),t.pendingCallbacks.delete(e)})}},{key:"closeAllNotifications",value:function(){null==this.handle?(this.pendingNotifications.clear(),this.pendingCallbacks.clear()):this.handle.closeAllNotifications()}},{key:"setPosition",value:function(e){null==this.handle?this.pendingPosition=e:this.handle.setPosition(e)}}])}()},9464:(e,t,n)=>{"use strict";n.d(t,{AS:()=>A,Ak:()=>b,BO:()=>C,GV:()=>p,QT:()=>v,Ro:()=>_,UA:()=>y,_l:()=>l,eU:()=>h,iQ:()=>m,jB:()=>g,nX:()=>o,ow:()=>c,pf:()=>d,t2:()=>i,v$:()=>f,y1:()=>w,yX:()=>u});var r,o,i,a=n(4467),s=n(5177),l=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},s.x6.ShowAll,"trade_dialog_textbtn_all_alerts"),s.x6.ManageAll,"trade_dialog_textbtn_all_alerts"),s.x6.ShowCurrent,"trade_dialog_title_current_alert"),s.x6.Add,"trade_dialog_title_new_alert"),s.x6.Edit,"trade_dialog_title_edit_alert"),s.x6.Settings,"trade_dialog_header_notif_setting"),c=(0,a.A)((0,a.A)({},s.fK.Repeat,"trade_dialog_btn_repeat_alert"),s.fK.Once,"trade_dialog_btn_alert_once");!function(e){e.MagnitudeUp="magnitude_up",e.MagnitudeDown="magnitude_down"}(o||(o={})),function(e){e.Magnitude24H="24h",e.Magnitude5m="5m",e.Magnitude1H="1h",e.Magnitude4H="4h"}(i||(i={}));var u=(0,a.A)((0,a.A)({},o.MagnitudeDown,(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},i.Magnitude5m,s.Ek.Change5mDown),i.Magnitude1H,s.Ek.Change1HDown),i.Magnitude4H,s.Ek.Change4HDown),i.Magnitude24H,s.Ek.Change24Down)),o.MagnitudeUp,(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},i.Magnitude5m,s.Ek.Change5mUp),i.Magnitude1H,s.Ek.Change1HUp),i.Magnitude4H,s.Ek.Change4HUp),i.Magnitude24H,s.Ek.Change24Up)),d=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},s.Ek.Change24Up,i.Magnitude24H),s.Ek.Change24Down,i.Magnitude24H),s.Ek.Change5mUp,i.Magnitude5m),s.Ek.Change5mDown,i.Magnitude5m),s.Ek.Change1HUp,i.Magnitude1H),s.Ek.Change1HDown,i.Magnitude1H),s.Ek.Change4HUp,i.Magnitude4H),s.Ek.Change4HDown,i.Magnitude4H),f=[i.Magnitude5m,i.Magnitude1H,i.Magnitude4H,i.Magnitude24H],h=(0,a.A)((0,a.A)((0,a.A)((0,a.A)({},i.Magnitude5m,"trade_settings_select_alert_5_mins"),i.Magnitude1H,"trade_settings_select_alert_1_hour"),i.Magnitude4H,"trade_settings_select_alert_4_hours"),i.Magnitude24H,"trade_settings_select_alert_24_hours"),p=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},s.Ek.PriceCrossUp,"trade_tooltip_text_greater"),s.Ek.PriceCrossDown,"trade_tooltip_text_less"),s.Ek.PriceReach,"trade_tooltip_text_equal"),o.MagnitudeUp,"trade_settings_tooltips_desc_price_gain_exceeds"),o.MagnitudeDown,"trade_settings_tooltips_desc_price_loss_exceeds"),v=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},s.Ek.PriceCrossUp,"trade_input_dropdown_price_rise"),s.Ek.PriceCrossDown,"trade_input_dropdown_price_fall"),s.Ek.PriceReach,"trade_input_dropdown_price_reach"),o.MagnitudeUp,"trade_settings_select_alert_price_gain_exceeds"),o.MagnitudeDown,"trade_settings_select_alert_price_loss_exceeds"),g=[s.Ek.PriceReach,s.Ek.PriceCrossUp,s.Ek.PriceCrossDown,o.MagnitudeUp,o.MagnitudeDown],m=(r={},(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)(r,s.Ek.PriceReach,"trade_input_dropdown_price_reach"),s.Ek.PriceCrossUp,"trade_input_dropdown_price_rise"),s.Ek.PriceCrossDown,"trade_input_dropdown_price_fall"),s.Ek.Change24Up,"trade_settings_alert_option_price_gain_exceeds_in_time"),s.Ek.Change24Down,"trade_settings_alert_option_price_loss_exceeds_in_time"),s.Ek.Change5mUp,"trade_settings_alert_option_price_gain_exceeds_in_time"),s.Ek.Change5mDown,"trade_settings_alert_option_price_loss_exceeds_in_time"),s.Ek.Change1HUp,"trade_settings_alert_option_price_gain_exceeds_in_time"),s.Ek.Change1HDown,"trade_settings_alert_option_price_loss_exceeds_in_time"),s.Ek.Change4HUp,"trade_settings_alert_option_price_gain_exceeds_in_time"),(0,a.A)(r,s.Ek.Change4HDown,"trade_settings_alert_option_price_loss_exceeds_in_time")),y=[s.fK.Repeat,s.fK.Once],b=2,A="notification.sound.price-alert",w=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},s.fq.None,""),s.fq.Default,"/cdn/assets/files/241/3809E42C8FBE3696.mp3"),s.fq.Thin,"/cdn/assets/files/243/82DB7347AED64EA1.mp3"),s.fq.Alarm,"/cdn/assets/files/243/FE4D4981523B8A12.mp3"),s.fq.Beep,"/cdn/assets/files/243/7E1237D53FD1C736.mp3"),s.fq.Fault,"/cdn/assets/files/243/F3FCE480CA1F9ACB.mp3"),_=(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},s.fq.None,"none"),s.fq.Default,"default"),s.fq.Thin,"thin"),s.fq.Alarm,"alarm"),s.fq.Beep,"beep"),s.fq.Fault,"fault"),C=[{value:s.fq.None,label:"trade_dropdown_select_none"},{value:s.fq.Default,label:"trade_dropdown_select_default"},{value:s.fq.Thin,label:"trade_dropdown_select_thin"},{value:s.fq.Alarm,label:"trade_dropdown_select_alarm"},{value:s.fq.Beep,label:"trade_dropdown_select_beep"},{value:s.fq.Fault,label:"trade_dropdown_select_fault"}]},5981:(e,t,n)=>{"use strict";n.d(t,{A:()=>y,L:()=>m});var r=n(675),o=n(3029),i=n(2901),a=n(5314),s=n(1746),l=n(2561),c=n(4646),u=n(3450),d=n.n(u),f=n(8887),h=n(1994),p=n(7080),v=n(5177),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},m=50,y=function(){return(0,i.A)((function e(t){var n=this;(0,o.A)(this,e),this.chartManager=t,this.defaultPrice=null,this.historyViewTypes=[],this.viewType=v.x6.ShowAll,this.entryType=v.yE.Button,this.loaded=!1,this.loadErrorMessage=null,this.loadError=!1,this.fetchDataPromise=null,this.data={},this.symbolInfos={},this.settingLoaded=!1,this.settingLoadError=!1,this.pushToggle=!1,this.webPushToggle=!1,this.selectedItemIds=[],this.editItem=null,this.getAlertsByName=function(e){return n.priceAlertData.filter((function(t){return t.instrumentName===e}))},this.showMaxPriceAlertsDialog=function(){l.A.show({title:(0,f.tl)("trade_dialog_title_new_alert"),confirmText:(0,f.tl)("trade_dialog_btn_view_all"),cancelText:(0,f.tl)("trade_dialog_btn_cancel"),children:(0,f.tl)("trade_dialog_alert_max50"),onConfirm:function(){var e;return(null===(e=n.chartManager.dialogManager)||void 0===e?void 0:e.getOpenState(h.z.PriceAlert))?n.setCurrentView(v.x6.ShowAll,n.viewType):n.toggleDialog(!0,v.x6.ShowAll),Promise.resolve()}})},this.setDefaultPrice=function(e){var t=n.chartManager.activeArea.symbolInfo,r=Math.log10(t.priceScale);n.defaultPrice=e?e.toFixed(r):null},this.toggleDialog=function(e,t,r,o){var i,a;if(r&&(n.entryType=r),e&&t===v.x6.Add&&n.priceAlertData.length>=m)n.showMaxPriceAlertsDialog();else if(e){var s=n.chartManager.activeArea.symbolInfo,l=Math.log10(s.priceScale);switch(n.historyViewTypes=[],n.defaultPrice=o?o.toFixed(l):null,t){case v.x6.ShowCurrent:n.viewType=v.x6.ShowAll;break;case v.x6.Add:void 0!==o||0===n.priceAlertData.length?n.viewType=v.x6.Add:n.viewType=v.x6.ShowAll;break;default:n.viewType=t||v.x6.ShowAll}null===(i=n.chartManager.dialogManager)||void 0===i||i.openDialog(h.z.PriceAlert)}else null===(a=n.chartManager.dialogManager)||void 0===a||a.closeDialog(h.z.PriceAlert)},this.setCurrentView=function(e,t){e===v.x6.Add&&n.priceAlertData.length>=m?n.showMaxPriceAlertsDialog():(n.defaultPrice=null,n.viewType=e===v.x6.ShowCurrent?v.x6.ShowAll:e,t&&n.historyViewTypes[n.historyViewTypes.length-1]!==t&&n.historyViewTypes.push(t))},this.goBackView=function(){var e=n.historyViewTypes.pop();e&&(n.defaultPrice=null,n.viewType=e)},this.handleNetworkError=function(e){var t;throw c.A.error(null===(t=e.data)||void 0===t?void 0:t.msg),e},this.patchLocalData=function(e,t){var r=n.priceAlertData.find((function(t){return t.ruleId===e}));r&&Object.assign(r,t)},this.deleteLocalData=function(e){Object.keys(n.data).forEach((function(t){var r=n.data[t].filter((function(t){return!e.includes(t.ruleId)}));0===r.length?delete n.data[t]:n.data[t]=r}))},this.fetchData=function(){return g(n,void 0,void 0,(0,r.A)().mark((function e(){var t,n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d().isLogin()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!this.fetchDataPromise){e.next=4;break}return e.abrupt("return",this.fetchDataPromise);case 4:return this.loaded=!1,this.loadErrorMessage=null,t=d().get("/priapi/v5/rubik/alert/user/rule/list_by_instrument").then((function(e){return g(n,[e],void 0,(0,r.A)().mark((function e(t){var n,o,i=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=t.data).code){e.next=8;break}if((0,a.runInAction)((function(){i.data=(0,p.zt)(n.data)})),!(null===(o=this.chartManager.dialogManager)||void 0===o?void 0:o.getOpenState(h.z.PriceAlert))){e.next=6;break}return e.next=6,this.updateSymbolInfos();case 6:return(0,a.runInAction)((function(){i.loadError=!1,i.loaded=!0})),e.abrupt("return");case 8:throw(0,a.runInAction)((function(){i.loadErrorMessage=n.msg})),new Error(n.msg);case 10:case"end":return e.stop()}}),e,this)})))})).catch((function(e){(0,a.runInAction)((function(){n.loadError=!0,n.loaded=!0}))})).finally((function(){n.fetchDataPromise=null})),this.fetchDataPromise=t,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})))},this.updateSymbolInfos=function(){return g(n,void 0,void 0,(0,r.A)().mark((function e(){var t,n,o=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(this.data),e.abrupt("return",null===(t=this.symbolResolver)||void 0===t?void 0:t.resolveSymbolInfos(n).then((function(e){(0,a.runInAction)((function(){e.forEach((function(e){o.symbolInfos[e.tickerSymbol]=e}))}))})));case 2:case"end":return e.stop()}}),e,this)})))},this.fetchDataSilently=function(){n.fetchData().catch(console.error)},this.onActiveChange=function(e,t){return g(n,void 0,void 0,(0,r.A)().mark((function n(){var o=this;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d().isLogin()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,this.waitPendingFetchData();case 4:return n.next=6,d().post("/priapi/v5/rubik/alert/user/rule/edit_active",{ruleId:e,active:t?1:0}).then((function(n){return g(o,[n],void 0,(0,r.A)().mark((function n(o){var i;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(i=o.data).code){n.next=4;break}return this.patchLocalData(e,{active:t?1:0}),n.abrupt("return");case 4:throw this.fetchDataSilently(),c.A.error(i.msg),new Error(i.msg);case 7:case"end":return n.stop()}}),n,this)})))}),this.handleNetworkError);case 6:case"end":return n.stop()}}),n,this)})))},this.onDelete=function(e){return g(n,void 0,void 0,(0,r.A)().mark((function t(){var n=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d().isLogin()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.waitPendingFetchData();case 4:return t.next=6,d().post("/priapi/v5/rubik/alert/user/rule/batch_delete",{ruleIds:e}).then((function(t){return g(n,[t],void 0,(0,r.A)().mark((function t(n){var o;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(o=n.data).code){t.next=5;break}return c.A.success((0,f.tl)("trade_modal_notif_delete_success")),this.deleteLocalData(e),t.abrupt("return");case 5:throw this.fetchDataSilently(),c.A.error(o.msg),new Error(o.msg);case 8:case"end":return t.stop()}}),t,this)})))}),this.handleNetworkError);case 6:case"end":return t.stop()}}),t,this)})))},this.onAdd=function(e){return g(n,void 0,void 0,(0,r.A)().mark((function t(){var n=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d().isLogin()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.waitPendingFetchData();case 4:return t.next=6,d().post("/priapi/v5/rubik/alert/user/rule/add",e).then((function(e){return g(n,[e],void 0,(0,r.A)().mark((function e(t){var n;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=t.data).code){e.next=5;break}return c.A.success((0,f.tl)("trade_modal_notif_create_success")),this.fetchDataSilently(),e.abrupt("return");case 5:throw this.fetchDataSilently(),c.A.error(n.msg),new Error(n.msg);case 8:case"end":return e.stop()}}),e,this)})))}),this.handleNetworkError);case 6:case"end":return t.stop()}}),t,this)})))},this.onEdit=function(e){return g(n,void 0,void 0,(0,r.A)().mark((function t(){var n=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d().isLogin()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.waitPendingFetchData();case 4:return t.next=6,d().post("/priapi/v5/rubik/alert/user/rule/edit",e).then((function(t){return g(n,[t],void 0,(0,r.A)().mark((function t(n){var o;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(o=n.data).code){t.next=5;break}return c.A.success((0,f.tl)("trade_modal_notif_save_success")),this.patchLocalData(e.ruleId,e),t.abrupt("return");case 5:throw this.fetchDataSilently(),c.A.error(o.msg),new Error(o.msg);case 8:case"end":return t.stop()}}),t,this)})))}),this.handleNetworkError);case 6:case"end":return t.stop()}}),t,this)})))},this.resetSettings=function(){n.settingLoadError=!1,n.settingLoaded=!1},this.updateSetting=function(){return g(n,void 0,void 0,(0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.settingLoaded=!1,e.abrupt("return",d().get("/priapi/v2/notify/mc/getSingleSwitch",{params:{type:19}}).then((function(e){var n=e.data;if(0!==n.code)throw new Error(n.msg);(0,a.runInAction)((function(){t.pushToggle=1===parseInt(n.data.switchStatus,10),t.webPushToggle=1===parseInt(n.data.webSwitchStatus,10),t.settingLoaded=!0,t.settingLoadError=!1}))})).catch((function(){(0,a.runInAction)((function(){t.settingLoaded=!0,t.settingLoadError=!0}))})));case 2:case"end":return e.stop()}}),e,this)})))},this.setPushToggle=function(e,t){return g(n,void 0,void 0,(0,r.A)().mark((function n(){var o=this;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",d().post("/priapi/v2/notify/mc/batch-switch",{businessType:1,switches:[{switchType:19,switchStatus:e?1:0,webSwitchStatus:t?1:0}]}).then((function(n){0===n.data.code&&(0,a.runInAction)((function(){o.pushToggle=e,o.webPushToggle=t}))}),this.handleNetworkError));case 1:case"end":return n.stop()}}),n,this)})))},this.setSelectedItemIds=function(e){n.selectedItemIds=Array.isArray(e)?e:e(n.selectedItemIds)},this.setEditItem=function(e){n.editItem=e instanceof Function?e(n.editItem):e},(0,a.makeAutoObservable)(this)}),[{key:"symbolResolver",get:function(){return this.chartManager.symbolResolver}},{key:"priceAlertData",get:function(){return Object.values(this.data).flat(1)}},{key:"waitPendingFetchData",value:function(){return g(this,void 0,void 0,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.fetchDataPromise){e.next=3;break}return e.next=3,(0,s.A)(this.fetchDataPromise);case 3:case"end":return e.stop()}}),e,this)})))}}])}()},5177:(e,t,n)=>{"use strict";var r,o,i,a,s,l,c,u;n.d(t,{Ek:()=>l,H1:()=>s,aj:()=>u,fK:()=>c,fq:()=>i,gy:()=>a,x6:()=>r,yE:()=>o}),function(e){e[e.ShowAll=1]="ShowAll",e[e.ManageAll=2]="ManageAll",e[e.ShowCurrent=3]="ShowCurrent",e[e.Add=4]="Add",e[e.Edit=5]="Edit",e[e.Settings=6]="Settings"}(r||(r={})),function(e){e.Button="web_entry_button",e.Chart="web_entry_chart"}(o||(o={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Thin=2]="Thin",e[e.Alarm=3]="Alarm",e[e.Beep=4]="Beep",e[e.Fault=5]="Fault"}(i||(i={})),function(e){e[e.Loading=0]="Loading",e[e.LoadError=1]="LoadError",e[e.List=2]="List"}(a||(a={})),function(e){e[e.Spot=1]="Spot",e[e.Futures=2]="Futures",e[e.Swap=3]="Swap"}(s||(s={})),function(e){e[e.PriceCrossUp=1]="PriceCrossUp",e[e.PriceCrossDown=2]="PriceCrossDown",e[e.Change24Up=3]="Change24Up",e[e.Change24Down=4]="Change24Down",e[e.PriceReach=5]="PriceReach",e[e.Change5mUp=7]="Change5mUp",e[e.Change5mDown=8]="Change5mDown",e[e.Change1HUp=9]="Change1HUp",e[e.Change1HDown=10]="Change1HDown",e[e.Change4HUp=11]="Change4HUp",e[e.Change4HDown=12]="Change4HDown"}(l||(l={})),function(e){e[e.Repeat=0]="Repeat",e[e.Once=1]="Once"}(c||(c={})),function(e){e[e.Original=0]="Original",e[e.TradingView=1]="TradingView"}(u||(u={}))},7080:(e,t,n)=>{"use strict";n.d(t,{Gy:()=>A,O:()=>f,OE:()=>x,OQ:()=>c,RH:()=>w,UB:()=>k,Uz:()=>_,Vw:()=>g,XV:()=>v,XY:()=>d,e3:()=>T,fp:()=>b,hM:()=>C,wV:()=>h,yv:()=>S,zt:()=>p});var r=n(3631),o=n(2332),i=n(8887),a=n(946),s=n(9464),l=n(5177);function c(e){switch(e){case a.r3.Spot:case a.r3.Margin:return l.H1.Spot;case a.r3.Futures:return l.H1.Futures;case a.r3.Swap:return l.H1.Swap;default:return l.H1.Spot}}function u(e){switch(e){case l.H1.Spot:return a.r3.Spot;case l.H1.Futures:return a.r3.Futures;case l.H1.Swap:return a.r3.Swap;default:return a.r3.Spot}}function d(e){return s.pf[e]}function f(e,t,n,o){var a=s.iQ[e],c=d(e),u=c&&s.eU[c],f=u&&(0,i.tl)(u),h=r._u.showTruncation(t||0,null!==n&&void 0!==n?n:0,{needZero:!1,style:o?"percent":void 0});return[l.Ek.PriceReach,l.Ek.PriceCrossUp,l.Ek.PriceCrossDown].includes(e)?"".concat((0,i.tl)(a)," ").concat(h):(0,i.tl)(a,{percentage:h,time:f})}function h(e){if((null===e||void 0===e?void 0:e.bizType)&&e.instrumentName)return[u(e.bizType),e.instrumentName].join(":")}function p(e){var t={};return e.forEach((function(e){var n=h(e);t[n]||(t[n]=[]),t[n].push(e)})),t}function v(e){return(null===e||void 0===e?void 0:e.priceScale)?Math.log10(e.priceScale):0}function g(e){return null!=e&&e in s.y1&&e!==l.fq.None?new Audio("".concat((0,o.Nt)()).concat(s.y1[e])):null}function m(e){return null!=e&&[l.Ek.Change24Down,l.Ek.Change5mDown,l.Ek.Change1HDown,l.Ek.Change4HDown].includes(e)}function y(e){return null!=e&&[l.Ek.Change24Up,l.Ek.Change5mUp,l.Ek.Change1HUp,l.Ek.Change4HUp].includes(e)}function b(e){return m(e)||y(e)}function A(e,t,n){if(n){var r=t.slice();return e.forEach((function(e){r.includes(e.ruleId)||r.push(e.ruleId)})),r}return t.filter((function(t){return!e.some((function(e){return e.ruleId===t}))}))}function w(e,t){return b(e)?"%":t||""}var _=function(e){return(null===e||void 0===e?void 0:e.description)||(null===e||void 0===e?void 0:e.fullName)||(null===e||void 0===e?void 0:e.name)||""},C=function(e){return _(e).replaceAll("/","-")},S=function(e){var t,n;return null!==(n=null===(t=null===e||void 0===e?void 0:e.logoUrls)||void 0===t?void 0:t[0])&&void 0!==n?n:null===e||void 0===e?void 0:e.iconUrl},k=function(e){return!(m(null===e||void 0===e?void 0:e.promptType)&&parseFloat(null===e||void 0===e?void 0:e.promptThreshold)>100)&&parseFloat(null===e||void 0===e?void 0:e.promptThreshold)>0};function T(e){return y(e)?s.nX.MagnitudeUp:m(e)?s.nX.MagnitudeDown:e}function x(e,t){return[s.nX.MagnitudeUp,s.nX.MagnitudeDown].includes(e)?s.yX[e][t]:e}},2547:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(296),o=n(4883),i=n.n(o),a=n(429),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const l=i().forwardRef((function(e,t){var n=e.onResize,l=e.htmlTag,c=void 0===l?"div":l,u=s(e,["onResize","htmlTag"]),d=(0,o.useState)(null),f=(0,r.A)(d,2),h=f[0],p=f[1],v=(0,a.j)(n),g=(0,o.useCallback)((function(e){p(e),"function"===typeof t&&t(e),t&&"object"===typeof t&&(t.current=e)}),[t]);return(0,o.useEffect)((function(){if(h&&(setTimeout((function(){var e=h.getBoundingClientRect();v.current&&v.current(e,h)})),window.ResizeObserver)){var e=new ResizeObserver((function(e){var t=(0,r.A)(e,1)[0];v.current&&v.current(t.contentRect,t.target)}));return e.observe(h),function(){e.disconnect()}}}),[h,v]),i().createElement(c,Object.assign({ref:g},u))}))},6439:(e,t,n)=>{"use strict";n.d(t,{M:()=>A,D:()=>w});var r,o=n(4883),i=n.n(o),a=n(792),s=n.n(a),l=n(5422),c=n(7769),u=n(4467),d=n(5540),f=function(){var e={};return d.hB&&Object.assign(e,(0,u.A)((0,u.A)((0,u.A)({},d.eV.SHIFT_KEY,"okx-candle-chart-key_shift"),d.eV.OPTION_KEY,"okx-candle-chart-key_option"),d.eV.COMMAND_KEY,"okx-candle-chart-macos-command")),e}(),h=(r={},(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)(r,d.eV.COMMAND_KEY,"Ctrl"),d.eV.OPTION_KEY,"Alt"),d.eV.SHIFT_KEY,"Shift"),d.eV.SLASH_KEY,"/"),d.eV.A_KEY,"A"),d.eV.F_KEY,"F"),d.eV.G_KEY,"G"),d.eV.H_KEY,"H"),d.eV.J_KEY,"J"),d.eV.L_KEY,"L"),(0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)((0,u.A)(r,d.eV.P_KEY,"P"),d.eV.R_KEY,"R"),d.eV.S_KEY,"S"),d.eV.T_KEY,"T"),d.eV.V_KEY,"V"),d.eV.Y_KEY,"Y"),d.eV.Z_KEY,"Z"));const p="commandBox-cDChS",v="joint-Nimyf";function g(e){var t=e.command,n=e.boxClassName,r=f[t],o=h[t];return i().createElement("div",{className:s()(p,n)},r&&i().createElement(c.A,{className:s()(r),style:{fontSize:"13px"}}),!r&&i().createElement("span",null,o||t))}const m=function(e){var t=e.commandKeys,n=e.boxClassName;return i().createElement(i().Fragment,null,t.map((function(e,t){return i().createElement(i().Fragment,{key:t},0!==t&&i().createElement("span",{className:s()(v)},"+"),i().createElement(g,{command:e,boxClassName:n}))})))},y={shortcutBox:"shortcutBox-Q_Cg0",drawingToolBoxWrap:"drawingToolBoxWrap-zICxI",tooltipText:"tooltipText-nsT_M",tooltipBoxWrap:"tooltipBoxWrap-MVVNz",tooltipBox:"tooltipBox-TXKKo"};function b(e){var t=e.shortcutKey,n=e.wrapClassName,r=e.boxClassName,o=(((0,l.q)()||{})[t]||{}).keyCombo||[t];return i().createElement("div",{className:s()(y.shortcutBox,n)},i().createElement(m,{commandKeys:o,boxClassName:r}))}function A(e){var t=e.shortcutKey;return i().createElement(b,{shortcutKey:t,wrapClassName:y.drawingToolBoxWrap})}function w(e){var t=e.shortcutKey,n=e.text;return i().createElement("div",{className:y.tooltipText},i().createElement("span",null,n),i().createElement(b,{shortcutKey:t,boxClassName:y.tooltipBox,wrapClassName:y.tooltipBoxWrap}))}},5422:(e,t,n)=>{"use strict";n.d(t,{g:()=>l,q:()=>d});var r=n(4467),o=n(9092),i=n(8887),a=n(5540),s=function(){return[{title:(0,i.tl)("trade_charts_subtitle_chart_interaction"),children:[{keyCombo:[a.eV.COMMAND_KEY,a.eV.Z_KEY],key:o.g.OnShortcutUndo,name:(0,i.tl)("trade_charts_tooltips_undo")},{keyCombo:[a.eV.COMMAND_KEY,a.eV.Y_KEY],key:o.g.OnShortcutRedo,name:(0,i.tl)("trade_charts_tooltips_redo")},{keyCombo:[a.eV.ANY_NUMBER_KEY],key:o.g.OnShortcutSwitchResolution,name:(0,i.tl)("trade_charts_text_switch_time"),keyComboWithStyle:[{key:(0,i.tl)("trade_charts_text_number")}]},{keyCombo:[a.eV.OPTION_KEY,a.eV.G_KEY],key:o.g.OnShortcutOpenDateRedirectDialog,name:(0,i.tl)("trade_charts_datedirection_icon_tooltip")},{keyCombo:[a.eV.SLASH_KEY],key:o.g.OnShortcutOpenIndicatorDialog,name:(0,i.tl)("trade_charts_text_open_pointer")},{keyCombo:[a.eV.SHIFT_KEY,a.eV.F_KEY],key:o.g.OnShortcutFullScreen,name:(0,i.tl)("trade_charts_text_full_mode")},{keyCombo:[a.eV.OPTION_KEY,a.eV.A_KEY],key:o.g.OnShortcutOpenAlertsDialog,name:(0,i.tl)("trade_function_textbtn_alert")},{keyCombo:[(0,i.tl)("trade_charts_text_double_click")],key:o.g.OnShortcutMaximizeWindow,name:(0,i.tl)("trade_charts_tooltips_max_window"),keyComboWithStyle:[{key:(0,i.tl)("trade_charts_text_double_click"),disableBorder:!0}]},{keyCombo:[a.eV.COMMAND_KEY,(0,i.tl)("trade_charts_text_double_click")],keyComboWithStyle:[{key:a.eV.COMMAND_KEY},{key:(0,i.tl)("trade_charts_text_double_click"),disableBorder:!0}],key:o.g.OnShortcutMinimizeWindow,name:(0,i.tl)("trade_charts_tooltips_fold")},{keyCombo:[a.eV.TAB_KEY],key:o.g.OnShortcutSwitchChart,name:(0,i.tl)("trade_charts_text_switch_multi")},{keyCombo:[a.eV.OPTION_KEY,a.eV.ENTER_KEY],key:o.g.OnShortcutToggleMaximizeChart,name:(0,i.tl)("trade_charts_text_max_multi")},{keyCombo:[a.eV.COMMAND_KEY,a.eV.ARROW_UP_KEY],key:o.g.OnShortcutZoomIn,name:(0,i.tl)("trade_chartsettings_title_zoom_in")},{keyCombo:[a.eV.COMMAND_KEY,a.eV.ARROW_DOWN_KEY],key:o.g.OnShortcutZoomOut,name:(0,i.tl)("trade_chartsettings_title_zoom_out")},{keyCombo:[a.eV.OPTION_KEY,a.eV.ARROW_LEFT_KEY],key:o.g.OnShortcutScrollLeft,name:(0,i.tl)("trade_chartsettings_title_move_left")},{keyCombo:[a.eV.OPTION_KEY,a.eV.ARROW_RIGHT_KEY],key:o.g.OnShortcutScrollRight,name:(0,i.tl)("trade_chartsettings_title_move_right")},{keyCombo:[a.eV.SHIFT_KEY,a.eV.OPTION_KEY,a.eV.ARROW_RIGHT_KEY],key:o.g.OnShortcutGoToLatest,name:(0,i.tl)("trade_chartsettings_title_return_to_present_time")},{keyCombo:[a.eV.COMMAND_KEY,(0,i.tl)("trade_chartsettings_text_scroll")],key:o.g.OnShortcutFocusedZoom,name:(0,i.tl)("trade_chartsettings_title_focused_zoom")},{keyCombo:[a.eV.OPTION_KEY,a.eV.R_KEY],key:o.g.OnShortcutResetChart,name:(0,i.tl)("trade_chartsettings_subtitle_reset_chart_view")}]},{title:(0,i.tl)("trade_charts_subtitle_drawing_tools"),children:[{title:(0,i.tl)("trade_charts_subtitle_line_tool"),children:[{name:(0,i.tl)("ok_component_okline_ctools_seg_line"),keyCombo:[a.eV.OPTION_KEY,a.eV.T_KEY],key:o.g.OnShortcutDrawTrendLine,icon:"okx-trading-kline-segment"},{name:(0,i.tl)("ok_component_okline_ctools_horizontal_straight_line"),keyCombo:[a.eV.OPTION_KEY,a.eV.H_KEY],key:o.g.OnShortcutDrawHorizontalLine,icon:"okx-trading-horizontal-extended"},{name:(0,i.tl)("ok_component_okline_ctools_horizontal_ray_line"),keyCombo:[a.eV.OPTION_KEY,a.eV.J_KEY],key:o.g.OnShortcutDrawHorizontalRay,icon:"okx-trading-kline-h-ray"},{name:(0,i.tl)("ok_component_okline_ctools_vertical_straight_line"),keyCombo:[a.eV.OPTION_KEY,a.eV.V_KEY],key:o.g.OnShortcutDrawVerticalExtend,icon:"okx-trading-kline-vertical"}]},{title:(0,i.tl)("trade_charts_subtitle_fibonacci_tool"),children:[{name:(0,i.tl)("trade_okline_ctools_fib_retrace"),keyCombo:[a.eV.COMMAND_KEY,a.eV.OPTION_KEY,a.eV.F_KEY],key:o.g.OnShortcutDrawFibRetracement,icon:"okx-trading-kline-fibonacci-retracements"}]},{key:"shortcutRiskRewardDrawingToolGroup",title:(0,i.tl)("trade_charts_subtitle_riskreward_instrument"),children:[{name:(0,i.tl)("trade_charts_btn_riskreward_long"),keyCombo:[a.eV.OPTION_KEY,a.eV.L_KEY],key:o.g.OnShortcutDrawRiskRewardLong,icon:"okx-trading-risk-long"},{name:(0,i.tl)("trade_charts_btn_riskreward_short"),keyCombo:[a.eV.OPTION_KEY,a.eV.S_KEY],key:o.g.OnShortcutDrawRiskRewardShort,icon:"okx-trading-risk-short"}]},{title:(0,i.tl)("trade_charts_subtitle_measure_tool"),children:[{name:(0,i.tl)("trade_tooltip_tooltips_measure"),keyCombo:[a.eV.SHIFT_KEY,(0,i.tl)("trade_charts_tooltips_click_chart")],keyComboWithStyle:[{key:a.eV.SHIFT_KEY},{key:(0,i.tl)("trade_charts_text_tap"),disableBorder:!0}],key:o.g.OnShortcutDrawMeasurement,icon:"okx-trading-kline-measure"}]},{title:(0,i.tl)("trade_charts_subtitle_tool_manage"),children:[{name:(0,i.tl)("ok_component_okline_ctools_hide_all"),keyCombo:[a.eV.COMMAND_KEY,a.eV.OPTION_KEY,a.eV.H_KEY],key:o.g.OnShortcutHideAllDrawing,icon:"okx-trading-kline-eye-show"}]}]}]},l=function(e){return e?function(){var e=[o.g.OnShortcutSwitchChart,o.g.OnShortcutOpenDateRedirectDialog,o.g.OnShortcutToggleMaximizeChart,o.g.OnShortcutUndo,o.g.OnShortcutRedo,"shortcutRiskRewardDrawingToolGroup"],t=function(e,n){return e.reduce((function(e,r){if(!n.includes(r.key||r.title)){var i=Object.assign({},r);i.key===o.g.OnShortcutDrawFibRetracement&&(i.keyCombo=[a.eV.OPTION_KEY,a.eV.F_KEY]),i.children&&(i.children=t(i.children,n)),e.push(i)}return e}),[])};return t(s(),e)}():s()},c={},u=function(e){return e.forEach((function(e){"children"in e&&e.children?u(e.children):"key"in e&&e.key&&(c[e.key]=e)})),c},d=function(){return Object.assign(Object.assign(Object.assign({},u(s())),(0,r.A)({},o.g.OnShortcutOpenPlaceOrderPane,{keyCombo:[a.eV.SHIFT_KEY,a.eV.T_KEY],key:o.g.OnShortcutOpenPlaceOrderPane})),(0,r.A)((0,r.A)({},"".concat(o.g.OnShortcutDeleteDrawing,"_DELETE"),{keyCombo:[a.eV.DELETE_KEY],key:o.g.OnShortcutDeleteDrawing}),"".concat(o.g.OnShortcutDeleteDrawing,"_BACKSPACE"),{keyCombo:[a.eV.BACKSPACE_KEY],key:o.g.OnShortcutDeleteDrawing}))}},5540:(e,t,n)=>{"use strict";n.d(t,{AC:()=>s,eV:()=>o,hB:()=>a});var r,o,i=n(4467),a=/macintosh/i.test(null===(r="undefined"!==typeof navigator?navigator.userAgent:"")||void 0===r?void 0:r.toLowerCase());!function(e){e.SHIFT_KEY="Shift",e.OPTION_KEY="Alt",e[e.COMMAND_KEY=a?"Meta":"Control"]="COMMAND_KEY",e.TAB_KEY="Tab",e.SPACE_KEY="Space",e.ENTER_KEY="Enter",e.DELETE_KEY="Delete",e.BACKSPACE_KEY="Backspace",e.SLASH_KEY="Slash",e[e.ANY_LETTER_KEY=/^Key[A-Z]$/]="ANY_LETTER_KEY",e[e.ANY_NUMBER_KEY=/^Digit[1-9]$/]="ANY_NUMBER_KEY",e.A_KEY="KeyA",e.F_KEY="KeyF",e.G_KEY="KeyG",e.H_KEY="KeyH",e.J_KEY="KeyJ",e.L_KEY="KeyL",e.P_KEY="KeyP",e.R_KEY="KeyR",e.S_KEY="KeyS",e.T_KEY="KeyT",e.V_KEY="KeyV",e.Y_KEY="KeyY",e.Z_KEY="KeyZ",e.ARROW_UP_KEY="ArrowUp",e.ARROW_DOWN_KEY="ArrowDown",e.ARROW_LEFT_KEY="ArrowLeft",e.ARROW_RIGHT_KEY="ArrowRight"}(o||(o={}));var s=function(e,t){for(var n,r=function(e){return(0,i.A)((0,i.A)((0,i.A)((0,i.A)({},o.SHIFT_KEY,e.shiftKey),o.COMMAND_KEY,e.metaKey||e.ctrlKey),o.OPTION_KEY,e.altKey),"keyCode",e.code)}(e),a=Object.keys(r).filter((function(e){return!!r[e]})).length,s=r.keyCode,l=0,c=Object.values(t);l<c.length;l++){var u=c[l],d=u.keyCombo,f=u.key;a===(null===d||void 0===d?void 0:d.length)&&d.every((function(e){return e instanceof RegExp?e.test(s):e===s||r[e]}))&&(n=f)}return n}},1126:(e,t,n)=>{"use strict";n.d(t,{T:()=>a,V:()=>s});var r={A1:"#F23645",A2:"#FF9800",A3:"#FFEB3B",A4:"#4CAF50",A5:"#00BCD4",A6:"#2862FF",A7:"#9C27B0",A8:"#E91E63",A9:"#049981",A10:"#673AB7",B1:"#FCCBCD",B2:"#FFE0B1",B3:"#FFF9C4",B4:"#C8E6C9",B5:"#B2EBF2",B6:"#BBD9FB",B7:"#E1BEE7",B8:"#F8BBD0",B9:"#ACE5DC",B10:"#D1C4E9",C1:"#FAA1A4",C2:"#FFCC80",C3:"#FFF59D",C4:"#A5D6A7",C5:"#81DEEA",C6:"#90BFF9",C7:"#CE93D8",C8:"#F48FB1",C9:"#71CCBD",C10:"#B39DDB",D1:"#F85260",D2:"#FFA726",D3:"#FFEE58",D4:"#66BB6A",D5:"#27C6DA",D6:"#3279F5",D7:"#AB47BC",D8:"#EC407A",D9:"#23AB94",D10:"#7E57C2",E1:"#801A23",E2:"#E65000",E3:"#F57F16",E4:"#1A5E20",E5:"#036064",E6:"#0C3299",E7:"#4A148C",E8:"#870E4F",E9:"#01332A",E10:"#311B92",F1:"#F77C80",F2:"#FFB74D",F3:"#FFF076",F4:"#81C784",F5:"#4ED0E1",F6:"#5B9CF6",F7:"#BA68C8",F8:"#F06293",F9:"#43BDA9",F10:"#9575CD",G1:"#B22833",G2:"#F47D02",G3:"#FBC02D",G4:"#388E3C",G5:"#0097A7",G6:"#1948CC",G7:"#7B1EA2",G8:"#C2175B",G9:"#076656",G10:"#512DA8"},o=Object.assign({A0:"#000000",B0:"#2A2E39",C0:"#3B3E47",D0:"#A9ACB5",E0:"#FFFFFF",F0:"#6D707A",G0:"#D2D4DC"},r),i=Object.assign({A0:"#FFFFFF",B0:"#D2D4DC",C0:"#A9ACB5",D0:"#3B3E47",E0:"#000000",F0:"#6D707A",G0:"#2A2E39"},r);function a(e){return e?o:i}var s=[r.D2,r.D8,r.D5,r.E2,r.D7,r.D4,r.F6,r.D1,r.D6,r.G3,r.G2,r.D10,r.D9,r.G6]},5302:(e,t,n)=>{"use strict";n.d(t,{DF:()=>r,Mj:()=>f,Ph:()=>b,Qi:()=>g,X0:()=>i,Xb:()=>h,YA:()=>m,nx:()=>y,pS:()=>p,to:()=>d,ze:()=>v});var r,o,i,a=n(5147),s=n(1357),l=n(8887),c=(0,a.sd)("--cc-okd-color-blue-800");function u(){return{horzLabelsAlign:r.CENTER,vertLabelsAlign:o.BOTTOM,symbolStateVersion:2,zOrderVersion:2,visible:!0,frozen:!1,symbol:"",currencyId:null,unitId:null,intervalsVisibilities:{ticks:!0,seconds:!0,secondsFrom:1,secondsTo:59,minutes:!0,minutesFrom:1,minutesTo:59,hours:!0,hoursFrom:1,hoursTo:24,days:!0,daysFrom:1,daysTo:366,weeks:!0,weeksFrom:1,weeksTo:52,months:!0,monthsFrom:1,monthsTo:12,ranges:!0},title:"",interval:""}}function d(){return Object.assign(Object.assign({},u()),{linecolor:c,linewidth:2,linestyle:s.S.Solid,extendLeft:!1,extendRight:!1,leftEnd:0,rightEnd:0,showLabel:!1,text:"",textcolor:c,fontsize:14,bold:!1,italic:!1,alwaysShowStats:!1,showMiddlePoint:!1,showPriceLabels:!1,showPriceRange:!1,showBarsRange:!1,showDateTimeRange:!1,showDistance:!1,showAngle:!1,statsPosition:2})}function f(){return Object.assign({linecolor:c,linewidth:1,linestyle:s.S.Solid,showCoeffs:!0,showPrices:!0,fillBackground:!0,transparency:80,extendLines:!1,extendLinesLeft:!1,reverse:!1,coeffsAsPercents:!1,fibLevelsBasedOnLogScale:!1,labelFontSize:12,trendline:{visible:!0,color:"#787B86",linewidth:1,linestyle:2},level1:[0,c,!0],level2:[.236,c,!0],level3:[.382,c,!0],level4:[.5,c,!0],level5:[.618,c,!0],level6:[.786,c,!0],level7:[1,c,!0],level8:[1.382,c,!0],level9:[1.5,c,!0],level10:[1.618,c,!0],level11:[2,c,!0],level12:[2.236,c,!1],level13:[2.382,c,!1],level16:[2.5,c,!1],level14:[2.618,c,!1],level15:[3,c,!1],level17:[3.236,c,!1],level18:[3.382,c,!1],level19:[3.5,c,!1],level20:[3.618,c,!1]},u())}function h(){return Object.assign({linecolor:c,linewidth:1,fillBackground:!0,transparency:80,grid:{color:"rgba(21, 56, 153, 0.8)",linewidth:1,visible:!0},showTopLabels:!0,showBottomLabels:!0,showLeftLabels:!0,showRightLabels:!0,reverse:!1,hlevel1:[0,c,!0],hlevel2:[.25,c,!0],hlevel3:[.382,c,!0],hlevel4:[.5,c,!0],hlevel5:[.618,c,!0],hlevel6:[.75,c,!0],hlevel7:[1,c,!0],vlevel1:[0,c,!0],vlevel2:[.25,c,!0],vlevel3:[.382,c,!0],vlevel4:[.5,c,!0],vlevel5:[.618,c,!0],vlevel6:[.75,c,!0],vlevel7:[1,c,!0]},u())}function p(){return Object.assign({available:"1000",riskSize:"100",risk:10,riskDisplayMode:i.Percent,tpPnlRatio:"20",slPnlRatio:"12",amount:"1",tpPnl:"1",marketPrice:!1},u())}function v(){return Object.assign({linewidth:1,barsCount:0,volumeSum:0,precision:2},u())}function g(){return Object.assign({text:(0,l.tl)("trade_charts_header_text"),color:"#2962FF",fontsize:14,wordWrap:!1,wordWrapWidth:200,fillBackground:!1,backgroundColor:"rgba(41, 98, 255, 0.2)"},u())}function m(){return Object.assign({linecolor:"#9C27B0",linewidth:1,backgroundColor:"rgba(156, 39, 176, 0.15)"},u())}function y(){return Object.assign({linecolor:"#FF9800",linewidth:1,backgroundColor:"rgba(255, 152, 0, 0.15)"},u())}function b(){return Object.assign({linecolor:"#4CAF50",linewidth:1,backgroundColor:"rgba(76, 175, 80, 0.15)"},u())}!function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(r||(r={})),function(e){e.TOP="top",e.CENTER="center",e.BOTTOM="bottom"}(o||(o={})),function(e){e.Percent="percent",e.Money="money"}(i||(i={}))},1357:(e,t,n)=>{"use strict";var r,o;n.d(t,{S:()=>r,T:()=>o}),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",e[e.LargeDashed=3]="LargeDashed",e[e.SparseDotted=4]="SparseDotted"}(r||(r={})),function(e){e[e.HollowCircle=0]="HollowCircle",e[e.SolidCircle=1]="SolidCircle",e[e.ShadowHollowCircle=2]="ShadowHollowCircle",e[e.ShadowSolidCircle=3]="ShadowSolidCircle"}(o||(o={}))},1143:(e,t,n)=>{"use strict";n.d(t,{CJ:()=>l,UM:()=>r,ZP:()=>o,cP:()=>i,kL:()=>s,xP:()=>a});var r,o={INST_PRICE:"inst_price",INDEX_PRICE:"index_price",MARK_PRICE:"mark_price"},i={FULL_SCREEN:"full_screen",PRICE_TYPE:"price_type",CREATE_OKLINE:"create_okline",RESOLUTION:"period-select",SYMBOL:"symbol",LAYOUT:"layout",PRICE_ALERT:"price_alert",SYMBOL_CHANGED:"symbol_changed",RESOLUTION_CHANGED:"resolution_changed",TV_LOADING_HIDE:"tv_loading_hide"},a={UTC_EIGHT:"utc8",UTC_ZERO:"utc0"},s={MAIN_DATA:"main_data",MAIN_INDIC:"main_indic",LINE:"LINE",MA:"MA",EMA:"EMA",INDEX:"Index",MACD:"MACD",KDJ:"KDJ",SKDJ:"SKDJ",StochRSI:"StochRSI",RSI:"RSI",DMI:"DMI",OBV:"OBV",BOLL:"BOLL",SAR:"SAR",OI:"OI",TopLSAcc:"TopLSAcc",TopLSPos:"TopLSPos",LSAcc:"LSAcc",TakerBS:"TakerBS",DMA:"DMA",TRIX:"TRIX",BRAR:"BRAR",VR:"VR",EMV:"EMV",WR:"WR",ROC:"ROC",MTM:"MTM",PSY:"PSY",VOLUME:"VOLUME",CCI:"CCI",SymbolCompare:"SymbolCompare"};!function(e){e.BACKGROUND="background",e.GRID="grid",e.CONTENT="content",e.INDICATOR="indicator",e.MAX_MIN="max_min",e.SELECTION="selection",e.DRAW_LINE="draw_line",e.LAST="last",e.TRADE_POINT="trade_point",e.POSITION_LINE="position_line",e.ORDER_LINE="order_line"}(r||(r={}));var l={MOUSE:"mouse",WHEEL:"wheel"}},7394:(e,t,n)=>{"use strict";n.d(t,{H5:()=>d,I8:()=>c,Ju:()=>i,Kt:()=>h,O3:()=>p,WC:()=>l,Wh:()=>a,cJ:()=>f,co:()=>u,lp:()=>o,on:()=>v,t1:()=>y,yl:()=>s});var r,o,i,a,s,l,c,u,d,f,h,p,v,g=n(4467),m=n(1599);!function(e){e.Cursor="Cursor",e.LineGroup="LineGroup",e.MarkGroup="MarkGroup",e.ChannelGroup="ChannelGroup",e.ForecastingAndMeasurementGroup="ForecastingAndMeasurementGroup",e.MeasurementGroup="MeasurementGroup",e.FibGroup="FibGroup",e.TextGroup="TextGroup",e.GeometricGroup="GeometricGroup",e.MagnetGroup="MagnetGroup",e.HideGroup="HideGroup"}(o||(o={})),function(e){e.DefaultCursor="DefaultCursor",e.CrossCursor="CrossCursor"}(i||(i={})),function(e){e.LineToolTrendLine="LineToolTrendLine",e.LineToolArrow="LineToolArrow",e.LineToolRay="LineToolRay",e.LineToolExtended="LineToolExtended",e.LineToolHorzTrendLine="LineToolHorzTrendLine",e.LineToolHorzRay="LineToolHorzRay",e.LineToolHorzLine="LineToolHorzLine",e.LineToolVertLine="LineToolVertLine"}(a||(a={})),function(e){e.MarkToolPriceLine="MarkToolPriceLine"}(s||(s={})),function(e){e.ChannelToolPriceChannel="ChannelToolPriceChannel",e.ChannelToolParallelLine="ChannelToolParallelLine",e.ChannelToolParallelRayLine="ChannelToolParallelRayLine",e.ChannelToolParallelHorizontalLine="ChannelToolParallelHorizontalLine"}(l||(l={})),function(e){e.LineToolRiskRewardLong="LineToolRiskRewardLong",e.LineToolRiskRewardShort="LineToolRiskRewardShort"}(c||(c={})),function(e){e.LineToolFibRetracement="LineToolFibRetracement",e.LineToolFibSpeedResistanceFan="LineToolFibSpeedResistanceFan"}(u||(u={})),function(e){e.LineToolMeasurement="LineToolMeasurement"}(d||(d={})),function(e){e.LineToolText="LineToolText"}(f||(f={})),function(e){e.LineToolRectangle="LineToolRectangle",e.LineToolCircle="LineToolCircle",e.LineToolTriangle="LineToolTriangle"}(h||(h={})),function(e){e.WeakMagnet="WeakMagnet",e.StrongMagnet="StrongMagnet"}(p||(p={})),function(e){e.HideAll="HideAll",e.HideDrawings="HideDrawings",e.HideIndicators="HideIndicators"}(v||(v={}));var y=(r={},(0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)(r,m.m.TrendLine,a.LineToolTrendLine),m.m.Arrow,a.LineToolArrow),m.m.Ray,a.LineToolRay),m.m.Extended,a.LineToolExtended),m.m.HorizontalLine,a.LineToolHorzTrendLine),m.m.HorizontalRay,a.LineToolHorzRay),m.m.HorizontalExtended,a.LineToolHorzLine),m.m.VerticalLine,a.LineToolVertLine),m.m.PriceLine,s.MarkToolPriceLine),m.m.ParallelChannel,l.ChannelToolPriceChannel),(0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)((0,g.A)(r,m.m.ParallelLine,l.ChannelToolParallelLine),m.m.ParallelRay,l.ChannelToolParallelRayLine),m.m.ParallelHorizontalLine,l.ChannelToolParallelHorizontalLine),m.m.FibRetracement,u.LineToolFibRetracement),m.m.FibSpeedResistFan,u.LineToolFibSpeedResistanceFan),m.m.LongPosition,c.LineToolRiskRewardLong),m.m.ShortPosition,c.LineToolRiskRewardShort),m.m.Measure,d.LineToolMeasurement),m.m.Text,f.LineToolText),m.m.Rectangle,h.LineToolRectangle),(0,g.A)((0,g.A)(r,m.m.Circle,h.LineToolCircle),m.m.Triangle,h.LineToolTriangle))},1367:(e,t,n)=>{"use strict";n.d(t,{PA:()=>i,Th:()=>s,l4:()=>a,lZ:()=>r,x1:()=>o});var r,o,i=500,a=240,s=5;!function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Fourth=3]="Fourth",e[e.Fifth=4]="Fifth"}(r||(r={})),function(e){e.Pointer="pointer",e.Grab="grab",e.Grabbing="grabbing",e.Default="default",e.NSResize="nsResize"}(o||(o={}))},2658:(e,t,n)=>{"use strict";var r;n.d(t,{B:()=>r}),function(e){e[e.Pnl=0]="Pnl",e[e.PnlRatio=1]="PnlRatio",e[e.Amount=2]="Amount"}(r||(r={}))},4494:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var r=n(5458),o=n(3029),i=n(2901),a=n(9092),s=function(e){return Array.isArray(e)?e:[e]},l=new(function(){return(0,i.A)((function e(){var t=this;(0,o.A)(this,e),Object.values(a.g).forEach((function(e){t[e]=new Map}))}),[{key:"addListener",value:function(e,t){!function(e){var t=e.target,n=e.keys,r=[];n.forEach((function(e){var n=t.get(e);n?t.set(e,n+1):(t.set(e,1),r.push(e))}))}({target:this[e],keys:s(t)})}},{key:"removeListener",value:function(e,t){!function(e){var t=e.target,n=e.keys,r=[];n.forEach((function(e){var n=t.get(e)||0;n>1?t.set(e,n-1):(t.delete(e),r.push(e))}))}({target:this[e],keys:s(t)})}},{key:"trigger",value:function(e,t){(0,r.A)(this[e].keys()).forEach((function(e){if("function"===typeof e)return t?e(t):e()}))}},{key:"hasListener",value:function(e){var t=this[e];return t instanceof Map&&!!t.size}}])}())},9092:(e,t,n)=>{"use strict";var r;n.d(t,{g:()=>r}),function(e){e.OnShortcutFullScreen="onShortcutFullScreen",e.OnShortcutOpenAlertsDialog="onShortcutOpenAlertsDialog",e.OnShortcutSwitchResolution="onShortcutSwitchResolution",e.OnShortcutOpenPlaceOrderPane="onShortcutOpenPlaceOrderPane",e.OnShortcutOpenIndicatorDialog="onShortcutOpenIndicatorDialog",e.OnShortcutOpenDateRedirectDialog="onShortcutOpenDateRedirectDialog",e.OnShortcutSwitchChart="onShortcutSwitchChart",e.OnShortcutMaximizeWindow="onShortcutMaximizeWindow",e.OnShortcutMinimizeWindow="onShortcutMinimizeWindow",e.OnShortcutToggleMaximizeChart="onShortcutToggleMaximizeChart",e.OnShortcutDrawTrendLine="onShortcutDrawTrendLine",e.OnShortcutDrawMeasurement="onShortcutDrawMeasurement",e.OnShortcutDrawHorizontalRay="onShortcutDrawHorizontalRay",e.OnShortcutDrawHorizontalLine="onShortcutDrawHorizontalLine",e.OnShortcutDrawVerticalExtend="onShortcutDrawVerticalExtend",e.OnShortcutDrawFibRetracement="onShortcutDrawFibRetracement",e.OnShortcutDrawRiskRewardLong="onShortcutDrawRiskRewardLong",e.OnShortcutDrawRiskRewardShort="onShortcutDrawRiskRewardShort",e.OnShortcutHideAllDrawing="onShortcutHideAllDrawing",e.OnShortcutDeleteDrawing="onShortcutDeleteDrawing",e.OnShortcutUndo="onShortcutUndo",e.OnShortcutRedo="onShortcutRedo",e.OnShortcutZoomIn="onShortcutZoomIn",e.OnShortcutZoomOut="onShortcutZoomOut",e.OnShortcutScrollLeft="onShortcutScrollLeft",e.OnShortcutScrollRight="onShortcutScrollRight",e.OnShortcutGoToLatest="onShortcutGoToLatest",e.OnShortcutResetChart="onShortcutResetChart",e.OnShortcutFocusedZoom="onShortcutFocusedZoom"}(r||(r={}))},3469:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>l,iK:()=>c,pE:()=>s});var r=n(5147),o=n(5302),i=n(1357),a=n(1367),s=function(){return{label:"",color:"#FFFFFF",fontSize:12,fontWeight:400,borderWidth:2,borderStyle:i.S.Solid,borderRadius:0,borderColor:"#000000",backgroundColor:(0,r.sd)("--cc-okd-color-background-base-primary"),paddingX:0,paddingY:0}},l={type:"block",groupId:"default",hoverCursor:a.x1.Default,draggable:!1,blockStyle:s(),showWhenLineHover:!1},c={lineStyle:{lineColor:"#000000",lineWidth:1,lineStyle:i.S.Solid,lineCap:"butt"},associateLineStyle:{lineColor:"#000000",lineWidth:1,lineStyle:i.S.Solid,lineCap:"butt"},associateBallStyle:{ballStatus:i.T.SolidCircle,ballColor:"#000000",ballBackground:"#000000"},leftConnectLineVisible:!0,blocksPosition:o.DF.RIGHT}},4753:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>B,_n:()=>o,m3:()=>D});var r,o,i=n(4467),a=n(5458),s=n(3891);!function(e){e[e.grid=0]="grid",e[e.gridItemArray=1]="gridItemArray",e[e.splitter=2]="splitter"}(o||(o={}));var l=[1],c={originalSizeStruct:[{col:l,row:l}],tradingViewToOriginal:function(){return[{col:l,row:l}]},originalToTradingView:function(){return[{percent:1}]},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0'"},children:[{type:o.gridItemArray,num:1,startFrom:0}]}},u={originalSizeStruct:[{col:[.5,.5],row:l}],tradingViewToOriginal:function(e){return[{col:e.map((function(e){return e.percent})),row:l}]},originalToTradingView:function(e){return e[0].col.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1'"},children:[{type:o.gridItemArray,num:2,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]}},d={originalSizeStruct:[{col:l,row:[.5,.5]}],tradingViewToOriginal:function(e){return[{row:e.map((function(e){return e.percent})),col:l}]},originalToTradingView:function(e){return e[0].row.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0'\n      'A1'"},children:[{type:o.gridItemArray,num:2,startFrom:0},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}}]}},f={originalSizeStruct:[{col:[.5,.5],row:[.5,.5]}],tradingViewToOriginal:function(e){var t;return[{row:(null===(t=e[1].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[],col:e.map((function(e){return e.percent}))}]},originalToTradingView:function(e){return[{percent:e[0].col[0]},{percent:e[0].col[1],substate:e[0].row.map((function(e){return{percent:e}}))}]},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1'\n      'A0 A2'"},children:[{type:o.gridItemArray,num:3,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!1,style:{gridColumn:2,gridRow:2}}]}},h={originalSizeStruct:[{col:[.3333333333333333,.3333333333333333,.3333333333333334],row:l}],tradingViewToOriginal:function(e){return[{row:l,col:e.map((function(e){return e.percent}))||[]}]},originalToTradingView:function(e){return e[0].col.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1 A2'"},children:[{type:o.gridItemArray,num:3,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}}]}},p={originalSizeStruct:[{col:l,row:[.3333333333333333,.3333333333333333,.3333333333333333]}],tradingViewToOriginal:function(e){return[{row:e.map((function(e){return e.percent}))||[],col:l}]},originalToTradingView:function(e){return e[0].row.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0'\n        'A1'\n        'A2'"},children:[{type:o.gridItemArray,num:3,startFrom:0},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:3}}]}},v={originalSizeStruct:[{col:[.5,.5],row:[.5,.5]}],tradingViewToOriginal:function(e){var t;return[{row:e.map((function(e){return e.percent}))||[],col:(null===(t=e[0].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[]}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[0].substate=e[0].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1'\n      'A2 A2'"},children:[{type:o.gridItemArray,num:3,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:"1/2"}},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}}]}},g={originalSizeStruct:[{col:[.5,.5],row:[.5,.5]}],tradingViewToOriginal:function(e){var t;return[{row:e.map((function(e){return e.percent}))||[],col:(null===(t=e[1].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[]}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[1].substate=e[0].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A0'\n        'A1 A2'"},children:[{type:o.gridItemArray,num:3,startFrom:0},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:2}}]}},m={originalSizeStruct:[{col:[.5,.5],row:[.5,.5]}],tradingViewToOriginal:function(e){var t;return[{row:(null===(t=e[0].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[],col:e.map((function(e){return e.percent}))}]},originalToTradingView:function(e){var t=e[0].col.map((function(e){return{percent:e}}));return t[0].substate=e[0].row.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A2'\n        'A1 A2'"},children:[{type:o.gridItemArray,num:3,startFrom:0},{type:o.splitter,isVertical:!1,style:{gridColumn:"1/2",gridRow:2}},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]}},y={originalSizeStruct:[{col:l,row:[.5,.5]},{col:[.5,.5],row:l},{col:[.5,.5],row:l}],tradingViewToOriginal:function(e){var t,n;return[{col:l,row:e.map((function(e){return e.percent}))},{row:l,col:(null===(t=e[0].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[]},{row:l,col:(null===(n=e[1].substate)||void 0===n?void 0:n.map((function(e){return e.percent})))||[]}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[0].substate=e[1].col.map((function(e){return{percent:e}})),t[1].substate=e[2].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0'\n          'A1'"},children:[{type:o.grid,sizeIndex:1,style:{gridTemplateAreas:"'A0 A2'"},children:[{type:o.gridItemArray,num:2,startFrom:0,ids:[0,2]},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.grid,sizeIndex:2,style:{gridTemplateAreas:"'A1 A3'"},children:[{type:o.gridItemArray,num:2,startFrom:2,ids:[1,3]},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}}]}},b={originalSizeStruct:[{col:[.25,.25,.25,.25],row:l}],tradingViewToOriginal:function(e){return[{row:l,col:e.map((function(e){return e.percent}))}]},originalToTradingView:function(e){return e[0].col.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1 A2 A3'"},children:[{type:o.gridItemArray,num:4,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:4,gridRow:1}}]}},A={originalSizeStruct:[{col:l,row:[.25,.25,.25,.25]}],tradingViewToOriginal:function(e){return[{row:e.map((function(e){return e.percent})),col:l}]},originalToTradingView:function(e){return e[0].row.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"\n      'A0'\n      'A1'\n      'A2'\n      'A3'"},children:[{type:o.gridItemArray,num:4,startFrom:0},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:3}},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:4}}]}},w={originalSizeStruct:[{col:[.5,.5],row:[.3333333333333333,.3333333333333333,.3333333333333333]}],tradingViewToOriginal:function(e){var t;return[{row:(null===(t=e[1].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[],col:e.map((function(e){return e.percent}))}]},originalToTradingView:function(e){var t=e[0].col.map((function(e){return{percent:e}}));return t[1].substate=e[0].row.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1'\n        'A0 A2'\n        'A0 A3'"},children:[{type:o.gridItemArray,num:4,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!1,style:{gridColumn:2,gridRow:2}},{type:o.splitter,isVertical:!1,style:{gridColumn:2,gridRow:3}}]}},_={originalSizeStruct:[{col:[.3333333333333333,.3333333333333333,.3333333333333333],row:[.5,.5]}],tradingViewToOriginal:function(e){var t;return[{row:e.map((function(e){return e.percent})),col:(null===(t=e[1].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[]}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[1].substate=e[0].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"\n         'A0 A0 A0'\n          'A1 A2 A3'\n         "},children:[{type:o.gridItemArray,num:4,startFrom:0},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:2}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:2}}]}},C={originalSizeStruct:[{col:[.5,.5],row:[.5,.25,.25]}],tradingViewToOriginal:function(e){var t,n,r=(null===(t=e[1].substate)||void 0===t?void 0:t.map((function(t){return t.percent*e[1].percent})))||[];return[{col:(null===(n=e[0].substate)||void 0===n?void 0:n.map((function(e){return e.percent})))||[],row:[e[0].percent].concat((0,a.A)(r))}]},originalToTradingView:function(e){var t=1-e[0].row[0];return[{percent:e[0].row[0],substate:e[0].col.map((function(e){return{percent:e}}))},{percent:t,substate:[{percent:e[0].row[1]/t},{percent:e[0].row[2]/t}]}]},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1'\n      'A2 A2'\n      'A3 A3'"},children:[{type:o.gridItemArray,num:4,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:"1/2"}},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:3}}]}},S={originalSizeStruct:[{col:[.25,.25,.25,.25],row:[.5,.5]}],tradingViewToOriginal:function(e){var t;return[{row:e.map((function(e){return e.percent})),col:(null===(t=e[1].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[]}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[1].substate=e[0].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A0 A0 A0'\n       'A1 A2 A3 A4'"},children:[{type:o.gridItemArray,num:5,startFrom:0},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:2}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:2}},{type:o.splitter,isVertical:!0,style:{gridColumn:4,gridRow:2}}]}},k={originalSizeStruct:[{col:[.5,.5],row:[.25,.25,.25,.25]}],tradingViewToOriginal:function(e){var t;return[{row:(null===(t=e[1].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[],col:e.map((function(e){return e.percent}))}]},originalToTradingView:function(e){var t=e[0].col.map((function(e){return{percent:e}}));return t[1].substate=e[0].row.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"\n         'A0 A1'\n      'A0 A2'\n      'A0 A3'\n      'A0 A4'\n         "},children:[{type:o.gridItemArray,num:5,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!1,style:{gridColumn:2,gridRow:2}},{type:o.splitter,isVertical:!1,style:{gridColumn:2,gridRow:3}},{type:o.splitter,isVertical:!1,style:{gridColumn:2,gridRow:4}}]}},T={originalSizeStruct:[{col:l,row:[.5,.5]},{col:[.5,.5],row:l},{col:[.3333333333333333,.3333333333333333,.3333333333333333],row:l}],tradingViewToOriginal:function(e){var t,n;return[{row:e.map((function(e){return e.percent})),col:l},{row:l,col:(null===(t=e[0].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[]},{row:l,col:(null===(n=e[1].substate)||void 0===n?void 0:n.map((function(e){return e.percent})))||[]}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[0].substate=e[1].col.map((function(e){return{percent:e}})),t[1].substate=e[2].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"\n      'A0'\n      'A1'"},children:[{type:o.grid,sizeIndex:1,style:{gridTemplateAreas:"'A0 A1'"},children:[{type:o.gridItemArray,num:2,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.grid,sizeIndex:2,style:{gridTemplateAreas:"'A2 A3 A4'"},children:[{type:o.gridItemArray,num:3,startFrom:2},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}}]},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}}]}},x={originalSizeStruct:[{col:[.2,.2,.2,.2,.2],row:l}],tradingViewToOriginal:function(e){return[{row:l,col:e.map((function(e){return e.percent}))}]},originalToTradingView:function(e){return e[0].col.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1 A2 A3 A4'"},children:[{type:o.gridItemArray,num:5,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:4,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:5,gridRow:1}}]}},P={originalSizeStruct:[{col:l,row:[.5,.5]},{col:[.3333333333333333,.3333333333333333,.3333333333333333],row:l},{col:[.3333333333333333,.3333333333333333,.3333333333333333],row:l}],tradingViewToOriginal:function(e){var t,n;return[{row:e.map((function(e){return e.percent})),col:l},{col:(null===(t=e[0].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[],row:l},{col:(null===(n=e[1].substate)||void 0===n?void 0:n.map((function(e){return e.percent})))||[],row:l}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[0].substate=e[1].col.map((function(e){return{percent:e}})),t[1].substate=e[2].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0'\n      'A1'"},children:[{type:o.grid,sizeIndex:1,style:{gridTemplateAreas:"'A0 A2 A4'"},children:[{type:o.gridItemArray,num:3,startFrom:0,ids:[0,2,4]},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}}]},{type:o.grid,sizeIndex:2,style:{gridTemplateAreas:"'A1 A3 A5'"},children:[{type:o.gridItemArray,num:3,startFrom:3,ids:[1,3,5]},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}}]},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}}]}},E={originalSizeStruct:[{col:l,row:[.3333333333333333,.3333333333333333,.3333333333333333]},{col:[.5,.5],row:l},{col:[.5,.5],row:l},{col:[.5,.5],row:l}],tradingViewToOriginal:function(e){var t,n,r;return[{row:e.map((function(e){return e.percent})),col:l},{col:(null===(t=e[0].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[],row:l},{col:(null===(n=e[1].substate)||void 0===n?void 0:n.map((function(e){return e.percent})))||[],row:l},{col:(null===(r=e[2].substate)||void 0===r?void 0:r.map((function(e){return e.percent})))||[],row:l}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[0].substate=e[1].col.map((function(e){return{percent:e}})),t[1].substate=e[2].col.map((function(e){return{percent:e}})),t[2].substate=e[2].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0'\n          'A1'\n          'A2'"},children:[{type:o.grid,sizeIndex:1,style:{gridTemplateAreas:"'A0 A1'"},children:[{type:o.gridItemArray,num:2,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.grid,sizeIndex:2,style:{gridTemplateAreas:"'A2 A3'"},children:[{type:o.gridItemArray,num:2,startFrom:2},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.grid,sizeIndex:3,style:{gridTemplateAreas:"'A4 A5'"},children:[{type:o.gridItemArray,num:2,startFrom:4},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:3}}]}},L={originalSizeStruct:[{col:[.16666666666666666,.16666666666666666,.16666666666666666,.16666666666666666,.16666666666666666,.16666666666666666],row:l}],tradingViewToOriginal:function(e){return[{col:e.map((function(e){return e.percent}))||[],row:l}]},originalToTradingView:function(e){return e[0].col.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1 A2 A3 A4 A5'"},children:[{type:o.gridItemArray,num:6,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:4,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:5,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:6,gridRow:1}}]}},I={originalSizeStruct:[{col:[.14285714285714285,.14285714285714285,.14285714285714285,.14285714285714285,.14285714285714285,.14285714285714285,.14285714285714285],row:l}],tradingViewToOriginal:function(e){return[{col:e.map((function(e){return e.percent})),row:l}]},originalToTradingView:function(e){return e[0].col.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1 A2 A3 A4 A5 A6'"},children:[{type:o.gridItemArray,num:7,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:4,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:5,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:6,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:7,gridRow:1}}]}},O={originalSizeStruct:[{col:l,row:[.5,.5]},{col:[.25,.25,.25,.25],row:l},{col:[.25,.25,.25,.25],row:l}],tradingViewToOriginal:function(e){var t,n;return[{row:e.map((function(e){return e.percent})),col:l},{col:(null===(t=e[0].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[],row:l},{col:(null===(n=e[1].substate)||void 0===n?void 0:n.map((function(e){return e.percent})))||[],row:l}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[0].substate=e[1].col.map((function(e){return{percent:e}})),t[1].substate=e[2].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0'\n          'A1'"},children:[{type:o.grid,sizeIndex:1,style:{gridTemplateAreas:"'A0 A2 A4 A6'"},children:[{type:o.gridItemArray,num:4,startFrom:0,ids:[0,2,4,6]},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:4,gridRow:1}}]},{type:o.grid,sizeIndex:2,style:{gridTemplateAreas:"'A1 A3 A5 A7'"},children:[{type:o.gridItemArray,num:4,startFrom:4,ids:[1,3,5,7]},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:4,gridRow:1}}]},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}}]}},R={originalSizeStruct:[{col:l,row:[.25,.25,.25,.25]},{col:[.5,.5],row:l},{col:[.5,.5],row:l},{col:[.5,.5],row:l},{col:[.5,.5],row:l}],tradingViewToOriginal:function(e){var t,n,r,o;return[{row:e.map((function(e){return e.percent})),col:l},{col:(null===(t=e[0].substate)||void 0===t?void 0:t.map((function(e){return e.percent})))||[],row:l},{col:(null===(n=e[1].substate)||void 0===n?void 0:n.map((function(e){return e.percent})))||[],row:l},{col:(null===(r=e[2].substate)||void 0===r?void 0:r.map((function(e){return e.percent})))||[],row:l},{col:(null===(o=e[3].substate)||void 0===o?void 0:o.map((function(e){return e.percent})))||[],row:l}]},originalToTradingView:function(e){var t=e[0].row.map((function(e){return{percent:e}}));return t[0].substate=e[1].col.map((function(e){return{percent:e}})),t[1].substate=e[2].col.map((function(e){return{percent:e}})),t[2].substate=e[3].col.map((function(e){return{percent:e}})),t[3].substate=e[4].col.map((function(e){return{percent:e}})),t},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0'\n          'A1'\n          'A2'\n          'A3'"},children:[{type:o.grid,sizeIndex:1,style:{gridTemplateAreas:"'A0 A1'"},children:[{type:o.gridItemArray,num:2,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.grid,sizeIndex:2,style:{gridTemplateAreas:"'A2 A3'"},children:[{type:o.gridItemArray,num:2,startFrom:2},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.grid,sizeIndex:3,style:{gridTemplateAreas:"'A4 A5'"},children:[{type:o.gridItemArray,num:2,startFrom:4},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.grid,sizeIndex:4,style:{gridTemplateAreas:"'A6 A7'"},children:[{type:o.gridItemArray,num:2,startFrom:6},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}}]},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:2}},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:3}},{type:o.splitter,isVertical:!1,style:{gridColumn:1,gridRow:4}}]}},M={originalSizeStruct:[{col:[.125,.125,.125,.125,.125,.125,.125,.125],row:l}],tradingViewToOriginal:function(e){return[{col:e.map((function(e){return e.percent})),row:l}]},originalToTradingView:function(e){return e[0].col.map((function(e){return{percent:e}}))},layoutInfo:{type:o.grid,sizeIndex:0,style:{gridTemplateAreas:"'A0 A1 A2 A3 A4 A5 A6 A7'"},children:[{type:o.gridItemArray,num:8,startFrom:0},{type:o.splitter,isVertical:!0,style:{gridColumn:2,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:3,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:4,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:5,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:6,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:7,gridRow:1}},{type:o.splitter,isVertical:!0,style:{gridColumn:8,gridRow:1}}]}},N=(r={},(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(r,s.P.Layout1A,c),s.P.Layout2A,u),s.P.Layout2B,d),s.P.Layout3A,f),s.P.Layout3B,h),s.P.Layout3C,p),s.P.Layout3D,v),s.P.Layout3E,g),s.P.Layout3F,m),s.P.Layout4A,y),(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(r,s.P.Layout4B,b),s.P.Layout4C,A),s.P.Layout4D,w),s.P.Layout4E,_),s.P.Layout4F,C),s.P.Layout5A,S),s.P.Layout5B,k),s.P.Layout5C,T),s.P.Layout5D,x),s.P.Layout6A,P),(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(r,s.P.Layout6B,E),s.P.Layout6C,L),s.P.Layout7A,I),s.P.Layout8A,O),s.P.Layout8B,R),s.P.Layout8C,M)),D=Object.keys(N).reduce((function(e,t){return e[t]=N[t].originalSizeStruct,e}),{});const B=N},191:(e,t,n)=>{"use strict";n.d(t,{T2:()=>c,_8:()=>s,fw:()=>u,jE:()=>d});var r=n(8666),o=n(4753);function i(e){return"".concat(100*e,"fr")}function a(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return e.join(t)}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return t+e}),0);if(0===t){var n=1/(e.length||1);return e.map((function(){return i(n)}))}return e.map((function(e){return i(e/t)}))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),e)}function s(e,t){return{gridTemplateColumns:a(null===t||void 0===t?void 0:t[e].col),gridTemplateRows:a(null===t||void 0===t?void 0:t[e].row)}}var l=-1;function c(e,t){return e.type===o._n.splitter&&t?t.filter((function(t){return t.type===o._n.splitter&&t.isVertical===e.isVertical})).indexOf(e):l}function u(e){return Object.keys(e).reduce((function(t,n){var i=e[n],a=o.Ay[n];return i&&i.length&&a&&(t[(0,r.YZ)(n)]=a.originalToTradingView(i)),t}),{})}function d(e){var t={};return Object.keys(e).forEach((function(n){var i,a=(0,r.a_)(n);e[n]&&(t[a]=null===(i=o.Ay[a])||void 0===i?void 0:i.tradingViewToOriginal(e[n]||[]))})),t}},8679:(e,t,n)=>{"use strict";n.d(t,{Am:()=>s,Ay:()=>d,RF:()=>u,gn:()=>c,sd:()=>l});var r=n(4467),o=n(3029),i=n(2901),a=n(5314),s="isDoubleClickToResetChartTooltipShown",l="multiple_chart_drag_feature",c="layoutConfig",u=80;const d=function(){return(0,i.A)((function e(t){var n=t.chartStore,i=t.chartManager;(0,o.A)(this,e),this.dragSplitter=void 0,this.sizeInfos=[],this.hasShownLayoutResetTooltip=!0,this.hasShownNewFeature=!0,this.closeNotificationCallback=void 0,this.notificationMap=(0,r.A)((0,r.A)({},s,{hasShown:!0}),l,{hasShown:!0}),(0,a.makeObservable)(this,{dragSplitter:a.observable,sizeInfos:a.observable,hasShownLayoutResetTooltip:a.observable,setDragSplitter:a.action,setShowTooltip:a.action}),this.initLayoutResetNotification(),this.chartStore=n,this.chartManager=i}),[{key:"initLayoutResetNotification",value:function(){var e=this;Object.keys(this.notificationMap).forEach((function(t){var n=localStorage.getItem(t);e.notificationMap[t].hasShown="1"===n}))}},{key:"setDragSplitter",value:function(e){this.dragSplitter=e}},{key:"setShowTooltip",value:function(e){var t=e.hasShown,n=e.setLocalStorage,r=void 0!==n&&n,o=e.key;this.notificationMap[o].hasShown=t,r&&localStorage.setItem(o,t?"1":"0")}},{key:"setCloseNotificationCallback",value:function(e){var t=e.key,n=e.closeCallback;this.notificationMap[t].closeCallback=n}}])}()},884:(e,t,n)=>{"use strict";n.d(t,{R:()=>L});var r=n(296),o=n(3029),i=n(2901),a=n(1132),s=n(3890),l=n(9517),c=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,l.C6)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(a.B),u=n(1529),d=n(1029),f=n(1287),h=n(946),p=n(2992),v=n(3451);function g(e){var t=new AbortController;return e.addEventListener("abort",(function(){t.abort()})),t}var m=n(4883),y=n.n(m),b=n(4393);const A="progressBar-XEHs5",w="progressLoader-RA9zY",_="progress-WYcqd";function C(e){var t,n=100*(null!==(t=e.progress)&&void 0!==t?t:0);return y().createElement("div",{className:A},y().createElement(b.A.Line,{className:w,trackColor:"transparent",markColor:"var(--cc-okd-color-gray-300)"}),y().createElement("div",{className:_,style:{width:"".concat(n,"%")}}))}const S="progressBarContainer-FXeLO",k="content-NyRUC";function T(e){var t=(0,m.useState)(0),n=(0,r.A)(t,2),o=n[0],i=n[1];return(0,m.useEffect)((function(){var t=e.progress.subscribe(i);return function(){t.unsubscribe()}}),[e.progress]),y().createElement("div",{className:S},y().createElement("span",{className:k},e.content),y().createElement(C,{progress:o}))}var x=n(4463),P=n(8666);function E(e,t){return[e,t].join(":")}var L=function(){return(0,i.A)((function e(t,n,r){var i=this;(0,o.A)(this,e),this.setting=t,this.chartManager=n,this.instance=r,this.abortController=new AbortController,this.pendingRequestDetails=new Set,this.requestFailed$=new a.B,this.barRanges=new Map,this.resetCacheCallbacks=new Map,this.indicatorSubscriptions=new Set,this.onTick$=new a.B,this.onDataLoaded$=new a.B,this.groupedResolutions={seconds_multipliers:[],intraday_multipliers:[],daily_multipliers:[],weekly_multipliers:[],monthly_multipliers:[]},this.getMarks=function(e,t,n,r,o){var a,s,l,c,u=e.library_custom_fields.symbolInfo;i.underlyingDatafeed.getMarks?null===(s=(a=i.underlyingDatafeed).getMarks)||void 0===s||s.call(a,u,t,n,r,o):i.underlyingDatafeed.getMarksV2&&(null===(c=(l=i.underlyingDatafeed).getMarksV2)||void 0===c||c.call(l,u,t,n,r,o))}}),[{key:"destroy",value:function(){this.abortController.abort()}},{key:"underlyingDatafeed",get:function(){return this.chartManager.datafeed}},{key:"updateBarRange",value:function(e,t,n,r){var o,i,a=E(e,t);if(r&&this.barRanges.delete(a),n.length>0){var s=this.barRanges.get(a),l=null===s||void 0===s?void 0:s.firstBar,c=null===s||void 0===s?void 0:s.lastBar,u=null!==(o=null===l||void 0===l?void 0:l.time)&&void 0!==o?o:1/0,d=null!==(i=null===c||void 0===c?void 0:c.time)&&void 0!==i?i:-1/0;n[0].time<=u&&(l=n[0]),n[n.length-1].time>=d&&(c=n[n.length-1]),this.barRanges.set(a,{symbol:e,resolution:t,firstBar:l,lastBar:c})}}},{key:"trackRequest",value:function(e){var t,n,r=this,o=Object.assign(Object.assign({},e),{startTime:Date.now()});o.params.countBack>=6e3&&(t=setTimeout((function(){var e,t,i,a,s,l=o.symbolInfo.tickerSymbol,c=o.resolution,f=o.params.priceType;r.setting.supportedChartTypes.includes(d.N.Original)&&((null===(e=r.chartManager.activeArea)||void 0===e?void 0:e.resolution)===c&&(null===(t=r.chartManager.activeArea)||void 0===t?void 0:t.tickerSymbol)===l&&(null===(i=r.chartManager.activeArea)||void 0===i?void 0:i.priceType)===f&&(o.progressChanged.value>=.85||(n=r.instance.notificationManager.showNotification({type:"info",showClose:!0,isInline:!1,timeout:0,title:(0,v.tt)("trade_charts_alertbanner_title_process_data"),confirmText:(0,v.tt)("trade_charts_alertbanner_btn_swtich_original"),cancelText:(0,v.tt)("trade_charts_alertbanner_btn_stop_loading"),desc:(a=(0,v.tt)("trade_charts_alertbanner_subtitle_switch_original"),s=o.progressChanged,y().createElement(T,{progress:s,content:a})),onClickClose:function(){(0,u.rzH)({chart_type:"tradingview",loading_time:void 0,progress:o.params.countBack,button_click:"x_button"})},onConfirm:function(){r.chartManager.setChartType(d.N.Original),null===n||void 0===n||n(),(0,u.rzH)({chart_type:"tradingview",loading_time:void 0,progress:o.params.countBack,button_click:"switch"})},onCancel:function(){o.errorHandled=!0,o.abortController.abort(),null===n||void 0===n||n(),o.promise.catch((function(){r.resetData(l,c,f),r.instance.resetData(l,c,f)})),(0,u.rzH)({chart_type:"tradingview",loading_time:void 0,progress:o.params.countBack,button_click:"cancel"})}}))))}))),this.pendingRequestDetails.add(o),o.promise.catch((function(e){o.error=e,r.requestFailed$.next(o)})).finally((function(){clearTimeout(t),null===n||void 0===n||n(),o.endTime=Date.now(),r.pendingRequestDetails.delete(o)}))}},{key:"onMainSeriesError",value:function(e,t,n){return this.requestFailed$.pipe((0,s.p)((function(r){if(!r.mainSeries)return!1;var o=r.symbolInfo.tickerSymbol,i=r.resolution,a=r.params.priceType;return(!e||e===o)&&(!t||t===i)&&(!n||n===a)})))}},{key:"getBarRange",value:function(e,t){var n,r=E(e,t);return null!==(n=this.barRanges.get(r))&&void 0!==n?n:null}},{key:"resetData",value:function(e,t,n){this.resetCacheCallbacks.forEach((function(r,o,i){e&&r.symbol!==e||t&&r.resolution!==t||n&&r.priceType!==n||(r.callback(),i.delete(o))}))}},{key:"onTick",value:function(){return this.onTick$.asObservable()}},{key:"onDataLoaded",value:function(){return this.onDataLoaded$.asObservable()}},{key:"onReady",value:function(e){var t,n=this,r=this.chartManager.datafeedConfig,o=null!==(t=null===r||void 0===r?void 0:r.supportedResolutions)&&void 0!==t?t:p.js;this.groupedResolutions=(0,f.Gl)(o),Promise.resolve().then((function(){var t;e({symbols_types:null!==(t=null===r||void 0===r?void 0:r.symbolTypes)&&void 0!==t?t:[],supported_resolutions:o.map(f.Wc),supports_marks:n.setting.enableMarkers})})).catch((function(e){console.error(e)}))}},{key:"searchSymbols",value:function(e,t,n,r){this.underlyingDatafeed.searchSymbols((0,P.ss)(e)[0],n).then((function(e){return e.slice(0,50).map((function(e){var t;return{type:(0,P.ac)(e.type),symbol:e.name,full_name:e.fullName,description:e.description,exchange:null!==(t=e.exchange)&&void 0!==t?t:P.Ym,ticker:e.tickerSymbol,exchange_logo:e.exchangeLogoUrl,logo_urls:e.logoUrls}}))})).then((function(e){r(e)})).catch((function(e){console.error(e),r([])}))}},{key:"resolveSymbol",value:function(e,t,n,o){var i=this;if((0,x.Jc)(e))this.resolveIndicatorSymbol(e,t,n,o);else{var a=this.setting.timezone,s=(0,P.ss)(e),l=(0,r.A)(s,2),c=l[0],u=l[1],d=void 0===u?h.SJ.LastPrice:u;this.underlyingDatafeed.resolveSymbol(c).then((function(e){return(0,P.mW)(e,a,i.groupedResolutions,d)})).then((function(e){i.setting.enableCreateVolumeIndicatorByDefault||(e.visible_plots_set="ohlc"),t(e)})).catch((function(e){console.error(e),n(String(e))}))}}},{key:"convertBar",value:function(e,t){var n=(0,P.V6)(this.setting.timezone,e,t.time);return t.time!==n?Object.assign(Object.assign({},t),{time:n}):t}},{key:"getBars",value:function(e,t,n,o,i){var a=this,s=(0,P.ss)(e.ticker),l=(0,r.A)(s,2),u=l[0],d=l[1],p=void 0===d?h.SJ.LastPrice:d,v=e.library_custom_fields.symbolInfo,m=(0,f.eF)(t),y=this.setting.timezone,b=function(e,t){var r=e.map((function(e){return a.convertBar(m,e)}));a.updateBarRange(u,m,e,n.firstDataRequest),o(r,t)};if((0,x.Jc)(e.ticker))this.getIndicatorBars(e,t,n,b,i);else{var A=g(this.abortController.signal),w=A.signal,_=new c(0),C=Object.assign(Object.assign({},n),{signal:w,priceType:p,reportProgress:function(e){_.next(e.loaded/e.total)},timezone:y}),S=this.underlyingDatafeed.getBars(v,m,C).then((function(e){b(e.bars,{noData:e.noData}),a.onDataLoaded$.next([v,m,C,e])})).catch((function(e){throw i(String(e)||"Error"),e})).finally((function(){_.complete()}));this.trackRequest({ticker:e.ticker,mainSeries:!0,symbolInfo:v,resolution:m,params:C,abortController:A,progressChanged:_,promise:S})}}},{key:"subscribeBars",value:function(e,t,n,o,i){var a=this,s=(0,P.ss)(e.ticker),l=(0,r.A)(s,2),c=l[0],u=l[1],d=void 0===u?h.SJ.LastPrice:u,p=e.library_custom_fields.symbolInfo,v=(0,f.eF)(t),g=function(e){try{n(a.convertBar(v,e))}catch(t){console.error(t)}a.onTick$.next([p,v,e]),a.updateBarRange(c,v,[e])};if((0,x.Jc)(e.ticker))this.subscribeIndicatorBars(e,t,g,o,i);else{var m={timezone:this.setting.timezone,priceType:d};this.resetCacheCallbacks.set(o,{symbol:c,resolution:v,priceType:d,callback:i});this.underlyingDatafeed.subscribeBars(p,v,m,g,o,(function(){a.resetData(c,v,d),a.instance.resetData(c,v,d)}))}}},{key:"unsubscribeBars",value:function(e){var t,n;this.indicatorSubscriptions.has(e)?null===(n=(t=this.underlyingDatafeed).unsubscribeIndicatorBars)||void 0===n||n.call(t,e):this.underlyingDatafeed.unsubscribeBars(e)}},{key:"resolveIndicatorSymbol",value:function(e,t,n,o){var i=this,a=this.setting.timezone,s=(0,x.Vx)(e).tickerSymbol,l=(0,P.ss)(s||""),c=(0,r.A)(l,1)[0];this.underlyingDatafeed.resolveSymbol(c).then((function(e){return(0,P.mW)(e,a,i.groupedResolutions)})).then((function(t){return Object.assign(Object.assign({},t),{name:e,ticker:e,minmov:1,pricescale:Math.pow(10,18)})})).then(t).catch((function(e){console.error(e),n(String(e)||"Error")}))}},{key:"getIndicatorBars",value:function(e,t,n,r,o){var i,a,s=e.library_custom_fields.symbolInfo,l=(0,x.Vx)(e.ticker).indicatorType,u=(0,f.eF)(t),d=g(this.abortController.signal),h=d.signal,p=new c(0),v=Object.assign(Object.assign({},n),{signal:h,reportProgress:function(e){p.next(e.loaded/e.total)},timezone:this.setting.timezone}),m=null===(a=(i=this.underlyingDatafeed).getIndicatorBars)||void 0===a?void 0:a.call(i,s,u,l,v).then((function(e){var t=e.bars,n=e.noData,o=t.map((function(e){var t,n,r,o;return{time:e.time,open:null!==(t=e.values[0])&&void 0!==t?t:Number.NaN,high:null!==(n=e.values[1])&&void 0!==n?n:Number.NaN,low:null!==(r=e.values[2])&&void 0!==r?r:Number.NaN,close:null!==(o=e.values[3])&&void 0!==o?o:Number.NaN}}));r(o,{noData:n})})).catch((function(e){throw o(String(e)||"Error"),e})).finally((function(){p.complete()}));null!=m&&this.trackRequest({ticker:e.ticker,mainSeries:!1,symbolInfo:s,resolution:u,params:v,abortController:d,progressChanged:p,promise:m})}},{key:"subscribeIndicatorBars",value:function(e,t,n,r,o){var i,a,s=this,l=e.library_custom_fields.symbolInfo,c=(0,x.Vx)(e.ticker).indicatorType,u=l.tickerSymbol,d=(0,f.eF)(t),h=this.setting.timezone,p={timezone:h};this.indicatorSubscriptions.add(r),null===(a=(i=this.underlyingDatafeed).subscribeIndicatorBars)||void 0===a||a.call(i,l,d,c,p,(function(e){var t,r,o,i,a,l=null===(t=s.getBarRange(u,d))||void 0===t?void 0:t.lastBar,c={time:e.time,open:null!==(r=e.values[0])&&void 0!==r?r:Number.NaN,high:null!==(o=e.values[1])&&void 0!==o?o:Number.NaN,low:null!==(i=e.values[2])&&void 0!==i?i:Number.NaN,close:null!==(a=e.values[3])&&void 0!==a?a:Number.NaN};n(c),null!=l&&(0,f.VD)(e.time,l.time,d,h)>1&&s.instance.resetCustomIndicators()}),r,o)}},{key:"getQuotes",value:function(e,t,n){t(e.map((function(e){return{s:"ok",n:e,v:{}}})))}},{key:"subscribeQuotes",value:function(e,t,n,r){}},{key:"unsubscribeQuotes",value:function(e){}}])}()},3053:(e,t,n)=>{"use strict";n.d(t,{i:()=>Ve});var r=n(675),o=n(296),i=n(3029),a=n(2901),s=n(9719),l=n(5147),c=n(1132),u=n(2916),d=n(1659),f=n(3890),h=n(4988),p=n(519),v=n(6511),g=n(3151),m=n(1737),y=n(5177),b=n(1143),A=n(1529),w=n(7009),_=n(8887),C=n(7605),S=n(5387),k=n(7200),T=n(1287),x=n(8847),P=n(2152),E=n(6936);var L=n(3451),I=n(3360),O=n(7260),R=n(1727),M=n(3421),N=n(8666),D=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},B=function(){return(0,a.A)((function e(t,n,r){(0,i.A)(this,e),this.setting=t,this.chartManager=n,this.instance=r,this.abortController=new AbortController,this.lines=new Map,this.debouncedUpdaters=new Map}),[{key:"destroyed",value:function(){return(0,u.R)(this.abortController.signal,"abort")}},{key:"init",value:function(){return D(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.instance.getWidget())){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.instance.onReady();case 5:(0,I.u)((function(){return{theme:n.setting.theme,setting:JSON.stringify(n.chartManager.timeAnchorSetting)}})).pipe((0,d.Q)(this.destroyed())).subscribe((function(){n.updateView()})),(0,O.h)(this.instance.symbolChanged(),this.instance.rightOffsetChanged(),this.instance.barSpacingChanged(),this.instance.resolutionChanged()).pipe((0,d.Q)(this.destroyed())).subscribe((function(){n.updateView()})),this.updateView(),(0,O.h)((0,N.Rd)(t,"layout_changed"),(0,N.Rd)(t,"activeChartChanged")).pipe((0,d.Q)(this.destroyed())).subscribe((function(){n.updateView()}));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"updateView",value:function(){if(this.instance.isReady){var e=this.instance.getWidget(),t=this.chartManager.timeAnchorSetting,n=t.enabled&&t.displayLine,r=t.values;if(null!=e){for(var o=0;o<e.chartsCount();o++){var i=e.chart(o);if(t.type===M.Th.Time){var a=e.activeChartIndex()===o&&n?r[M.pk.Time]:null;this.updateAnchoredLine(o,i,M.pk.Time,a)}}this.lines.forEach((function(t,n,r){t.chartIndex>=e.chartsCount()&&r.delete(n)}))}}}},{key:"updateAnchoredLine",value:function(e,t,n,r){var o=[e,t.symbol(),n].join("-"),i="".concat(o,"-").concat(r),a=this.debouncedUpdaters.get(i);a||(a=(0,R.A)(this.performAnchoredLineUpdate.bind(this),50),this.debouncedUpdaters.set(i,a)),a(e,t,n,r)}},{key:"performAnchoredLineUpdate",value:function(e,t,n,o){var i=this;t.dataReady((function(){return D(i,void 0,void 0,(0,r.A)().mark((function i(){var a,s,c,u,d,f,h,p,v,g,m,y;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=[e,t.symbol(),n].join("-"),s=t.getTimeScale(),c=s.width(),u=10,d=4/c,f=(0,l.sd)("--cc-okd-color-gray-200"),h=Array(Math.round(window.innerHeight/(u/2))).fill("\u2759").join("\n"),null!=o){r.next=11;break}return null!=(p=this.lines.get(a))&&(this.lines.delete(a),t.removeEntity(p.entityId,{disableUndo:!0})),r.abrupt("return");case 11:if(v={x:Math.min(Math.max(0,o-d),1),y:0},this.lines.has(a)){r.next=20;break}if(null!=this.convertPercentToBarTime(v.x,s)){r.next=16;break}return r.abrupt("return");case 16:return r.next=18,t.createAnchoredShape(v,{text:h,overrides:{color:f,fontsize:u,drawBorder:!1,bord:!1},shape:"anchored_text",zOrder:"bottom",lock:!0,disableSelection:!0,disableUndo:!0,disableSave:!0,showInObjectsTree:!1});case 18:null!=(g=r.sent)&&this.lines.set(a,{chartIndex:e,position:v.x,type:n,entityId:g});case 20:if(null!=(m=this.lines.get(a)))try{(y=t.getShapeById(m.entityId)).setAnchoredPosition(v),y.setProperties({text:h,color:f})}catch(i){}case 22:case"end":return r.stop()}}),i,this)})))}))}},{key:"destroy",value:function(){this.abortController.abort(),this.debouncedUpdaters.forEach((function(e){e.cancel()})),this.debouncedUpdaters.clear()}},{key:"convertPercentToBarTime",value:function(e,t){var n=e*t.width();return t.coordinateToTime(n)}}])}(),F=n(4765),j=n(6375),V=n(2903),H=n(6960),z=n(946),U=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function W(e){return[e.symbol,e.resolution,e.time,e.side].join(":")}var K=function(){return(0,a.A)((function e(t,n,r){var o=this;(0,i.A)(this,e),this.setting=t,this.chartManager=n,this.instance=r,this.abortController=new AbortController,this.shapeData=new Map,this.shapeItems=new Map,this.dataReadyLocks=new Map,this.updateExecutionsSnapshot=function(e){var t=o.shapeData,n=e.map((function(e){return W(e)}));e.forEach((function(e){t.set(W(e),e)})),t.forEach((function(e,t,r){n.includes(t)||r.delete(t)}))}}),[{key:"widget",get:function(){return this.instance.getWidget()}},{key:"showExecutionShape",get:function(){var e;return this.setting.enableTrade&&this.setting.enableTradeOrderRecord&&(null===(e=this.chartManager.brokerTerminalDelegate)||void 0===e?void 0:e.configFlags.supportExecutions)&&this.chartManager.trade.orderRecord}},{key:"updateShapesByChartIndex",value:function(e){var t,n,r,o=this;if(!(e>=(null===(t=this.widget)||void 0===t?void 0:t.chartsCount()))){var i=this.chartManager.areaByIndex(e),a=null===(n=this.widget)||void 0===n?void 0:n.chart(i.chartIndex);if(this.showExecutionShape&&i.priceType===z.SJ.LastPrice&&null!=a){var s=Array.from(this.shapeData.values()).filter((function(e){var t=(0,N.ss)(a.symbol())[0],n=(0,T.eF)(a.resolution());return e.symbol===t&&e.resolution===n})),l=s.map((function(e){return W(e)}));this.dataReadyLocks||(this.dataReadyLocks=new Map);var c=(this.dataReadyLocks.get(e)||Promise.resolve()).then((function(){return new Promise((function(t){a.dataReady((function(){var n;null===(n=o.shapeItems.get(e))||void 0===n||n.forEach((function(e,t,n){l.includes(t)||(e.shape.remove(),n.delete(t))})),Promise.all(s.map((function(e){return o.updateExecutionShape(a,i.chartIndex,e)}))).catch((function(e){console.error(e)})).finally((function(){t()}))}))}))}));this.dataReadyLocks.set(e,c),c.catch((function(e){console.error(e)})).finally((function(){o.dataReadyLocks.get(e)===c&&o.dataReadyLocks.delete(e)}))}else null===(r=this.shapeItems.get(i.chartIndex))||void 0===r||r.forEach((function(e,t,n){e.shape.remove(),n.delete(t)}))}}},{key:"updateAllShapes",value:function(){var e=this;this.chartManager.getAllCharts().forEach((function(t){e.updateShapesByChartIndex(t.chartIndex)})),this.shapeItems.forEach((function(t,n,r){n>=e.chartManager.chartCount&&(t.forEach((function(e){e.shape.remove()})),r.delete(n))}))}},{key:"updateExecutionShape",value:function(e,t,n){return U(this,void 0,void 0,(0,r.A)().mark((function o(){var i,a,s,c,u,d,f,h,p,v,g,m,y,b,A,w,_,C,S;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null==(c=null===(i=this.shapeItems.get(t))||void 0===i?void 0:i.get(W(n)))||c.execution.price!==n.price||c.execution.qty!==n.qty){r.next=3;break}return r.abrupt("return");case 3:if(null!=(u=null===c||void 0===c?void 0:c.shape)){r.next=16;break}if(d=e.getVisibleRange(),f=this.instance.getModule("datafeed").getBarRange(n.symbol,n.resolution),h=null===f||void 0===f?void 0:f.firstBar.time,p=(0,T.vV)(null===f||void 0===f?void 0:f.lastBar.time,1,n.resolution,this.setting.timezone),v=1e3*d.from,g=(0,T.vV)(1e3*d.to,1,n.resolution,this.setting.timezone),!(n.time<h||n.time>=p||n.time<v||n.time>=g)){r.next=13;break}return r.abrupt("return");case 13:return r.next=15,e.createExecutionShape();case 15:u=r.sent;case 16:m=n.side===H.mn.Buy?(0,L.t)("ok_component_okline_onchart_order_side_buy"):(0,L.t)("ok_component_okline_onchart_order_side_sell"),y=e.priceFormatter(),b=y.format(n.price),A="".concat(m," ").concat(n.qty," @ ").concat(b),w=(0,N.V6)(this.setting.timezone,n.resolution,n.time),_=(0,l.sd)("--cc-okd-color-content-primary"),C=(0,l.sd)("--color-up-bg"),S=(0,l.sd)("--color-down-bg"),u.setTime(Math.floor(w/1e3)).setDirection(n.side===H.mn.Buy?"buy":"sell").setFont("12px Arial").setTooltip(n.tooltip||A).setTextColor(_).setArrowColor(n.background||(n.side===H.mn.Buy?C:S)),n.text&&(u.setText(n.text),u.setTextColor(n.textColor||_)),null===(s=(a=u).setArrowIcon)||void 0===s||s.call(a,new Path2D(n.icon||(n.side===H.mn.Buy?V.Iz:V.Sk))),this.shapeItems.has(t)||this.shapeItems.set(t,new Map),this.shapeItems.get(t).set(W(n),{shapeId:u._line._id._value,execution:n,shape:u});case 29:case"end":return r.stop()}}),o,this)})))}},{key:"destroyed",value:function(){return(0,u.R)(this.abortController.signal,"abort")}},{key:"init",value:function(){return U(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n,i,a,s=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instance.onReady();case 2:(0,I.u)((function(){return s.showExecutionShape})).pipe((0,d.Q)(this.destroyed())).subscribe((function(){s.updateAllShapes()})),this.instance.visibleRangeChanged().pipe((0,d.Q)(this.destroyed()),(0,j.c)(300,void 0,{leading:!0,trailing:!0})).subscribe((function(e){var n=(0,o.A)(e,1)[0];try{s.updateShapesByChartIndex(n)}catch(t){}})),null===(t=this.chartManager.brokerTerminalDelegate)||void 0===t||t.subscribeExecutions().pipe((0,d.Q)(this.destroyed())).subscribe((function(e){setTimeout((function(){s.updateExecutionsSnapshot(e),s.updateAllShapes()}))})),null===(n=this.widget)||void 0===n||n.subscribe("onTick",(function(e){if("hidden"!==document.visibilityState){var t,n=(0,F.A)(s.shapeItems.values());try{for(n.s();!(t=n.n()).done;){var r,o=t.value,i=(0,F.A)(o.values());try{for(i.s();!(r=i.n()).done;){if(r.value.shape.getTime()===1e3*e.time)return void s.instance.forceRerender()}}catch(a){i.e(a)}finally{i.f()}}}catch(a){n.e(a)}finally{n.f()}}})),null===(i=this.widget)||void 0===i||i.subscribe("layout_changed",(function(){setTimeout((function(){s.updateAllShapes()}))})),null===(a=this.widget)||void 0===a||a.subscribe("drawing_event",(function(e,t){var n,r,o;if("click"===t){var i=Array.from(s.shapeItems.values()).flatMap((function(e){return Array.from(e.values())})).find((function(t){return t.shapeId===e}));null!=i&&(null===(o=null===(r=null===(n=s.chartManager.brokerTerminalDelegate)||void 0===n?void 0:n.customUI)||void 0===r?void 0:r.showExecutionDialog)||void 0===o||o.call(r,i.execution))}}));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"destroy",value:function(){this.abortController.abort()}}])}(),G=n(5314),q=n(3631),Y=n(310),Z=n(7462),X=n(7080),J=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Q=function(){return(0,a.A)((function e(t,n,r){(0,i.A)(this,e),this.setting=t,this.chartManager=n,this.instance=r,this.abortController=new AbortController,this.chartSymbols=new Map,this.lines=new Map}),[{key:"widget",get:function(){return this.instance.getWidget()}},{key:"enabled",get:function(){var e=this.setting.enablePriceAlert,t=this.chartManager.showPriceAlertLabel;return e&&t}},{key:"data",get:function(){return this.chartManager.priceAlertStore.priceAlertData}},{key:"updatePriceAlert",value:function(e,t,n){return J(this,void 0,void 0,(0,r.A)().mark((function o(){var i,a,s=this;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=null===(i=this.lines.get(t))||void 0===i?void 0:i.get(n.ruleId)){r.next=6;break}return r.next=4,e.createOrderLine();case 4:(a=r.sent).setPrice(-1/0);case 6:a.onMoving(null,(function(){var e=a.getPrice();a.setQuantity(q._u.thousandFormat(e,{needZero:!1}))})),a.onMove(null,(function(){var e=a.getPrice(),r=s.chartManager.areaByIndex(t).symbolInfo,o=Math.log10(r.priceScale);e<=0||e>=Number.MAX_SAFE_INTEGER?a.setPrice(parseFloat(n.promptThreshold)).setQuantity(q._u.thousandFormat(n.promptThreshold,{needZero:!1})):(a.setEditable(!1),(0,w.bpI)(),s.chartManager.priceAlertStore.onEdit({ruleId:n.ruleId,promptType:n.promptType,repeatType:n.repeatType,promptThreshold:e.toFixed(o)}).then((function(){a.setEditable(!0).setPrice(e).setQuantity(q._u.thousandFormat(e,{needZero:!1}))})).catch((function(){a.setEditable(!0).setPrice(parseFloat(n.promptThreshold)).setQuantity(q._u.thousandFormat(n.promptThreshold,{needZero:!1}))})))})),a.setCancellable(!0).setCancelTooltip((0,Y.kW)("trade_chartsettings_tooltips_delete_alert")),a.onCancel(null,(function(){(0,w.sMf)(),s.chartManager.priceAlertStore.onDelete([n.ruleId]).then((function(){a.remove()})).catch((function(){}))})),a.setText((0,X.O)(n.promptType)).setPrice(parseFloat(n.promptThreshold)).setQuantity(q._u.thousandFormat(n.promptThreshold,{needZero:!1})),this.updateLineStyle(a),this.lines.has(t)||this.lines.set(t,new Map),this.lines.get(t).set(n.ruleId,a);case 14:case"end":return r.stop()}}),o,this)})))}},{key:"updateLineStyle",value:function(e){var t=(0,l.sd)("--cc-okd-color-content-primary"),n=(0,l.sd)("--cc-okd-color-background-base-primary"),r=(0,l.sd)("--cc-okd-color-line-secondary"),o=(0,l.sd)("--cc-okd-color-line-secondary");e.setLineStyle(2).setLineWidth(1).setBodyFont("12px Arial").setQuantityFont("12px Arial").setLineColor(o).setBodyTextColor(t).setBodyBackgroundColor(n).setBodyBorderColor(r).setQuantityTextColor(t).setQuantityBackgroundColor(n).setQuantityBorderColor(r).setCancelButtonBackgroundColor(n).setCancelButtonBorderColor(r).setCancelButtonIconColor(t)}},{key:"updateLines",value:function(e){return J(this,void 0,void 0,(0,r.A)().mark((function t(){var n=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.enabled){t.next=4;break}return this.lines.forEach((function(e){e.forEach((function(e){e.remove()}))})),this.lines.clear(),t.abrupt("return");case 4:return t.next=6,Promise.all(Array(this.widget.chartsCount()).fill(0).map((function(t,o){return J(n,void 0,void 0,(0,r.A)().mark((function t(){var n,i,a=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.chartManager.areaByIndex(o),i=this.widget.chart(o),(0,N.ss)(i.symbol())[0]===n.tickerSymbol){t.next=5;break}return t.next=5,new Promise((function(e){i.onSymbolChanged().subscribe(null,e,!0)}));case 5:i.dataReady((function(){return J(a,void 0,void 0,(0,r.A)().mark((function t(){var a,s,l,c,u,d,f;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=i.symbolExt(),l=null===e||void 0===e?void 0:e.filter((function(e){return n.symbol===e.instrumentName})),this.chartSymbols.get(o)!==s.ticker&&(this.chartSymbols.set(o,s.ticker),null===(a=this.lines.get(o))||void 0===a||a.forEach((function(e,t,n){n.delete(t),e.remove()}))),c=(0,F.A)(null!==l&&void 0!==l?l:[]),t.prev=4,c.s();case 6:if((u=c.n()).done){t.next=17;break}if(!(d=u.value).active){t.next=13;break}return t.next=11,this.updatePriceAlert(i,o,d);case 11:t.next=15;break;case 13:(null===(f=this.lines.get(o))||void 0===f?void 0:f.has(d.ruleId))&&(f.get(d.ruleId).remove(),f.delete(d.ruleId));case 15:t.next=6;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),c.e(t.t0);case 22:return t.prev=22,c.f(),t.finish(22);case 25:case"end":return t.stop()}}),t,this,[[4,19,22,25]])})))}));case 6:case"end":return t.stop()}}),t,this)})))})));case 6:this.lines.forEach((function(t,r,o){if(r>=n.widget.chartsCount())return t.forEach((function(e){e.remove()})),void o.delete(r);t.forEach((function(t,n,r){(null===e||void 0===e?void 0:e.find((function(e){return e.ruleId===n})))||(t.remove(),r.delete(n))}))}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"destroyed",value:function(){return(0,u.R)(this.abortController.signal,"abort")}},{key:"init",value:function(){return J(this,void 0,void 0,(0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.widget){e.next=2;break}throw new Error("Widget is not ready");case 2:return e.next=4,new Promise((function(e){var n;null===(n=t.widget)||void 0===n||n.onChartReady(e)}));case 4:(0,I.u)((function(){return t.setting.theme})).pipe((0,d.Q)(this.destroyed())).subscribe((function(){t.lines.forEach((function(e){e.forEach((function(e){t.updateLineStyle(e)}))}))})),(0,I.u)((function(){return{enabled:t.enabled,data:(0,Z.A)(t.data)}}),{fireImmediately:!0,equals:G.comparer.structural}).pipe((0,h.T)((function(e){return e.data}))).pipe((0,d.Q)(this.destroyed())).subscribe((function(e){setTimeout((function(){t.updateLines(e).catch((function(){}))}))})),(0,O.h)(this.instance.symbolChanged(),this.instance.resolutionChanged()).pipe((0,d.Q)(this.destroyed())).subscribe((function(){t.updateLines(t.data).catch((function(){}))}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"destroy",value:function(){this.abortController.abort()}}])}(),$=n(9500),ee=n(2355),te=n(8091),ne=n(3730);function re(){return new $.G}var oe=n(3551);function ie(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,f.p)((function(t,n){return e(t,n,r)})):oe.D,(0,ee.s)(1),n?function(e){return(0,te.N)((function(t,n){var r=!1;t.subscribe((0,ne._)(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}(t):(void 0===(o=function(){return new $.G})&&(o=re),(0,te.N)((function(e,t){var n=!1;e.subscribe((0,ne._)(t,(function(e){n=!0,t.next(e)}),(function(){return n?t.complete():t.error(o())})))}))));var o}}var ae=n(439),se=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},le=function(){return(0,a.A)((function e(t,n,r){(0,i.A)(this,e),this.setting=t,this.chartManager=n,this.instance=r,this.clearAllShapes$=new c.B}),[{key:"widget",get:function(){return this.instance.getWidget()}},{key:"destroy",value:function(){this.clearAllShapes$.next(),this.clearAllShapes$.complete()}},{key:"clearAllShapes",value:function(){try{this.clearAllShapes$.next()}catch(e){}}},{key:"addTooltipHint",value:function(e,t,n){return se(this,void 0,void 0,(0,r.A)().mark((function i(){var a,s,l,c,u,h,p,v,g,m;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=this.chartManager.areaByIndex(e),null!=(l=null===(a=this.instance.getWidget())||void 0===a?void 0:a.chart(e))&&null!=s){r.next=4;break}return r.abrupt("return",null);case 4:return c=this.setting.timezone,u=(0,T.eF)(l.resolution()),h=(0,T.zq)(t,u,c),p={time:Math.round((0,N.V6)(c,u,h)/1e3)},v=h===(null===s||void 0===s?void 0:s.firstBarTime)?(0,L.tt)("trade_charts_datedirection_lastcandle_tooltip"):[(0,ae.r6)(new Date(h),{format:"yyyyMMdd"}),(0,ae.r6)(new Date(h),{format:"HHmmss"})].join("\n"),r.next=11,l.createShape(p,{shape:"signpost",text:v,zOrder:"top",lock:!0,disableUndo:!0,disableSelection:!0,disableSave:!0,showInObjectsTree:!1});case 11:return null!=(g=r.sent)&&(m=[this.instance.symbolChanged(),this.instance.resolutionChanged()],(null===n||void 0===n?void 0:n.deleteOnClick)&&m.push(this.instance.domEventTriggered("click")),(null===n||void 0===n?void 0:n.deleteOnMove)&&m.push(this.instance.rightOffsetChanged(),this.instance.barSpacingChanged()),(0,O.h)(O.h.apply(void 0,m).pipe((0,f.p)((function(t){return(0,o.A)(t,1)[0]===e})))).pipe((0,d.Q)(this.clearAllShapes$),ie()).subscribe((function(){try{l.removeEntity(g)}catch(e){console.error(e)}}))),r.abrupt("return",g);case 14:case"end":return r.stop()}}),i,this)})))}}])}(),ce=n(4467),ue=n(2658),de=n(6599),fe=n(13),he=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function pe(e,t){var n=(0,de.F4)(t),r="";if([H.ZN.Stop,H.ZN.StopLimit].includes(t.type)){var o=e.trade.valueDisplayType,i=(0,de.AV)(t.pnl),a=(0,de.xL)(t.pnlRatio);r=o===ue.B.Pnl?i:a}return[n,r].filter(Boolean).join(" ")}function ve(e){return null!=e.parentId?v.Sc.Dotted:v.Sc.Solid}function ge(e,t,n){var r,o,i,a=function(e){var t,n,r,o,i,a;return{backgroundColor:(0,l.sd)("--cc-okd-color-background-base-primary"),upColor:null!==(r=null===(n=null===(t=null===e||void 0===e?void 0:e.customization)||void 0===t?void 0:t.order)||void 0===n?void 0:n["buy.lineColor"])&&void 0!==r?r:(0,l.sd)("--color-up-text"),downColor:null!==(a=null===(i=null===(o=null===e||void 0===e?void 0:e.customization)||void 0===o?void 0:o.order)||void 0===i?void 0:i["sell.lineColor"])&&void 0!==a?a:(0,l.sd)("--color-down-text")}}(t),s=a.backgroundColor,c=a.upColor,u=a.downColor,d=n.side===H.mn.Buy?c:u,f=(0,N.O5)(e.trade.orderLinePosition),h=function(e,t){var n;return null!==(n=e.supportModifyOrderPrice)&&void 0!==n?n:Boolean(null===t||void 0===t?void 0:t.configFlags.supportModifyOrderPrice)}(n,t),p={internalData:n,id:n.id,type:n.type,symbol:(0,N.JM)(n.symbol,z.SJ.LastPrice),side:n.side,qty:n.qty,limitPrice:n.limitPrice,stopPrice:n.stopPrice,takeProfit:n.takeProfit,stopLoss:n.stopLoss,parentId:n.parentId,parentType:(0,de.wF)(n.parentType),status:(null===t||void 0===t?void 0:t.configFlags.supportOrders)?n.status:v.Re.Canceled,text:pe(e,n),quantityTooltipText:[(0,de.us)(n),(0,de.Z_)(n)].join("\n"),getProfitLossText:function(e,r){if(null==n.limitPrice)return"";var o=e===v.mn.Buy&&r<=n.limitPrice||e===v.mn.Sell&&r>=n.limitPrice,i=t.brokerTerminal.previewOrder((0,ce.A)({id:n.id,symbol:n.symbol,type:n.type,side:n.side,qty:n.qty,limitPrice:n.limitPrice,stopPrice:n.stopPrice},o?"takeProfit":"stopLoss",r));return o?(0,de.$y)(i):(0,de.JM)(i)},color:d,backgroundColor:s,upColor:c,downColor:u,borderStyle:ve(n),horizontalAlignment:f,_supportMove:h,_supportMoveChild:h,_supportBrackets:null!==(r=n.supportOrderBrackets)&&void 0!==r?r:Boolean(null===t||void 0===t?void 0:t.configFlags.supportOrderBrackets)};return null!=n.parentId&&(n.stopSide===H.s0.TakeProfit?(p.type=v.ZN.Limit,p.limitPrice=null!==(o=n.stopPrice)&&void 0!==o?o:n.limitPrice,p.stopPrice=void 0):n.stopSide===H.s0.StopLoss&&(p.type=v.ZN.Stop,p.stopPrice=null!==(i=n.stopPrice)&&void 0!==i?i:n.limitPrice,p.limitPrice=void 0)),e.trade.trade||(p.status=v.Re.Canceled),p}function me(e){return null!=e.id}function ye(e,t,n){var r,o,i,a,s,c,u,d,f=(0,l.sd)("--cc-okd-color-background-base-primary"),h=null!==(i=null===(o=null===(r=null===t||void 0===t?void 0:t.customization)||void 0===r?void 0:r.position)||void 0===o?void 0:o["buy.lineColor"])&&void 0!==i?i:(0,l.sd)("--color-up-text"),p=null!==(c=null===(s=null===(a=null===t||void 0===t?void 0:t.customization)||void 0===a?void 0:a.position)||void 0===s?void 0:s["sell.lineColor"])&&void 0!==c?c:(0,l.sd)("--color-down-text"),g=n.side===H.mn.Buy?h:p,m=(0,N.O5)(e.trade.positionLinePosition),y={internalData:n,id:n.id,symbol:(0,N.JM)(n.symbol,z.SJ.LastPrice),side:n.side===H.mn.Buy?v.mn.Buy:v.mn.Sell,avgPrice:n.avgPrice,qty:(null===t||void 0===t?void 0:t.configFlags.supportPositions)?n.qty:0,color:g,backgroundColor:f,upColor:h,downColor:p,horizontalAlignment:m,text:(0,de.LN)(n),quantityTooltipText:[(0,de.cW)(n),(0,de.a6)(n)].join("\n"),getProfitLossText:function(e,r){var o=e===v.mn.Buy&&r<=n.avgPrice||e===v.mn.Sell&&r>=n.avgPrice,i=t.brokerTerminal.previewPositionBrackets(n.id,{takeProfit:o?r:void 0,stopLoss:o?void 0:r});return o?(0,de.y7)(i):(0,de.iI)(i)},closeTooltipText:(0,de.A7)(n),_supportBrackets:null!==(u=n.supportPositionBrackets)&&void 0!==u?u:null===t||void 0===t?void 0:t.configFlags.supportPositionBrackets,_supportReverse:null!==(d=n.supportReversePosition)&&void 0!==d?d:null===t||void 0===t?void 0:t.configFlags.supportReversePosition};return e.trade.trade||(y.qty=0),y}var be=function(){return(0,a.A)((function e(t,n,r){(0,i.A)(this,e),this.setting=t,this.chartManager=n,this.host=r,this.disposers=new Map,this.orderData=new Map,this.positionData=new Map,this.localChangedOrders=[],this.units={},this.account={id:"1",name:""}}),[{key:"symbolResolver",get:function(){return this.chartManager.symbolResolver}},{key:"brokerTerminalDelegate",get:function(){return this.chartManager.brokerTerminalDelegate}},{key:"patchInternalConfig",value:function(e){var t=Object.fromEntries(Object.entries({supportOrderBrackets:"supportOrderBrackets",supportModifyOrderPrice:"supportModifyOrderPrice",supportPositionBrackets:"supportPositionBrackets",supportReversePosition:"supportReversePosition"}).map((function(t){var n=(0,o.A)(t,2),r=n[0];return[n[1],e[r]]})));this.host.patchConfig(t),this.resetOrders(),this.resetPositions()}},{key:"enableTrade",get:function(){return this.setting.enableTrade&&this.chartManager.trade.trade}},{key:"resetOrders",value:function(e){var t,n=this,r=(0,F.A)(this.orderData);try{for(r.s();!(t=r.n()).done;){var i=(0,o.A)(t.value,2),a=i[0],s=i[1];null!=e&&a!==e||s.forEach((function(e){var t=ge(n.chartManager,n.brokerTerminalDelegate,e);n.host.orderUpdate(t)}))}}catch(l){r.e(l)}finally{r.f()}}},{key:"resetLocalChangeOrder",value:function(e,t){var n=this;if(t&&0!==t.length){var r=[];e.forEach((function(e){!!t.find((function(t){return r=t,(n=e).type===r.type&&n.id===r.id;var n,r}))&&r.push(e.id)})),this.localChangedOrders.splice(0).forEach((function(e){r.find((function(t){return t===e.id}))&&n.host.orderUpdate(e)}))}}},{key:"resetPositions",value:function(e){var t,n=this,r=(0,F.A)(this.positionData);try{for(r.s();!(t=r.n()).done;){var i=(0,o.A)(t.value,2),a=i[0],s=i[1];null!=e&&a!==e||s.forEach((function(e){var t=ye(n.chartManager,n.brokerTerminalDelegate,e);n.host.positionUpdate(t),n.host.plUpdate(t.id,e.pnl)}))}}catch(l){r.e(l)}finally{r.f()}}},{key:"subscribeRealtime",value:function(e){var t,n,r=this;this.host.realtimeUpdate(e,{bid:-1,ask:-1});var i=(0,N.ss)(e),a=(0,o.A)(i,1)[0];if(!this.disposers.has(a)){this.disposers.set(a,[])}var s=this.disposers.get(a);s.push((0,G.reaction)((function(){return{theme:r.setting.theme,reverseColor:r.setting.reverseColor,pnlType:r.chartManager.trade.valueDisplayType,enableTrade:r.enableTrade}}),(function(){r.resetOrders(a),r.resetPositions(a)}),{equals:G.comparer.shallow,delay:1})),(0,G.reaction)((function(){return{horizontalAlignment:r.chartManager.trade.positionLinePosition}}),(function(){r.resetPositions(a)}),{delay:1}),(0,G.reaction)((function(){return{horizontalAlignment:r.chartManager.trade.orderLinePosition}}),(function(){r.resetOrders(a)}),{delay:1});var l=null===(t=this.brokerTerminalDelegate)||void 0===t?void 0:t.subscribeOrders(a).subscribe((function(e){var t;r.resetLocalChangeOrder(e,r.orderData.get(a));var n=new Set;e.forEach((function(e){var t=ge(r.chartManager,r.brokerTerminalDelegate,e);r.host.orderUpdate(t),n.add(t.id)})),null===(t=r.orderData.get(a))||void 0===t||t.forEach((function(e){if(!n.has(e.id)){var t=ge(r.chartManager,r.brokerTerminalDelegate,e);r.host.orderUpdate(Object.assign(Object.assign({},t),{status:v.Re.Canceled}))}})),r.orderData.set(a,e)})),c=null===(n=this.brokerTerminalDelegate)||void 0===n?void 0:n.subscribePositions(a).subscribe((function(e){var t,n=new Set;e.forEach((function(e){var t=ye(r.chartManager,r.brokerTerminalDelegate,e);r.host.positionUpdate(t),r.host.plUpdate(t.id,e.pnl),n.add(e.id)})),null===(t=r.positionData.get(a))||void 0===t||t.forEach((function(e){if(!n.has(e.id)){var t=ye(r.chartManager,r.brokerTerminalDelegate,e);r.host.positionUpdate(Object.assign(Object.assign({},t),{qty:0}))}})),r.positionData.set(a,e)}));s.push((function(){null===l||void 0===l||l.unsubscribe(),null===c||void 0===c||c.unsubscribe()}))}},{key:"unsubscribeRealtime",value:function(e){var t,n=(0,N.ss)(e),r=(0,o.A)(n,1)[0];null===(t=this.disposers.get(r))||void 0===t||t.forEach((function(e){e()})),this.disposers.delete(r)}},{key:"orders",value:function(){return he(this,void 0,void 0,(0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Array.from(this.orderData.values()).flat().map((function(e){return ge(t.chartManager,t.brokerTerminalDelegate,e)})));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getOrdersById",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.orders();case 2:if(n=t.sent,null!=(o=n.find((function(t){return t.id===e})))){t.next=6;break}throw new Error("order not found");case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"showOrderDialog",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s,l;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(me(e)){t.next=2;break}return t.abrupt("return");case 2:if(null!==(o=null===(n=e.internalData)||void 0===n?void 0:n.supportModifyOrderPrice)&&void 0!==o?o:Boolean(null===(i=this.brokerTerminalDelegate)||void 0===i?void 0:i.configFlags.supportModifyOrderPrice)){t.next=5;break}return t.abrupt("return");case 5:if(!e.internalData){t.next=8;break}return t.next=8,null===(l=null===(s=null===(a=this.brokerTerminalDelegate)||void 0===a?void 0:a.customUI)||void 0===s?void 0:s.showOrderDialog)||void 0===l?void 0:l.call(s,e.internalData);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"placeOrder",value:function(e,t){return he(this,void 0,void 0,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})))}},{key:"getOrderFromModifiedOrder",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.internalData,t.next=3,this.symbolResolver.resolveSymbolInfo(n.symbol);case 3:return o=t.sent,i=Math.log10(o.priceScale),a=Object.assign(Object.assign({},n),{stopLoss:null!=e.stopLoss?Number(e.stopLoss.toFixed(i)):void 0,takeProfit:null!=e.takeProfit?Number(e.takeProfit.toFixed(i)):void 0}),s=Number(e.price.toFixed(i)),a.type===H.ZN.Limit?a.limitPrice=s:[H.ZN.Stop,H.ZN.StopLimit].includes(a.type)&&(a.stopPrice=s),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"modifyOrder",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s,l,c,u,d;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.internalData,t.next=3,this.getOrderFromModifiedOrder(e);case 3:if(u=t.sent,d=this.chartManager.trade.quickEdit,c.takeProfit===u.takeProfit&&c.stopLoss===u.stopLoss||(d=this.chartManager.trade.quickTpSl),!d){t.next=11;break}return t.next=9,null===(i=null===(n=this.brokerTerminalDelegate)||void 0===n?void 0:(o=n.brokerTerminal).modifyOrder)||void 0===i?void 0:i.call(o,u);case 9:t.next=13;break;case 11:return t.next=13,null===(l=null===(s=null===(a=this.brokerTerminalDelegate)||void 0===a?void 0:a.customUI)||void 0===s?void 0:s.showOrderDialog)||void 0===l?void 0:l.call(s,u);case 13:if(this.localChangedOrders.push(e),d){t.next=16;break}return t.abrupt("return",Promise.reject());case 16:return t.abrupt("return",Promise.resolve());case 17:case"end":return t.stop()}}),t,this)})))}},{key:"cancelOrder",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOrdersById(e);case 2:return a=t.sent,this.localChangedOrders.push(a),t.next=6,null===(i=null===(n=this.brokerTerminalDelegate)||void 0===n?void 0:(o=n.brokerTerminal).cancelOrder)||void 0===i?void 0:i.call(o,e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"cancelOrders",value:function(e,t,n){return he(this,void 0,void 0,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("not implemented");case 1:case"end":return e.stop()}}),e)})))}},{key:"positions",value:function(){return he(this,void 0,void 0,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})))}},{key:"reversePosition",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(i=null===(o=null===(n=this.brokerTerminalDelegate)||void 0===n?void 0:n.customUI)||void 0===o?void 0:o.showReversePositionDialog)||void 0===i?void 0:i.call(o,e);case 2:if(t.sent){t.next=5;break}throw new Error;case 5:case"end":return t.stop()}}),t,this)})))}},{key:"closePosition",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s,l;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.chartManager.trade.quickClose){t.next=5;break}return t.next=3,null===(i=null===(n=this.brokerTerminalDelegate)||void 0===n?void 0:(o=n.brokerTerminal).closePosition)||void 0===i?void 0:i.call(o,e);case 3:t.next=10;break;case 5:return t.next=7,null===(l=null===(s=null===(a=this.brokerTerminalDelegate)||void 0===a?void 0:a.customUI)||void 0===s?void 0:s.showClosePositionDialog)||void 0===l?void 0:l.call(s,e);case 7:if(t.sent){t.next=10;break}throw new Error;case 10:case"end":return t.stop()}}),t,this)})))}},{key:"showPositionDialog",value:function(e,t){return he(this,void 0,void 0,(0,r.A)().mark((function n(){var o,i,a,s;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(s=e.internalData)){n.next=4;break}return n.next=4,null===(a=null===(i=null===(o=this.brokerTerminalDelegate)||void 0===o?void 0:o.customUI)||void 0===i?void 0:i.showPositionDialog)||void 0===a?void 0:a.call(i,s.id,{takeProfit:t.takeProfit,stopLoss:t.stopLoss});case 4:case"end":return n.stop()}}),n,this)})))}},{key:"editPositionBrackets",value:function(e,t){return he(this,void 0,void 0,(0,r.A)().mark((function n(){var o,i,a,s,l,c,u,d,f,h;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=(f=Array.from(this.positionData.values()).flat().find((function(t){return t.id===e})))){n.next=3;break}throw new Error;case 3:if(h={takeProfit:null!==(o=t.takeProfit)&&void 0!==o?o:f.takeProfit,stopLoss:null!==(i=t.stopLoss)&&void 0!==i?i:f.stopLoss},!this.chartManager.trade.quickTpSl){n.next=9;break}return n.next=7,null===(l=null===(a=this.brokerTerminalDelegate)||void 0===a?void 0:(s=a.brokerTerminal).editPositionBrackets)||void 0===l?void 0:l.call(s,e,h);case 7:n.next=14;break;case 9:return n.next=11,null===(d=null===(u=null===(c=this.brokerTerminalDelegate)||void 0===c?void 0:c.customUI)||void 0===u?void 0:u.showPositionDialog)||void 0===d?void 0:d.call(u,e,h);case 11:if(n.sent){n.next=14;break}throw new Error;case 14:return n.abrupt("return",Promise.reject());case 15:case"end":return n.stop()}}),n,this)})))}},{key:"getUnits",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function t(){var n,i,a,s;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,fe.gM)(e)){t.next=2;break}return t.abrupt("return",null);case 2:if(null!=(s=null===(n=this.brokerTerminalDelegate)||void 0===n?void 0:n.brokerTerminal)&&s.getTradingUnitsInfo){t.next=5;break}return t.abrupt("return",null);case 5:if(this.units[e]){t.next=9;break}return t.next=8,Promise.all([null===(i=s.getTradingUnitsInfo)||void 0===i?void 0:i.call(s,{symbol:e,side:v.mn.Buy}),null===(a=s.getTradingUnitsInfo)||void 0===a?void 0:a.call(s,{symbol:e,side:v.mn.Sell})]).then((function(e){var t=(0,o.A)(e,2);return{buy:t[0],sell:t[1]}}));case 8:this.units[e]=t.sent;case 9:return t.abrupt("return",this.units[e]);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"chartContextMenuActions",value:function(e,t){return he(this,void 0,void 0,(0,r.A)().mark((function n(){var i,a,s,l,c,u,d,f,h,p,v,g,m,y,b,A;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=[],l=null===t||void 0===t?void 0:t.onlyMainActions,c=(0,N.ss)(e.symbol),u=(0,o.A)(c,1),d=u[0],f=this.setting,h=f.enableTradeOrderButton,p=f.enableTrade,v=f.enablePrefillPrice,g=this.chartManager.trade,null!=(null===(i=this.brokerTerminalDelegate)||void 0===i?void 0:i.brokerTerminal)&&!(0,fe.gM)(d)){n.next=7;break}return n.abrupt("return",[]);case 7:return n.next=9,this.symbolResolver.resolveSymbolInfo(d);case 9:return m=n.sent,y=Math.log10(m.priceScale),b=q._u.showTruncation(null!==(a=e.value)&&void 0!==a?a:0,y),A=e.value.toFixed(y),this.addPriceAlertActions(s,l,m,b,A),this.addPrefillPriceActions(s,v,l,p,b,A),this.addTradeOrderActions(s,e,l,h,p,g,d),n.abrupt("return",this.filterDuplicatedSeparators(s));case 17:case"end":return n.stop()}}),n,this)})))}},{key:"addPriceAlertActions",value:function(e,t,n,r,o){var i=this;this.setting.enablePriceAlert&&this.chartManager.showPriceAlertLabel&&t&&(e.push({separator:!0}),e.push({icon:'<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28">\n  <g fill="none" fill-rule="evenodd" stroke="currentColor">\n    <path stroke-linecap="square" d="M21.5 14.5a8 8 0 1 0-8 8m6-6v8m-4-4h8"/>\n    <path d="M10 14.5h3.5V9m-3.277-1.76a3 3 0 1 0-3.993 3.979m14.565-.012a3 3 0 1 0-4.019-3.966"/>\n  </g>\n</svg>',text:[(0,_.tl)("trade_dialog_text_add_alert"),"@",r,n.quoteCurrency].join(" "),action:function(){(0,w.rst)(),i.chartManager.priceAlertStore.onAdd({bizType:(0,X.OQ)(n.type),instrumentName:n.name,promptType:y.Ek.PriceReach,repeatType:y.fK.Once,promptThreshold:o}).catch(console.error)}}))}},{key:"addPrefillPriceActions",value:function(e,t,n,r,o,i){var a=this;t&&n&&r&&e.push({icon:'<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M8 14h13m-5-6l6 6-6 6" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>',text:(0,_.tl)("trade_charts_select_fill_order_price",{price:o}),action:function(){var e=a.chartManager.activeArea;null===e||void 0===e||e.setPrefillPrice(Number(i)),(0,A.x$2)({click_type:"y_axis"})}})}},{key:"addTradeOrderActions",value:function(e,t,n,r,o,i,a){var s=this;t.value&&(n&&r&&i.orderButton||!n&&o)&&(e.push({separator:!0}),e.push({text:(0,_.tl)("trade_charts_btn_place_new_order"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none">\n  <path fill="currentColor" d="M7 13h7V6h1v7h7v1h-7v7h-1v-7H7v-1z"/>\n</svg>',action:function(){var e=s.chartManager.orderInputStore;e.setCursorPrice(t.value),e.setLastPrice(a,t.last),e.setFastMode({show:!0,x:e.fastModeX,y:e.fastModeY,price:void 0})}}))}},{key:"filterDuplicatedSeparators",value:function(e){return e.reduce((function(e,t){var n=e[e.length-1];return(null!=n||t.separator)&&(null==n||n.separator&&t.separator)||e.push(t),e}),[])}},{key:"executions",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})))}},{key:"isTradable",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!this.brokerTerminalDelegate);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"connectionStatus",value:function(){return v.vk.Connected}},{key:"symbolInfo",value:function(e){return he(this,void 0,void 0,(0,r.A)().mark((function t(){var n,i,a,s,l,c,u,d,f,h,p,v,g,m,y,b,A;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,N.ss)(e),i=(0,o.A)(n,1),a=i[0],t.next=3,Promise.all([this.chartManager.symbolResolver.resolveSymbolInfo(a),this.getUnits(a)]);case 3:return s=t.sent,l=(0,o.A)(s,2),c=l[0],u=l[1],d=0,f=0,u&&(h=u.buy,p=u.sell,v=parseFloat(h.quoteCurrencyPrecision),g=parseFloat(p.quoteCurrencyPrecision),m=parseFloat(h.tradeUnitPrecision),y=parseFloat(p.tradeUnitPrecision),d=Math.max(v,g),f=Math.max(m,y)),b=1/Math.pow(10,f),A=1/Math.pow(10,d),t.abrupt("return",{description:c.description,qty:{min:0,max:Number.MAX_SAFE_INTEGER,step:b},pipValue:1,pipSize:1,minTick:A,currency:c.quoteCurrency,quoteCurrency:c.quoteCurrency,baseCurrency:c.baseCurrency});case 13:case"end":return t.stop()}}),t,this)})))}},{key:"currentAccount",value:function(){return this.account.id}},{key:"accountsMetainfo",value:function(){return he(this,void 0,void 0,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[this.account]);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"accountManagerInfo",value:function(){return{accountTitle:"",orderColumns:[],pages:[],summary:[]}}}])}(),Ae=n(884),we=n(6263),_e="trading.chart.proterty",Ce="tradingview.",Se="tradingview-okx.";function ke(e){return"".concat(Se).concat(e)}function Te(e){return(null===e||void 0===e?void 0:e.startsWith(Ce))?e.replace(Ce,""):null}function xe(e){return(null===e||void 0===e?void 0:e.startsWith(Se))?e.replace(Se,""):null}var Pe=function(){return(0,a.A)((function e(t,n,r){(0,i.A)(this,e),this.setting=t,this.chartManager=n,this.instance=r,this.initialSettings={};for(var o=0;o<localStorage.length;o++){var a=localStorage.key(o),s=localStorage.getItem(a),l=xe(a),c=Te(a);l?this.initialSettings[l]=s:c&&(localStorage.getItem(ke(c))||(this.initialSettings[c]=s))}var u={noConfirmEnabled:1},d=Object.assign({},u);if(this.initialSettings[_e])try{var f=JSON.parse(this.initialSettings["trading.chart.proterty"]);Object.assign(d,f),Object.assign(d,u)}catch(h){}this.initialSettings[_e]=JSON.stringify(d)}),[{key:"toJSON",value:function(){return null}},{key:"removeValue",value:function(e){delete this.initialSettings[e],localStorage.removeItem(ke(e))}},{key:"setValue",value:function(e,t){this.initialSettings[e]=t,localStorage.setItem(ke(e),t)}}])}(),Ee=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Le=function(e){return Ee(void 0,void 0,void 0,(0,r.A)().mark((function t(){var o;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n.e(232),n.e(753)]).then(n.bind(n,8753));case 2:return o=t.sent,t.abrupt("return",o.default(e));case 4:case"end":return t.stop()}}),t)})))},Ie="@font-face { font-family: OSPunctuation; src: local('Arial'); unicode-range: U+2018, U+2019, U+201c, U+201d; }",Oe="\nbody {\n  --tv-color-platform-background: var(--background-base-primary);\n  --tv-color-pane-background: var(--background-base-primary);\n  --tv-color-popup-background: var(--container-primary);\n  --tv-spinner-color: var(--container-inverse);\n}\n\n.tv-spinner--size_medium, .tv-spinner--size_large {\n  top: calc(50% - 12px); left: calc(50% - 12px); width: 20px; height: 20px; border-width: 2px;\n}\n\n.titleWrapper-l31H9iuA { align-items: center; }\n\nhtml.theme-light .dialog-qyCw0PaN, html.theme-dark .dialog-qyCw0PaN {\n  background-color: var(--container-primary);\n}\n\nhtml.theme-light .container-zLVm6B4t, html.theme-dark .container-zLVm6B4t {\n  background-color: #272727;\n}\n\nhtml.theme-light .wrap-gjrLBBL3, html.theme-light .item-gjrLBBL3,\nhtml.theme-dark .wrap-gjrLBBL3, html.theme-dark .item-gjrLBBL3 {\n  background-color: var(--container-primary) !important;\n}\n\nhtml.theme-light .sub-header-N6r5jhbE, html.theme-dark .sub-header-N6r5jhbE,\nhtml.theme-light .calendar-N6r5jhbE, html.theme-dark .calendar-N6r5jhbE,\nhtml.theme-light .wrap-IEe5qpW4, html.theme-dark .wrap-IEe5qpW4,\nhtml.theme-light .wrap-C8ln3wvp.dialog-C8ln3wvp, html.theme-dark .wrap-C8ln3wvp.dialog-C8ln3wvp {\n  background-color: transparent;\n}\n\nhtml.theme-light .toggleButton-OhcB9eH7 .background-OhcB9eH7,\nhtml.theme-dark .toggleButton-OhcB9eH7 .background-OhcB9eH7,\nhtml.theme-light .container-Wp9adlfh:hover .background-Wp9adlfh,\nhtml.theme-dark .container-Wp9adlfh:hover .background-Wp9adlfh {\n  stroke: var(--container-inverse); fill: var(--container-inverse);\n}\n\nhtml.theme-light .chart-controls-bar, html.theme-dark .chart-controls-bar {\n  border-color: var(--border-primary);\n}\n\n/** resolution in legend is not clickable **/\n[data-name='legend-source-interval'] { pointer-events: none !important; }\n\n/** close button in bottom tip is centered **/\n.container-zLVm6B4t {\n  align-items: center;\n}\n.container-zLVm6B4t .closeButton-zLVm6B4t svg {\n  vertical-align: middle;\n  cursor: pointer;\n}\n";var Re={dev:"/cdndev/assets/okfe/okt/reset.css/okx-font/index.css",pre:"/cdnpre/assets/okfe/okt/reset.css/okx-font/index.css",prod:"/cdn/assets/okfe/okt/reset.css/okx-font/index.css",test:"/cdntest/assets/okfe/okt/reset.css/okx-font/index.css"};function Me(e,t){var n=function(e){var t=e||"prod";return["dev","pre","prod","test"].includes(t)?Re[t]:Re.prod}(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.origin;return e&&"string"===typeof e?(e.startsWith("//")?new URL(window.location.protocol+e):e.startsWith("http://")||e.startsWith("https://")?new URL(e):new URL(e,t)).origin:t}(e);return'@import url("'.concat(r).concat(n,'");\n')}var Ne=n(1029);function De(e){if(/(\d+)(\w+)/.test(e)){var t=/(\d+)(\w+)/.exec(e),n=(0,o.A)(t,3),r=n[1];switch(n[2]){case"d":return(0,L.t)("trade_general_timeframe_day_comm",{day:r});case"m":return(0,L.t)("trade_general_timeframe_month_comm",{month:r});case"y":return(0,L.t)("trade_general_timeframe_year_comm",{year:r})}}return""}var Be,Fe=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},je=["click","keydown","mousedown","mouseup","contextmenu"];!function(e){e[e.None=0]="None",e[e.ResetData=1]="ResetData",e[e.ResetChart=2]="ResetChart"}(Be||(Be={}));var Ve=function(){return(0,a.A)((function e(t,n){var r=this;(0,i.A)(this,e),this.setting=t,this.chartManager=n,this.brokerTerminal=null,this.notificationManager=new m.h,this.widgetReadyPromise=null,this.abortController=new AbortController,this.moduleInstances=new Map,this.readyPromise=null,this.container=null,this.widget=null,this.ready=!1,this.layoutReady=!0,this.symbolIntervalSubscriptions=new Map,this.domEventTriggered$=new c.B,this.markerClick$=new c.B,this.symbolChanged$=new c.B,this.resolutionChanged$=new c.B,this.rightOffsetChanged$=new c.B,this.barSpacingChanged$=new c.B,this.visibleRangeChanged$=new c.B,this.crosshairMoved$=new c.B,this.drawingChanged$=new c.B,this.errorRequests=new Set,this.errorNotificationShown=!1,this.errorNotificationCloser=null,this.errorResetType=Be.None,this.applyExistedVolumeStudyOverrides=function(){for(var e,t=r.getVolumeStudyOverrides(),n=0;n<r.widget.chartsCount();n++){var o=r.widget.chart(n),i=null===(e=o.getAllStudies().find((function(e){return"Volume"===e.name})))||void 0===e?void 0:e.id;if(null!=i)o.getStudyById(i).applyOverrides(t)}},this.onAutoSaveNeeded=function(){var e;null===(e=r.widget)||void 0===e||e.saveChartToServer(void 0,void 0,{defaultChartName:we.vl.defaultChartName})},this.activeChartChanged=function(e){r.chartManager.setSelectedIndex(e)},this.layoutWillChange=function(e){r.layoutReady=!1,r.chartManager.setLayout((0,N.a_)(e))},this.layoutChanged=function(){r.layoutReady=!0,r.syncChartsChanges(),r.subscribeChartsChanges(),r.widget.unloadUnusedCharts(),r.widget.saveChartToServer()},this.onSelectedLineToolChanged=function(){(0,w.wtL)({chart_type:r.setting.chartType.toLowerCase(),terminal:"web",app_drawing_tool_type:void 0,chart_layout:void 0,web_drawing_tool_type:r.widget.selectedLineTool()})},this.studyAdded=function(e){(0,w.e2V)({chart_type:r.setting.chartType.toLowerCase(),terminal:"web",app_indicator_type:void 0,chart_layout:void 0,web_indicator_type:e.value.replace(/ /g,"_").toLowerCase(),status:"turn_on"})},this.onContextMenu=function(e,t){var n,o,i,a=[];t>0&&t<Number.MAX_SAFE_INTEGER&&(i=r.widget.activeChart().priceFormatter().format(t));if(r.setting.enablePriceAlert&&r.chartManager.showPriceAlertLabel&&i){var s=(0,L.tt)("trade_dialog_text_add_alert"),l=null===(n=r.chartManager.activeArea)||void 0===n?void 0:n.symbolInfo,c=null!==(o=null===l||void 0===l?void 0:l.quoteCurrency)&&void 0!==o?o:"",u={position:"top",text:"".concat(s," @ ").concat(i," ").concat(c),click:function(){var e;null===(e=r.chartManager.priceAlertStore)||void 0===e||e.toggleDialog(!0,y.x6.Add,y.yE.Chart,t)}};a.push(u)}return r.setting.enablePrefillPrice&&i&&a.push({position:"top",text:(0,_.tl)("trade_charts_select_fill_order_price",{price:i}),click:function(){var e=r.chartManager.activeArea;null===e||void 0===e||e.setPrefillPrice(t),(0,A.x$2)({click_type:"right_click"})}}),a},this.initModules()}),[{key:"moduleFactories",get:function(){return{datafeed:Ae.R,saveLoadAdapter:we.vl,settingsAdapter:Pe,executionShapeManager:K,priceAlertManager:Q,anchoredLineManager:B,temporaryShapeManager:le}}},{key:"getModule",value:function(e){var t=this.moduleFactories[e];if(!this.moduleInstances.has(e)&&null!=t){var n=new t(this.setting,this.chartManager,this);this.moduleInstances.set(e,n)}var r=this.moduleInstances.get(e);return null!=r?r:null}},{key:"initModules",value:function(){var e=this;Object.entries(this.moduleFactories).forEach((function(t){var n=(0,o.A)(t,2),r=n[0],i=n[1];if(null!=i){var a=new i(e.setting,e.chartManager,e);e.moduleInstances.set(r,a)}}))}},{key:"init",value:function(e){return Fe(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.widgetReadyPromise){t.next=2;break}throw new Error("already initialized.");case 2:return n=this.getWidgetOptions(),this.container=e,this.widget=new v.HL(Object.assign({container:e},n)),o=new Promise((function(e){s.widget.onChartReady(e)})),i=o.then((function(){return s.ready=!0,s.handleChartReady()})),a=new Promise((function(e,t){setTimeout(t,6e4,new Error("init timeout"))})),this.widgetReadyPromise=o,this.readyPromise=i,this.moduleInstances.forEach((function(e){var t;"function"===typeof(null===(t=e)||void 0===t?void 0:t.init)&&Promise.resolve(e.init()).catch((function(){}))})),this.installDataErrorHandler(),t.next=14,Promise.race([i,a]);case 14:case"end":return t.stop()}}),t,this)})))}},{key:"onReady",value:function(){return Fe(this,void 0,void 0,(0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){null!=t.widget?t.widget.onChartReady((function(){t.readyPromise.then(e).catch(n)})):n(new Error("cannot call `onReady` before `init`"))})));case 1:case"end":return e.stop()}}),e)})))}},{key:"isReady",get:function(){return this.ready}},{key:"destroy",value:function(){return Fe(this,void 0,void 0,(0,r.A)().mark((function e(){var t;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.moduleInstances.forEach((function(e){var t;"function"===typeof(null===(t=e)||void 0===t?void 0:t.destroy)&&e.destroy()})),this.symbolIntervalSubscriptions.forEach((function(e,t,n){e(),n.delete(t)})),this.domEventTriggered$.complete(),this.symbolChanged$.complete(),this.resolutionChanged$.complete(),this.rightOffsetChanged$.complete(),this.barSpacingChanged$.complete(),this.crosshairMoved$.complete(),this.markerClick$.complete(),this.ready=!1,this.abortController.abort(),null===(t=this.widget)||void 0===t||t.remove(),this.widgetReadyPromise=null,this.widget=null;case 14:case"end":return e.stop()}}),e,this)})))}},{key:"getWidget",value:function(){return this.widget}},{key:"getIframeElement",value:function(){var e,t=null===(e=this.container)||void 0===e?void 0:e.lastElementChild;return t||null}},{key:"getContentDocument",value:function(){var e,t,n;return null!==(n=null===(t=null===(e=this.getIframeElement())||void 0===e?void 0:e.contentWindow)||void 0===t?void 0:t.document)&&void 0!==n?n:null}},{key:"asyncWidgetMethodContext",value:function(e){var t=this;return new Promise((function(n,r){var o=t.widgetReadyPromise,i=t.abortController;if(null!=o){var a=o.then((function(){return t.waitForLayout()})),s=function(){r(i.signal.reason)};i.signal.addEventListener("abort",s),a.then((function(){return e(t.widget,n)})).catch(r).finally((function(){i.signal.removeEventListener("abort",s)}))}else r(new Error("widget not initialized"))}))}},{key:"libraryPath",get:function(){var e,t;var n=p.A.simulatedTrading&&(null===(e=p.A.versionUrls)||void 0===e?void 0:e.candleChartST)||(null===(t=p.A.versionUrls)||void 0===t?void 0:t.candleChart);return n?[n,"/..","/charting-library/"].filter(Boolean).join(""):"/"}},{key:"localTimezone",get:function(){return Intl.DateTimeFormat().resolvedOptions().timeZone}},{key:"getEnabledFeatures",value:function(){var e=["determine_first_data_request_size_using_visible_range","request_only_visible_range_on_reset","show_exchange_logos","show_symbol_logos","dont_show_boolean_study_arguments","hide_last_na_study_output","hide_right_toolbar","seconds_resolution","saveload_separate_drawings_storage","disable_resolution_rebuild","two_character_bar_marks_labels"];return this.setting.enableHideDrawingToolsByDefault&&e.push("hide_left_toolbar_by_default"),this.setting.hideClosePositionButton&&e.push("chart_hide_close_position_button"),this.setting.hideCloseOrderButton&&e.push("chart_hide_close_order_button"),e}},{key:"getDisabledFeatures",value:function(){var e=["header_widget","display_market_status","save_shortcut","show_interval_dialog_on_key_press","symbol_info","symbol_search_hot_key","trading_account_manager","order_panel","uppercase_instrument_names","go_to_date","chart_property_page_trading","buy_sell_buttons","trading_notifications","drawing_templates"];return this.setting.enableTimeframesToolbar||e.push("timeframes_toolbar"),this.setting.enableCreateVolumeIndicatorByDefault||e.push("create_volume_indicator_by_default"),this.setting.enableVolumeForceOverlay||e.push("volume_force_overlay"),e}},{key:"getCustomCSSUrl",value:function(){var e=Me(this.libraryPath);return function(e,t,n){var r=e.map((function(e){var t=(0,o.A)(e,2),n=t[0],r=t[1];return"".concat(n,": ").concat(r,";")})).join("\n"),i=[r?"body {\n".concat(r,"\n}"):"",Oe,t,Ie,n].join("\n"),a=new Blob([i],{type:"text/css"});return URL.createObjectURL(a)}(this.getCSSVariables(),e,this.setting.customCssContent)}},{key:"getLoadingScreen",value:function(){return{handleLoadingHide:function(){C.A.emit(b.cP.TV_LOADING_HIDE)}}}},{key:"getWidgetOptions",value:function(){var e,t,n;return{autosize:!0,debug:!1,load_last_chart:!0,auto_save_delay:1,symbol_search_request_delay:100,timezone:this.localTimezone,library_path:this.libraryPath,custom_css_url:this.getCustomCSSUrl(),theme:(0,N.x3)(this.setting.theme),custom_themes:(0,k.E)(this.setting.customThemes),custom_font_family:window.getComputedStyle(document.body).fontFamily,symbol:(0,N.JM)(this.chartManager.activeArea.tickerSymbol,this.chartManager.activeArea.priceType),interval:(0,T.Wc)(this.chartManager.activeArea.resolution),locale:(0,N.Ul)(this.setting.locale),datafeed:this.getModule("datafeed"),save_load_adapter:null!==(e=this.getModule("saveLoadAdapter"))&&void 0!==e?e:void 0,settings_adapter:null!==(t=this.getModule("settingsAdapter"))&&void 0!==t?t:void 0,context_menu:{items_processor:this.contextMenuItemsProcessorFactory()},custom_indicators_getter:this.setting.enableTradeIndicator?Le:void 0,custom_formatters:{priceFormatterFactory:this.getPriceFormatterFactory(),studyFormatterFactory:this.getStudyFormatterFactory(),dateFormatter:this.getDateFormatter()},custom_translate_function:(n=this.setting.customTranslateFunction,function(e,t,r){try{if("function"===typeof n){var o=n(Ne.N.TradingView,e);if(o)return o}}catch(i){console.error('Translation error for key "'.concat(e,'":'),i)}return"VWAP is waiting for more data"===e?(0,L.t)("trade_charts_tooltip_title_vwap_waiting_more_data"):"To calculate the VWAP indicator, more data is needed. Zoom out or scroll left to load more historical data."===e?(0,L.t)("trade_charts_tooltip_desc_vwap_waiting_more_data"):null}),overrides:this.getInitOverrides(),studies_overrides:this.getInitStudiesOverrides(),time_frames:[["1d","1"],["5d","15"],["1m","1h"],["3m","6h"],["6m","12h"],["1y","1d"]].map((function(e){return{text:e[0],resolution:e[1],title:De(e[0])}})),disabled_features:this.getDisabledFeatures(),enabled_features:this.getEnabledFeatures(),broker_config:this.getBrokerConfig(),broker_factory:this.getBrokerFactory(),loading_screen:this.getLoadingScreen()}}},{key:"getPriceFormatterFactory",value:function(){var e=this;return function(t,n){var r,i,a,s=t,l=null!==(r=null===n||void 0===n?void 0:n.split(","))&&void 0!==r?r:[],c=(0,o.A)(l,3),u=c[0],d=c[2];return null==s||"true"===d?null:(a=u&&"default"!==u?Math.log10(parseFloat(u)):Math.log10(s.library_custom_fields.symbolInfo.priceScale),(0,P._)(null!==(i=null===s||void 0===s?void 0:s.library_custom_fields.symbolInfo)&&void 0!==i?i:null,a,e.setting.priceFormatterFactory))}}},{key:"getStudyFormatterFactory",value:function(){var e=this;return function(t,n,r){var o;if(null!=e.setting.studyFormatterFactory){var i=n;return(0,x.L)(t,null!==(o=null===i||void 0===i?void 0:i.library_custom_fields.symbolInfo)&&void 0!==o?o:null,r,e.setting.studyFormatterFactory)}return null}}},{key:"getDateFormatter",value:function(){}},{key:"excludedContextMenuActions",value:function(){return[v._B.ChartMoveChartInLayout,v._B.ChartLineToolCreateLimitOrderFromState]}},{key:"contextMenuItemsProcessorFactory",value:function(){var e=this,t=(0,N.dz)(this.excludedContextMenuActions());return function(n,o,i){return Fe(e,void 0,void 0,(0,r.A)().mark((function e(){var a,s,l,c,u,d;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.slice(),"LegendPropertiesContextMenu"===i.menuName&&"series"===(null===(a=i.detail)||void 0===a?void 0:a.type)&&(l=this.chartManager.activeArea)&&l.isCustomExpr&&s.unshift(o.createAction({actionId:"Chart.Custom.CloseCustomExpr",label:(0,L.t)("trade_function_tradingview_close_custom_formula"),onExecute:function(){l.exitCustomExpr()}}),o.createSeparator()),c=[],"ChartContextMenu"===i.menuName&&(u=this.setting.enableTradeOrderButton,d=this.chartManager.trade,u&&d.orderButton||c.push(v._B.TradingTradeFromChart)),c.length>0&&(s=s.filter((function(e){return e.type!==v.xU.Action||!c.includes(e.getState().actionId)}))),e.abrupt("return",t(s,o,i));case 6:case"end":return e.stop()}}),e,this)})))}}},{key:"getBrokerConfig",value:function(){var e=this;if(null!=this.chartManager.brokerTerminalDelegate)return{configFlags:{supportClosePosition:!0,supportExecutions:!0,supportNativeReversePosition:!0,supportPLUpdate:!0,supportPositionBrackets:!0,supportReversePosition:!0,supportOrderBrackets:!0},customUI:{showOrderDialog:function(t){return Fe(e,void 0,void 0,(0,r.A)().mark((function e(){var n;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.brokerTerminal)||void 0===n?void 0:n.showOrderDialog(t);case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)})))},showPositionDialog:function(t,n){return Fe(e,void 0,void 0,(0,r.A)().mark((function e(){var o;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(o=this.brokerTerminal)||void 0===o?void 0:o.showPositionDialog(t,n);case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)})))}}}}},{key:"getBrokerFactory",value:function(){var e=this;if(null!=this.chartManager.brokerTerminalDelegate)return function(t){var n=new be(e.setting,e.chartManager,t);return e.brokerTerminal=n,n}}},{key:"destroyed",value:function(){return(0,u.R)(this.abortController.signal,"abort")}},{key:"subscribeSettingsUpdate",value:function(){var e=this;(0,I.T)((function(){var t;null===(t=e.widget)||void 0===t||t.applyOverrides(e.getSettingsOverrides()),e.forceRerender()})).pipe((0,d.Q)(this.destroyed())).subscribe(),(0,I.T)((function(){var t,n,r,o,i,a=e.chartManager.syncSetting;null===(t=e.widget)||void 0===t||t.symbolSync().setValue(a.symbol),null===(n=e.widget)||void 0===n||n.intervalSync().setValue(a.interval),null===(r=e.widget)||void 0===r||r.crosshairSync().setValue(a.crosshair),null===(o=e.widget)||void 0===o||o.timeSync().setValue(a.time),null===(i=e.widget)||void 0===i||i.dateRangeSync().setValue(a.dateRange)})).pipe((0,d.Q)(this.destroyed())).subscribe()}},{key:"syncChartsChanges",value:function(){var e,t,n,r;null===(e=this.widget)||void 0===e||e.symbolSync().setValue(!1),null===(t=this.widget)||void 0===t||t.intervalSync().setValue(!1);for(var o=0;o<this.widget.chartsCount();o++){var i=this.chartManager.areaByIndex(o),a=this.widget.chart(o),s=i.tickerSymbol,l=i.priceType,c=i.resolution,u=(0,N.JM)(s,l),d=(0,T.Wc)(c);a.setSymbol(u,{doNotActivateChart:!0}),a.setResolution(d,{doNotActivateChart:!0}).catch((function(e){console.error(e)}))}var f=this.chartManager.syncSetting;null===(n=this.widget)||void 0===n||n.symbolSync().setValue(f.symbol),null===(r=this.widget)||void 0===r||r.intervalSync().setValue(f.interval)}},{key:"subscribeChartsChanges",value:function(){var e=this,t=this.widget.chartsCount();this.symbolIntervalSubscriptions.forEach((function(e,n,r){n>=t&&(e(),r.delete(n))}));for(var n=function(t){if(e.symbolIntervalSubscriptions.has(t))return 1;var n=e.chartManager.areaByIndex(t),r=e.widget.chart(t),o=r.getTimeScale();e.internalNewChartAdded(t,r);var i=r.onSymbolChanged(),a=r.onIntervalChanged(),s=o.rightOffsetChanged(),l=o.barSpacingChanged(),c=r.onVisibleRangeChanged(),u=r.crossHairMoved(),d=function(){e.internalOnSymbolChanged(t,r)},f=function(n){e.internalOnResolutionChanged(t,r,n)},h=function(n){e.internalRightOffsetChanged(t,o,n)},p=function(n){e.internalBarSpacingChanged(t,o,n)},v=function(n){e.internalCrosshairMoved(t,r,n)};i.subscribe(n,d),a.subscribe(n,f),s.subscribe(n,h),l.subscribe(n,p),c.subscribe(n,(function(n){e.internalVisibleRangeChanged(t,r,n)})),u.subscribe(n,v),e.symbolIntervalSubscriptions.set(t,(function(){i.unsubscribe(n,d),a.unsubscribe(n,f),s.unsubscribe(n,h),l.unsubscribe(n,p),u.unsubscribe(n,v)}))},r=0;r<this.widget.chartsCount();r++)n(r)}},{key:"getCSSVariables",value:function(){var e,t={"--background-base-primary":this.getBackgroundColor(),"--background-base-secondary":"--cc-okd-color-background-base-secondary","--background-surface-primary":"--cc-okd-color-background-surface-primary","--background-surface-secondary":"--cc-okd-color-background-surface-secondary","--container-primary":"--cc-okd-color-container-primary","--container-secondary":"--cc-okd-color-container-secondary","--container-inverse":"--cc-okd-color-container-inverse","--container-contrast":"--cc-okd-color-container-contrast","--content-primary":"--cc-okd-color-content-primary","--content-secondary":"--cc-okd-color-content-secondary","--content-inverse":"--cc-okd-color-content-inverse","--content-contrast":"--cc-okd-color-content-contrast","--border-primary":null!==(e=this.setting.chartProperties["chartProperties.borderColor"])&&void 0!==e?e:"--cc-okd-color-border-primary","--border-secondary":"--cc-okd-color-border-secondary"},n=[];return Object.entries(t).map((function(e){var t=(0,o.A)(e,2),n=t[0],r=t[1];return[n,r.startsWith("--")?(0,l.sd)(r):r]})).forEach((function(e){var t=(0,o.A)(e,2),r=t[0],i=t[1];i&&n.push([r,i])})),n}},{key:"updateCSSVariables",value:function(){var e=this;this.getCSSVariables().forEach((function(t){var n=(0,o.A)(t,2),r=n[0],i=n[1];e.widget.setCSSCustomProperty(r,i)}))}},{key:"getInitOverrides",value:function(){return Object.assign(Object.assign({},this.getSettingsOverrides()),this.getColorPaletteOverrides())}},{key:"getInitStudiesOverrides",value:function(){return this.getColorPaletteStudiesOverrides()}},{key:"getSettingsOverrides",value:function(){var e=this.setting,t=e.enabledFeatures,n=e.disabledFeatures,r=e.chartProperties,o={"mainSeriesProperties.minTick":"default","tradingProperties.bracketsPL.display":2,"tradingProperties.extendLeft":this.chartManager.trade.lineHorzVisible,"linetoolriskrewardlong.accountSize":1e5,"linetoolriskrewardshort.accountSize":1e5};return r["paneProperties.topMargin"]&&(o["paneProperties.topMargin"]=r["paneProperties.topMargin"]),(t.includes(E.Xj.LegendSeriesTitle)||n.includes(E.Xj.LegendSeriesTitle))&&(o["paneProperties.legendProperties.showSeriesTitle"]=!0),o}},{key:"getColorPaletteStudiesOverrides",value:function(){var e=(0,l.sd)("--color-up-bg");return{"volume.volume.color.0":(0,l.sd)("--color-down-bg"),"volume.volume.color.1":e}}},{key:"getVolumeStudyOverrides",value:function(){var e=(0,l.sd)("--color-up-bg");return{"volume.color.0":(0,l.sd)("--color-down-bg"),"volume.color.1":e}}},{key:"getSeparatorColor",value:function(){return(0,N.x3)(this.setting.theme)===s.zG.dark?"#303030":"#EBEBEB"}},{key:"getBackgroundColor",value:function(){return this.setting.chartProperties["chartProperties.backgroundColor"]||(0,l.sd)("--cc-okd-color-background-base-primary")}},{key:"getColorPaletteOverrides",value:function(){var e=this.getBackgroundColor(),t=(0,l.sd)("--color-up-bg"),n=(0,l.sd)("--color-down-bg");return{"paneProperties.backgroundType":"solid","paneProperties.background":e,"paneProperties.separatorColor":this.getSeparatorColor(),"mainSeriesProperties.barStyle.upColor":t,"mainSeriesProperties.barStyle.downColor":n,"mainSeriesProperties.candleStyle.upColor":t,"mainSeriesProperties.candleStyle.downColor":n,"mainSeriesProperties.candleStyle.borderUpColor":t,"mainSeriesProperties.candleStyle.borderDownColor":n,"mainSeriesProperties.candleStyle.wickUpColor":t,"mainSeriesProperties.candleStyle.wickDownColor":n,"mainSeriesProperties.hollowCandleStyle.upColor":t,"mainSeriesProperties.hollowCandleStyle.downColor":n,"mainSeriesProperties.hollowCandleStyle.borderUpColor":t,"mainSeriesProperties.hollowCandleStyle.borderDownColor":n,"mainSeriesProperties.hollowCandleStyle.wickUpColor":t,"mainSeriesProperties.hollowCandleStyle.wickDownColor":n,"mainSeriesProperties.columnStyle.upColor":t,"mainSeriesProperties.columnStyle.downColor":n,"mainSeriesProperties.haStyle.upColor":t,"mainSeriesProperties.haStyle.downColor":n,"mainSeriesProperties.haStyle.borderUpColor":t,"mainSeriesProperties.haStyle.borderDownColor":n,"mainSeriesProperties.haStyle.wickUpColor":t,"mainSeriesProperties.haStyle.wickDownColor":n,"mainSeriesProperties.renkoStyle.upColor":t,"mainSeriesProperties.renkoStyle.downColor":n,"mainSeriesProperties.renkoStyle.borderUpColor":t,"mainSeriesProperties.renkoStyle.borderDownColor":n,"mainSeriesProperties.renkoStyle.upColorProjection":t,"mainSeriesProperties.renkoStyle.downColorProjection":n,"mainSeriesProperties.renkoStyle.borderUpColorProjection":t,"mainSeriesProperties.renkoStyle.borderDownColorProjection":n,"mainSeriesProperties.renkoStyle.wickUpColor":t,"mainSeriesProperties.renkoStyle.wickDownColor":n,"mainSeriesProperties.pbStyle.upColor":t,"mainSeriesProperties.pbStyle.downColor":n,"mainSeriesProperties.pbStyle.borderUpColor":t,"mainSeriesProperties.pbStyle.borderDownColor":n,"mainSeriesProperties.pbStyle.upColorProjection":t,"mainSeriesProperties.pbStyle.downColorProjection":n,"mainSeriesProperties.pbStyle.borderUpColorProjection":t,"mainSeriesProperties.pbStyle.borderDownColorProjection":n,"mainSeriesProperties.kagiStyle.upColor":t,"mainSeriesProperties.kagiStyle.downColor":n,"mainSeriesProperties.kagiStyle.upColorProjection":t,"mainSeriesProperties.kagiStyle.downColorProjection":n,"mainSeriesProperties.pnfStyle.upColor":t,"mainSeriesProperties.pnfStyle.downColor":n,"mainSeriesProperties.pnfStyle.upColorProjection":t,"mainSeriesProperties.pnfStyle.downColorProjection":n}}},{key:"applyColorPaletteOverrides",value:function(){var e=this.getColorPaletteOverrides(),t=this.getColorPaletteStudiesOverrides();this.widget.applyOverrides(e),this.widget.applyStudiesOverrides(t),this.applyExistedVolumeStudyOverrides()}},{key:"handleChartReady",value:function(){return Fe(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n,o,i,a,s=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,N.YZ)(this.setting.layout),i=this.chartManager.selectedIndex,o===this.widget.layout()){e.next=5;break}return e.next=5,this.waitForLayout(o);case 5:if(this.widget.setActiveChart(i),!(null===(t=this.getModule("saveLoadAdapter"))||void 0===t?void 0:t.shouldResetColorPalette)){e.next=12;break}return a=(0,N.x3)(this.setting.theme),e.next=10,this.widget.changeTheme(a,{disableUndo:!0});case 10:this.applyColorPaletteOverrides(),null===(n=this.widget)||void 0===n||n.saveChartToServer();case 12:this.widget.subscribe("onAutoSaveNeeded",this.onAutoSaveNeeded),this.widget.subscribe("activeChartChanged",this.activeChartChanged),this.widget.subscribe("layout_about_to_be_changed",this.layoutWillChange),this.widget.subscribe("layout_changed",this.layoutChanged),this.widget.subscribe("onSelectedLineToolChanged",this.onSelectedLineToolChanged),this.widget.subscribe("study",this.studyAdded),this.widget.subscribe("drawing_event",(function(e,t){s.internalDrawingChanged(e,t)})),this.widget.onContextMenu(this.onContextMenu),this.updateCSSVariables(),this.syncChartsChanges(),this.subscribeChartsChanges(),this.subscribeSettingsUpdate(),this.installEventHooks(),this.legacyHandleOnChartReady(),this.checkCustomIntervalAndModify(),Array(this.widget.chartsCount()).fill(null).reduce((function(e,t,n){return s.widget.chart(n).getAllShapes().forEach((function(t){e.add(t.name)})),e}),new Set).forEach((function(e){(0,w.jQ2)({chart_type:s.setting.chartType.toLowerCase(),terminal:"web",app_drawing_tool_type:void 0,web_drawing_tool_type:e})}));case 28:case"end":return e.stop()}}),e,this)})))}},{key:"checkCustomIntervalAndModify",value:function(){var e,t=this,n=(null===(e=this.widget)||void 0===e?void 0:e.chartsCount())||0,r=this.chartManager.customIntervals,o=new Array(n).fill(0).map((function(e,n){return t.chartManager.areaByIndex(n)})).filter((function(e){return e&&r.includes(e.resolution)}));o.length&&(this.notificationManager.showNotification({type:g.A.TYPE.warn,timeout:6e3,title:(0,_.tl)("trade_charts_label_intervals_notsupport_header"),desc:(0,_.tl)("trade_charts_label_intervals_notsupport")}),o.forEach((function(e){e.setResolution("1D").catch((function(e){}))})))}},{key:"isShortcutKey",value:function(e){return!(0,S.g)(e)&&(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)}},{key:"installEventHooks",value:function(){var e=this,t=this.getIframeElement(),n=this.getContentDocument();if(n.addEventListener("keydown",(function(n){if(!(0,S.g)(n)){var r=new KeyboardEvent("keydown",n);t.dispatchEvent(r)}if(!e.setting.enableShortcut&&e.isShortcutKey(n))return n.preventDefault(),void n.stopPropagation();for(var o=0,i=[{key:"Period"},{key:"Slash"},{key:"KeyF",modifiers:{shiftKey:!0}},{key:"KeyT",modifiers:{shiftKey:!0}}];o<i.length;o++){var a=i[o];if((0,N.J)(n,a.key,a.modifiers)){n.preventDefault();break}}}),!0),n.addEventListener("click",(function(){t.click()})),n.defaultView.MutationObserver){var r=new WeakSet,o=n.querySelector(".layout__area--center"),i=function(){o.querySelectorAll(".chart-container").forEach((function(t,n){r.has(t)||(r.add(t),je.forEach((function(r){t.addEventListener(r,(function(t){e.internalDomEventTriggered(n,r,t)}),{passive:!0})})))}))};new n.defaultView.MutationObserver(i).observe(o,{childList:!0}),i()}}},{key:"installDataErrorHandler",value:function(){var e=this;this.getModule("datafeed").onMainSeriesError().pipe((0,d.Q)(this.destroyed())).subscribe((function(t){if(!t.errorHandled){var n=t.symbolInfo.tickerSymbol,r=t.resolution,o=t.params.priceType,i=t.params.firstDataRequest;if(0!=e.getChartWidgets(n,r,o).length){var a=i?Be.ResetChart:Be.ResetData;e.errorRequests.add(t),e.errorResetType=a>e.errorResetType?a:e.errorResetType}if(!e.errorNotificationShown&&e.errorResetType!==Be.None){var s=function(){t.errorHandled||(t.errorHandled=!0,e.errorNotificationShown=!1,e.resetErrors().catch((function(){})))};e.errorNotificationShown=!0,e.errorNotificationCloser=e.notificationManager.showNotification({type:"warn",showClose:!0,isInline:!1,timeout:0,desc:(0,L.tt)("trade_charts_alertbanner_title_refresh_your_chart"),title:(0,L.tt)("trade_dialog_notif_fail_load"),confirmText:(0,L.tt)("trade_charts_alertbanner_btn_refresh_now"),onConfirm:function(){s(),(0,A.wPD)({chart_type:e.setting.chartType.toLowerCase(),button_click:"refresh_button"})},onClickClose:function(){s(),(0,A.wPD)({chart_type:e.setting.chartType.toLowerCase(),button_click:"x_button"})}})}}}))}},{key:"resetErrors",value:function(){return Fe(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.errorNotificationCloser)||void 0===t||t.call(this),this.errorNotificationCloser=null,this.errorResetType===Be.ResetData&&(this.errorRequests.forEach((function(e){var t=e.symbolInfo.tickerSymbol,r=e.resolution,o=e.params.priceType;n.getModule("datafeed").resetData(t,r,o),n.resetData(t,r,o)})),this.errorRequests.clear(),this.errorResetType=Be.None),this.errorResetType!==Be.ResetChart){e.next=7;break}throw this.chartManager.reloadChart(),this.abortController.abort(),this.abortController.signal.reason;case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getChartWidgets",value:function(e,t,n){var r=this;return Array(this.widget.chartsCount()).fill(null).map((function(e,t){return t})).filter((function(o){var i=r.chartManager.areaByIndex(o);return(!e||e===i.tickerSymbol)&&(!t||t===i.resolution)&&(!n||n===i.priceType)})).map((function(e){return[e,r.widget.chart(e)]}))}},{key:"forceRerender",value:function(){this.getChartWidgets().forEach((function(e){var t=(0,o.A)(e,2)[1].getTimeScale(),n=t.barSpacing()+Math.pow(10,-10);t.setBarSpacing(n)}))}},{key:"internalNewChartAdded",value:function(e,t){t.getPanes().forEach((function(e){var t;null===(t=e.getMainSourcePriceScale())||void 0===t||t.setAutoScale(!0)})),(0,w.A61)({terminal:"web",chart_type:this.setting.chartType.toLowerCase(),app_indicator_type:void 0,web_indicator_type:t.getAllStudies().map((function(e){return e.name.replace(/ /g,"_").toLowerCase()})).map((function(e){return{type:e}}))})}},{key:"internalDomEventTriggered",value:function(e,t,n){this.domEventTriggered$.next([e,t,n]),"click"===t&&(0,w.kLh)({chart_type:this.setting.chartType.toLowerCase(),action:"click",terminal:"web",chart_location:void 0,chart_layout:void 0,action_area:void 0})}},{key:"internalOnSymbolChanged",value:function(e,t){var n=this;t.dataReady((function(){var r=(0,N.ss)(t.symbol()),i=(0,o.A)(r,1)[0];n.symbolChanged$.next([e,i]),C.A.emit(b.cP.SYMBOL_CHANGED,i)}));var r=this.chartManager.areaByIndex(e),i=(0,N.ss)(t.symbol()),a=(0,o.A)(i,2),s=a[0],l=a[1];null==r.pendingTickerSymbol&&r.setSymbol(s,l).catch((function(){}))}},{key:"internalOnResolutionChanged",value:function(e,t,n){var r=this;t.dataReady((function(){var n=(0,T.eF)(t.resolution());r.resolutionChanged$.next([e,n]),C.A.emit(b.cP.RESOLUTION_CHANGED,n)}));var o=this.chartManager.areaByIndex(e),i=(0,T.eF)(n);null==o.pendingResolution&&o.setResolution(i).catch((function(){}))}},{key:"internalRightOffsetChanged",value:function(e,t,n){var r=this;this.rightOffsetChanged$.next([e,n]),null==this.initRightOffset&&(this.initRightOffset=n),null!=this.rightOffsetChangedTimer&&(clearTimeout(this.rightOffsetChangedTimer),this.rightOffsetChangedTimer=void 0),this.rightOffsetChangedTimer=setTimeout((function(){var e=r.initRightOffset;r.initRightOffset=void 0,Math.abs(n-e)>=.01&&(0,w.kLh)({chart_type:r.setting.chartType.toLowerCase(),action:"scroll",terminal:"web",chart_location:void 0,chart_layout:void 0,action_area:void 0})}),1e3)}},{key:"internalBarSpacingChanged",value:function(e,t,n){var r=this;this.barSpacingChanged$.next([e,n]),null==this.initBarSpacing&&(this.initBarSpacing=n),null!=this.barSpacingChangedTimer&&(clearTimeout(this.barSpacingChangedTimer),this.barSpacingChangedTimer=void 0),this.barSpacingChangedTimer=setTimeout((function(){var e=r.initBarSpacing;r.initBarSpacing=void 0,Math.abs(n-e)>=.01&&(r.onAutoSaveNeeded(),(0,w.kLh)({chart_type:r.setting.chartType.toLowerCase(),action:"zoom",terminal:"web",chart_location:void 0,chart_layout:void 0,action_area:void 0}))}),1e3)}},{key:"internalVisibleRangeChanged",value:function(e,t,n){this.visibleRangeChanged$.next([e,n])}},{key:"internalCrosshairMoved",value:function(e,t,n){this.crosshairMoved$.next([e,n])}},{key:"internalDrawingChanged",value:function(e,t){this.drawingChanged$.next([e,t])}},{key:"legacyHandleOnChartReady",value:function(){var e=this;this.widget.subscribe("onPlusClick",(function(t){var n=e.getIframeElement().getBoundingClientRect();e.chartManager.orderInputStore.setFastMode({show:!1,x:n.x+t.clientX-125,y:n.y+t.clientY+25,price:void 0})})),this.domEventTriggered("contextmenu").subscribe((function(t){var n=(0,o.A)(t,2)[1],r=e.getIframeElement().getBoundingClientRect();e.chartManager.orderInputStore.setFastMode({show:!1,x:r.x+n.clientX,y:r.y+n.clientY,price:void 0})})),this.setting.enableMarkers&&this.widget.subscribe("onMarkClick",(function(t){e.markerClick$.next(t)}))}},{key:"resetCustomIndicators",value:function(){for(var e=this,t="reset",n=function(){var n=e.widget.chart(r);n.getAllStudies().forEach((function(e){var r=n.getStudyById(e.id);if(r.getInputsInfo().find((function(e){return e.id===t}))){var o={id:t,value:Date.now()};r.setInputValues([o])}}))},r=0;r<this.widget.chartsCount();r++)n()}},{key:"resetData",value:function(e,t,n){this.getChartWidgets(e,t,n).forEach((function(e){(0,o.A)(e,2)[1].resetData()}))}},{key:"waitForLayout",value:function(e){return Fe(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.widget||this.layoutReady&&!e){t.next=4;break}return n=Promise.resolve().then((function(){return new Promise((function(t){var r,i;null===(r=o.widget)||void 0===r||r.subscribe("layout_changed",t),null!=e&&(null===(i=o.widget)||void 0===i||i.setLayout(e)),n.finally((function(){var e;null===(e=o.widget)||void 0===e||e.unsubscribe("layout_changed",t)}))}))})),t.next=4,n;case 4:case"end":return t.stop()}}),t,this)})))}},{key:"domEventTriggered",value:function(e){return this.domEventTriggered$.pipe((0,f.p)((function(t){return(0,o.A)(t,2)[1]===e})),(0,h.T)((function(e){var t=(0,o.A)(e,3);return[t[0],t[2]]})))}},{key:"symbolChanged",value:function(){return this.symbolChanged$.asObservable()}},{key:"resolutionChanged",value:function(){return this.resolutionChanged$.asObservable()}},{key:"rightOffsetChanged",value:function(){return this.rightOffsetChanged$.asObservable()}},{key:"barSpacingChanged",value:function(){return this.barSpacingChanged$.asObservable()}},{key:"visibleRangeChanged",value:function(){return this.visibleRangeChanged$.asObservable()}},{key:"crosshairMoved",value:function(){return this.crosshairMoved$.asObservable()}},{key:"drawingChanged",value:function(){return this.drawingChanged$.asObservable()}},{key:"markerClick",value:function(){return this.markerClick$.asObservable()}},{key:"clearMarks",value:function(e){var t,n,r;null===(r=null===(n=null===(t=this.widget)||void 0===t?void 0:t.chart)||void 0===n?void 0:n.call(t,e))||void 0===r||r.clearMarks()}},{key:"refreshMarks",value:function(e){var t,n;null===(n=null===(t=this.widget)||void 0===t?void 0:t.chart(e))||void 0===n||n.refreshMarks()}}])}()},6263:(e,t,n)=>{"use strict";n.d(t,{gg:()=>S,vl:()=>T});var r=n(675),o=n(4467),i=n(4765),a=n(3029),s=n(2901),l=n(296),c=n(519),u=n(1350),d=n(1287),f=n(7848),h=n(191),p=n(8666),v=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},g="charts.tradingview.data.",m="charts.tradingview.drawings.",y="layoutsSizes";function b(e){return"".concat(g).concat(e)}function A(e){return"".concat(m).concat(e)}function w(e){return"".concat(m).concat(e,".version")}function _(e){return c.A.simulatedTrading?"".concat(e,".demo"):e}function C(e){var t=b(_(e)),n=localStorage.getItem(t);if(null==n)return null;try{return JSON.parse(n)}catch(r){return null}}function S(e){var t;return null===(t=C(e))||void 0===t?void 0:t.reverseColor}function k(e,t){var n=(0,p.ss)(e),r=(0,l.A)(n,1)[0],o=(0,p.ss)(t);return r===(0,l.A)(o,1)[0]}var T=function(){function e(t,n,r){(0,a.A)(this,e),this.setting=t,this.chartManager=n,this.instance=r,this.data=null,this.drawings=null,this.drawingsVersion=0,this.getAllStudyTemplates=void 0,this.removeStudyTemplate=void 0,this.saveStudyTemplate=void 0,this.getStudyTemplateContent=void 0,this.getDrawingTemplates=void 0,this.loadDrawingTemplate=void 0,this.removeDrawingTemplate=void 0,this.saveDrawingTemplate=void 0,this.getChartTemplateContent=void 0,this.getAllChartTemplates=void 0,this.saveChartTemplate=void 0,this.removeChartTemplate=void 0,this.loadLegacyDataFromLocalStorage(),this.loadDataFromLocalStorage()}return(0,s.A)(e,[{key:"toJSON",value:function(){return null}},{key:"legacyLayoutId",get:function(){var e=this.setting.storageId;return c.A.simulatedTrading?"".concat(e,".simulate"):e}},{key:"layoutId",get:function(){return _(this.setting.storageId)}},{key:"shouldResetColorPalette",get:function(){var e=this.data;return(null===e||void 0===e?void 0:e.theme)!==this.setting.theme||(null===e||void 0===e?void 0:e.reverseColor)!==this.setting.reverseColor}},{key:"loadLegacyDataFromLocalStorage",value:function(){var t,n;function r(e){return"charts.tradingview.data.".concat(e)}var a=this.legacyLayoutId,s=this.layoutId,c=e.defaultChartName,u=new Map,h=r(a),v=function(e){var t=r(e);return Object.keys(localStorage).filter((function(e){return e.startsWith(t)&&/\.\d+$/.test(e.replace(t,""))}))}(a);if(0!==v.length){var g,m,y=!0;v.sort().forEach((function(e){var t,r,o=(r=h,parseInt(e.replace(r,"").slice(1),10)),i=function(e,t){return"charts.tradingview.saved_state.".concat(e,".").concat(t)}(a,o);try{var s=JSON.parse(localStorage.getItem(e)),l=JSON.parse(null!==(t=localStorage.getItem(i))&&void 0!==t?t:JSON.stringify({}));null==g&&(g=l.theme),null==m&&(m=l.reverseColor),g===l.theme&&m===l.reverseColor||(y=!1),u.set(o,s)}catch(n){localStorage.removeItem(e),localStorage.removeItem(i)}}));var b,A={id:s,name:c,symbol:null===(t=this.chartManager.activeArea)||void 0===t?void 0:t.symbol,resolution:(0,d.Wc)(null===(n=this.chartManager.activeArea)||void 0===n?void 0:n.resolution),content:"",timestamp:Math.floor(Date.now()/1e3),theme:g,reverseColor:m},w={},_=[],C=null,S=(0,i.A)(u.entries());try{for(S.s();!(b=S.n()).done;){var k=(0,l.A)(b.value,2),T=k[0],x=k[1];try{var P=String(T+1),E=JSON.parse(x.content),L=JSON.parse(E.charts_symbols),I=JSON.parse(E.content).charts[0];I.panes.forEach((function(e){e.sources.forEach((function(e){if("Study"===e.type){var t={OpenInterest:f._.OpenInterest,EliteAccountLongShortRatio:f._.EliteAccountLongShortRatio,EliteAccountLongShortOpenInterest:f._.EliteAccountLongShortOpenInterest,AccountLongShortRatio:f._.AccountLongShortRatio,TakerBuySell:f._.TakerBuySell};Object.entries(t).forEach((function(t){var n=(0,l.A)(t,2),r=n[0],o=n[1];e.metaInfo.shortId===r&&(e.metaInfo.shortId=o,e.metaInfo.id="".concat(o,"@tv-basicstudies-1"),e.metaInfo.fullId="".concat(o,"@tv-basicstudies-1"),e.metaInfo.description=o)}))}}))})),null==C&&(C=I.chartProperties),y||(I.chartProperties=C),Object.assign(w,(0,o.A)({},P,L[1])),_.push(Object.assign(Object.assign({},I),{chartId:P}))}catch(O){}}}catch(R){S.e(R)}finally{S.f()}A.content=JSON.stringify({name:c,charts_symbols:JSON.stringify(w),content:JSON.stringify({layout:(0,p.YZ)(this.setting.layout),charts:_})}),this.data=A}}},{key:"loadDataFromLocalStorage",value:function(){var e=C(this.setting.storageId);if(null!=e)try{var t=JSON.parse(e.content),n=JSON.parse(t.content),r=(0,h.fw)(this.chartManager.layoutSizeMap);Object.assign(n[y],r),this.resetTimeScaleBarSpacing(n),this.overridePaneBackground(n,e.theme),t.content=JSON.stringify(n),e.content=JSON.stringify(t),this.data=e}catch(o){}this.loadDrawingsFromLocalStorage()}},{key:"overridePaneBackground",value:function(e,t){var n,r=this;t!==this.setting.theme&&(null===(n=null===e||void 0===e?void 0:e.charts)||void 0===n||n.forEach((function(e){var t,n,o,i,a,s,l,c;(null===(n=null===(t=null===e||void 0===e?void 0:e.chartProperties)||void 0===t?void 0:t.paneProperties)||void 0===n?void 0:n.background)&&(e.chartProperties.paneProperties.background=(null===(i=(o=r.instance).getBackgroundColor)||void 0===i?void 0:i.call(o))||e.chartProperties.paneProperties.background),(null===(s=null===(a=null===e||void 0===e?void 0:e.chartProperties)||void 0===a?void 0:a.paneProperties)||void 0===s?void 0:s.separatorColor)&&(e.chartProperties.paneProperties.separatorColor=(null===(c=(l=r.instance).getSeparatorColor)||void 0===c?void 0:c.call(l))||e.chartProperties.paneProperties.separatorColor)})))}},{key:"resetTimeScaleBarSpacing",value:function(e){var t;this.setting.enableResetTimeScaleOnChanges&&(null===(t=null===e||void 0===e?void 0:e.charts)||void 0===t||t.forEach((function(e){e.timeScale&&(e.timeScale.m_barSpacing=u.X.barSpacing)})))}},{key:"coverDrawingOuterSymbolAndId",value:function(e){var t=e.state;t&&t.state&&(t.state.symbol=e.symbol),t&&t.state&&(t.id=e.id,t.state.id=e.id)}},{key:"saveDataToLocalStorage",value:function(){var e=this.data,t=this.drawings,n=b(this.layoutId),r=A(this.layoutId),o=w(this.layoutId),i=Math.round(Date.now()/1e3);null!=e&&(e.timestamp=i,localStorage.setItem(n,JSON.stringify(e)),this.saveToOriginal(e.content)),null!=t&&(t.timestamp=i,localStorage.setItem(r,JSON.stringify(t)),localStorage.setItem(o,JSON.stringify(i)),this.drawingsVersion=i)}},{key:"loadDrawingsFromLocalStorage",value:function(){var e=this.getLocalStorageDrawings();if(null!=e)try{this.drawings=JSON.parse(e),this.drawingsVersion=this.getLocalStorageDrawingsVersion()}catch(t){}}},{key:"getLocalStorageDrawings",value:function(){var e=A(this.layoutId);return localStorage.getItem(e)}},{key:"getLocalStorageDrawingsVersion",value:function(){var e=w(this.layoutId),t=localStorage.getItem(e);return parseInt(null!==t&&void 0!==t?t:"0",10)}},{key:"saveToOriginal",value:function(e){try{var t=JSON.parse(e),n=JSON.parse(t.content)[y],r=(0,h.jE)(n);this.chartManager.setLayoutSizeMap(r)}catch(o){}}},{key:"getAllCharts",value:function(){return v(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],null!=this.data&&(n=this.data,t.push({id:n.id,name:n.name,symbol:n.symbol,resolution:n.resolution,timestamp:n.timestamp})),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"removeChart",value:function(e){throw new Error("Method not implemented.")}},{key:"saveChart",value:function(e){return v(this,void 0,void 0,(0,r.A)().mark((function t(){return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.data=Object.assign(Object.assign({},e),{theme:this.setting.theme,reverseColor:this.setting.reverseColor,id:this.layoutId,timestamp:0}),this.saveDataToLocalStorage(),t.abrupt("return",this.data.id);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getChartContent",value:function(){return v(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n,o,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.data.content,n=JSON.parse(t),o=JSON.parse(n.charts_symbols),i=JSON.parse(n.content),e.abrupt("return",JSON.stringify(Object.assign(Object.assign({},n),{chart_symbols:JSON.stringify(o),content:JSON.stringify(i)})));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"saveLineToolsAndGroups",value:function(e,t,n){return v(this,void 0,void 0,(0,r.A)().mark((function e(){var o,a,s,c=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n.sources){e.next=2;break}return e.abrupt("return");case 2:null==this.drawings&&(this.drawings={data:{},timestamp:0}),null==this.drawings.data&&(this.drawings.data={}),null==this.drawings.data[t]&&(this.drawings.data[t]={}),this.getLocalStorageDrawingsVersion()!==this.drawingsVersion&&this.loadDrawingsFromLocalStorage(),o=(0,i.A)(n.sources),e.prev=8,s=(0,r.A)().mark((function e(){var n,o,i,s,u;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,l.A)(a.value,2),o=n[0],null!=(i=n[1])&&null!=i.symbol&&null!=i.state&&0!==Object.keys(i.state).length?(s=o.split("~")[0],u=Object.assign(Object.assign({},i),{symbol:(0,p.ss)(i.symbol)[0],id:s}),c.coverDrawingOuterSymbolAndId(u),c.drawings.data[t][s]=u):null==i&&Object.keys(c.drawings.data).forEach((function(e){var t,n,r=o.split("~")[0];null===(t=c.drawings)||void 0===t||delete t.data[e][r],null===(n=c.drawings)||void 0===n||delete n.data[e][o]}));case 2:case"end":return e.stop()}}),e)})),o.s();case 11:if((a=o.n()).done){e.next=15;break}return e.delegateYield(s(),"t0",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(8),o.e(e.t1);case 20:return e.prev=20,o.f(),e.finish(20);case 23:this.saveDataToLocalStorage();case 24:case"end":return e.stop()}}),e,this,[[8,17,20,23]])})))}},{key:"loadLineToolsAndGroups",value:function(e,t,n,o){return v(this,void 0,void 0,(0,r.A)().mark((function e(){var n,i,a,s,c,u,d=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=o.symbol){e.next=2;break}return e.abrupt("return",null);case 2:if(null!=(null===(n=this.drawings)||void 0===n?void 0:n.data[t])){e.next=4;break}return e.abrupt("return",null);case 4:return i=(0,p.ss)(o.symbol),a=(0,l.A)(i,2),s=a[0],c=a[1],u=new Map(Object.values(this.drawings.data[t]).filter((function(e){return k(e.symbol,o.symbol||"")})).map((function(e){var t=Object.assign({},e);return t.symbol=(0,p.JM)(s,c),t.id="".concat(t.id,"~").concat(c),d.coverDrawingOuterSymbolAndId(t),[t.id,t]}))),e.abrupt("return",{sources:u});case 7:case"end":return e.stop()}}),e,this)})))}}])}();T.defaultChartName="DEFAULT"},9513:(e,t,n)=>{"use strict";n.d(t,{G:()=>T});var r=n(296),o=n(675),i=n(3029),a=n(2901),s=n(1659),l=n(5069),c=n(3890),u=n(4988),d=n(2187),f=n(7544),h=n(1287),p=n(4467),v=n(5147),g=n(6511),m=n(5302),y=n(6159),b=n(8887),A=n(3907),w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},_=(0,p.A)((0,p.A)((0,p.A)({},m.DF.LEFT,[-65,"pixel"]),m.DF.CENTER,[40,"percentage"]),m.DF.RIGHT,[65,"pixel"]),C=function(){return(0,a.A)((function e(t,n){var r=this;(0,i.A)(this,e),this.chart=t,this.removedFlag=!1,this.orderLineAdapter=null,this.id=(0,b.Lz)(),this.updateOptions=function(e){return w(r,void 0,void 0,(0,o.A)().mark((function t(){return(0,o.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.options=Object.assign(Object.assign({},this.options),e),t.next=3,this.createOrUpdateOrderLine(this.options);case 3:case"end":return t.stop()}}),t,this)})))},this.remove=function(){var e;r.removedFlag=!0,null===(e=r.orderLineAdapter)||void 0===e||e.remove()},this.getOptions=function(){return r.options},this.options=Object.assign(Object.assign({},y.F),n),null===t||void 0===t||t.dataReady((function(){return w(r,void 0,void 0,(0,o.A)().mark((function e(){return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createOrUpdateOrderLine(this.options);case 2:case"end":return e.stop()}}),e,this)})))}))}),[{key:"createOrUpdateOrderLine",value:function(e){return w(this,void 0,void 0,(0,o.A)().mark((function t(){var n,r,i,a,s,l,c,u=this;return(0,o.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.removedFlag){t.next=2;break}return t.abrupt("return");case 2:if(r=(0,A.G7)(e.primaryButtonTextFontSize||void 0,void 0,e.primaryButtonTextFontWeight?"":"bold"),i=(0,A.G7)(e.secondaryButtonTextFontSize||void 0,void 0,e.secondaryButtonTextFontWeight?"":"bold"),a=this.orderLineAdapter){t.next=11;break}return t.next=8,this.chart.createOrderLine();case 8:(a=t.sent).setPrice(-1/0),this.orderLineAdapter=a;case 11:s=e.position||y.F.position,l=_[s],a.setPrice(e.price).setLineStyle(null!==(n=e.lineStyle)&&void 0!==n?n:g.Sc.Dotted).setLineWidth(e.lineWidth||1).setLineColor(e.lineColor||(0,v.sd)("--cc-okd-color-border-contrast")).setText(e.primaryButtonText||"").setBodyFont(r).setBodyBorderColor(e.primaryButtonBorderColor||(0,v.sd)("--cc-okd-color-gray-300")).setBodyTextColor(e.primaryButtonTextColor||(0,v.sd)("--cc-okd-color-content-primary")).setBodyBackgroundColor(e.primaryButtonBackgroundColor||(0,v.sd)("--cc-okd-color-background-1")).setTooltip(e.primaryButtonTooltip||"").setQuantity(e.secondaryButtonText||"").setQuantityFont(i).setQuantityBorderColor(e.secondaryButtonBorderColor||(0,v.sd)("--cc-okd-color-gray-300")).setQuantityTextColor(e.secondaryButtonTextColor||(0,v.sd)("--cc-okd-color-content-primary")).setQuantityBackgroundColor(e.secondaryButtonBackgroundColor||(0,v.sd)("--cc-okd-color-background-1")).setCancellable(Boolean(e.cancellable)).setCancelTooltip(e.cancelButtonTooltip||"").setModifyTooltip(e.secondaryButtonTooltip||"").setCancelButtonBackgroundColor(e.cancelButtonBackgroundColor||(0,v.sd)("--cc-okd-color-background-1")).setCancelButtonBorderColor(e.cancelButtonBorderColor||(0,v.sd)("--cc-okd-color-gray-300")).setCancelButtonIconColor(e.cancelButtonIconColor||(0,v.sd)("--cc-okd-color-content-primary")).setExtendLeft(Boolean(e.leftConnectLineVisible)).setEditable(Boolean(e.moveable)).onMoving((function(){var t,n=a.getPrice();null===(t=e.onMoving)||void 0===t||t.call(e,{price:n,originalPrice:n},e.customCallbackParams),u.options.price=n})).setLineLength(l[0],l[1]).onModify((function(){var t,n=a.getPrice();null===(t=null===e||void 0===e?void 0:e.onClickSecondaryButton)||void 0===t||t.call(e,{price:n,originalPrice:n},u.options.customCallbackParams)})),c=function(){var t,n=a.getPrice();null===(t=e.onMoveEnd)||void 0===t||t.call(e,{price:n,originalPrice:n},e.customCallbackParams),u.options.price=n},a.onMove(e.moveable?c:void 0),e.showCancelButton&&a.onCancel((function(){var t,n=a.getPrice();null===(t=e.onClickCancelButton)||void 0===t||t.call(e,{price:n,originalPrice:n},u.options.customCallbackParams)})),this.orderLineAdapter=a;case 18:case"end":return t.stop()}}),t,this)})))}}])}(),S=n(8666),k=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},T=function(){return(0,a.A)((function e(t,n,r,o){(0,i.A)(this,e),this.setting=t,this.chartManager=n,this.instance=r,this.chartIndex=o}),[{key:"chartAreaManager",get:function(){return this.chartManager.areaByIndex(this.chartIndex)}},{key:"widget",get:function(){return this.instance.getWidget()}},{key:"chartWidget",get:function(){var e,t;return null!==(t=null===(e=this.widget)||void 0===e?void 0:e.chart(this.chartIndex))&&void 0!==t?t:null}},{key:"toggleLoading",value:function(e){}},{key:"setChartStyle",value:function(e){var t;null===(t=this.chartWidget)||void 0===t||t.setChartType(e)}},{key:"getChartStyle",value:function(){var e,t;return null!==(t=null===(e=this.chartWidget)||void 0===e?void 0:e.chartType())&&void 0!==t?t:f.K.Candles}},{key:"handleSymbolChange",value:function(e,t){var n=this,r=(0,S.JM)(e,t);return this.instance.asyncWidgetMethodContext((function(e,t){e.chart(n.chartIndex).setSymbol(r,{dataReady:t,doNotActivateChart:!0})}))}},{key:"isCustomInterval",value:function(e){return null!=this.chartManager.datafeedConfig&&!this.chartManager.datafeedConfig.supportedResolutions.includes(e)}},{key:"handleResolutionChange",value:function(e,t){var n=this;return this.instance.asyncWidgetMethodContext((function(r,o){var i=r.chart(n.chartIndex),a=(0,h.Wc)(e);function s(){i.setResolution(a,{dataReady:o,doNotActivateChart:!0}).catch((function(){}))}n.isCustomInterval(t)?s():i.dataReady((function(){setTimeout((function(){s()}))}))}))}},{key:"legacySetPositions",value:function(e){}},{key:"legacySetOrderRecord",value:function(e){}},{key:"legacySetTradeState",value:function(e){}},{key:"legacySetOrderFilled",value:function(e){}},{key:"legacySetDepth",value:function(e){this.chartManager.orderInputStore.setDepth(e)}},{key:"legacySetMarket",value:function(e){}},{key:"createShape",value:function(e,t){return k(this,void 0,void 0,(0,o.A)().mark((function n(){var r;return(0,o.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=this.chartWidget)||void 0===r?void 0:r.createShape(e,t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"createMultipointShape",value:function(e,t){return k(this,void 0,void 0,(0,o.A)().mark((function n(){var r;return(0,o.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null===(r=this.chartWidget)||void 0===r?void 0:r.createMultipointShape(e,t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"getShapeById",value:function(e){var t,n;return null!==(n=null===(t=this.chartWidget)||void 0===t?void 0:t.getShapeById(e))&&void 0!==n?n:null}},{key:"removeEntity",value:function(e){var t;null===(t=this.chartWidget)||void 0===t||t.removeEntity(e)}},{key:"resetChart",value:function(){}},{key:"setPriceRange",value:function(e,t){}},{key:"setPrecision",value:function(e){var t;null===(t=this.widget)||void 0===t||t.applyOverrides({"mainSeriesProperties.minTick":null==e?"default":"".concat(Math.pow(10,e),",1,false")})}},{key:"dataReady",value:function(){return k(this,void 0,void 0,(0,o.A)().mark((function e(){var t=this;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instance.onReady();case 2:if(null!=this.chartWidget){e.next=4;break}throw new Error("chartWidget is null");case 4:return e.next=6,new Promise((function(e){t.chartWidget.dataReady((function(){setTimeout(e)}))}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"latestBar",value:function(){var e,t=this.instance.getModule("datafeed").getBarRange(this.chartAreaManager.tickerSymbol,this.chartAreaManager.resolution);return null!==(e=null===t||void 0===t?void 0:t.lastBar)&&void 0!==e?e:null}},{key:"timeScaleWidth",value:function(){var e,t;return null!==(t=null===(e=this.chartWidget)||void 0===e?void 0:e.getTimeScale().width())&&void 0!==t?t:Number.NaN}},{key:"rightOffset",value:function(){var e,t;return null!==(t=null===(e=this.chartWidget)||void 0===e?void 0:e.getTimeScale().rightOffset())&&void 0!==t?t:Number.NaN}},{key:"setRightOffset",value:function(e){var t;null===(t=this.chartWidget)||void 0===t||t.getTimeScale().setRightOffset(e)}},{key:"barSpacing",value:function(){var e,t;return null!==(t=null===(e=this.chartWidget)||void 0===e?void 0:e.getTimeScale().barSpacing())&&void 0!==t?t:Number.NaN}},{key:"setBarSpacing",value:function(e){var t;null===(t=this.chartWidget)||void 0===t||t.getTimeScale().setBarSpacing(e)}},{key:"resolveOrRejectWithDataError",value:function(e){var t=this.instance.getModule("datafeed").onMainSeriesError(this.chartAreaManager.tickerSymbol,this.chartAreaManager.resolution,this.chartAreaManager.priceType).pipe((0,s.Q)(e)),n=(0,l._)(t).then((function(e){throw e.error}));return Promise.race([e,n])}},{key:"setVisibleRange",value:function(e){return k(this,void 0,void 0,(0,o.A)().mark((function t(){var n,r,i,a,s,l,c,u=this;return(0,o.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.chartWidget){t.next=2;break}return t.abrupt("return");case 2:return r=null!==(n=this.chartAreaManager.firstBarTime)&&void 0!==n?n:0,i=this.setting.timezone,a=(0,h.eF)(this.chartWidget.resolution()),s=(0,h.zq)(e.from,a,i),l=(0,h.zq)(e.to,a,i),s=Math.max(s,r),l=Math.max((0,h.vV)(s,1,a,i),l),c={from:Math.round((0,S.V6)(i,a,s)/1e3),to:Math.round((0,S.V6)(i,a,l)/1e3)},t.next=12,this.instance.resetErrors();case 12:return t.next=14,this.resolveOrRejectWithDataError(this.chartWidget.setVisibleRange(c)).then((function(){var e;return null===(e=u.chartWidget)||void 0===e?void 0:e.setVisibleRange(c)}));case 14:case"end":return t.stop()}}),t,this)})))}},{key:"goToTime",value:function(e){return k(this,void 0,void 0,(0,o.A)().mark((function t(){var n,i,a,s,l,c,u,d,f,p,v,g,m,y,b;return(0,o.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.chartWidget){t.next=2;break}return t.abrupt("return");case 2:if(null===(n=this.instance.getModule("temporaryShapeManager"))||void 0===n||n.clearAllShapes(),l=null!==(i=this.chartAreaManager.firstBarTime)&&void 0!==i?i:0,c=this.setting.timezone,u=(0,h.eF)(this.chartWidget.resolution()),e=Math.max((0,h.zq)(e,u,c),l),!(1e3*(d=this.chartWidget.getVisibleRange()).from<=e&&e<1e3*d.to)){t.next=11;break}return null===(a=this.instance.getModule("temporaryShapeManager"))||void 0===a||a.addTooltipHint(this.chartIndex,e,{deleteOnClick:!0,deleteOnMove:!0}),t.abrupt("return");case 11:return f=this.chartWidget.getTimeScale().barSpacing(),p=this.chartWidget.getTimeScale().width(),v=(0,h.Vj)(e,.5,p,f,u,c),g=(0,r.A)(v,3),m=g[0],y=g[1],b=g[2],t.next=16,this.instance.resetErrors();case 16:return t.next=18,this.resolveOrRejectWithDataError(this.chartWidget.setVisibleRange({from:Math.round((0,S.V6)(c,u,y)/1e3),to:Math.round((0,S.V6)(c,u,b)/1e3)}));case 18:null===(s=this.instance.getModule("temporaryShapeManager"))||void 0===s||s.addTooltipHint(this.chartIndex,m,{deleteOnClick:!0,deleteOnMove:!0});case 19:case"end":return t.stop()}}),t,this)})))}},{key:"goToTimeRange",value:function(e,t){return k(this,void 0,void 0,(0,o.A)().mark((function n(){var r;return(0,o.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null===(r=this.instance.getModule("temporaryShapeManager"))||void 0===r||r.clearAllShapes(),n.next=3,this.setVisibleRange({from:e,to:t});case 3:case"end":return n.stop()}}),n,this)})))}},{key:"coordinateToTime",value:function(e){if(null==this.chartWidget)return null;var t=this.setting.timezone,n=(0,h.eF)(this.chartWidget.resolution()),r=this.chartWidget.getTimeScale().coordinateToTime(e);return r?(0,S.s1)(t,n,1e3*r):null}},{key:"rightOffsetChanged",value:function(){var e=this;return this.instance.rightOffsetChanged().pipe((0,c.p)((function(t){return(0,r.A)(t,1)[0]===e.chartIndex})),(0,u.T)((function(e){return(0,r.A)(e,2)[1]})))}},{key:"barSpacingChanged",value:function(){var e=this;return this.instance.barSpacingChanged().pipe((0,c.p)((function(t){return(0,r.A)(t,1)[0]===e.chartIndex})),(0,u.T)((function(e){return(0,r.A)(e,2)[1]})))}},{key:"crosshairMoved",value:function(){var e=this;return this.instance.crosshairMoved().pipe((0,c.p)((function(t){return(0,r.A)(t,1)[0]===e.chartIndex})),(0,u.T)((function(t){var n=(0,r.A)(t,2)[1];if(null==e.chartWidget)return null;var o=e.setting.timezone,i=(0,h.eF)(e.chartWidget.resolution());return{time:(0,S.s1)(o,i,1e3*n.time),price:n.price}})),(0,c.p)(Boolean))}},{key:"onTick",value:function(){var e=this;return this.instance.getModule("datafeed").onTick().pipe((0,c.p)((function(t){var n=(0,r.A)(t,2),o=n[0],i=n[1];return e.chartAreaManager.tickerSymbol===o.tickerSymbol&&e.chartAreaManager.resolution===i})),(0,u.T)((function(e){return(0,r.A)(e,3)[2]})))}},{key:"onDataLoaded",value:function(){var e=this;return this.instance.getModule("datafeed").onDataLoaded().pipe((0,c.p)((function(t){var n=(0,r.A)(t,2),o=n[0],i=n[1];return e.chartAreaManager.tickerSymbol===o.tickerSymbol&&e.chartAreaManager.resolution===i})),(0,u.T)((function(){})))}},{key:"createHorizontalLine",value:function(e){return null==this.chartWidget?null:new C(this.chartWidget,e)}},{key:"onPrefillPriceChanged",value:function(){return this.chartAreaManager.prefillPriceChanged()}},{key:"barSelected",value:function(){var e=this;return this.instance.domEventTriggered("click").pipe((0,c.p)((function(t){return(0,r.A)(t,1)[0]===e.chartIndex})),(0,d.E)(this.instance.crosshairMoved().pipe((0,c.p)((function(t){return(0,r.A)(t,1)[0]===e.chartIndex})))),(0,u.T)((function(t){var n=(0,r.A)(t,2),o=(0,r.A)(n[1],2),i=o[0],a=o[1],s=e.setting.timezone,l=e.chartManager.areaByIndex(i).resolution;return{time:(0,S.s1)(s,l,1e3*a.time),price:a.price}})))}},{key:"clearMarks",value:function(){this.instance.clearMarks(this.chartIndex)}},{key:"refreshMarks",value:function(){this.instance.refreshMarks(this.chartIndex)}},{key:"getMainSeriesVisiblePriceRange",value:function(){var e,t,n,r,o,i;return null!==(i=null===(o=null===(r=null===(n=null===(t=null===(e=this.chartWidget)||void 0===e?void 0:e.getPanes().filter((function(e){return e.hasMainSeries()&&e.getMainSourcePriceScale()})))||void 0===t?void 0:t[0])||void 0===n?void 0:n.getMainSourcePriceScale)||void 0===r?void 0:r.call(n))||void 0===o?void 0:o.getVisiblePriceRange())&&void 0!==i?i:null}},{key:"setScrollEnabled",value:function(e){var t;null===(t=this.chartWidget)||void 0===t||t.setScrollEnabled(e)}},{key:"resetTimeScale",value:function(){var e;null===(e=this.chartWidget)||void 0===e||e.executeActionById("timeScaleReset")}}])}()},5957:(e,t,n)=>{"use strict";n.d(t,{y:()=>u});var r=n(296),o=n(3029),i=n(2901),a=n(2187),s=n(4988),l=n(8666),c=n(9513),u=function(){return(0,i.A)((function e(t,n,r){(0,o.A)(this,e),this.setting=t,this.chartManager=n,this.instance=r}),[{key:"widget",get:function(){return this.instance.getWidget()}},{key:"chartByIndex",value:function(e){return new c.G(this.setting,this.chartManager,this.instance,e)}},{key:"activeChart",value:function(){var e,t=null===(e=this.widget)||void 0===e?void 0:e.activeChartIndex();return null!=t?this.chartByIndex(t):void 0}},{key:"setActiveChart",value:function(e){var t;null===(t=this.widget)||void 0===t||t.setActiveChart(e)}},{key:"addSymbolCompare",value:function(){}},{key:"openIndicatorSettingsDialog",value:function(){var e;null===(e=this.widget)||void 0===e||e.activeChart().executeActionById("insertIndicator")}},{key:"openSettingsDialog",value:function(){var e;null===(e=this.widget)||void 0===e||e.activeChart().executeActionById("chartProperties")}},{key:"openCompareSymbolDialog",value:function(){var e;null===(e=this.widget)||void 0===e||e.activeChart().executeActionById("compareOrAdd")}},{key:"showNotification",value:function(e){return this.instance.notificationManager.showNotification(e)}},{key:"onLayoutChange",value:function(e){var t,n=(0,l.YZ)(e);null===(t=this.widget)||void 0===t||t.setLayout(n)}},{key:"onThemeChange",value:function(e,t){var n=this,r=this.instance.widgetReadyPromise;null===r||void 0===r||r.then((function(){var t;null===(t=n.widget)||void 0===t||t.changeTheme((0,l.x3)(e),{disableUndo:!0}).then((function(){var e;null===(e=n.widget)||void 0===e||e.saveChartToServer(),n.instance.updateCSSVariables(),n.instance.applyColorPaletteOverrides()}))})).catch((function(){}))}},{key:"barSelected",value:function(){var e=this;return this.instance.domEventTriggered("click").pipe((0,a.E)(this.instance.crosshairMoved()),(0,s.T)((function(t){var n=(0,r.A)(t,2),o=(0,r.A)(n[1],2),i=o[0],a=o[1],s=e.setting.timezone,c=e.chartManager.areaByIndex(i).resolution;return(0,l.s1)(s,c,1e3*a.time)})))}},{key:"drawingEvent",value:function(){return this.instance.drawingChanged().pipe((0,s.T)((function(e){var t=(0,r.A)(e,2);return{entityId:t[0],type:t[1]}})))}},{key:"markerClick",value:function(){return this.instance.markerClick()}},{key:"patchConfig",value:function(e){var t;null===(t=this.instance.brokerTerminal)||void 0===t||t.patchInternalConfig(e)}},{key:"applyOverrides",value:function(e){var t,n={};Object.entries({"paneProperties.backgroundColor":"paneProperties.background"}).forEach((function(t){var o=(0,r.A)(t,2),i=o[0],a=o[1],s=e[i];void 0!==s&&(n[a]=s)})),0!==Object.keys(n).length&&(null===(t=this.widget)||void 0===t||t.applyOverrides(n)),this.instance.updateCSSVariables()}},{key:"subscribe",value:function(){var e,t;return null===(t=this.widget)||void 0===t?void 0:(e=t).subscribe.apply(e,arguments)}},{key:"unsubscribe",value:function(){var e,t;return null===(t=this.widget)||void 0===t?void 0:(e=t).unsubscribe.apply(e,arguments)}},{key:"undo",value:function(){var e;null===(e=this.widget)||void 0===e||e.activeChart().executeActionById("undo")}},{key:"redo",value:function(){var e;null===(e=this.widget)||void 0===e||e.activeChart().executeActionById("redo")}},{key:"addUndoHistory",value:function(e){}},{key:"clearUndoHistory",value:function(){var e,t;null===(t=null===(e=this.widget)||void 0===e?void 0:e.clearUndoHistory)||void 0===t||t.call(e)}}])}()},4463:(e,t,n)=>{"use strict";n.d(t,{C5:()=>i,Jc:()=>s,Vx:()=>a});var r="INDICATOR",o="&";function i(e,t){return[r,e,t].join(o)}function a(e){var t,n,i=e.split(o);return 3===i.length&&i[0]===r&&(t=i[1],n=i[2]),{tickerSymbol:t,indicatorType:n}}function s(e){return null!=a(e).tickerSymbol}},8666:(e,t,n)=>{"use strict";n.d(t,{J:()=>L,JM:()=>y,O5:()=>x,Rd:()=>R,Ul:()=>m,V6:()=>I,YZ:()=>S,Ym:()=>v,a_:()=>k,ac:()=>A,dz:()=>P,mW:()=>w,s1:()=>O,ss:()=>b,x3:()=>E});var r,o=n(675),i=n(4467),a=n(9719),s=n(5388),l=n(6511),c=n(5302),u=n(3891),d=n(1287),f=n(1790),h=n(946),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},v="OKX",g={zh_CN:"zh",en_US:"en",zh_TW:"zh_TW",fr_FR:"fr",ru_RU:"ru",vi_VN:"vi",id_ID:"id_ID",tr_TR:"tr",de_DE:"de",it_IT:"it",pl_PL:"pl",pt_BR:"pt",pt_PT:"pt",es_ES:"es",es_419:"es",ar_EH:"ar"};function m(e){var t;return null!==(t=g[e])&&void 0!==t?t:g.en_US}function y(e,t){return[e,t||h.SJ.LastPrice].join("~")}function b(e){return e.split("~")}function A(e){switch(e){case h.r3.Spot:case h.r3.Margin:return"spot";case h.r3.Swap:return"swap";case h.r3.Futures:return"futures";case h.r3.Option:return"crypto";case h.r3.Index:return"index";default:return e}}function w(e,t,n,r){var o,i=r?y(e.tickerSymbol,r):e.tickerSymbol;return Object.assign({timezone:t,session:"24x7",format:"price",type:A(e.type),has_seconds:!0,has_intraday:!0,has_daily:!0,has_weekly_and_monthly:!0,has_empty_bars:!1,visible_plots_set:r===h.SJ.LastPrice?"ohlcv":"ohlc",ticker:i,name:e.symbol||e.tickerSymbol,description:(e.description||e.name).replace(/[[\]]/g,""),exchange_logo:e.exchangeLogoUrl,logo_urls:e.logoUrls?e.logoUrls:e.iconUrl?[e.iconUrl]:void 0,exchange:null!==(o=e.exchange)&&void 0!==o?o:v,listed_exchange:e.exchange,minmov:e.minMove,pricescale:e.priceScale,volume_precision:e.volumePrecision,expired:e.expired,expiration_date:e.expired?e.expirationDate:void 0,library_custom_fields:{symbolInfo:e}},n)}var _={s:u.P.Layout1A,"1-2":u.P.Layout3E,"1-3":u.P.Layout4E,"1-4":u.P.Layout5A,"2-1":u.P.Layout3D,"2-2":u.P.Layout4F,"2-3":u.P.Layout5C,"2h":u.P.Layout2A,"2v":u.P.Layout2B,"3h":u.P.Layout3B,"3r":u.P.Layout3F,"3s":u.P.Layout3A,"3v":u.P.Layout3C,4:u.P.Layout4A,"4h":u.P.Layout4B,"4v":u.P.Layout4C,"4s":u.P.Layout4D,"5s":u.P.Layout5B,"5h":u.P.Layout5D,6:u.P.Layout6A,"6c":u.P.Layout6B,"6h":u.P.Layout6C,"7h":u.P.Layout7A,8:u.P.Layout8A,"8c":u.P.Layout8B,"8h":u.P.Layout8C,"4s-l":u.P.Layout4A,"5v":u.P.Layout5A,"6v":u.P.Layout6A,"8v":u.P.Layout8A,"2-2-l":u.P.Layout4A,"3-2":u.P.Layout5A,"2-4":u.P.Layout6A},C=(r={},(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(r,u.P.Layout1A,"s"),u.P.Layout2A,"2h"),u.P.Layout2B,"2v"),u.P.Layout3A,"3s"),u.P.Layout3B,"3h"),u.P.Layout3C,"3v"),u.P.Layout3D,"2-1"),u.P.Layout3E,"1-2"),u.P.Layout3F,"3r"),u.P.Layout4A,"4"),(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(r,u.P.Layout4B,"4h"),u.P.Layout4C,"4v"),u.P.Layout4D,"4s"),u.P.Layout4E,"1-3"),u.P.Layout4F,"2-2"),u.P.Layout5A,"1-4"),u.P.Layout5B,"5s"),u.P.Layout5C,"2-3"),u.P.Layout5D,"5h"),u.P.Layout6A,"6"),(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)(r,u.P.Layout6B,"6c"),u.P.Layout6C,"6h"),u.P.Layout7A,"7h"),u.P.Layout8A,"8"),u.P.Layout8B,"8c"),u.P.Layout8C,"8h"));function S(e){var t;return null!==(t=C[e])&&void 0!==t?t:"s"}function k(e){var t;return null!==(t=_[e])&&void 0!==t?t:u.P.Layout1A}var T=(0,i.A)((0,i.A)((0,i.A)({},c.DF.LEFT,l.N1.Left),c.DF.CENTER,l.N1.Center),c.DF.RIGHT,l.N1.Right);function x(e){var t;return null!==(t=T[e])&&void 0!==t?t:l.N1.Center}function P(e){var t=this;return function(n,r,i){return p(t,void 0,void 0,(0,o.A)().mark((function t(){var r;return(0,o.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(r=n.slice()).filter((function(t){return t.type!==l.xU.Action||!e.includes(t.getState().actionId)})),t.abrupt("return",r.reduce((function(e,t){var n;return(null===(n=e[e.length-1])||void 0===n?void 0:n.type)===l.xU.Separator&&t.type===l.xU.Separator||e.push(t),e}),[]));case 3:case"end":return t.stop()}}),t)})))}}function E(e){return e===a.zG.dark?"dark":"light"}function L(e,t,n){return e.code===t&&!!(null===n||void 0===n?void 0:n.ctrlKey)===e.ctrlKey&&!!(null===n||void 0===n?void 0:n.metaKey)===e.metaKey&&!!(null===n||void 0===n?void 0:n.shiftKey)===e.shiftKey&&!!(null===n||void 0===n?void 0:n.altKey)===e.altKey}function I(e,t,n){if(!(0,f.Or)(e)&&((0,d.wg)(t)||(0,d.OZ)(t)||(0,d.ku)(t)||(0,d.Hy)(t))){var r=(0,f.gP)(e);return n+60*Math.max(r,24)*60*1e3}return n}function O(e,t,n){if(!(0,f.Or)(e)&&((0,d.wg)(t)||(0,d.OZ)(t)||(0,d.ku)(t)||(0,d.Hy)(t))){var r=(0,f.gP)(e);return n-60*Math.max(r,24)*60*1e3}return n}function R(e,t){return(0,s.h)((function(n){return e.subscribe(t,n)}),(function(n){return e.unsubscribe(t,n)}))}},6159:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var r=n(5302),o=n(3469),i=n(1357),a={price:0,lineWidth:1,lineCap:"butt",lineStyle:0,cancellable:!0,moveable:!1,primaryButtonTextFontSize:12,primaryButtonTextFontWeight:500,secondaryButtonTextFontSize:12,secondaryButtonTextFontWeight:500,leftConnectLineVisible:!0,primaryButtonBorderStyle:i.S.Solid,secondaryButtonBorderStyle:i.S.Solid,cancelButtonBorderStyle:i.S.Solid,position:r.DF.RIGHT,showCancelButton:!1,priceAxisViewVisible:!0,visible:!0,associateLineStyle:o.iK.associateLineStyle,associateBallStyle:o.iK.associateBallStyle,lineColor:"white",priceAxisViewBackgroundColor:"rgba(0, 0, 0, 0.5)"}},5387:(e,t,n)=>{"use strict";function r(e){var t,n=e.target;return!!(t=n)&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName||!!t.isContentEditable)}n.d(t,{g:()=>r})},9022:(e,t,n)=>{"use strict";function r(e){return"number"===typeof e&&Number.isFinite(e)}function o(e){return"number"===typeof e&&e%1===0}function i(e){var t;return"object"===(typeof e).toLocaleLowerCase()&&"object"===String(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name).toLocaleLowerCase()}n.d(t,{Et:()=>r,Fq:()=>o,Gv:()=>i})},6960:(e,t,n)=>{"use strict";var r,o,i,a,s,l,c;n.d(t,{Re:()=>s,ZN:()=>a,lQ:()=>r,mj:()=>o,mn:()=>i,pi:()=>c,s0:()=>l}),function(e){e.Profit="profit",e.Price="price",e.Quantity="quantity"}(r||(r={})),function(e){e.ISOLATED="isolated",e.CROSS="cross",e.CASH="cash",e.SPOT_ISOLATED="spot_isolated",e.BATCH_UPDATE="batch_update"}(o||(o={})),function(e){e[e.Buy=1]="Buy",e[e.Sell=-1]="Sell"}(i||(i={})),function(e){e[e.Limit=1]="Limit",e[e.Market=2]="Market",e[e.Stop=3]="Stop",e[e.StopLimit=4]="StopLimit"}(a||(a={})),function(e){e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(s||(s={})),function(e){e[e.TakeProfit=1]="TakeProfit",e[e.StopLoss=2]="StopLoss"}(l||(l={})),function(e){e.Position="position",e.Order="order"}(c||(c={}))},6599:(e,t,n)=>{"use strict";n.d(t,{$y:()=>C,A7:()=>A,AV:()=>u,F4:()=>b,JM:()=>S,LN:()=>h,Oh:()=>k,Q3:()=>P,Z_:()=>_,a6:()=>v,cW:()=>p,hj:()=>g,iI:()=>y,kL:()=>x,us:()=>w,v1:()=>L,wF:()=>T,ww:()=>E,xL:()=>d,y7:()=>m,zU:()=>I});var r=n(4467),o=n(3631),i=n(6511),a=n(8887),s=n(9022),l=n(3451),c=n(6960);function u(e){return null!=e?o._u.thousandFormat(e,{signDisplay:!0,needZero:!1}):void 0}function d(e){return null!=e?o._u.showTruncation(100*e,2,{style:"percent",signDisplay:!0,needZero:!0}):void 0}function f(e,t,n){var r=u(e),o=d(n);return[null!=e?r:void 0,null!=t?t:void 0,null!=n?"(".concat(o,")"):void 0].filter(Boolean).join(" ")}function h(e){var t,n;if(null===(n=null===(t=e.overrides)||void 0===t?void 0:t.text)||void 0===n?void 0:n.text)return e.overrides.text.text;var r=e.pnl,i=Number(r)>0?"+":"",s=o._u.digitLength(r),l="".concat(i).concat(o._u.showTruncation(r,s));return"".concat((0,a.tl)("trade_charts_label_pnl")," ").concat(l)}function p(e){var t,n;return(null===(n=null===(t=e.overrides)||void 0===t?void 0:t.text)||void 0===n?void 0:n.tooltipText)?e.overrides.text.tooltipText:[(0,l.t)("trade_stop_order_chart_tp_sl_hover_pnl"),f(e.pnl,e.pnlUnit,e.pnlRatio)].filter(Boolean).join(" ")}function v(e){var t;if((null===(t=e.overrides)||void 0===t?void 0:t.qty)&&e.overrides.qty.tooltipText)return e.overrides.qty.tooltipText;var n=Math.abs(e.qty);return[(0,l.t)("ok_component_okline_onchart_tooltip_position_size"),o._u.thousandFormat(n,{needZero:!1}),e.qtyUnit].filter(Boolean).join(" ")}function g(e){var t=Math.abs(e.qty);return(0,a.u7)(t).toString()}function m(e){return f(e.takeProfitPnl,void 0,e.takeProfitPnlRatio)}function y(e){return f(e.stopLossPnl,void 0,e.stopLossPnlRatio)}function b(e){var t,n=e.type,r=e.stopSide,o=e.overrides;if(null===(t=null===o||void 0===o?void 0:o.text)||void 0===t?void 0:t.text)return o.text.text;switch(n){case c.ZN.Market:return(0,l.t)("trade_charts_input_unit_riskreward_market");case c.ZN.Limit:return(0,l.t)("ok_component_okline_onchart_limit");case c.ZN.Stop:case c.ZN.StopLimit:return r===c.s0.TakeProfit?(0,l.t)("ok_component_okline_onchart_tp"):(0,l.t)("ok_component_okline_onchart_sl");default:return"unKnown"}}function A(e){var t,n;return(null===(n=null===(t=e.overrides)||void 0===t?void 0:t.close)||void 0===n?void 0:n.tooltipText)?e.overrides.close.tooltipText:(0,l.t)("trade_charts_tooltip_close_position")}function w(e,t){var n,i,a,u=e.type,d=e.side,f=e.stopSide,h=e.limitPrice,p=e.stopPrice,v=e.overrides;if(null===(n=null===v||void 0===v?void 0:v.text)||void 0===n?void 0:n.tooltipText)return v.text.tooltipText;a="number"!==typeof t?o._u.digitLength(null!==h&&void 0!==h?h:p):t;var g=(0,r.A)((0,r.A)({},c.mn.Sell,"ok_component_okline_onchart_tooltip_sell_limit"),c.mn.Buy,"ok_component_okline_onchart_tooltip_buy_limit"),m=(0,r.A)((0,r.A)({},c.mn.Sell,"ok_component_okline_onchart_tooltip_sell_market"),c.mn.Buy,"ok_component_okline_onchart_tooltip_buy_market"),y=(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},c.ZN.Limit,g),c.ZN.Market,m),c.ZN.Stop,m),c.ZN.StopLimit,g),b=[(0,l.t)(null===(i=y[u])||void 0===i?void 0:i[d]),(0,s.Et)(h)?o._u.showTruncation(h,a):null].filter(Boolean).join(" "),A=null!==f&&void 0!==f?f:"default",w=(0,r.A)((0,r.A)({},c.mn.Buy,(0,r.A)((0,r.A)((0,r.A)({},c.s0.TakeProfit,"\u2266"),c.s0.StopLoss,"\u2267"),"default","\u2266")),c.mn.Sell,(0,r.A)((0,r.A)((0,r.A)({},c.s0.TakeProfit,"\u2267"),c.s0.StopLoss,"\u2266"),"default","\u2267"))[d][A];return[b,p?"".concat((0,l.t)("ok_component_okline_onchart_tooltip_trigger_price")," ").concat(w," ").concat(o._u.showTruncation(p,a)):""].filter(Boolean).join("\n")}function _(e){var t=e.qty,n=e.qtyUnit,r=e.pnl,o=e.pnlUnit,i=e.pnlRatio,s=n?" ".concat(n):"",c=Math.abs(t),u="".concat((0,l.t)("ok_component_okline_onchart_tooltip_order_quantity")," ").concat((0,a.u7)(c)).concat(s),d=f(r,o,i);return[d?"".concat((0,l.t)("trade_charts_tooltips_title_estimated_pnl")," ").concat(d):void 0,u].filter(Boolean).join("\n")}function C(e){return f(e.takeProfitPnl,void 0,e.takeProfitPnlRatio)}function S(e){return f(e.stopLossPnl,void 0,e.stopLossPnlRatio)}function k(e,t){switch(e.type){case c.ZN.Limit:return Object.assign(Object.assign({},e),{limitPrice:t});case c.ZN.Stop:case c.ZN.StopLimit:return Object.assign(Object.assign({},e),{stopPrice:t});default:return Object.assign({},e)}}function T(e){if(e)return(0,r.A)((0,r.A)({},c.pi.Order,i.pi.Order),c.pi.Position,i.pi.Position)[e]}function x(e,t){return[e,t].filter(Boolean).join("_")}function P(e){return[e.symbol,e.resolution,e.time,e.side].join("_")}function E(e){return e.id}function L(e){return e.id}function I(e,t){var n=e.qty*e.price,r=t.qty*t.price,o=e.qty+t.qty,i=(n+r)/o;return Object.assign(Object.assign({},e),{qty:o,price:i})}},7544:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,p:()=>a});var r,o=n(4467),i=n(1029);!function(e){e[e.Bars=0]="Bars",e[e.Candles=1]="Candles",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.HeikenAshi=8]="HeikenAshi",e[e.HollowCandles=9]="HollowCandles",e[e.Baseline=10]="Baseline",e[e.HiLo=12]="HiLo",e[e.Column=13]="Column",e[e.LineWithMarkers=14]="LineWithMarkers",e[e.Stepline=15]="Stepline",e[e.HLCArea=16]="HLCArea",e[e.VolCandle=19]="VolCandle",e[e.Renko=4]="Renko",e[e.Kagi=5]="Kagi",e[e.PointAndFigure=6]="PointAndFigure",e[e.LineBreak=7]="LineBreak",e[e.CandlesHLC=1001]="CandlesHLC"}(r||(r={}));var a=(0,o.A)((0,o.A)({},i.N.Original,[r.Candles,r.Bars,r.CandlesHLC,r.Line]),i.N.TradingView,[r.Candles,r.Bars,r.Line,r.Area,r.HeikenAshi,r.HollowCandles,r.Baseline,r.HiLo,r.Column,r.LineWithMarkers,r.Stepline,r.HLCArea,r.Renko,r.Kagi,r.PointAndFigure,r.LineBreak])},1029:(e,t,n)=>{"use strict";var r;n.d(t,{N:()=>r}),function(e){e.Original="Original",e.TradingView="TradingView",e.Depth="Depth",e.MarketCap="MarketCap"}(r||(r={}))},7200:(e,t,n)=>{"use strict";n.d(t,{E:()=>c,P:()=>u});var r=n(5147),o=n(4108),i={color1:["#edf2ff","#dbe5ff","#cad8ff","#b8cbff","#a6beff","#94b1ff","#82a3ff","#7096ff","#5f89ff","#4d7cff","#2962ff","#265aea","#2252d5","#1f4abf","#1b41aa","#183995","#153180","#11296a","#0e2155"],color2:["#f4f4f5","#e9e9eb","#dddee1","#d2d3d7","#c7c8cd","#bcbdc3","#b0b2b8","#a5a7ae","#9a9ca4","#8f919a","#787b86","#6e717b","#646770","#5a5c65","#505259","#46484e","#3c3e43","#323338","#28292d"],color3:["#feeef0","#fddee0","#fccdd1","#fbbcc1","#faabb2","#f99ba2","#f78a93","#f67983","#f56874","#f45864","#f23645","#de323f","#ca2d3a","#b62934","#a1242e","#8d2028","#791b23","#65171d","#511217"],color4:["#eaf7f5","#d6eeea","#c1e6e0","#adddd5","#98d5cb","#84ccc0","#6fc4b6","#5abbab","#46b3a1","#31aa96","#089981","#078c76","#07806c","#067361","#056656","#05594b","#044d41","#034036","#03332b"],color5:["#fff6ea","#ffeed5","#ffe5bf","#ffddaa","#ffd495","#ffcc80","#ffc36a","#ffba55","#ffb240","#ffa92b","#ff9800","#ea8b00","#d57f00","#bf7200","#aa6500","#955900","#804c00","#6a3f00","#553300"],color6:["#f7edf8","#efdbf2","#e6c9eb","#deb7e5","#d6a5de","#ce93d8","#c581d1","#bd6fca","#b55dc4","#ad4bbd","#9c27b0","#8f24a1","#822193","#751d84","#681a75","#5b1767","#4e1458","#411049","#340d3b"],color7:["#fffdef","#fffcde","#ffface","#fff8be","#fff7ad","#fff59d","#fff38d","#fff27c","#fff06c","#ffee5c","#ffeb3b","#ead736","#d5c431","#bfb02c","#aa9d27","#958922","#80761e","#6a6219","#554e14"],white:"#ffffff",black:"#000000"},a={light:Object.assign({},i),dark:Object.assign({},i)},s={color1:["#dbe5ff","#cad8ff","#b8cbff","#a6beff","#94b1ff","#82a3ff","#7096ff","#5f89ff","#4d7cff",(0,r.sd)("--cc-okd-color-blue-900"),(0,r.sd)("--cc-okd-color-blue-800"),(0,r.sd)("--cc-okd-color-blue-700"),(0,r.sd)("--cc-okd-color-blue-600"),(0,r.sd)("--cc-okd-color-blue-500"),(0,r.sd)("--cc-okd-color-blue-400"),(0,r.sd)("--cc-okd-color-blue-300"),(0,r.sd)("--cc-okd-color-blue-200"),(0,r.sd)("--cc-okd-color-blue-100"),(0,r.sd)("--cc-okd-color-blue-100")]},l={light:Object.assign({},s),dark:Object.assign({},s)};function c(e){if(e)return(0,o.A)({},a,e)}function u(e){if(e)return(0,o.A)({},l,e)}},3891:(e,t,n)=>{"use strict";var r;function o(e){return parseInt(e,10)}n.d(t,{L:()=>o,P:()=>r}),function(e){e.Layout1A="1A",e.Layout2A="2A",e.Layout2B="2B",e.Layout3A="3A",e.Layout3B="3B",e.Layout3C="3C",e.Layout3D="3D",e.Layout3E="3E",e.Layout3F="3F",e.Layout4A="4A",e.Layout4B="4B",e.Layout4C="4C",e.Layout4D="4D",e.Layout4E="4E",e.Layout4F="4F",e.Layout5A="5A",e.Layout5B="5B",e.Layout5C="5C",e.Layout5D="5D",e.Layout6A="6A",e.Layout6B="6B",e.Layout6C="6C",e.Layout7A="7A",e.Layout8A="8A",e.Layout8B="8B",e.Layout8C="8C"}(r||(r={}))},1287:(e,t,n)=>{"use strict";n.d(t,{DW:()=>d,Gl:()=>b,Hy:()=>y,OZ:()=>g,VD:()=>C,Vj:()=>k,Wc:()=>h,eF:()=>p,jg:()=>r,ku:()=>m,rb:()=>o,sG:()=>u,vV:()=>_,wg:()=>v,yN:()=>f,zq:()=>S});var r,o,i=n(296),a=n(4467),s=n(1790);!function(e){e.ResolutionLine="line",e.Resolution1s="1s",e.Resolution1m="1m",e.Resolution3m="3m",e.Resolution5m="5m",e.Resolution15m="15m",e.Resolution30m="30m",e.Resolution1H="1H",e.Resolution2H="2H",e.Resolution4H="4H",e.Resolution6H="6H",e.Resolution12H="12H",e.Resolution1D="1D",e.Resolution2D="2D",e.Resolution3D="3D",e.Resolution5D="5D",e.Resolution1W="1W",e.Resolution1M="1M",e.Resolution3M="3M"}(r||(r={})),function(e){e.Second="s",e.Minute="m",e.Hour="H",e.Day="D",e.Week="W",e.Month="M",e.Year="Y"}(o||(o={}));var l=(0,a.A)({},o.Second,1);l[o.Minute]=60*l[o.Second],l[o.Hour]=60*l[o.Minute],l[o.Day]=24*l[o.Hour],l[o.Week]=7*l[o.Day],l[o.Month]=31*l[o.Day],l[o.Year]=365*l[o.Day];var c=/(\d+)?(\D+)?/;function u(e){if(!c.test(e))throw new Error("invalid resolution: ".concat(e));var t=c.exec(e),n=t[1]?parseInt(t[1],10):1,r=t[2]||o.Minute;return r===o.Second&&n>0&&n%60===0&&(n/=60,r=o.Minute),r===o.Minute&&n>0&&n%60===0&&(n/=60,r=o.Hour),r===o.Hour&&n>0&&n%24===0&&(n/=24,r=o.Day),r===o.Day&&n>0&&n%7===0&&(n/=7,r=o.Week),r===o.Month&&n>0&&n%12===0&&(n/=12,r=o.Year),[n,r]}function d(e){var t=u(e),n=(0,i.A)(t,2),r=n[0],o=n[1];return r*l[o]}function f(e){var t=u(e),n=(0,i.A)(t,2),r=n[0],o=n[1];return"".concat(r).concat(o)}function h(e){var t=u(e),n=(0,i.A)(t,2),r=n[0],a=n[1];switch(a){case o.Second:a="S";break;case o.Minute:a="";break;case o.Hour:r*=60,a="";break;case o.Year:r*=12,a=o.Month}return"".concat(r).concat(a)}function p(e){var t=u(e),n=(0,i.A)(t,2),r=n[0],a=n[1];return"S"===a&&(a=o.Second),"".concat(r).concat(a)}function v(e){var t=u(e);return(0,i.A)(t,2)[1]===o.Day}function g(e){var t=u(e);return(0,i.A)(t,2)[1]===o.Week}function m(e){var t=u(e);return(0,i.A)(t,2)[1]===o.Month}function y(e){var t=u(e);return(0,i.A)(t,2)[1]===o.Year}function b(e){var t={seconds:new Set,intraday:new Set,daily:new Set,weekly:new Set,monthly:new Set};e.forEach((function(e){var n=u(e),r=(0,i.A)(n,2),a=r[0];switch(r[1]){case o.Second:t.seconds.add(a);break;case o.Minute:t.intraday.add(a);break;case o.Hour:t.intraday.add(60*a);break;case o.Day:t.daily.add(a);break;case o.Week:t.weekly.add(a);break;case o.Month:t.monthly.add(a);break;case o.Year:t.monthly.add(12*a)}})),t.intraday.has(1)||t.intraday.add(1);var n=function(e){return Array.from(e).sort((function(e,t){return e-t})).map(String)};return{seconds_multipliers:n(t.seconds),intraday_multipliers:n(t.intraday),daily_multipliers:n(t.daily),weekly_multipliers:n(t.weekly),monthly_multipliers:n(t.monthly)}}function A(e,t){return e+60*(0,s.gP)(t)*60*1e3}function w(e,t){return e-60*(0,s.gP)(t)*60*1e3}function _(e,t,n,r){var a=u(n),s=(0,i.A)(a,2),c=s[0],d=s[1];switch(d){case o.Month:var f=new Date(A(e,r));return f.setUTCMonth(f.getUTCMonth()+c*t),w(f.getTime(),r);case o.Year:var h=new Date(A(e,r));return h.setUTCFullYear(h.getUTCFullYear()+c*t),w(h.getTime(),r);default:return e+c*t*(1e3*l[d])}}function C(e,t,n,r){var a=u(n),s=(0,i.A)(a,2),c=s[0],d=s[1];switch(d){case o.Month:var f=new Date(A(e,r)),h=new Date(A(t,r));return 12*(h.getUTCFullYear()-f.getUTCFullYear())+(h.getUTCMonth()-f.getUTCMonth());case o.Year:var p=new Date(A(e,r));return new Date(A(t,r)).getUTCFullYear()-p.getUTCFullYear();default:var v=1e3*l[d];return Math.floor((t-e)/(c*v))}}function S(e,t,n){var r=u(t),a=(0,i.A)(r,2),s=a[0],c=a[1];switch(c){case o.Month:var d=new Date(A(e,n));return d.setUTCMonth(Math.floor(d.getUTCMonth()/s)*s,1),d.setUTCHours(0,0,0,0),w(d.getTime(),n);case o.Year:var f=new Date(A(e,n));return f.setUTCFullYear(Math.floor(f.getUTCFullYear()/s)*s,0,1),f.setUTCHours(0,0,0,0),w(f.getTime(),n);default:var h=1e3*l[c];return e-A(e,n)%(s*h)}}function k(e,t,n,r,o,i){var a=Math.round(n*t),s=Math.floor(a/r),l=Math.floor((n-a)/r),c=S(e,o,i);return[c,_(c,-s,o,i),_(c,l,o,i)]}},1790:(e,t,n)=>{"use strict";n.d(t,{Or:()=>a,gP:()=>o,tb:()=>i});var r={"Etc/UTC":0,"Asia/Hong_Kong":8};function o(e){return null==r[e]&&(r[e]=function(e){if(e)try{var t=(new Date).toLocaleString("en",{timeZone:e,timeZoneName:"longOffset"}).match(/([+-]\d+):(\d+)$/);if(null!=t)return parseInt(t[1],10)+parseInt(t[2],10)/60}catch(n){console.warn('unsupported timezone name: "'.concat(e,'"'))}return Number.NaN}(e)),r[e]}function i(e){var t=Math.floor(Math.abs(e)).toString().padStart(2,"0"),n=Math.round(Math.abs(e)%1*60).toString().padStart(2,"0");return"".concat(e>=0?"+":"-").concat(t).concat(n)}function a(e){return 0===o(e)}},2133:(e,t,n)=>{"use strict";n.d(t,{n:()=>m});var r=n(675),o=n(296),i=n(4883),a=n.n(i),s=n(429),l=n(3029),c=n(2901),u=n(388),d=n(2176),f=n(3954),h=n(5501);var p=function(e){function t(){var e,n,r,o;return(0,l.A)(this,t),n=this,r=t,o=arguments,r=(0,f.A)(r),(e=(0,u.A)(n,(0,d.A)()?Reflect.construct(r,o||[],(0,f.A)(n).constructor):r.apply(n,o))).state={error:void 0},e}return(0,h.A)(t,e),(0,c.A)(t,[{key:"componentDidCatch",value:function(e,t){var n,r;null===(r=(n=this.props).handleError)||void 0===r||r.call(n,e,t)}},{key:"resetError",value:function(){this.setState({error:void 0})}},{key:"render",value:function(){var e,t;return null!=this.state.error?null===(t=(e=this.props).errorFallback)||void 0===t?void 0:t.call(e,this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}])}(a().Component),v=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function m(e){var t=this,n=e.handleError,l=e.handleRetry,c=e.retryFallback,u=e.loadingFallback,d=e.enabled,f=e.loadAsync,h=e.componentRef,m=g(e,["handleError","handleRetry","retryFallback","loadingFallback","enabled","loadAsync","componentRef"]),y=(0,i.useRef)(null),b=(0,i.useState)(!1),A=(0,o.A)(b,2),w=A[0],_=A[1],C=(0,i.useState)(0),S=(0,o.A)(C,2),k=S[0],T=S[1],x=(0,s.j)(l),P=(0,s.j)(f),E=(0,i.useCallback)((function(){var e,t;null===(e=y.current)||void 0===e||e.resetError(),null===(t=x.current)||void 0===t||t.call(x),_(!0),T((function(e){return e+1}))}),[y,x]);(0,i.useEffect)((function(){var e;d||(null===(e=y.current)||void 0===e||e.resetError(),T((function(e){return e+1})))}),[d,y]);var L=(0,i.useMemo)((function(){return a().lazy((function(){return v(t,void 0,void 0,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P.current().finally((function(){_(!1)})));case 1:case"end":return e.stop()}}),e)})))}))}),[P,k]);return a().createElement(p,{ref:y,errorFallback:function(){return null===c||void 0===c?void 0:c(w,E)},handleError:n},d&&a().createElement(i.Suspense,{key:k,fallback:u},a().createElement(L,Object.assign({ref:h},m))))}},7019:(e,t,n)=>{"use strict";n.d(t,{f:()=>u});var r=n(296),o=n(4883),i=n.n(o),a=n(8174),s=n(429),l=n(3451);const c={retry:"retry-hxh_p",title:"title-DrTVV",description:"description-kPfS1",button:"button-BeFZ2"};function u(e){var t=e.retrying,n=e.onRetry,u=e.autoRetry,d=(0,o.useState)(!1),f=(0,r.A)(d,2),h=f[0],p=f[1],v=(0,s.j)(n),g=u&&h;return(0,o.useEffect)((function(){var e=function(){p("visible"===document.visibilityState)};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),(0,o.useEffect)((function(){var e;if(g){var t=setInterval((function(){var e;null===(e=v.current)||void 0===e||e.call(v)}),15e3);return null===(e=v.current)||void 0===e||e.call(v),function(){clearInterval(t)}}}),[v,g]),i().createElement("div",{className:c.retry},i().createElement("span",{className:c.title},(0,l.tt)("trade_charts_emptystate_something_went_wrong")),i().createElement("span",{className:c.description},(0,l.tt)("trade_charts_desc_refresh_the_page")),i().createElement(a.A,{className:c.button,category:a.A.CATEGORY.fill,type:a.A.TYPE.primary,size:a.A.SIZE.xs,loading:t,onClick:function(){null===n||void 0===n||n()}},(0,l.tt)("trade_charts_btn_retry")))}},4905:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>_,VT:()=>S,pw:()=>C});var r=n(4883),o=n.n(r),i=n(792),a=n.n(i),s=n(5061),l=n(2133),c=n(8437),u=function(){return n.e(335).then(n.bind(n,6062))};const d=(0,s.observer)((function(){var e=(0,c.iK)(),t=e.enableTradeOrderButton,n=e.enableTradeOrderPanel,r=(0,c.Bv)().trade;return o().createElement(l.n,{loadAsync:u,enabled:t&&r.orderButton||n&&r.orderPanel})}));var f=n(9749),h=n(1439),p=n(1994);const v=o().forwardRef((function(e,t){return o().createElement(h.Ad,{ref:t,dialogs:p._})}));var g=n(6411),m=o().forwardRef((function(e,t){var n=(0,c.iK)();return o().createElement("div",Object.assign({ref:t},e,{style:Object.assign(Object.assign({},n.cssVariables),e.style)}))}));const y=(0,s.observer)(m);var b=o().createRef(),A=o().createContext(b),w=o().createContext(b);const _=(0,s.observer)((function(e){var t,n,i=e.children,s=(0,r.useRef)(null),l=(0,r.useRef)(null),u=(0,c.Bv)(),h=(0,c.iK)();return(0,r.useEffect)((function(){var e=function(e){var t;u.fullscreen||(null===(t=s.current)||void 0===t?void 0:t.contains(e.target))||u.setFocused(!1)},t=function(){var e;h.enablePriceAlert&&(null===(e=u.priceAlertStore)||void 0===e||e.fetchDataSilently())};return document.addEventListener("mousedown",e),document.addEventListener("pushNotification",t),function(){document.removeEventListener("mousedown",e),document.removeEventListener("pushNotification",t)}}),[u,h,s]),(0,r.useEffect)((function(){return function(){document.body.classList.remove(g.A.fullScreen)}}),[]),(0,r.useEffect)((function(){}),[h.theme]),o().createElement(y,{role:"presentation",ref:s,className:a()(g.A.chart,f.A.flexLayoutColumn),onClick:function(){u.focused||u.setFocused(!0)}},o().createElement(A.Provider,{value:s},o().createElement(w.Provider,{value:l},u.initialized&&o().createElement(o().Fragment,null,((null===(t=u.orderInputStore)||void 0===t?void 0:t.floatOrderInputEnabled)||(null===(n=u.orderInputStore)||void 0===n?void 0:n.crosshairOrderBtnEnabled))&&o().createElement(d,null),o().createElement(v,{ref:function(e){u.dialogManager=e}}),i),o().createElement("div",{ref:l}))))}));function C(){return(0,r.useContext)(A)}function S(){return(0,r.useContext)(w)}},1439:(e,t,n)=>{"use strict";n.d(t,{Ad:()=>d});var r=n(296),o=n(4883),i=n.n(o),a=n(5061),s=n(3029),l=n(2901),c=n(5314),u=function(){return(0,l.A)((function e(){(0,s.A)(this,e),this.openState=new Map,this.additionalParams=new Map,this.refs=new Map,(0,c.makeAutoObservable)(this)}),[{key:"getRef",value:function(e){return this.refs.has(e)||this.refs.set(e,i().createRef()),this.refs.get(e)}},{key:"getOpenState",value:function(e){return!!this.openState.get(e)}},{key:"getAdditionalParams",value:function(e){return this.additionalParams.get(e)}},{key:"openDialog",value:function(e,t){var n,r;this.openState.forEach((function(e,t){})),this.getOpenState(e)&&(null===(r=null===(n=this.getRef(e))||void 0===n?void 0:n.current)||void 0===r||r.resetPosition()),this.openState.set(e,!0),this.additionalParams.set(e,t)}},{key:"closeDialog",value:function(e){this.openState.set(e,!1)}}])}(),d=(0,a.observer)(i().forwardRef((function(e,t){var n=(0,o.useMemo)((function(){return new u}),[]);return(0,o.useImperativeHandle)(t,(function(){return n}),[n]),Object.entries(e.dialogs).map((function(e){var t=(0,r.A)(e,2),o=t[0],a=t[1],s=n.getRef(o),l=n.getAdditionalParams(o);return n.getOpenState(o)&&i().createElement(a,Object.assign({key:o,ref:s,open:!0,onClose:function(){n.closeDialog(o)}},l))}))})))},4747:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(4883),o=n.n(r),i=n(2133);function a(e){return o().forwardRef((function(t,n){return o().createElement(i.n,Object.assign({},t,{componentRef:n,loadAsync:e,enabled:t.open,handleError:t.onClose}))}))}},6285:(e,t,n)=>{"use strict";n.d(t,{Uh:()=>l,ak:()=>u,yw:()=>c});var r=n(4883),o=n.n(r),i=n(5061),a=n(8437),s=o().createContext({chartIndex:void 0}),l=(0,i.observer)((function(e){var t=e.children,n=e.chartIndex,i=(0,r.useMemo)((function(){return{chartIndex:n}}),[n]);return o().createElement(s.Provider,{value:i},t)}));function c(){return(0,r.useContext)(s)}function u(){var e=c().chartIndex;return(0,a.Bv)().areaByIndex(e)}},8437:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>we,Bv:()=>Ce,iK:()=>_e,Ht:()=>Se,OY:()=>xe,YA:()=>ke});var r=n(4883),o=n.n(r),i=n(5061),a=n(9379),s=n(3029),l=n(2901),c=n(388),u=n(2176),d=n(3954),f=n(5501),h=n(8032),p=n(5624),v=n(3357),g=n(1742),m=n(5938),y=n(310),b=n(1230),A=n(5473),w=n(8462);function _(e,t,n){return t=(0,d.A)(t),(0,c.A)(e,(0,u.A)()?Reflect.construct(t,n||[],(0,d.A)(e).constructor):t.apply(e,n))}var C={project:""},S=(0,v.E)(),k=(0,g.f)(),T="en_US",x=1;var P=function(e){function t(){return(0,s.A)(this,t),_(this,t,arguments)}return(0,f.A)(t,e),(0,l.A)(t,[{key:"componentDidMount",value:function(){var e=this.props.fetchConfig;k||e&&window&&window.react_locale_is_done&&window.react_locale_is_done()}},{key:"render",value:function(){return(0,h.jsx)(r.Fragment,{children:this.props.children})}}])}(o().Component),E=function(e){function t(e){var n;(0,s.A)(this,t),(n=_(this,t,[e])).unmount=!1,n.flag=function(){var e=Date.now();return e+ ++x}();var r=n.props,o=r.part,i=void 0===o?{}:o,l=r.isDev,c=r.localeData,u=r.fetchConfig,d=void 0===u?{}:u,f=r.partsData,h=r.noRemoteData,v=w.A.localeStore,g=w.A.localeDevStore,b=w.A.baseInitState,P=w.A.localeState,E=w.A.isPreview,L=w.A.isShowKeyMode,I=w.A.isShowKeyTips,O=w.A.hasLoadedModules,R=w.A.SSRProviderModule,M=T,N=(0,a.A)((0,a.A)({},d),{},{project:(0,A.eg)(null===d||void 0===d?void 0:d.project)}),D=(0,a.A)({},i);D.project=(0,A.eg)((null===D||void 0===D?void 0:D.project)||"");var B=N.intl,F=void 0===B?{}:B,j=Object.keys(F)||[];M=0===j.length?N.locale||(null===S||void 0===S?void 0:S.locale)||T:F.intlConfigs&&F.intlConfigs.locale||(null===S||void 0===S?void 0:S.locale)||T;var V=D.project||N.project||"main";if(c){var H=(0,A.xE)();if((0,p.hQ)()){var z=M.toLowerCase();v[V]={},v[V].moduleLanguage=M,(0,p.D1)()&&(0,p.Rq)(R,{ssrModuleName:V,ssrLocale:z})}else v[V]=(0,a.A)((0,a.A)({},c),H);k||(P["".concat(V,"_").concat(n.flag)]=(0,a.A)({},b));var U={locale:M};if(P[V]=U,k||h)(0,p.Ts)((0,a.A)((0,a.A)({},c),H),{locale:M.toLowerCase(),project:V,from:"i18n"}),!P.fetchModules.find((function(e){return V===(null===e||void 0===e?void 0:e.project)}))&&P.fetchModules.push({project:V,flag:n.flag,fetchDone:!1}),h&&I&&L&&P.fetchConfigs.push(N);var W=O.includes(N.project);(l||W)&&((0,w.B)({isInDevMode:!0}),g[V]=c,W&&(0,p.Ts)(c,{locale:M.toLowerCase(),project:V}),N.project||N.site||(0,p.Ts)(c,{locale:M.toLowerCase(),project:V})),!N.project&&P.fetchModules.length<1&&P.fetchModules.push({project:V})}if(L&&E){var K=localStorage.getItem("ok_language"),G=JSON.parse(K)||{},q=(G["".concat(V,"_").concat(M.toLowerCase())]||G[V]||{}).localData;v[V]=q,P["".concat(V,"_").concat(n.flag)]=(0,a.A)({},b);var Y={locale:M};P[V]=Y,(0,w.B)({isInDevMode:!0}),g[V]=q}var Z=N.project,X=void 0===Z?"":Z;if((k||h)&&(0,y.eY)(X),k||!X||h)f&&((0,w.B)({partsDataProvided:!0}),Object.keys(f).forEach((function(e){v[e]=f[e],(0,y.eY)(e),(0,p.Ts)(f[e],{locale:M.toLowerCase(),project:e})})));else{var J;(C=N).locale=M,S.envSign&&"prod"!==S.envSign&&(0,w.B)({fetchBaseUrl:(0,m.A)().BASE_URL_PREVIEW}),1===N.noCdn&&(0,w.B)({fetchBaseUrl:(0,m.A)().BASE_URL_NOCDN_PREVIEW}),2===N.noCdn&&(0,w.B)({fetchBaseUrl:(0,m.A)().BASE_URL_NOCDN_PUBLISH}),v[X]=(null===(J=window)||void 0===J?void 0:J[X])||{},P["".concat(X,"_").concat(n.flag)]=(0,a.A)({},b);var Q={locale:M};P[X]=Q,P.fetchModules.push({flag:n.flag,project:X,fetchDone:!1}),P.fetchConfigs.find((function(e){return e.site===N.site&&e.project===N.project&&e.locale===N.locale}))||P.fetchConfigs.push(N),(0,w.B)({usingRemote:!0}),(0,y.eY)(X)}if(D.project){var $=(0,a.A)({},C);$.site=D.site,P.locale=C.locale,$.project=D.project;var ee,te=(0,a.A)((0,a.A)({},C),$);if(P.fetchConfigs.push(te),k)v[D.project]={};else v[D.project]=(null===(ee=window)||void 0===ee?void 0:ee[D.project])||{};P["".concat(D.project,"_").concat(n.flag)]=(0,a.A)({},b);var ne={locale:M};P[D.project]=ne,P.fetchModules.push({project:D.project,fetchDone:!1,flag:n.flag}),w.A.usingRemote||w.A.partsDataProvided||(y.kW[D.project]=y.kW),(0,y.eY)(D.project)}return n}return(0,f.A)(t,e),(0,l.A)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.part,r=void 0===n?{}:n,o=t.fetchConfig,i=void 0===o?{}:o,s=t.noRemoteData,l=w.A.localeState,c=(0,a.A)({},r),u=(0,a.A)({},i);u.project=(0,A.eg)((null===u||void 0===u?void 0:u.project)||""),c.project=(0,A.eg)((null===c||void 0===c?void 0:c.project)||"");var d=u.project,f=void 0===d?"":d;if(c.project||u){var h=l[(null!==c&&void 0!==c&&c.project?"".concat(c.project,"_").concat(this.flag):null)||"".concat(u.project,"_").concat(this.flag)];h&&(h.updateView=function(){!e.unmount&&e.forceUpdate()})}if(!k&&f&&!s){var p=(0,a.A)((0,a.A)({},u),{},{flag:this.flag});(0,b.Fq)(p)}if(c.project){var v=(0,a.A)((0,a.A)({},C),{},{site:c.site,project:c.project}),g=(0,a.A)((0,a.A)({},v),{},{flag:this.flag});(0,b.Fq)(g)}}},{key:"componentWillUnmount",value:function(){var e=this,t=w.A.localeState;this.unmount=!0;var n,r=this.props,o=r.part,i=void 0===o?{}:o,s=r.fetchConfig,l=void 0===s?{}:s,c=r.noRemoteData,u=(0,a.A)({},i),d=(0,a.A)({},l),f=(0,A.eg)((null===d||void 0===d?void 0:d.project)||""),h=(0,A.eg)((null===u||void 0===u?void 0:u.project)||""),p=f||h,v=t.fetchModules.findIndex((function(t){return(null===t||void 0===t?void 0:t.project)===p&&t.flag===e.flag}));c||(delete t["".concat(p,"_").concat(this.flag)],v>-1&&(null===t||void 0===t||null===(n=t.fetchModules)||void 0===n||n.splice(v,1)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.part,o=void 0===n?{}:n,i=t.children,s=t.customRender,l=t.normalCsr,c=t.fetchConfig,u=void 0===c?{}:c,d=w.A.localeState,f=(0,a.A)({},o),p=(0,a.A)({},u);p.project=(0,A.eg)((null===p||void 0===p?void 0:p.project)||""),f.project=(0,A.eg)((null===f||void 0===f?void 0:f.project)||"");var v="function"===typeof s;if(!w.A.usingRemote)return(0,h.jsx)(r.Fragment,{children:i});if(f.project||p&&!p.fastRender){var g,m,y,b=f.project||p.project,_=d.fetchModules.find((function(t){return t.project===b&&t.flag===e.flag&&t.fetchDone})),C=!_&&d.fetchModules.find((function(e){return e.project===b&&e.fetchDone})),S=_||C,k=null===(g=window)||void 0===g||null===(m=g.__INIT_STATE__)||void 0===m||null===(y=m.appContext)||void 0===y?void 0:y.isSSR;if(!S&&l||!S&&!k)return v?s(i,!1):null}return(0,h.jsx)(P,{fetchConfig:p,children:v?s(i,!0):i})}}])}(o().Component),L=n(867),I=n(5314),O=n(4494),R=n(1529),M=n(5387),N=n(5422),D=n(5540);const B=new(function(){return(0,l.A)((function e(){(0,s.A)(this,e),this.setting=null,(0,I.makeObservable)(this,{onKeyDown:I.action.bound,listenShortcutEvents:I.action.bound,init:I.action.bound,destroy:I.action.bound})}),[{key:"init",value:function(e){this.setting=e,this.listenShortcutEvents()}},{key:"listenShortcutEvents",value:function(){document.addEventListener("keydown",this.onKeyDown)}},{key:"destroy",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){var t;if((null===(t=this.setting)||void 0===t?void 0:t.enableShortcut)&&!(0,M.g)(e)){var n=(0,D.AC)(e,(0,N.q)());n&&O.F.hasListener(n)&&(O.F.trigger(n,e),e.stopPropagation(),e.preventDefault(),(0,R.jPA)({function_shortcut:n}))}}}])}());var F=n(3421),j=n(4467),V=n(6018),H=n(6953),z=n(7605),U=n(1029),W=n(3360),K=n(675),G=n(3890),q=n(4888),Y=n(8091),Z=n(3730);function X(e,t){return(0,Y.N)((function(n,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};n.subscribe((0,Z._)(r,(function(n){null===o||void 0===o||o.unsubscribe();var a=0,l=i++;(0,q.Tg)(e(n,l)).subscribe(o=(0,Z._)(r,(function(e){return r.next(t?t(n,e,l,a++):e)}),(function(){o=null,s()})))}),(function(){a=!0,s()})))}))}var J=n(3307);var Q=n(9728),$=n(4802);function ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,J.U)(1)((0,$.H)(e,(0,Q.lI)(e)))}var te=n(4988),ne=n(1287),re=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function oe(e){return void 0!==e}var ie=function(){return(0,l.A)((function e(t,n,r){var o=this;(0,s.A)(this,e),this.setting=t,this.chartManager=n,this.chartIndex=r,this.onPriceTypeChanged=function(){return(0,W.u)((function(){var e;return null===(e=o.chartAreaManager)||void 0===e?void 0:e.priceType})).pipe((0,G.p)(oe))},this.onResolutionChanged=function(){return(0,W.u)((function(){var e;return null===(e=o.chartAreaManager)||void 0===e?void 0:e.resolution})).pipe((0,G.p)(oe))}}),[{key:"chartAreaManager",get:function(){return this.chartManager.areaByIndex(this.chartIndex)}},{key:"internalChartWidget",get:function(){var e;return null===(e=this.chartManager.internalWidget)||void 0===e?void 0:e.chartByIndex(this.chartIndex)}},{key:"symbol",value:function(){return this.chartAreaManager.tickerSymbol}},{key:"resolution",value:function(){return this.chartAreaManager.resolution}},{key:"priceType",value:function(){return this.chartAreaManager.priceType}},{key:"latestBar",value:function(){var e,t;return null!==(t=null===(e=this.internalChartWidget)||void 0===e?void 0:e.latestBar())&&void 0!==t?t:null}},{key:"setSymbol",value:function(e,t){return re(this,void 0,void 0,(0,K.A)().mark((function n(){var r;return(0,K.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===(r=this.chartAreaManager)||void 0===r?void 0:r.setSymbol(e,t);case 2:case"end":return n.stop()}}),n,this)})))}},{key:"setResolution",value:function(e){return re(this,void 0,void 0,(0,K.A)().mark((function t(){var n;return(0,K.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=this.chartAreaManager)||void 0===n?void 0:n.setResolution(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setPriceType",value:function(e){return re(this,void 0,void 0,(0,K.A)().mark((function t(){var n;return(0,K.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=this.chartAreaManager)||void 0===n?void 0:n.setPriceType(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setPrecision",value:function(e){var t;null===(t=this.internalChartWidget)||void 0===t||t.setPrecision(e)}},{key:"dataReady",value:function(){return re(this,void 0,void 0,(0,K.A)().mark((function e(){var t,n,r=this;return(0,K.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.when)((function(){return r.chartManager.internalWidgetReady}));case 2:return e.abrupt("return",null!==(n=null===(t=this.internalChartWidget)||void 0===t?void 0:t.dataReady())&&void 0!==n?n:Promise.reject());case 3:case"end":return e.stop()}}),e,this)})))}},{key:"toggleLoading",value:function(e){var t;null===(t=this.internalChartWidget)||void 0===t||t.toggleLoading(e)}},{key:"persistOnChartTypeChangeObservable",value:function(e){var t=this;return(0,W.u)((function(){return t.chartManager.internalWidgetReady}),{fireImmediately:!0}).pipe((0,G.p)(Boolean),X((function(){var t;return null!==(t=e())&&void 0!==t?t:H.w})))}},{key:"subscribe",value:function(e,t){var n,r=this;switch(e){case"symbolChanged":n=(0,W.u)((function(){var e;return null===(e=r.chartAreaManager)||void 0===e?void 0:e.tickerSymbol}));break;case"resolutionChanged":n=(0,W.u)((function(){var e;return null===(e=r.chartAreaManager)||void 0===e?void 0:e.resolution}));break;case"onTick":n=this.persistOnChartTypeChangeObservable((function(){var e;return null===(e=r.internalChartWidget)||void 0===e?void 0:e.onTick()}));break;case"dataLoaded":n=this.persistOnChartTypeChangeObservable((function(){return r.internalChartWidget.onDataLoaded().pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,Q.lI)(e);return(0,Y.N)((function(t,r){(n?ee(e,t,n):ee(e,t)).subscribe(r)}))}(void 0))}));break;case"prefillPriceChanged":n=(0,W.u)((function(){return r.chartManager.internalWidgetReady}),{fireImmediately:!0}).pipe(X((function(){var e,t;return(null!==(t=null===(e=r.internalChartWidget)||void 0===e?void 0:e.onPrefillPriceChanged())&&void 0!==t?t:H.w).pipe((0,te.T)((function(e){return{price:e,symbol:r.symbol()}})))})));break;case"drawing_event":n=new V.c((function(e){var t=function(t,n){e.next({id:t,type:n})};return z.A.on("drawing_event",t),function(){z.A.off("drawing_event",t)}}));break;case"markerClick":n=this.persistOnChartTypeChangeObservable((function(){var e;return null===(e=r.chartManager.internalWidget)||void 0===e?void 0:e.markerClick()}));break;case"barSelected":n=this.persistOnChartTypeChangeObservable((function(){var e;return null===(e=r.internalChartWidget)||void 0===e?void 0:e.barSelected()}));break;case"areaSelectionChanged":n=this.persistOnChartTypeChangeObservable((function(){var e;return null===(e=r.chartAreaManager)||void 0===e?void 0:e.areaSelectionChanged()}));break;case"priceTypeChanged":n=(0,W.u)((function(){var e;return null===(e=r.chartAreaManager)||void 0===e?void 0:e.priceType}));break;default:n=H.w}var o=t;return n.subscribe(o)}},{key:"timeToBarTime",value:function(e){return(0,ne.zq)(e,this.resolution(),this.setting.timezone)}},{key:"timeToEndOfBarTime",value:function(e){return(0,ne.vV)(this.timeToBarTime(e),1,this.resolution(),this.setting.timezone)}},{key:"enterAreaSelection",value:function(e){return re(this,void 0,void 0,(0,K.A)().mark((function t(){var n;return(0,K.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=this.chartAreaManager)||void 0===n?void 0:n.enterAreaSelection(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"exitAreaSelection",value:function(){var e;null===(e=this.chartAreaManager)||void 0===e||e.exitAreaSelection()}},{key:"setDepth",value:function(e){var t;null===(t=this.internalChartWidget)||void 0===t||t.legacySetDepth(e)}},{key:"setMarket",value:function(e){var t;null===(t=this.internalChartWidget)||void 0===t||t.legacySetMarket(e)}},{key:"createHorizontalLine",value:function(e){var t;return(null===(t=this.internalChartWidget)||void 0===t?void 0:t.createHorizontalLine(e))||null}},{key:"createShape",value:function(e,t){return re(this,void 0,void 0,(0,K.A)().mark((function n(){var r,o;return(0,K.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null!==(o=null===(r=this.internalChartWidget)||void 0===r?void 0:r.createShape(e,t))&&void 0!==o?o:null);case 1:case"end":return n.stop()}}),n,this)})))}},{key:"createMultipointShape",value:function(e,t){return re(this,void 0,void 0,(0,K.A)().mark((function n(){var r,o;return(0,K.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null!==(o=null===(r=this.internalChartWidget)||void 0===r?void 0:r.createMultipointShape(e,t))&&void 0!==o?o:null);case 1:case"end":return n.stop()}}),n,this)})))}},{key:"getShapeById",value:function(e){var t,n;return null!==(n=null===(t=this.internalChartWidget)||void 0===t?void 0:t.getShapeById(e))&&void 0!==n?n:null}},{key:"resetChart",value:function(){var e;null===(e=this.internalChartWidget)||void 0===e||e.resetChart()}},{key:"setPriceRange",value:function(e,t){var n;null===(n=this.internalChartWidget)||void 0===n||n.setPriceRange(e,t)}},{key:"removeEntity",value:function(e){var t;null===(t=this.internalChartWidget)||void 0===t||t.removeEntity(e)}},{key:"clearMarks",value:function(){var e;null===(e=this.internalChartWidget)||void 0===e||e.clearMarks()}},{key:"refreshMarks",value:function(){var e;null===(e=this.internalChartWidget)||void 0===e||e.refreshMarks()}},{key:"resetTimeScale",value:function(){var e,t;null===(t=null===(e=this.internalChartWidget)||void 0===e?void 0:e.resetTimeScale)||void 0===t||t.call(e)}}])}(),ae=function(){return(0,l.A)((function e(t,n){var r=this;(0,s.A)(this,e),this.setting=t,this.chartManager=n,this.onChartTypeChanged=function(){return(0,W.u)((function(){return r.setting.chartType}))}}),[{key:"internalWidget",get:function(){return this.chartManager.internalWidget}},{key:"chartCount",value:function(){return this.chartManager.chartCount}},{key:"chart",value:function(e){if(e<this.chartCount())return new ie(this.setting,this.chartManager,e)}},{key:"activeChart",value:function(){return this.chart(this.chartManager.selectedIndex)}},{key:"setActiveChart",value:function(e){e<this.chartCount()&&this.chartManager.setSelectedIndex(e)}},{key:"layout",value:function(){return this.setting.layout}},{key:"setLayout",value:function(e){this.chartManager.setLayout(e)}},{key:"theme",value:function(){return this.setting.theme}},{key:"setTheme",value:function(e){this.chartManager.setTheme(e)}},{key:"reverseColor",value:function(){var e;return null!==(e=this.setting.reverseColor)&&void 0!==e&&e}},{key:"setReverseColor",value:function(e){this.chartManager.setReverseColor(e)}},{key:"timezone",value:function(){return this.setting.timezone}},{key:"setTimezone",value:function(e){this.chartManager.setTimezone(e)}},{key:"chartType",value:function(){return this.setting.chartType}},{key:"setChartType",value:function(e){this.chartManager.setChartType(e)}},{key:"fullscreen",value:function(){return this.chartManager.fullscreen}},{key:"setFullscreen",value:function(e){this.chartManager.setFullscreen(e)}},{key:"toggleLoading",value:function(e){this.chartManager.setLoading(e)}},{key:"subscribe",value:function(e,t){var n,r=this;switch(e){case"chartTypeChanged":n=(0,W.u)((function(){return r.setting.chartType}));break;case"layoutChanged":n=(0,W.u)((function(){return r.setting.layout}));break;case"activeChartChanged":n=(0,W.u)((function(){return r.chartManager.selectedIndex}));break;case"drawing_event":n=new V.c((function(e){var t=function(t,n){e.next({id:t,type:n})};return z.A.on("drawing_event",t),function(){z.A.off("drawing_event",t)}}));break;case"fullScreenChanged":n=(0,W.u)((function(){return r.chartManager.fullscreen}));break;default:n=H.w}var o=t;return n.subscribe(o)}},{key:"reloadChart",value:function(){this.chartManager.reloadChart()}},{key:"applyOverrides",value:function(e){var t,n;this.chartManager.applyOverrides(e),null===(n=null===(t=this.internalWidget)||void 0===t?void 0:t.applyOverrides)||void 0===n||n.call(t,e)}},{key:"getBrokerApiVersion",value:function(){return 2}},{key:"getSetting",value:function(){return this.setting}},{key:"getChartManager",value:function(){return this.chartManager}},{key:"getTradingSetting",value:function(){return Object.assign(Object.assign({},this.chartManager.trade),{placeOrder:this.chartManager.trade.orderPanel||this.chartManager.trade.orderButton})}},{key:"setEnabledFeatures",value:function(e){this.setting.updateValue("enabledFeatures",e)}},{key:"setDisabledFeatures",value:function(e){this.setting.updateValue("disabledFeatures",e)}},{key:"getShortcutConfig",value:function(){return(0,j.A)((0,j.A)({},U.N.Original,(0,N.g)(!1)),U.N.TradingView,(0,N.g)(!0))}}])}(),se=n(296),le=n(1143),ce=n(6263),ue=n(8887),de=n(946),fe=n(1327),he=n(6936);function pe(e){return"boolean"===typeof e?!e:e}function ve(e){switch(e){case"0":return de.Nf.BaseCurrency;case"2":return de.Nf.QuoteCurrency;case"1":return de.Nf.Contract;default:return de.Nf.Default}}var ge=function(e){function t(){var e,n,r,o;return(0,s.A)(this,t),n=this,r=t,r=(0,d.A)(r),(e=(0,c.A)(n,(0,u.A)()?Reflect.construct(r,o||[],(0,d.A)(n).constructor):r.apply(n,o))).rawData={},(0,I.makeObservable)(e,{rawData:I.observable,updateAll:I.action}),e}return(0,f.A)(t,e),(0,l.A)(t,[{key:"updateAll",value:function(e){var t,n,r,o;this.rawData=e,this.updateValue("storageId",e.kId),this.setFeature(he.Xj.HeaderWidget,pe(e.disableHeaderWidget)),this.setFeature(he.Xj.HeaderSimpleMode,e.isSimple),null!=e.priceTypeMenuVisible?this.setFeature(he.Xj.HeaderPriceTypeMenu,e.priceTypeMenuVisible):this.setFeature(he.Xj.HeaderPriceTypeMenu,!!e.priceType),this.setFeature(he.Xj.HeaderLayoutSelectMenu,e.showLayoutSelect),this.setFeature(he.Xj.HeaderKLineTradeMode,e.isKlineLayout),this.setFeature(he.Xj.TradeIndicator,e.enableTradeIndicator),this.setFeature(he.Xj.HeaderCandleStyleMenu,pe(e.disableChartStyle)),this.setFeature(he.Xj.HeaderFullscreenButton,e.showFullscreen),this.setFeature(he.Xj.PercentageMarketOrder,e.enableMarketPercentageOrder),this.setFeature(he.Xj.PercentageLimitOrder,e.enableLimitPercentageOrder),this.setFeature(he.Xj.MouseClickScale,e.enableClickScale),this.setFeature(he.Xj.Trade,e.enableKlineOrder),this.setFeature(he.Xj.TradeOrderRecord,e.enableOrderRecord),this.setFeature(he.Xj.TradeOrderPanel,e.enableOrderInput),this.setFeature(he.Xj.TradeOrderButton,e.enableOrderInput),this.setFeature(he.Xj.CreateVolumeIndicatorByDefault,e.createVolumeIndicator),this.setFeature(he.Xj.PriceAlert,e.enablePriceAlert),this.setFeature(he.Xj.PrefillPrice,e.enablePrefillPrice),this.setFeature(he.Xj.TradingViewWebhookAlert,e.enableTVWebhookAlert),this.setFeature(he.Xj.HideDrawingToolsByDefault,e.disableDrawingTools),this.setFeature(he.Xj.TimeframesToolbar,pe(e.disableTimeframesToolbar)),Array.isArray(e.priceTypes)&&(this.supportedPriceTypes=e.priceTypes.map((function(e){return(0,ue.$A)(e)}))),Array.isArray(e.supportedLayouts)&&(this.supportedLayouts=e.supportedLayouts),e.klineTypes&&(this.supportedChartTypes=(o=e.klineTypes,Object.entries(o).filter((function(e){return(0,se.A)(e,2)[1]})).map((function(e){return(0,se.A)(e,1)[0]})))),this.updateValue("timezone",e.openTimeZone===le.xP.UTC_EIGHT?"Asia/Hong_Kong":"Etc/UTC"),this.updateValue("resolution",e.resolution),this.updateValue("symbol",e.symbol),this.updateValue("tickerSymbol",e.tickerSymbol||"".concat(e.instType,":").concat(e.instId||e.symbol)),this.updateValue("priceType",e.priceType?(0,ue.$A)(e.priceType):this.priceType||(null===(t=(0,fe.i)(this.storageId))||void 0===t?void 0:t.priceType)||de.SJ.LastPrice),this.updateValue("chartType",e.klineType),this.updateValue("layout",e.layout),this.updateValue("locale",e.language),this.updateValue("theme",e.theme),this.updateValue("reverseColor",null!==(r=null!==(n=e.reverseColor)&&void 0!==n?n:this.reverseColor)&&void 0!==r?r:(0,ce.gg)(this.storageId)),this.updateValue("longShortMode",e.isLongShort),this.updateValue("headerPortalRef",e.headerPortalRef),this.updateValue("getTradeHeader",e.getTradeHeader),this.updateValue("openPlaceOrderPane",e.openPlaceOrderPane),this.updateValue("priceFormatterFactory",e.priceFormatterFactory),this.updateValue("studyFormatterFactory",e.studyFormatterFactory),this.updateValue("chartProperties",e.overrides);var i=e.isSimple||e.singleChartMode;i&&this.setFeature(he.Xj.HeaderLayoutSelectMenu,!1),this.setFeature(he.Xj.MultiCharts,!i),this.supportedChartTypes.includes(this.chartType)||this.updateValue("chartType",this.supportedChartTypes[0]),this.updateValue("onThemeChange",e.setTheme),this.updateValue("chartTradeSettingActions",e.chartTradeSettingActions),this.updateValue("inverseTradeUnit",ve(e.inverseTradeUnit)),this.updateValue("linearTradeUnit",ve(e.linearTradeUnit)),this.setFeature(he.Xj.HeaderCompareSymbolMenu,pe(e.disableCompareSymbolMenu)),this.setFeature(he.Xj.SaveDrawingToServer,pe(e.disableUserDataUpload)),this.setFeature(he.Xj.SaveIndicatorSettingToServer,e.enableIndicatorSync),this.setFeature(he.Xj.DisplayOrderQuantityHint,e.displayOrderQuantityHint),this.setFeature(he.Xj.HistoryDataTools,e.enableHistoryDataTools),this.setFeature(he.Xj.CustomExpr,e.customExpr),this.setFeature(he.Xj.SymbolCompare,e.symbolCompare),this.setFeature(he.Xj.Marks,e.enableMarks),this.setFeature(he.Xj.Shortcut,e.enableShortcut),this.updateValue("renderAlertHeaderPortal",e.renderAlertHeaderPortal),this.updateValue("contextMenu",e.contextMenu)}}])}(he.B5),me=n(429),ye=o().createContext(null);function be(){return(0,r.useContext)(ye)}var Ae=(0,i.observer)((function(e){var t=e.children,n=e.legacyConfig,a=e.initConfig,s=be(),l=s.setting,c=s.chartManager,u=(0,me.j)(n),d=(0,me.j)(a);(0,r.useEffect)((function(){return c.init(d.current).catch((function(e){0})).finally((function(){var e,t;u.current&&(null===(t=(e=l).updateAll)||void 0===t||t.call(e,u.current))})),function(){c.destroy()}}),[c,l,u,d]);var f=c.orderInputStore,h=c.priceAlertStore,p=c.trade.orderRecord;return(0,r.useEffect)((function(){var e,t;null===(t=null===(e=c.activeArea)||void 0===e?void 0:e.internalChartWidget)||void 0===t||t.legacySetOrderRecord(p)}),[c,p]),(0,r.useEffect)((function(){return l.enableShortcut&&(B.init(l),c.keyboardShortcutManager.init()),function(){B.destroy(),c.keyboardShortcutManager.destroy()}}),[c.keyboardShortcutManager,l.enableShortcut]),o().createElement(i.Provider,{orderInputStore:f,priceAlertStore:h},t)})),we=o().forwardRef((function(e,t){var n=(0,r.useMemo)((function(){return new ge}),[]),i=(0,r.useMemo)((function(){return new F.C7(n)}),[n]),a=(0,r.useMemo)((function(){return e.slots||{}}),[e.slots]),s=(0,r.useMemo)((function(){return{setting:n,chartManager:i,slots:a}}),[n,i,a]),l=(0,r.useMemo)((function(){return n&&i?new ae(n,i):null}),[n,i]);return(0,r.useImperativeHandle)(t,(function(){return l}),[l]),o().createElement(E,{fetchConfig:L.D,normalCsr:!0},o().createElement(ye.Provider,{value:s},o().createElement(Ae,Object.assign({},e))))}));function _e(){return be().setting}function Ce(){return be().chartManager}function Se(){return be().slots}function ke(){return Ce().symbolResolver}var Te={name:"",symbol:"",tickerSymbol:"",underlyingSymbol:void 0,type:"",contractType:void 0,fullName:"",iconUrl:"",description:"",exchange:"",timezone:"",minMove:1,minSize:0,priceScale:1,volumePrecision:0,baseCurrency:"",quoteCurrency:"",expired:!1,expirationDate:void 0};function xe(e){var t=ke().getSymbolInfo(e);return null!==t&&void 0!==t?t:Te}},3421:(e,t,n)=>{"use strict";n.d(t,{C7:()=>at,pk:()=>Me,Th:()=>Re});var r=n(675),o=n(4467),i=n(3029),a=n(2901),s=n(296),l=n(5147),c=n(4108),u=n(5314),d=n(7462),f=n(5981),h=n(4687),p=n(5302),v=n(2332),g=n(2658),m=n(4753),y=(0,a.A)((function e(){var t=this;(0,i.A)(this,e),this.crosshairMode=!1,this.price=0,this.visible=!1,this.canRemoveDrawings=!1,this.canRemoveIndicators=!1,this.drawingLine=function(){},this.contextMenuX=0,this.contextMenuY=0,this.currentAreaStore=null,this.paneStore=null,this.setContextMenu=function(e){var n=e.crosshairMode,r=void 0!==n&&n,o=e.show,i=e.x,a=e.y,s=e.price,l=e.drawingLine,c=e.canRemoveDrawings,u=e.canRemoveIndicators,d=e.areaStore,f=e.paneStore;t.crosshairMode=r,t.price=s,t.visible=o,t.contextMenuX=i,t.contextMenuY=a,t.canRemoveDrawings=c,t.canRemoveIndicators=u,t.drawingLine=l,t.currentAreaStore=d,t.paneStore=f},(0,u.makeObservable)(this,{price:u.observable,visible:u.observable,contextMenuX:u.observable,contextMenuY:u.observable,canRemoveDrawings:u.observable,canRemoveIndicators:u.observable,setContextMenu:u.action,drawingLine:u.observable})})),b=n(7464),A=n(1482),w=n(8887),_=n(9022),C=n(946),S=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},k=function(){return(0,a.A)((function e(t){var n=this,o=t.chartManager,a=t.setting;(0,i.A)(this,e),this.bidPrice=null,this.askPrice=null,this.sellSize=void 0,this.buySize=void 0,this.sellSizePercent=void 0,this.buySizePercent=void 0,this.lastPriceMap=new Map,this.cursorPrice=null,this.price=null,this.floatModeVisible=!0,this.fastModeVisible=!1,this.fastModeX=0,this.fastModeY=0,this.savePosition=(0,b.A)((function(e){n.chartManager.setOrderPanelPosition(e)}),500),this.setDepth=function(e){var t=e.bids,r=e.asks,o=t.length?t[0][0]:NaN,i=r.length?r[r.length-1][0]:NaN;n.bidPrice=o,n.askPrice=i},this.setLastPrice=function(e,t){n.lastPriceMap.set(e,t)},this.setCursorPrice=function(e){n.cursorPrice=e},this.setFastMode=function(e){var t=e.show,r=e.x,o=e.y,i=e.price;n.fastModeVisible=null!==t&&void 0!==t?t:n.fastModeVisible,n.price=(0,_.Et)(i)?i:n.cursorPrice,n.fastModeX=r,n.fastModeY=o},this.getQtyMetaInfo=function(e){return S(n,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=this.brokerTerminalDelegate)||void 0===n?void 0:n.getInstrumentInfo(e);case 2:return i=t.sent,t.abrupt("return",null!==(o=null===i||void 0===i?void 0:i.qty)&&void 0!==o?o:{min:0,step:void 0});case 4:case"end":return t.stop()}}),t,this)})))},this.getBuySellLimit=function(e){return S(n,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.chartManager.activeArea.tickerSymbol,s=this.lastPriceMap.get(a),t.abrupt("return",null===(i=null===(n=this.brokerTerminalDelegate)||void 0===n?void 0:(o=n.brokerTerminal).previewMarginAvailable)||void 0===i?void 0:i.call(o,a,null!==e&&void 0!==e?e:s));case 3:case"end":return t.stop()}}),t,this)})))},this.chartManager=o,this.setting=a,(0,u.makeObservable)(this,{bidPrice:u.observable,askPrice:u.observable,sellSize:u.observable,buySize:u.observable,sellSizePercent:u.observable,buySizePercent:u.observable,lastPriceMap:u.observable,cursorPrice:u.observable,price:u.observable,floatModeVisible:u.observable,fastModeVisible:u.observable,fastModeX:u.observable,fastModeY:u.observable,precision:u.computed,onPlaceOrder:u.computed,unit:u.computed,setDepth:u.action,setLastPrice:u.action,setCursorPrice:u.action,setFastMode:u.action,buySellLimitCounter:u.computed})}),[{key:"symbolResolver",get:function(){return this.chartManager.symbolResolver}},{key:"brokerTerminalDelegate",get:function(){return this.chartManager.brokerTerminalDelegate}},{key:"floatOrderInputEnabled",get:function(){return this.setting.enableTradeOrderPanel&&this.chartManager.trade.orderPanel&&this.chartManager.activeArea&&!this.chartManager.activeArea.isCustomExpr}},{key:"crosshairOrderBtnEnabled",get:function(){return this.setting.enableTradeOrderButton&&this.chartManager.trade.orderButton}},{key:"precision",get:function(){var e,t=this.symbolResolver.getSymbolInfo(this.chartManager.activeArea.tickerSymbol);return Math.log10(null!==(e=null===t||void 0===t?void 0:t.priceScale)&&void 0!==e?e:1)}},{key:"onPlaceOrder",get:function(){var e=this;return function(t){var n,r,o,i=t.type,a=t.params;i===A.q.FAST&&e.setFastMode({show:!1}),null===(o=null===(n=e.brokerTerminalDelegate)||void 0===n?void 0:(r=n.brokerTerminal).placeOrder)||void 0===o||o.call(r,a)}}},{key:"position",get:function(){return this.chartManager.orderPanelPosition}},{key:"unit",get:function(){var e=this.symbolResolver.getSymbolInfo(this.chartManager.activeArea.tickerSymbol);if(null==e)return"";var t=e.contractType,n=e.baseCurrency,r=e.quoteCurrency,o=this.chartManager.activeArea.tradeUnit,i=n;return t&&(o===C.Nf.Contract&&(i=(0,w.tl)("trade_list_text_common_unit_cont")),o===C.Nf.QuoteCurrency&&(i=r)),i}},{key:"buySellLimitCounter",get:function(){var e;return null===(e=this.brokerTerminalDelegate)||void 0===e?void 0:e.accountUpdateCounter}}])}(),T=n(1659),x=n(2916),P=n(4988),E=n(7009),L=n(4316),I=n(1287),O=n(13),R=n(3360),M=n(6960),N=n(6599),D=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},B={configFlags:{supportExecutions:!0,supportOrders:!0,supportPositions:!0,supportOrderBrackets:!0,supportModifyOrderPrice:!0,supportPositionBrackets:!0,supportReversePosition:!0}};function F(e){return e.map((function(e){return Object.assign({},e)}))}var j=function(){return(0,a.A)((function e(t,n,r){var o=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B;(0,i.A)(this,e),this.chartManager=t,this.setting=n,this.symbols=new Set,this.resolutions=new Map,this.instrumentsReq=new Map,this.ordersReq=new Map,this.positionsReq=new Map,this.executionsReq=new Map,this.abortController=new AbortController,this.subscribedKeys=new Set,this._forceUpdateCounter=0,this.accountUpdateCounter=0,this._instruments=new Map,this._orders=new Map,this._positions=new Map,this._executions=new Map,this.leverageInfoMap=new Map,(0,u.makeObservable)(this,{_forceUpdateCounter:u.observable,accountUpdateCounter:u.observable,_executions:u.observable.deep,_orders:u.observable.deep,_positions:u.observable.deep,leverageInfoMap:u.observable.deep}),this.brokerTerminal=r(this),this.customUI=a.customUI,this.customization=a.customization,this.configFlags=Object.assign(Object.assign({},B.configFlags),a.configFlags),this.brokerTerminal=new Proxy(this.brokerTerminal,{get:function(e,t,n){var r=Reflect.get(e,t,n);if("function"===typeof r)return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s;setTimeout((function(){var e=t;o.traceMethodCall(e,i),Promise.resolve(s).then((function(t){o.traceMethodResult(e,t)})).catch((function(e){0}))}));try{s=r.apply(e,i)}catch(l){0}return s}}}),null!=this.customUI&&(this.customUI=new Proxy(this.customUI,{get:function(e,t,n){var r=Reflect.get(e,t,n);if("function"===typeof r)return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return setTimeout((function(){o.traceMethodCall(t,i)})),r.apply(e,i)}}})),(0,R.u)((function(){return o.chartManager.getAllCharts().map((function(e){return{active:e.active,tickerSymbol:e.tickerSymbol,resolution:(0,I.yN)(e.resolution),dataReady:e.dataReady}})).filter((function(e){return e.active}))})).pipe((0,T.Q)(this.destroyed())).subscribe((function(e){(0,u.runInAction)((function(){o._forceUpdateCounter+=1})),e.forEach((function(e){var t,n;if(!(0,O.gM)(e.tickerSymbol)&&e.dataReady&&(o.symbols.has(e.tickerSymbol)||(o.symbols.add(e.tickerSymbol),o.symbolAdded(e.tickerSymbol)),!(null===(t=o.resolutions.get(e.tickerSymbol))||void 0===t?void 0:t.has(e.resolution)))){var r=null!==(n=o.resolutions.get(e.tickerSymbol))&&void 0!==n?n:new Set;r.add(e.resolution),o.resolutions.set(e.tickerSymbol,r),o.resolutionAdded(e.tickerSymbol,e.resolution)}})),o.resolutions.forEach((function(t,n,r){t.forEach((function(t,r,i){e.some((function(e){return e.tickerSymbol===n&&e.resolution===t}))||(i.delete(r),o.resolutionRemoved(n,t))})),0===t.size&&r.delete(n)})),o.symbols.forEach((function(t,n,r){e.some((function(e){return e.tickerSymbol===t}))||(r.delete(t),o.symbolRemoved(t))}))}))}),[{key:"fetchInstrumentInfo",value:function(e){return D(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,this.instrumentsReq.has(n)||null==this.brokerTerminal.symbolInfo||(o=this.brokerTerminal.symbolInfo(e).then((function(t){return s.symbols.has(e)&&(0,u.runInAction)((function(){s._instruments.set(e,t)})),t})).finally((function(){s.instrumentsReq.delete(n)})),this.instrumentsReq.set(n,o)),i=this.instrumentsReq.get(n),t.next=5,i;case 5:return a=t.sent,t.abrupt("return",null!==a&&void 0!==a?a:{qty:{}});case 7:case"end":return t.stop()}}),t,this)})))}},{key:"fetchOrders",value:function(e){return D(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,!this.ordersReq.has(n)&&this.configFlags.supportOrders&&null!=this.brokerTerminal.orders&&(o=this.brokerTerminal.orders(e).then((function(t){return s.symbols.has(e)&&(0,u.runInAction)((function(){s._orders.set(e,new Map(t.map((function(e){return[(0,N.ww)(e),e]}))))})),t})).finally((function(){s.ordersReq.delete(n)})),this.ordersReq.set(n,o)),i=this.ordersReq.get(n),t.next=5,i;case 5:return a=t.sent,t.abrupt("return",null!==a&&void 0!==a?a:[]);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"fetchPositions",value:function(e){return D(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,!this.positionsReq.has(n)&&this.configFlags.supportPositions&&null!=this.brokerTerminal.positions&&(o=this.brokerTerminal.positions(e).then((function(t){return s.symbols.has(e)&&(0,u.runInAction)((function(){s._positions.set(e,new Map(t.map((function(e){return[(0,N.v1)(e),e]}))))})),t})).finally((function(){s.positionsReq.delete(n)})),this.positionsReq.set(n,o)),i=this.positionsReq.get(n),t.next=5,i;case 5:return a=t.sent,t.abrupt("return",null!==a&&void 0!==a?a:[]);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"fetchExecutions",value:function(e,t){return D(this,void 0,void 0,(0,r.A)().mark((function n(){var o,i,a,s,l=this;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=[e,t].join(":"),!this.executionsReq.has(o)&&this.configFlags.supportExecutions&&null!=this.brokerTerminal.executions&&(i=this.brokerTerminal.executions(e,t).then((function(n){var r;return(null===(r=l.resolutions.get(e))||void 0===r?void 0:r.has(t))&&(0,u.runInAction)((function(){l._executions.set((0,N.kL)(e,t),new Map(n.map((function(e){return[(0,N.Q3)(e),e]}))))})),n})).finally((function(){l.executionsReq.delete(o)})),this.executionsReq.set(o,i)),a=this.executionsReq.get(o),n.next=5,a;case 5:return s=n.sent,n.abrupt("return",null!==s&&void 0!==s?s:[]);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"symbolAdded",value:function(e){var t,n;Promise.all([this.fetchInstrumentInfo(e),this.fetchOrders(e),this.fetchPositions(e)]).catch((function(e){console.error(e)})),this.subscribedKeys.has((0,N.kL)(e))||(null===(n=(t=this.brokerTerminal).subscribeSymbol)||void 0===n||n.call(t,e),this.subscribedKeys.add((0,N.kL)(e)))}},{key:"symbolRemoved",value:function(e){var t,n,r=this;(0,u.runInAction)((function(){r._instruments.delete(e),r._orders.delete(e),r._positions.delete(e),r.leverageInfoMap.delete(e)})),this.subscribedKeys.has((0,N.kL)(e))&&(null===(n=(t=this.brokerTerminal).unsubscribeSymbol)||void 0===n||n.call(t,e),this.subscribedKeys.delete((0,N.kL)(e)))}},{key:"getLatestBar",value:function(e,t){for(var n,r=0;r<this.chartManager.chartCount;r++){var o=this.chartManager.areaByIndex(r);if(o&&o.tickerSymbol===e&&o.resolution===t){var i=null===(n=o.internalChartWidget)||void 0===n?void 0:n.latestBar();if(null!=i)return i}}return null}},{key:"resolutionAdded",value:function(e,t){var n,r;this.fetchExecutions(e,t).catch((function(e){console.error(e)})),this.subscribedKeys.has((0,N.kL)(e,t))||(null===(r=(n=this.brokerTerminal).subscribeResolution)||void 0===r||r.call(n,e,t),this.subscribedKeys.add((0,N.kL)(e,t)))}},{key:"resolutionRemoved",value:function(e,t){var n,r,o=this;(0,u.runInAction)((function(){o._executions.delete((0,N.kL)(e,t))})),this.subscribedKeys.has((0,N.kL)(e,t))&&(null===(r=(n=this.brokerTerminal).unsubscribeResolution)||void 0===r||r.call(n,e,t),this.subscribedKeys.delete((0,N.kL)(e,t)))}},{key:"destroy",value:function(){var e=this;this.abortController.abort(),this.resolutions.forEach((function(t,n){t.forEach((function(t){e.resolutionRemoved(n,t)}))})),this.symbols.forEach((function(t){e.symbolRemoved(t)})),this.resolutions.clear(),this.symbols.clear()}},{key:"destroyed",value:function(){return(0,x.R)(this.abortController.signal,"abort")}},{key:"orders",value:function(e){return D(this,void 0,void 0,(0,r.A)().mark((function t(){return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.fetchOrders(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"subscribeOrders",value:function(e,t){var n=this;return(0,R.u)((function(){return{counter:n._forceUpdateCounter,value:F(Array.from(n._orders.entries()).filter((function(t){var n=(0,s.A)(t,1)[0];return!e||e===n})).flatMap((function(e){var t=(0,s.A)(e,2)[1];return Array.from(t.values())})))}}),{fireImmediately:null===t||void 0===t||t}).pipe((0,P.T)((function(e){return e.value})))}},{key:"positions",value:function(e){return D(this,void 0,void 0,(0,r.A)().mark((function t(){return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.fetchPositions(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"subscribePositions",value:function(e,t){var n=this;return(0,R.u)((function(){return{counter:n._forceUpdateCounter,value:F(Array.from(n._positions.entries()).filter((function(t){var n=(0,s.A)(t,1)[0];return!e||e===n})).flatMap((function(e){var t=(0,s.A)(e,2)[1];return Array.from(t.values())})))}}),{fireImmediately:null===t||void 0===t||t}).pipe((0,P.T)((function(e){return e.value})))}},{key:"mergeExecutions",value:function(e){var t=this,n=new Map;return e.forEach((function(e){var r=e.symbol,o=e.resolution,i=t.setting.timezone,a=t.getLatestBar(r,o);if(null!=a){var s=Object.assign(Object.assign({},e),{time:(0,I.vV)(a.time,(0,I.VD)(a.time,e.time,o,i),o,i)}),l=(0,N.Q3)(s),c=n.get(l);n.set(l,null!=c?(0,N.zU)(c,s):s)}})),Array.from(n.values())}},{key:"executions",value:function(e,t){return D(this,void 0,void 0,(0,r.A)().mark((function n(){var o;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.fetchExecutions(e,t);case 2:return o=n.sent,n.abrupt("return",this.mergeExecutions(o));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"subscribeExecutions",value:function(e,t){var n=this;return(0,R.u)((function(){return{counter:n._forceUpdateCounter,value:F(Array.from(n._executions.entries()).filter((function(n){var r=(0,s.A)(n,1)[0],o=(0,N.kL)(e,t);return!e||!t||o===r})).flatMap((function(e){var t=(0,s.A)(e,2)[1],r=Array.from(t.values());return n.mergeExecutions(r)})))}}),{fireImmediately:!0}).pipe((0,P.T)((function(e){return e.value})))}},{key:"patchConfig",value:function(e){var t,n;Object.assign(this.configFlags,e),null===(n=null===(t=this.chartManager.internalWidget)||void 0===t?void 0:t.patchConfig)||void 0===n||n.call(t,e)}},{key:"resetData",value:function(){var e=this;this.resolutions.forEach((function(t,n){t.forEach((function(t){e.resolutionRemoved(n,t)}))})),this.symbols.forEach((function(t){e.symbolRemoved(t)})),this.symbols.forEach((function(t){e.symbolAdded(t)})),this.resolutions.forEach((function(t,n){t.forEach((function(t){e.resolutionAdded(n,t)}))}))}},{key:"accountUpdate",value:function(){this.accountUpdateCounter++}},{key:"orderUpdate",value:function(e){var t,n,r=this;this.configFlags.supportOrders&&((0,u.runInAction)((function(){r._orders.has(e.symbol)||r._orders.set(e.symbol,new Map);var t=r._orders.get(e.symbol);0===e.qty||e.status!==M.Re.Working?t.delete(e.id):t.set(e.id,e)})),null===(n=null===(t=this.chartManager.internalWidget)||void 0===t?void 0:t.orderUpdate)||void 0===n||n.call(t,e))}},{key:"orderPartialUpdate",value:function(e,t){var n,r,o=this;this.configFlags.supportOrders&&((0,u.runInAction)((function(){o._orders.forEach((function(n){if(n.has(e))if(0===t.qty||t.status!==M.Re.Working)n.delete(e);else{var r=Object.assign(Object.assign({},n.get(e)),t);n.set(e,r)}}))})),null===(r=null===(n=this.chartManager.internalWidget)||void 0===n?void 0:n.orderPartialUpdate)||void 0===r||r.call(n,e,t))}},{key:"positionUpdate",value:function(e){var t,n,r=this;this.configFlags.supportPositions&&((0,u.runInAction)((function(){r._positions.has(e.symbol)||r._positions.set(e.symbol,new Map);var t=r._positions.get(e.symbol);0===e.qty?t.delete(e.id):t.set(e.id,e)})),null===(n=null===(t=this.chartManager.internalWidget)||void 0===t?void 0:t.positionUpdate)||void 0===n||n.call(t,e))}},{key:"positionPartialUpdate",value:function(e,t){var n,r,o=this;this.configFlags.supportPositions&&((0,u.runInAction)((function(){o._positions.forEach((function(n){if(n.has(e))if(0===t.qty)n.delete(e);else{var r=Object.assign(Object.assign({},n.get(e)),t);n.set(e,r)}}))})),null===(r=null===(n=this.chartManager.internalWidget)||void 0===n?void 0:n.positionPartialUpdate)||void 0===r||r.call(n,e,t))}},{key:"leverageInfoUpdate",value:function(e,t){var n=this;(0,u.runInAction)((function(){n.leverageInfoMap.set(e,t)}))}},{key:"executionUpdate",value:function(e){var t,n,r=this;this.configFlags.supportExecutions&&((0,u.runInAction)((function(){var t=(0,N.kL)(e.symbol,e.resolution),n=(0,N.Q3)(e);r._executions.has(t)||r._executions.set(t,new Map),r._executions.get(t).set(n,e)})),null===(n=null===(t=this.chartManager.internalWidget)||void 0===t?void 0:t.executionUpdate)||void 0===n||n.call(t,e))}},{key:"formatValue",value:function(e,t,n){var r,o,i=this._instruments.get(e);return null===(o=null===(r=null===i||void 0===i?void 0:i.formatters)||void 0===r?void 0:r[t])||void 0===o?void 0:o.format(n)}},{key:"getInstrumentInfo",value:function(e){return D(this,void 0,void 0,(0,r.A)().mark((function t(){var n;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._instruments.get(e))){t.next=3;break}return t.abrupt("return",Promise.resolve(n));case 3:return t.abrupt("return",this.fetchInstrumentInfo(e));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"traceMethodCall",value:function(e,t){var n,r,i,a,s,l,c,u,d;switch(e){case"showExecutionDialog":(0,E.SdR)({order_type:void 0,position_type:void 0,biz_type:void 0,switch_status:void 0,terminal:"web",chart_type:this.setting.chartType.toLowerCase(),tool_type:L.nP.showOrderRecord,button_name:L.qo.TRADE_HISTORY_VIEW_MORE});break;case"editPositionBrackets":case"showPositionDialog":var f=t[1],h=t[0],p=null===(n=Array.from(this._positions.values()).find((function(e){return e.has(h)})))||void 0===n?void 0:n.get(h);null!=p&&(null!=f.takeProfit&&f.takeProfit!=p.takeProfit&&(0,E.SdR)({terminal:"web",order_type:void 0,chart_type:this.setting.chartType.toLowerCase(),position_type:p.side===M.mn.Sell?"short":"long",biz_type:null===(r=p.symbol.split(":")[0])||void 0===r?void 0:r.toLowerCase(),tool_type:"position_line",button_name:"position_tl",switch_status:"editPositionBrackets"===e}),null!=f.stopLoss&&f.stopLoss!=p.stopLoss&&(0,E.SdR)({order_type:void 0,terminal:"web",chart_type:this.setting.chartType.toLowerCase(),position_type:p.side===M.mn.Sell?"short":"long",biz_type:null===(i=p.symbol.split(":")[0])||void 0===i?void 0:i.toLowerCase(),tool_type:"position_line",button_name:"position_sl",switch_status:"editPositionBrackets"===e}));break;case"closePosition":case"showClosePositionDialog":case"reversePosition":case"showReversePositionDialog":var v={closePosition:!0,showClosePositionDialog:!1,reversePosition:void 0,showReversePositionDialog:void 0},g=t[0],m=null===(a=Array.from(this._positions.values()).find((function(e){return e.has(g)})))||void 0===a?void 0:a.get(g);null!=m&&(0,E.SdR)({terminal:"web",order_type:"",chart_type:this.setting.chartType.toLowerCase(),position_type:m.side===M.mn.Sell?"short":"long",biz_type:null===(s=m.symbol.split(":")[0])||void 0===s?void 0:s.toLowerCase(),tool_type:"position_line",button_name:{closePosition:"position_close",showClosePositionDialog:"position_close",reversePosition:"position_reverse",showReversePositionDialog:"position_reverse"}[e],switch_status:v[e]});break;case"placeOrder":var y=t[0],b=y.type===M.ZN.Limit?L.nP.orderInputQuickOrder:L.nP.orderInputFloatingWindow,A=(0,o.A)((0,o.A)({},M.mn.Buy,(0,o.A)((0,o.A)({},M.ZN.Limit,L.qo.QUICK_ORDER_BUY),M.ZN.Market,L.qo.FLOATING_MARKET_BUY)),M.mn.Sell,(0,o.A)((0,o.A)({},M.ZN.Limit,L.qo.QUICK_ORDER_SELL),M.ZN.Market,L.qo.FLOATING_MARKET_SELL))[y.side][y.type];(0,E.SdR)({terminal:"web",order_type:y.type,chart_type:this.setting.chartType.toLowerCase(),position_type:void 0,biz_type:null===(l=y.symbol.split(":")[0])||void 0===l?void 0:l.toLowerCase(),tool_type:b,button_name:A,switch_status:void 0});break;case"cancelOrder":var w=t[0],_=null===(c=Array.from(this._orders.values()).find((function(e){return e.has(w)})))||void 0===c?void 0:c.get(w);null!=_&&(0,E.SdR)({terminal:"web",order_type:_.type,chart_type:this.setting.chartType.toLowerCase(),position_type:void 0,biz_type:null===(u=_.symbol.split(":")[0])||void 0===u?void 0:u.toLowerCase(),tool_type:L.nP.showOrderLine,button_name:L.qo.ORDER_CANCEL,switch_status:void 0});break;case"modifyOrder":var C=t[0];(0,E.SdR)({terminal:"web",order_type:C.type,chart_type:this.setting.chartType.toLowerCase(),position_type:void 0,biz_type:null===(d=C.symbol.split(":")[0])||void 0===d?void 0:d.toLowerCase(),tool_type:L.nP.showOrderLine,button_name:L.qo.ORDER_PRICE_CHANGE,switch_status:void 0})}}},{key:"traceMethodResult",value:function(e,t){var n=this;switch(e){case"positions":t.forEach((function(e){var t;(0,E.Bfd)({terminal:"web",chart_type:n.setting.chartType.toLowerCase(),tool_type:"position_line",order_type:void 0,position_type:e.side===M.mn.Sell?"short":"long",biz_type:null===(t=e.symbol.split(":")[0])||void 0===t?void 0:t.toLowerCase(),status:void 0})}));break;case"orders":t.forEach((function(e){var t;(0,E.Bfd)({terminal:"web",chart_type:n.setting.chartType.toLowerCase(),tool_type:"order_line",order_type:e.type,position_type:void 0,biz_type:null===(t=e.symbol.split(":")[0])||void 0===t?void 0:t.toLowerCase(),status:e.status})}))}}}])}(),V=n(1029),H=n(7200),z=n(3891),U={enableUndo:!1,enableRedo:!1},W=n(6411),K=n(5458),G=n(388),q=n(2176),Y=n(3954),Z=n(991),X=n(5501);function J(e,t){return e.map((function(e){return e[t]}))}function Q(e,t){if(e.length>0)return e[0][t]}var $=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function ee(e,t,n,r){var o=(0,Z.A)((0,Y.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}var te=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function ne(e,t,n){var r=e(n,"close"),o=e(n,"open"),i=Math.max(e(n,"high"),o,r),a=Math.min(e(n,"low"),o,r);return{time:t,open:Number.isFinite(o)?o:Number.NaN,high:Number.isFinite(i)?i:Number.NaN,low:Number.isFinite(a)?a:Number.NaN,close:Number.isFinite(r)?r:Number.NaN}}function re(e,t){if(0===e)return 0;var n=Math.abs(e)<1,r=Math.floor(Math.log10(Math.abs(e)))+1;return n?t-r:t}var oe=function(e){function t(){var e,n,r,o;return(0,i.A)(this,t),n=this,r=t,o=arguments,r=(0,Y.A)(r),(e=(0,G.A)(n,(0,q.A)()?Reflect.construct(r,o||[],(0,Y.A)(n).constructor):r.apply(n,o))).unsubscribeCallbacks=new Map,e.decimalPlaceResults=new Map,e}return(0,X.A)(t,e),(0,a.A)(t,[{key:"preCalculateDecimalPlaces",value:function(e){return te(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.decimalPlaceResults.has(e.tickerSymbol)||(n="Etc/UTC",o=Date.now(),i=(0,I.vV)(o,-50,"15m",n),this.decimalPlaceResults.set(e.tickerSymbol,this.getBars(e,"15m",{from:Math.round(i/1e3),to:Math.round(o/1e3),countBack:50,firstDataRequest:!0,timezone:n,priceType:C.SJ.LastPrice}).then((function(e){if(0!==e.bars.length)return Math.max.apply(Math,(0,K.A)(e.bars.map((function(e){return Math.max(re(e.open,3),re(e.high,3),re(e.low,3),re(e.close,3))}))))})).catch((function(t){throw a.decimalPlaceResults.delete(e.tickerSymbol),t})))),t.abrupt("return",this.decimalPlaceResults.get(e.tickerSymbol));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"resolveSymbol",value:function(e){var n=this,o=Object.create(null,{resolveSymbol:{get:function(){return ee(t,"resolveSymbol",n,1)}}});return te(this,void 0,void 0,(0,r.A)().mark((function t(){var n,i,a,s,l,c,u,d=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,O.gM)(e)){t.next=2;break}return t.abrupt("return",o.resolveSymbol.call(this,e));case 2:return n=(0,O.Vq)(e),t.next=5,Promise.all(n.map((function(e){return o.resolveSymbol.call(d,e)})));case 5:return i=t.sent,a=Object.fromEntries(i.map((function(e){var t;return[e.tickerSymbol,null!==(t=e.description)&&void 0!==t?t:e.name]}))),s=i[0],l=(0,O.wC)((0,O.AG)(e,a,"ui"),!0),c={name:e,symbol:e,tickerSymbol:e,underlyingName:void 0,underlyingSymbol:void 0,type:C.r3.Index,contractType:void 0,fullName:l,description:l,logoUrls:(null===s||void 0===s?void 0:s.logoUrls)?[s.logoUrls[0]]:void 0,exchange:null===s||void 0===s?void 0:s.exchange,timezone:Q(i,"timezone"),minMove:Math.min.apply(Math,(0,K.A)(J(i,"minMove"))),minSize:0,priceScale:Math.max.apply(Math,(0,K.A)(J(i,"priceScale"))),volumePrecision:0,baseCurrency:"",quoteCurrency:"",expired:!1,expirationDate:void 0},t.next=12,this.preCalculateDecimalPlaces(c);case 12:return void 0!==(u=t.sent)&&(c.priceScale=Math.pow(10,u)),t.abrupt("return",c);case 15:case"end":return t.stop()}}),t,this)})))}},{key:"getBars",value:function(e,n,o){var i=this,a=Object.create(null,{getBars:{get:function(){return ee(t,"getBars",i,1)}},resolveSymbol:{get:function(){return ee(t,"resolveSymbol",i,1)}}});return te(this,void 0,void 0,(0,r.A)().mark((function t(){var i,l,c,u,d,f,h,p=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((0,O.gM)(e.tickerSymbol)){t.next=2;break}return t.abrupt("return",a.getBars.call(this,e,n,o));case 2:return i=(0,O.Vq)(e.tickerSymbol),l=(0,O.qe)(e.tickerSymbol),t.next=6,Promise.all(i.map((function(e){return te(p,void 0,void 0,(0,r.A)().mark((function t(){var i;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.resolveSymbol.call(this,e);case 2:return i=t.sent,t.abrupt("return",a.getBars.call(this,i,n,Object.assign(Object.assign({},o),{priceType:i.type===C.r3.Option?C.SJ.MarkPrice:C.SJ.LastPrice})));case 4:case"end":return t.stop()}}),t,this)})))})));case 6:return c=t.sent,u=new Set,d=new Map,i.forEach((function(e,t){var n=c[t],r=new Map;n.bars.forEach((function(e){u.add(e.time),r.set(e.time,e)})),d.set(e,r)})),f=J(c,"noData").some(Boolean),h=[],u.forEach((function(e){var t=Array.from(d.entries()).map((function(t){var n=(0,s.A)(t,2);return[n[0],n[1].get(e)]}));if(t.every((function(e){return null!=e[1]}))){var n=Object.fromEntries(t),r=ne(l,e,n);h.push(r)}})),t.abrupt("return",{noData:f,bars:h});case 14:case"end":return t.stop()}}),t,this)})))}},{key:"subscribeBars",value:function(e,n,o,i,a,l){var c=this,u=Object.create(null,{subscribeBars:{get:function(){return ee(t,"subscribeBars",c,1)}},resolveSymbol:{get:function(){return ee(t,"resolveSymbol",c,1)}},unsubscribeBars:{get:function(){return ee(t,"unsubscribeBars",c,1)}}});if((0,O.gM)(e.tickerSymbol)){var d=(0,O.Vq)(e.tickerSymbol),f=(0,O.qe)(e.tickerSymbol),h=new Map,p=null,v=function(){l(),Array.from(h.values()).forEach((function(e){e.clear()}))},g=function(e){if(!p||p<=e){var t=Array.from(h.entries()).map((function(t){var n=(0,s.A)(t,2);return[n[0],n[1].get(e)]}));if(t.every((function(e){return null!=e[1]}))){var n=Object.fromEntries(t),r=ne(f,e,n);p=e,i(r),Array.from(h.values()).forEach((function(e){Array.from(e.keys()).filter((function(e){return e<p})).forEach((function(t){e.delete(t)}))}))}}},m=[];Promise.all(d.map((function(e){return te(c,void 0,void 0,(0,r.A)().mark((function t(){var i,s,l;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new Map,s="".concat(a,"_").concat(e),l=function(e){i.set(e.time,e),g(e.time)},t.t0=u.subscribeBars,t.t1=this,t.next=7,u.resolveSymbol.call(this,e);case 7:t.t2=t.sent,t.t3=n,t.t4=o,t.t5=l,t.t6=s,t.t7=v,t.t0.call.call(t.t0,t.t1,t.t2,t.t3,t.t4,t.t5,t.t6,t.t7),h.set(e,i),m.push(s);case 16:case"end":return t.stop()}}),t,this)})))}))).catch((function(e){console.error(e)})),this.unsubscribeCallbacks.set(a,(function(){m.forEach((function(e){u.unsubscribeBars.call(c,e)}))}))}else u.subscribeBars.call(this,e,n,o,i,a,l)}},{key:"unsubscribeBars",value:function(e){if(this.unsubscribeCallbacks.has(e)){var n=this.unsubscribeCallbacks.get(e);this.unsubscribeCallbacks.delete(e),n()}else ee(t,"unsubscribeBars",this,3)([e])}}])}(function(){return(0,a.A)((function e(t){return(0,i.A)(this,e),this.datafeed=t,this.symbolInfoPromises=new Map,this.firstBarTimes=new Map,this.prefetchCache=new Map,this.oldestDataCache=new Map,new Proxy(this,{get:function(e,t){if(t in e){var n=e[t];return"function"===typeof n?n.bind(e):n}var r=e.datafeed,o=r[t];return"function"===typeof o?o.bind(r):o}})}),[{key:"onReady",value:function(e){null!=this.datafeed.onReady?this.datafeed.onReady(e):e({})}},{key:"getTradeUnit",value:function(e){return this.datafeed.getTradeUnit(e)}},{key:"resolveSymbol",value:function(e){var t=this;if(!this.symbolInfoPromises.has(e)){var n=this.datafeed.resolveSymbol(e).catch((function(n){throw t.symbolInfoPromises.delete(e),n}));this.symbolInfoPromises.set(e,n)}return this.symbolInfoPromises.get(e)}},{key:"getBars",value:function(e,t,n){return $(this,void 0,void 0,(0,r.A)().mark((function o(){var i,a,s,l;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.checkIfRequestIsOlderThanCached({tickerSymbol:e.tickerSymbol,resolution:t,priceType:n.priceType,timezone:n.timezone,requestParams:n})){r.next=2;break}return r.abrupt("return",{bars:[],noData:!0});case 2:return a=this.checkPrefetchCache({tickerSymbol:e.tickerSymbol,resolution:t,priceType:n.priceType,timezone:n.timezone,requestParams:n}),r.next=5,a?a.promise:this.datafeed.getBars(e,t,n);case 5:return s=r.sent,l=this.handleNoDataCaching({bars:s.bars,meta:{noData:s.noData},tickerSymbol:e.tickerSymbol,resolution:t,priceType:n.priceType,timezone:n.timezone,periodParams:n}),r.abrupt("return",{bars:s.bars,noData:null!==(i=null===l||void 0===l?void 0:l.noData)&&void 0!==i?i:s.noData});case 8:case"end":return r.stop()}}),o,this)})))}},{key:"searchSymbols",value:function(e,t){return $(this,void 0,void 0,(0,r.A)().mark((function n(){return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.datafeed.searchSymbols(e,t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"subscribeBars",value:function(e,t,n,r,o,i){return this.datafeed.subscribeBars(e,t,n,r,o,i)}},{key:"unsubscribeBars",value:function(e){return this.datafeed.unsubscribeBars(e)}},{key:"getFirstBarTime",value:function(e,t,n){return $(this,void 0,void 0,(0,r.A)().mark((function o(){var i,a,s;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=[e.tickerSymbol,t,n.priceType,n.timezone].join("_"),null==this.datafeed.getFirstBarTime){r.next=7;break}if(this.firstBarTimes.has(a)){r.next=7;break}return r.next=5,this.datafeed.getFirstBarTime(e,t,n);case 5:s=r.sent,this.firstBarTimes.set(a,s);case 7:return r.abrupt("return",null!==(i=this.firstBarTimes.get(a))&&void 0!==i?i:0);case 8:case"end":return r.stop()}}),o,this)})))}},{key:"generateCacheKey",value:function(e){return"".concat(e.tickerSymbol,":").concat(e.resolution,":").concat(e.priceType,":").concat(e.timezone)}},{key:"getCountBack",value:function(e,t){return this.datafeed.getMaxBarsPerRequest?this.datafeed.getMaxBarsPerRequest(e,t,!0):300}},{key:"checkIfRequestIsOlderThanCached",value:function(e){var t=this.generateCacheKey({tickerSymbol:e.tickerSymbol,resolution:e.resolution,priceType:e.priceType,timezone:e.timezone}),n=this.oldestDataCache.get(t);return!!(n&&null!=e.requestParams.to&&1e3*e.requestParams.to<n.oldestTime)}},{key:"checkPrefetchCache",value:function(e){var t=this.generateCacheKey(e),n=this.prefetchCache.get(t);return n?this.isTimeRangeCovered(n.params,e.requestParams)?(this.prefetchCache.delete(t),n):(this.prefetchCache.delete(t),null):null}},{key:"isTimeRangeCovered",value:function(e,t){return e.from<=t.from&&e.to>=t.to}},{key:"handleNoDataCaching",value:function(e){var t,n;if(!(null===(t=e.meta)||void 0===t?void 0:t.noData))return e.meta;var r,o=this.generateCacheKey({tickerSymbol:e.tickerSymbol,resolution:e.resolution,priceType:e.priceType,timezone:e.timezone});return r=e.bars.length>0?e.bars[0].time:1e3*(null!==(n=e.periodParams.from)&&void 0!==n?n:0),this.oldestDataCache.set(o,{oldestTime:r}),e.bars.length>0?Object.assign(Object.assign({},e.meta),{noData:!1}):e.meta}},{key:"preFetchData",value:function(e){return $(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s,l,c,u,d;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=this.generateCacheKey(e),!this.prefetchCache.has(n)){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.resolveSymbol(e.tickerSymbol);case 6:o=t.sent,i=this.getCountBack(o,e.resolution),a=(0,I.DW)(e.resolution),s=Date.now()+66e3,l=Math.floor((s-a*i*1e3)/1e3),c=Math.floor(s/1e3),u={firstDataRequest:!0,countBack:i,from:l,to:c,priceType:e.priceType,timezone:e.timezone},d=this.datafeed.getBars(o,e.resolution,u),this.prefetchCache.set(n,{promise:d,params:u,timestamp:Date.now()}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.warn("PreFetch data failed:",t.t0);case 20:case"end":return t.stop()}}),t,this,[[0,17]])})))}},{key:"clearPrefetchCache",value:function(){this.prefetchCache.clear()}}])}()),ie=n(2992),ae="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function se(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),n)}function le(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on".concat(t),n)}function ce(e,t){for(var n=t.slice(0,t.length-1),r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function ue(e){"string"!==typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}for(var de={backspace:8,"\u232b":8,tab:9,clear:12,enter:13,"\u21a9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21ea":20,",":188,".":190,"/":191,"`":192,"-":ae?173:189,"=":ae?61:187,";":ae?59:186,"'":222,"[":219,"]":221,"\\":220},fe={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},he={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},pe={16:!1,18:!1,17:!1,91:!1},ve={},ge=1;ge<20;ge++)de["f".concat(ge)]=111+ge;var me=[],ye=null,be="all",Ae=new Map,we=function(e){return de[e.toLowerCase()]||fe[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function _e(e){be=e||"all"}function Ce(){return be||"all"}function Se(e){if("undefined"===typeof e)Object.keys(ve).forEach((function(e){Array.isArray(ve[e])&&ve[e].forEach((function(e){return ke(e)})),delete ve[e]})),Ee(null);else if(Array.isArray(e))e.forEach((function(e){e.key&&ke(e)}));else if("object"===typeof e)e.key&&ke(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],i=n[1];"function"===typeof o&&(i=o,o=""),ke({key:e,scope:o,method:i,splitKey:"+"})}}var ke=function(e){var t=e.key,n=e.scope,r=e.method,o=e.splitKey,i=void 0===o?"+":o;ue(t).forEach((function(e){var t=e.split(i),o=t.length,a=t[o-1],s="*"===a?"*":we(a);if(ve[s]){n||(n=Ce());var l=o>1?ce(fe,t):[],c=[];ve[s]=ve[s].filter((function(e){var t=(!r||e.method===r)&&e.scope===n&&function(e,t){for(var n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,o=!0,i=0;i<n.length;i++)-1===r.indexOf(n[i])&&(o=!1);return o}(e.mods,l);return t&&c.push(e.element),!t})),c.forEach((function(e){return Ee(e)}))}}))};function Te(e,t,n,r){var o;if(t.element===r&&(t.scope===n||"all"===t.scope)){for(var i in o=t.mods.length>0,pe)Object.prototype.hasOwnProperty.call(pe,i)&&(!pe[i]&&t.mods.indexOf(+i)>-1||pe[i]&&-1===t.mods.indexOf(+i))&&(o=!1);(0!==t.mods.length||pe[16]||pe[18]||pe[17]||pe[91])&&!o&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(me),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function xe(e,t){var n=ve["*"],r=e.keyCode||e.which||e.charCode;if(Pe.filter.call(this,e)){if(93!==r&&224!==r||(r=91),-1===me.indexOf(r)&&229!==r&&me.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=he[t];e[t]&&-1===me.indexOf(n)?me.push(n):!e[t]&&me.indexOf(n)>-1?me.splice(me.indexOf(n),1):"metaKey"===t&&e[t]&&3===me.length&&(e.ctrlKey||e.shiftKey||e.altKey||(me=me.slice(me.indexOf(n))))})),r in pe){for(var o in pe[r]=!0,fe)fe[o]===r&&(Pe[o]=!0);if(!n)return}for(var i in pe)Object.prototype.hasOwnProperty.call(pe,i)&&(pe[i]=e[he[i]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===me.indexOf(17)&&me.push(17),-1===me.indexOf(18)&&me.push(18),pe[17]=!0,pe[18]=!0);var a=Ce();if(n)for(var s=0;s<n.length;s++)n[s].scope===a&&("keydown"===e.type&&n[s].keydown||"keyup"===e.type&&n[s].keyup)&&Te(e,n[s],a,t);if(r in ve)for(var l=ve[r],c=l.length,u=0;u<c;u++)if(("keydown"===e.type&&l[u].keydown||"keyup"===e.type&&l[u].keyup)&&l[u].key){for(var d=l[u],f=d.splitKey,h=d.key.split(f),p=[],v=0;v<h.length;v++)p.push(we(h[v]));p.sort().join("")===me.sort().join("")&&Te(e,d,a,t)}}}function Pe(e,t,n){me=[];var r=ue(e),o=[],i="all",a=document,s=0,l=!1,c=!0,u="+",d=!1,f=!1;for(void 0===n&&"function"===typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(i=t.scope),t.element&&(a=t.element),t.keyup&&(l=t.keyup),void 0!==t.keydown&&(c=t.keydown),void 0!==t.capture&&(d=t.capture),"string"===typeof t.splitKey&&(u=t.splitKey),!0===t.single&&(f=!0)),"string"===typeof t&&(i=t),f&&Se(e,i);s<r.length;s++)o=[],(e=r[s].split(u)).length>1&&(o=ce(fe,e)),(e="*"===(e=e[e.length-1])?"*":we(e))in ve||(ve[e]=[]),ve[e].push({keyup:l,keydown:c,scope:i,mods:o,shortcut:r[s],method:n,key:r[s],splitKey:u,element:a});if("undefined"!==typeof a&&window){if(!Ae.has(a)){var h=function(){return xe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,a)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;xe(e,a),function(e){var t=e.keyCode||e.which||e.charCode,n=me.indexOf(t);if(n>=0&&me.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&me.splice(0,me.length),93!==t&&224!==t||(t=91),t in pe)for(var r in pe[t]=!1,fe)fe[r]===t&&(Pe[r]=!1)}(e)};Ae.set(a,{keydownListener:h,keyupListenr:p,capture:d}),se(a,"keydown",h,d),se(a,"keyup",p,d)}if(!ye){var v=function(){me=[]};ye={listener:v,capture:d},se(window,"focus",v,d)}}}function Ee(e){var t=Object.values(ve).flat();if(t.findIndex((function(t){return t.element===e}))<0){var n=Ae.get(e)||{},r=n.keydownListener,o=n.keyupListenr,i=n.capture;r&&o&&(le(e,"keyup",o,i),le(e,"keydown",r,i),Ae.delete(e))}if((t.length<=0||Ae.size<=0)&&(Object.keys(Ae).forEach((function(e){var t=Ae.get(e)||{},n=t.keydownListener,r=t.keyupListenr,o=t.capture;n&&r&&(le(e,"keyup",r,o),le(e,"keydown",n,o),Ae.delete(e))})),Ae.clear(),Object.keys(ve).forEach((function(e){return delete ve[e]})),ye)){var a=ye,s=a.listener,l=a.capture;le(window,"focus",s,l),ye=null}}var Le={getPressedKeyString:function(){return me.map((function(e){return t=e,Object.keys(de).find((function(e){return de[e]===t}))||function(e){return Object.keys(fe).find((function(t){return fe[t]===e}))}(e)||String.fromCharCode(e);var t}))},setScope:_e,getScope:Ce,deleteScope:function(e,t){var n,r;for(var o in e||(e=Ce()),ve)if(Object.prototype.hasOwnProperty.call(ve,o))for(n=ve[o],r=0;r<n.length;){if(n[r].scope===e)n.splice(r,1).forEach((function(e){return Ee(e.element)}));else r++}Ce()===e&&_e(t||"all")},getPressedKeyCodes:function(){return me.slice(0)},getAllKeyCodes:function(){var e=[];return Object.keys(ve).forEach((function(t){ve[t].forEach((function(t){var n=t.key,r=t.scope,o=t.mods,i=t.shortcut;e.push({scope:r,shortcut:i,mods:o,keys:n.split("+").map((function(e){return we(e)}))})}))})),e},isPressed:function(e){return"string"===typeof e&&(e=we(e)),-1!==me.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,n=t.tagName,r=!0,o="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(o||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(r=!1),r},trigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(ve).forEach((function(n){ve[n].filter((function(n){return n.scope===t&&n.shortcut===e})).forEach((function(e){e&&e.method&&e.method()}))}))},unbind:Se,keyMap:de,modifier:fe,modifierMap:he};for(var Ie in Le)Object.prototype.hasOwnProperty.call(Le,Ie)&&(Pe[Ie]=Le[Ie]);if("undefined"!==typeof window){var Oe=window.hotkeys;Pe.noConflict=function(e){return e&&window.hotkeys===Pe&&(window.hotkeys=Oe),Pe},window.hotkeys=Pe}var Re,Me,Ne=n(5177),De=n(1529),Be=n(5387),Fe=n(1994),je="1,2,3,4,5,6,7,8,9",Ve="num_1,num_2,num_3,num_4,num_5,num_6,num_7,num_8,num_9",He=function(){return(0,a.A)((function e(t,n){(0,i.A)(this,e),this.setting=t,this.chartManager=n}),[{key:"register",value:function(e,t){var n=this;Pe(e,(function(e,r){if(n.setting.enableShortcut)return t(e,r)}))}},{key:"destroy",value:function(){Pe.unbind()}},{key:"init",value:function(){var e=this;this.setting.enableShortcut&&(this.register([je,Ve].join(","),(function(t,n){var r=n.key.replace(/[a-z_]/gi,""),o=parseInt(r,10)-1;e.handleResolutionChange(o)})),this.register("/",(function(){e.handleOpenIndicatorSettings()})),this.register("shift+f",(function(){e.handleToggleFullscreen()})),this.register("alt+g",(function(){e.handleOpenHistoryDataToolsDialog()})),this.register("alt+a",(function(){return e.handleOpenPriceAlertDialog(),!1})),this.register("shift+t",(function(){e.handleOpenPlaceOrderDialog()})),this.register("command+z,ctrl+z",(function(t){(0,Be.g)(t)||e.handleUndo()})),this.register("command+y,ctrl+y",(function(t){(0,Be.g)(t)||(e.handleRedo(),t.preventDefault(),t.stopPropagation())})))}},{key:"handleResolutionChange",value:function(e){var t,n=this.pinnedResolutionsAfterFilter,r=n[8===e?n.length-1:e];null!=r&&(null===(t=this.chartManager.activeArea)||void 0===t||t.setResolution(r).catch((function(){})))}},{key:"pinnedResolutionsAfterFilter",get:function(){var e,t=this.chartManager,n=t.pinnedResolutions,r=t.customIntervals,o=t.datafeedConfig,i=null!==(e=null===o||void 0===o?void 0:o.supportedResolutions)&&void 0!==e?e:ie.js;return(0,ie.QQ)([].concat((0,K.A)(i),(0,K.A)(r)),n)}},{key:"handleOpenIndicatorSettings",value:function(){var e;null===(e=this.chartManager.internalWidget)||void 0===e||e.openIndicatorSettingsDialog()}},{key:"handleToggleFullscreen",value:function(){this.chartManager.setFullscreen(!this.chartManager.fullscreen)}},{key:"handleOpenHistoryDataToolsDialog",value:function(){var e;this.setting.enableHistoryDataTools&&(null===(e=this.chartManager.dialogManager)||void 0===e||e.openDialog(Fe.z.HistoryDataTools))}},{key:"handleOpenPriceAlertDialog",value:function(){if(this.setting.enablePriceAlert){var e=this.chartManager.activeArea,t=null===e||void 0===e?void 0:e.crosshair;this.chartManager.priceAlertStore.toggleDialog(!0,Ne.x6.Add,Ne.yE.Button,null===t||void 0===t?void 0:t.price)}}},{key:"handleOpenPlaceOrderDialog",value:function(){var e,t;null===(t=(e=this.setting).openPlaceOrderPane)||void 0===t||t.call(e,this.chartManager.fullscreen)}},{key:"handleUndo",value:function(){var e,t;(0,De.IGF)({action:"undo"}),this.setting.chartType===V.N.Original&&(null===(t=null===(e=this.chartManager.internalWidget)||void 0===e?void 0:e.undo)||void 0===t||t.call(e))}},{key:"handleRedo",value:function(){var e,t;(0,De.IGF)({action:"redo"}),this.setting.chartType===V.N.Original&&(null===(t=null===(e=this.chartManager.internalWidget)||void 0===e?void 0:e.redo)||void 0===t||t.call(e))}}])}(),ze=n(1327),Ue=n(4789),We=n(4765),Ke=n(1132),Ge=n(6375),qe=n(5388),Ye=n(2355),Ze=n(1350),Xe=n(7544),Je=n(1599),Qe=n(4062),$e=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},et=function(){return(0,a.A)((function e(t,n,o,a){var s=this;(0,i.A)(this,e),this.setting=t,this.chartManager=n,this.chartIndex=o,this.areaContent=a,this.resolution="15m",this.resolutionOpt=void 0,this.symbolType=C.r3.Spot,this.symbol="",this.tickerSymbol="",this.priceType=C.SJ.LastPrice,this.isCustomExpr=!1,this.prevNonExprSymbol=void 0,this.prevSymbol=void 0,this.prevPriceType=void 0,this.prevResolution=void 0,this.prevResolutionOpt=void 0,this.rightOffset=Ze.X.rightOffset,this.barSpacing=Ze.X.barSpacing,this.firstBarTime=void 0,this.crosshair=void 0,this.dataReady=!1,this.timeAnchorPointInvalidated=!0,this.timeAnchorPoints=new Map,this.changed$=new Ke.B,this.destroyed$=new Ke.B,this.pendingTickerSymbol=null,this.pendingPriceType=null,this.pendingResolution=null,this.chartStyle=Xe.K.Candles,this.prefillPrice$=new Ke.B,this.areaSelectionController=null,this.areaSelectionShapeId=null,this.areaSelectionShape=null,this.areaSelectionChanged$=new Ke.B,this.setSymbol=function(e,t){return $e(s,void 0,void 0,(0,r.A)().mark((function n(){var o,i,a,s,l,c,d,f,h,p=this;return(0,r.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t&&(t=this.priceType),this.pendingTickerSymbol!==e||this.pendingPriceType!==t){n.next=3;break}return n.abrupt("return");case 3:return f=this.tickerSymbol,h=this.priceType,this.tickerSymbol=e,this.priceType=t,this.symbolWillChange(),this.pendingTickerSymbol=e,this.pendingPriceType=t,this.setting.enableResetTimeScaleOnChanges&&(null===(i=null===(o=this.internalChartWidget)||void 0===o?void 0:o.resetTimeScale)||void 0===i||i.call(o)),n.next=13,Promise.allSettled([null===(a=this.internalChartWidget)||void 0===a?void 0:a.handleSymbolChange(e,t,f,h),this.chartManager.symbolResolver.resolveSymbolInfo(e).then((function(e){(0,u.runInAction)((function(){var n;p.prevSymbol=f,p.prevPriceType=h,(0,O.gM)(f)||(p.prevNonExprSymbol=f),p.isCustomExpr=(0,O.gM)(e.tickerSymbol),p.tickerSymbol=e.tickerSymbol,p.priceType=null!==(n=e.priceType)&&void 0!==n?n:t,p.symbolType=e.type,p.symbol=e.name}))}))]).then((function(e){var t,n=(0,We.A)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("rejected"===r.status)throw r.reason}}catch(o){n.e(o)}finally{n.f()}})).finally((function(){p.pendingTickerSymbol===e&&p.pendingPriceType===t&&(p.pendingTickerSymbol=null,p.pendingPriceType=null)}));case 13:if(this.tickerSymbol!==e||this.priceType!==t){n.next=18;break}return this.symbolChanged(),n.next=17,null===(l=null===(s=this.internalChartWidget)||void 0===s?void 0:s.onSymbolChanged)||void 0===l?void 0:l.call(s,e,t);case 17:null===(d=null===(c=this.chartManager.internalWidget)||void 0===c?void 0:c.clearUndoHistory)||void 0===d||d.call(c);case 18:case"end":return n.stop()}}),n,this)})))},this.setResolution=function(e){return $e(s,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s,l,c,u,d=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=(0,ie.g4)(e)?e.resolution:e,c=this.resolution,u=this.resolutionOpt,this.resolution=l,this.resolutionOpt=(0,ie.g4)(e)?e:void 0,null!=(null===(n=this.resolutionOpt)||void 0===n?void 0:n.style)?this.setChartStyle(this.resolutionOpt.style):(null===(o=this.internalChartWidget)||void 0===o?void 0:o.getChartStyle())===(null===u||void 0===u?void 0:u.style)&&this.setChartStyle(Xe.K.Candles),this.pendingResolution!==l){t.next=8;break}return t.abrupt("return");case 8:return this.resolutionWillChange(),this.pendingResolution=l,t.next=12,null===(i=this.internalChartWidget)||void 0===i?void 0:i.handleResolutionChange(l,c).then((function(){d.prevResolution=c,d.prevResolutionOpt=u})).finally((function(){d.pendingResolution===l&&(d.pendingResolution=null)}));case 12:this.resolution===l&&(this.intervalChanged(),null===(s=null===(a=this.internalChartWidget)||void 0===a?void 0:a.onResolutionChanged)||void 0===s||s.call(a,l));case 13:case"end":return t.stop()}}),t,this)})))},this.setPriceType=function(e){return $e(s,void 0,void 0,(0,r.A)().mark((function t(){return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.setSymbol(this.tickerSymbol,e));case 1:case"end":return t.stop()}}),t,this)})))},this.setChartStyle=function(e){var t,n,r=(null===(t=Xe.p[s.setting.chartType])||void 0===t?void 0:t.includes(e))?e:Xe.K.Candles;s.chartStyle=r,null===(n=s.internalChartWidget)||void 0===n||n.setChartStyle(r)},a?(this.isCustomExpr=(0,O.gM)(a.tickerSymbol),this.prevNonExprSymbol=a.prevNonExprSymbol,this.prevSymbol=a.prevSymbol,this.prevPriceType=a.prevPriceType,this.prevResolution=a.prevResolution,this.prevResolutionOpt=a.prevResolutionOpt,this.resolution=a.resolution,this.resolutionOpt=a.resolutionOpt,this.symbolType=a.symbolType,this.symbol=a.symbol,this.tickerSymbol=a.tickerSymbol,this.priceType=a.priceType,this.rightOffset=a.rightOffset,this.barSpacing=a.barSpacing,this.chartStyle=a.chartStyle):this.setting.resolution&&(this.resolution=this.setting.resolution),(0,u.makeObservable)(this,{resolution:u.observable,resolutionOpt:u.observable.ref,setResolution:u.action,symbolType:u.observable,symbol:u.observable,tickerSymbol:u.observable,priceType:u.observable,rightOffset:u.observable,barSpacing:u.observable,setSymbol:u.action,internalChartWidget:u.computed,firstBarTime:u.observable,dataReady:u.observable,chartStyle:u.observable})}),[{key:"toJSON",value:function(){return{resolution:this.resolution,resolutionOpt:this.resolutionOpt,symbolType:this.symbolType,symbol:this.symbol,tickerSymbol:this.tickerSymbol,priceType:this.priceType,prevNonExprSymbol:this.prevNonExprSymbol,prevSymbol:this.prevSymbol,prevResolution:this.prevResolution,prevResolutionOpt:this.prevResolutionOpt,rightOffset:this.rightOffset,barSpacing:this.barSpacing,chartStyle:this.chartStyle}}},{key:"widgetReady",value:function(){var e,t=this;null===(e=this.internalChartWidget)||void 0===e||e.dataReady().then((function(){return t.handleChartReady()})).catch((function(){}))}},{key:"destroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"chartWillHide",value:function(){var e=this;(0,u.runInAction)((function(){e.dataReady=!1}))}},{key:"chartTypeWillChange",value:function(){try{this.updateTimeAnchorPoints()}catch(e){}}},{key:"handleChartReady",value:function(){return $e(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.internalChartWidget){e.next=2;break}return e.abrupt("return");case 2:(0,u.runInAction)((function(){n.dataReady=!0})),!this.selected&&this.chartManager.syncSetting.dateRange||(t=this.setting.enableResetTimeScaleOnChanges?Ze.X.barSpacing:this.barSpacing,this.internalChartWidget.setBarSpacing(t)),this.exitAreaSelection(),this.setChartStyle(this.chartStyle),this.initLocalState(),this.applyTimeAnchor("init").catch((function(){})),this.internalChartWidget.rightOffsetChanged().pipe((0,T.Q)(this.setting.subscribeValueChange("chartType")),(0,T.Q)(this.destroyed$),(0,Ge.c)(1e3,void 0,{trailing:!0})).subscribe((function(e){(0,u.runInAction)((function(){n.timeAnchorPointInvalidated=!0,n.rightOffset=e}))})),this.internalChartWidget.barSpacingChanged().pipe((0,T.Q)(this.setting.subscribeValueChange("chartType")),(0,T.Q)(this.destroyed$),(0,Ge.c)(1e3,void 0,{trailing:!0})).subscribe((function(e){(0,u.runInAction)((function(){n.timeAnchorPointInvalidated=!0,n.barSpacing=e}))}));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"active",get:function(){return this.chartIndex<this.chartManager.chartCount}},{key:"selected",get:function(){return this.chartManager.selectedIndex===this.chartIndex}},{key:"internalChartWidget",get:function(){var e;return null===(e=this.chartManager.internalWidget)||void 0===e?void 0:e.chartByIndex(this.chartIndex)}},{key:"symbolInfo",get:function(){var e=this.chartManager.symbolResolver,t=null===e||void 0===e?void 0:e.getSymbolInfo(this.tickerSymbol);return null!==t&&void 0!==t?t:null}},{key:"tradeUnit",get:function(){var e,t,n;return null==this.symbolInfo?null:null!==(n=null===(t=null===(e=this.chartManager.datafeed)||void 0===e?void 0:e.getTradeUnit)||void 0===t?void 0:t.call(e,this.symbolInfo))&&void 0!==n?n:C.Nf.Default}},{key:"isLastPrice",get:function(){return this.priceType===C.SJ.LastPrice}},{key:"symbolWillChange",value:function(){var e=this;(0,u.runInAction)((function(){e.dataReady=!1}));try{this.resetLocalState(),this.updateTimeAnchorPoints()}catch(t){}}},{key:"symbolChanged",value:function(){var e=this;(0,u.runInAction)((function(){e.dataReady=!0}));try{this.initLocalState(),Promise.all([this.syncSymbol(),this.applyTimeAnchor("symbol")]).catch((function(){}))}catch(t){}}},{key:"resolutionWillChange",value:function(){var e=this;(0,u.runInAction)((function(){e.dataReady=!1}));try{this.resetLocalState(),this.updateTimeAnchorPoints(),this.syncInterval().catch((function(){}))}catch(t){}}},{key:"intervalChanged",value:function(){var e=this;(0,u.runInAction)((function(){e.dataReady=!0}));try{this.initLocalState(),this.applyTimeAnchor("resolution").catch((function(){}))}catch(t){}}},{key:"resetLocalState",value:function(){var e=this;(0,u.runInAction)((function(){e.firstBarTime=void 0,e.crosshair=void 0}))}},{key:"initLocalState",value:function(){var e,t,n,r=this;this.changed$.next(),null!=this.symbolInfo&&null==this.firstBarTime&&(null===(t=null===(e=this.chartManager.datafeed)||void 0===e?void 0:e.getFirstBarTime)||void 0===t||t.call(e,this.symbolInfo,this.resolution,{priceType:this.priceType,timezone:this.setting.timezone}).then((function(e){(0,u.runInAction)((function(){r.firstBarTime=e}))})).catch((function(){}))),null===(n=this.internalChartWidget)||void 0===n||n.crosshairMoved().pipe((0,T.Q)(this.changed$)).subscribe((function(e){r.crosshair=e}))}},{key:"updateTimeAnchorPoints",value:function(){var e,t=this,n=this.chartManager.timeAnchorSetting,r=this.timeAnchorPoints,o=null===(e=this.internalChartWidget)||void 0===e?void 0:e.timeScaleWidth();Object.entries(n.values).forEach((function(e){var n,i,a=(0,s.A)(e,2),l=a[0],c=a[1];t.timeAnchorPointInvalidated&&t.selected&&null!=o&&null!=c&&(i=null===(n=t.internalChartWidget)||void 0===n?void 0:n.coordinateToTime(Math.min(o-.5,Math.max(.5,Math.round(c*o))))),null!=i&&r.set(l,i)}))}},{key:"applyTimeAnchor",value:function(e){return $e(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,l,c,u,d,f,h,p,v,g=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.setting.timezone,o=this.resolution,i=this.chartManager.timeAnchorSetting,a=new Map(this.timeAnchorPoints),this.timeAnchorPointInvalidated=!0,this.timeAnchorPoints.clear(),"init"!==e||i.enabled||i.handleSymbolChange){t.next=8;break}return t.abrupt("return");case 8:if("resolution"!==e||i.enabled){t.next=10;break}return t.abrupt("return");case 10:if("symbol"!==e||i.handleSymbolChange){t.next=12;break}return t.abrupt("return");case 12:if(null!=this.internalChartWidget){t.next=14;break}return t.abrupt("return");case 14:if(this.selected){t.next=16;break}return t.abrupt("return");case 16:return t.next=18,this.internalChartWidget.dataReady();case 18:if(i.type!==Re.Time){t.next=27;break}if(l=i.values[Me.Time],c=a.get(Me.Time),u=this.internalChartWidget.timeScaleWidth(),d=this.internalChartWidget.barSpacing(),null==c||null==l||null==u||null==d){t.next=27;break}return f=(0,I.Vj)(c,l,u,d,o,n),h=(0,s.A)(f,3),p=h[1],v=h[2],t.next=27,this.internalChartWidget.setVisibleRange({from:p,to:v}).catch((function(){g.timeAnchorPointInvalidated=!1,g.timeAnchorPoints.set(Me.Time,c)}));case 27:case"end":return t.stop()}}),t,this)})))}},{key:"syncSymbol",value:function(){return $e(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.selected||!this.chartManager.syncSetting.symbol){e.next=4;break}return t=this.tickerSymbol,e.next=4,Promise.all(Array(this.chartManager.chartCount).fill(null).map((function(e,o){return $e(n,void 0,void 0,(0,r.A)().mark((function e(){var n;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.chartManager.areaByIndex(o))||n.chartIndex===this.chartIndex||!n.active||n.tickerSymbol===t){e.next=4;break}return e.next=4,n.setSymbol(t);case 4:case"end":return e.stop()}}),e,this)})))})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"syncInterval",value:function(){return $e(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.selected||!this.chartManager.syncSetting.interval){e.next=4;break}return t=this.resolution,e.next=4,Promise.all(Array(this.chartManager.chartCount).fill(null).map((function(e,o){return $e(n,void 0,void 0,(0,r.A)().mark((function e(){var n;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.chartManager.areaByIndex(o))||n.chartIndex===this.chartIndex||!n.active||n.resolution===t){e.next=4;break}return e.next=4,n.setResolution(t);case 4:case"end":return e.stop()}}),e,this)})))})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"exitCustomExpr",value:function(){var e,t,n=this.prevNonExprSymbol,r=(0,O.Vq)(null!==(t=null===(e=this.symbolInfo)||void 0===e?void 0:e.tickerSymbol)&&void 0!==t?t:""),o=null!==n&&void 0!==n?n:r[0];o&&this.setSymbol(o).catch((function(e){console.error(e)}))}},{key:"prefillPriceChanged",value:function(){return this.prefillPrice$.asObservable()}},{key:"setPrefillPrice",value:function(e){var t,n,r=Math.log10(null!==(n=null===(t=this.symbolInfo)||void 0===t?void 0:t.priceScale)&&void 0!==n?n:1),o=Number(e.toFixed(r));this.prefillPrice$.next(o)}},{key:"checkPointInVisiblePriceRange",value:function(e){var t,n=null===(t=this.internalChartWidget)||void 0===t?void 0:t.getMainSeriesVisiblePriceRange();return!n||e.price>=n.from&&e.price<=n.to}},{key:"getFinalPoint",value:function(e,t){return this.checkPointInVisiblePriceRange(e)?e:{time:e.time,price:t.price}}},{key:"enterAreaSelection",value:function(e){return $e(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s,l,c,u,d,f,h,p,v,g,m,y,b=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.chartManager.internalWidget&&null!=this.internalChartWidget){t.next=2;break}throw new Error("internal widget not ready");case 2:return o=(n=e||{}).disableSelection,i=void 0===o||o,a=n.backgroundColor,s=void 0===a?"rgba(95, 98, 255, 0.3)":a,l=this.chartManager.internalWidget,c=new Qe.o,u=new AbortController,d=(0,x.R)(u.signal,"abort"),this.areaSelectionController=u,f=!1,h=[{time:0,price:0},{time:0,price:0}],p=function(){c.next((function(){return $e(b,void 0,void 0,(0,r.A)().mark((function e(){var t;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.areaSelectionShape){e.next=3;break}return this.areaSelectionShape.setPoints(h.concat().sort((function(e,t){return e.time-t.time}))),e.abrupt("return");case 3:return e.next=5,this.internalChartWidget.createMultipointShape(h,{text:" ",shape:Je.m.Rectangle,disableSave:!0,disableSelection:i,disableUndo:!0,overrides:{backgroundColor:s,color:"rgba(0, 0, 0, 0)",extendLeft:!1,extendRight:!1,showLabel:!1,middleLine:{showLine:!1}}});case 5:if(null!=(t=e.sent)){e.next=8;break}throw new Error;case 8:this.areaSelectionShapeId=t,this.areaSelectionShape=this.internalChartWidget.getShapeById(t);case 10:case"end":return e.stop()}}),e,this)})))}))},v=function(){b.areaSelectionChanged$.next({minTime:1e3*Math.min(h[0].time,h[1].time),minPrice:Math.min(h[0].price,h[1].price),maxTime:1e3*Math.max(h[0].time,h[1].time),maxPrice:Math.max(h[0].price,h[1].price)})},g=(0,qe.h)((function(e){var t;return null===(t=null===l||void 0===l?void 0:l.subscribe)||void 0===t?void 0:t.call(l,"mouse_down",e)}),(function(e){var t;return null===(t=null===l||void 0===l?void 0:l.unsubscribe)||void 0===t?void 0:t.call(l,"mouse_down",e)})),m=(0,qe.h)((function(e){var t;return null===(t=null===l||void 0===l?void 0:l.subscribe)||void 0===t?void 0:t.call(l,"mouse_up",e)}),(function(e){var t;return null===(t=null===l||void 0===l?void 0:l.unsubscribe)||void 0===t?void 0:t.call(l,"mouse_up",e)})),y=null,t.abrupt("return",new Promise((function(e,t){var n=null,r=null,o=g.pipe((0,T.Q)(d)).subscribe((function(){var t,i;f||(f=!0,null===(i=null===(t=b.internalChartWidget)||void 0===t?void 0:t.setScrollEnabled)||void 0===i||i.call(t,!1),b.internalChartWidget.crosshairMoved().pipe((0,Ye.s)(1)).subscribe((function(e){y={time:e.time/1e3,price:e.price},h[0]=y,h[1]=y,p()})),n=b.internalChartWidget.crosshairMoved().pipe((0,T.Q)(d)).subscribe((function(e){if(f&&y){var t={time:e.time/1e3,price:e.price},n=b.getFinalPoint(t,h[1]);h[1]=n,p(),v()}})),r=m.pipe((0,T.Q)(d)).subscribe((function(){var t,i;f&&y&&(f=!1,null===(i=null===(t=b.internalChartWidget)||void 0===t?void 0:t.setScrollEnabled)||void 0===i||i.call(t,!0),v(),n&&n.unsubscribe(),r&&r.unsubscribe(),o.unsubscribe(),b.chartManager.internalWidget.drawingEvent().pipe((0,T.Q)(d)).subscribe((function(e){e.entityId===b.areaSelectionShapeId&&"points_changed"===e.type&&setTimeout((function(){var e=b.areaSelectionShape.getPoints();h[0]=e[0],h[1]=e[1],v()}),0)})),e())})))}));d.subscribe((function(){var e,i;null===(i=null===(e=b.internalChartWidget)||void 0===e?void 0:e.setScrollEnabled)||void 0===i||i.call(e,!0),n&&n.unsubscribe(),r&&r.unsubscribe(),o.unsubscribe(),t(new Error("Area selection aborted"))}))})));case 16:case"end":return t.stop()}}),t,this)})))}},{key:"exitAreaSelection",value:function(){var e,t,n,r;null!=this.areaSelectionShapeId&&(null===(e=this.internalChartWidget)||void 0===e||e.removeEntity(this.areaSelectionShapeId),this.areaSelectionShapeId=null,this.areaSelectionShape=null),null===(n=null===(t=this.internalChartWidget)||void 0===t?void 0:t.setScrollEnabled)||void 0===n||n.call(t,!0),null===(r=this.areaSelectionController)||void 0===r||r.abort(),this.areaSelectionController=null}},{key:"areaSelectionChanged",value:function(){return this.areaSelectionChanged$.asObservable()}}])}(),tt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},nt=function(){return(0,a.A)((function e(t){(0,i.A)(this,e),this.datafeed=t,this.pendingRequests=new Map,this.cache=new Map,(0,u.makeObservable)(this,{cache:u.observable,resolveSymbolInfo:u.action})}),[{key:"resolveSymbolInfo",value:function(e){return tt(this,void 0,void 0,(0,r.A)().mark((function t(){var n=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cache.has(e)){t.next=5;break}if(this.pendingRequests.has(e)||this.pendingRequests.set(e,this.datafeed.resolveSymbol(e).then((function(t){n.cache.set(e,t)})).finally((function(){n.pendingRequests.delete(e)}))),!this.pendingRequests.has(e)){t.next=5;break}return t.next=5,this.pendingRequests.get(e);case 5:return t.abrupt("return",this.cache.get(e));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"resolveSymbolInfos",value:function(e){return tt(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a,s=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.filter((function(e){return!s.cache.has(e)&&!s.pendingRequests.has(e)})),a=null===(o=(n=this.datafeed).unstable_resolveSymbols)||void 0===o?void 0:o.call(n,i),t.abrupt("return",Promise.all(e.map((function(e){if(i.includes(e)&&a){var t=a.then((function(t){var n=i.indexOf(e);s.cache.set(e,t[n])})).finally((function(){s.pendingRequests.delete(e)}));s.pendingRequests.set(e,t)}return s.resolveSymbolInfo(e)}))));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getSymbolInfo",value:function(e){return e&&(this.resolveSymbolInfo(e).catch((function(){})),this.cache.has(e))?this.cache.get(e):null}}])}(),rt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function ot(e,t,n){null!=n&&(e[t]=n)}function it(e,t,n){null!=n&&Object.entries(n).forEach((function(n){var r=(0,s.A)(n,2),o=r[0],i=r[1];null!=i&&(e[t][o]=i)}))}!function(e){e[e.Time=0]="Time",e[e.TimeRange=1]="TimeRange"}(Re||(Re={})),function(e){e.Time="time",e.TimeRange1="timeRange1",e.TimeRange2="timeRange2"}(Me||(Me={}));var at=function(){return(0,a.A)((function e(t){var n=this;(0,i.A)(this,e),this.setting=t,this.datafeed=null,this.datafeedConfig=null,this.symbolResolver=null,this.brokerTerminalDelegate=null,this.dialogManager=null,this.internalWidget=null,this.internalWidgetReady=!1,this.reloadId=0,this.undoRedoState=U,this.keyboardShortcutManager=new He(this.setting,this),this.initialized=!1,this.destroyed=!1,this.reactionDisposers=[],this.areas=[],this.selectedIndex=0,this.pinnedResolutions=ie.DE,this.fullscreen=!1,this.focused=!1,this.loading=!0,this.resizing=!1,this.layoutSizeMap=m.m3,this.customIntervals=[],this.drawing={magnet:!0,magnetMode:0,stayInDrawingMode:!1,hideShapes:!1,lastUsedTools:{},favoriteDrawings:[],favoriteDrawingBarVisible:!1,defaultStates:{},riskRewardAvailableChanged:{},riskRewardRiskSizeChanged:{},drawingShapeTemplate:{}},this.trade={orderLine:!0,orderLineQuickAttachTpSl:!0,orderLineValueDisplayType:g.B.Pnl,orderLinePosition:p.DF.RIGHT,orderLineHorzVisible:!0,orderRecord:!0,orderPanel:!1,orderButton:!0,orderLineQuickChange:!0,positionLineQuickClose:!1,positionLine:!0,positionLineQuickTpSl:!0,positionLinePosition:p.DF.LEFT,positionLineHorzVisible:!0,positionLineBreakevenPriceVisible:!1,positionLineLiquidationPriceVisible:!1,trade:!0,quickTpSl:!1,quickEdit:!0,quickClose:!1,valueDisplayType:g.B.Pnl,lineHorzVisible:!0},this.syncSetting={symbol:!1,interval:!1,crosshair:!0,time:!1,dateRange:!1},this.timeAnchorSetting={enabled:!1,handleSymbolChange:!1,type:Re.Time,displayLine:!1,values:(0,o.A)((0,o.A)((0,o.A)({},Me.Time,.5),Me.TimeRange1,null),Me.TimeRange2,null)},this.chartSetting=(0,h.uQ)().chartSetting,this.orderPanelPosition=null,this.showDrawingToolbar=!1,this.showPriceAlertLabel=!0,this.setUndoRedoState=function(e){(0,u.runInAction)((function(){n.undoRedoState=e}))},this.calculateCSSVariables=function(){var e,t,r,o,i,a,s=(0,H.P)(n.setting.customThemes);return{"--chart-background-color":n.setting.chartProperties["chartProperties.backgroundColor"]||(0,l.sd)("--cc-okd-color-background-base-primary"),"--chart-border-color":n.setting.chartProperties["chartProperties.borderColor"]||(0,l.sd)("--cc-okd-color-border-primary"),"--chart-pane-background-color":n.setting.chartProperties["paneProperties.backgroundColor"]||(0,l.sd)("--cc-okd-color-background-base-primary"),"--inner-color1-700":(null===(t=null===(e=null===s||void 0===s?void 0:s[n.setting.theme])||void 0===e?void 0:e.color1)||void 0===t?void 0:t[10])||(0,l.sd)("--cc-okd-color-blue-700"),"--inner-color1-800":(null===(o=null===(r=null===s||void 0===s?void 0:s[n.setting.theme])||void 0===r?void 0:r.color1)||void 0===o?void 0:o[9])||(0,l.sd)("--cc-okd-color-blue-800"),"--inner-color1-900":(null===(a=null===(i=null===s||void 0===s?void 0:s[n.setting.theme])||void 0===i?void 0:i.color1)||void 0===a?void 0:a[8])||(0,l.sd)("--cc-okd-color-blue-900")}},this.updateCSSVariables=function(){n.setting.updateValue("cssVariables",n.calculateCSSVariables())},this.setInternalWidget=function(e){n.internalWidget=e,n.internalWidgetReady=!1},this.onInternalWidgetReady=function(){n.internalWidgetReady=!0,n.areas.forEach((function(e,t){t<n.chartCount&&e.widgetReady()}))},this.areaByIndex=function(e){if(n.initialized&&n.updateChartContents(),e<n.areas.length)return n.areas[e]},this.setDrawing=function(e){n.drawing=e},this.setTrade=function(e){n.trade=e},this.setSelectedIndex=function(e){var t,r;n.selectedIndex=e,null===(r=null===(t=n.internalWidget)||void 0===t?void 0:t.setActiveChart)||void 0===r||r.call(t,e)},this.setPinnedResolutions=function(e){n.pinnedResolutions=e},this.setFullscreen=function(e){n.fullscreen=e,e?document.body.classList.add(W.A.fullScreen):document.body.classList.remove(W.A.fullScreen)},this.setFocused=function(e){n.focused=e},this.setLoading=function(e){n.loading=e},this.setLayout=function(e){var t,r,o,i=e;if(n.setting.enableMultiCharts||(i=z.P.Layout1A),n.setting.layout!==i){var a=n.chartCount;n.setting.updateValue("layout",i),n.updateChartContents(),null===(r=null===(t=n.internalWidget)||void 0===t?void 0:t.onLayoutChange)||void 0===r||r.call(t,i),null===(o=n.internalWidget)||void 0===o||o.clearUndoHistory(),(0,u.when)((function(){return n.internalWidgetReady})).then((function(){n.areas.forEach((function(e,t){t>=a&&t<n.chartCount&&e.widgetReady(),t<a&&t>=n.chartCount&&e.chartWillHide()}))})).catch((function(){}))}},this.setChartType=function(e){n.areas.forEach((function(e,t){t<n.chartCount&&(e.chartWillHide(),e.chartTypeWillChange())})),n.setting.updateValue("chartType",e),n.preFetchData()},this.setLocale=function(e){n.setting.updateValue("locale",e)},this.setTheme=function(e){var t,r,o;n.setting.theme!==e&&(n.setting.updateValue("theme",e),null===(r=null===(t=n.internalWidget)||void 0===t?void 0:t.onThemeChange)||void 0===r||r.call(t,e,null!==(o=n.setting.reverseColor)&&void 0!==o&&o))},this.setReverseColor=function(e){var t,r;n.setting.reverseColor!==e&&(n.setting.updateValue("reverseColor",e),null===(r=null===(t=n.internalWidget)||void 0===t?void 0:t.onThemeChange)||void 0===r||r.call(t,n.setting.theme,e))},this.setTimezone=function(e){n.setting.updateValue("timezone",e)},this.setOrderPanelPosition=function(e){n.orderPanelPosition=e},this.setShowDrawingToolbar=function(e){n.showDrawingToolbar=e},this.setShowPriceAlertLabel=function(e){n.showPriceAlertLabel=e},this.setLayoutSizeMap=function(e){n.layoutSizeMap=Object.assign(Object.assign({},n.layoutSizeMap),e)},this.setResizing=function(e){n.resizing=e},this.setCustomIntervals=function(e){n.customIntervals=e},this.applyOverrides=function(e){var t=Object.assign(Object.assign({},n.setting.chartProperties),e);n.setting.updateValue("chartProperties",t)},this.orderInputStore=new k({chartManager:this,setting:this.setting}),this.priceAlertStore=new f.A(this),this.contextMenuStore=new y,(0,u.makeObservable)(this,{settingsData:u.computed,initialized:u.observable,destroyed:u.observable,orderInputStore:u.observable.ref,activeArea:u.computed,internalWidget:u.observable.ref,setInternalWidget:u.action,onInternalWidgetReady:u.action,internalWidgetReady:u.observable,reloadId:u.observable,reloadChart:u.action,undoRedoState:u.observable,areas:u.observable,selectedIndex:u.observable,setSelectedIndex:u.action,pinnedResolutions:u.observable,setPinnedResolutions:u.action,fullscreen:u.observable,setFullscreen:u.action,focused:u.observable,setFocused:u.action,loading:u.observable,setLoading:u.action,drawing:u.observable,trade:u.observable,syncSetting:u.observable,chartSetting:u.observable,timeAnchorSetting:u.observable,setTrade:u.action,orderPanelPosition:u.observable,setOrderPanelPosition:u.action,showDrawingToolbar:u.observable,setShowDrawingToolbar:u.action,showPriceAlertLabel:u.observable,setShowPriceAlertLabel:u.action,layoutSizeMap:u.observable,setLayoutSizeMap:u.action,customIntervals:u.observable,setCustomIntervals:u.action,applyOverrides:u.action})}),[{key:"initDataFeed",value:function(){return rt(this,void 0,void 0,(0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n,r;null!=(null===(n=t.datafeed)||void 0===n?void 0:n.onReady)?null===(r=t.datafeed)||void 0===r||r.onReady(e):e({})})).catch((function(e){return console.error("initDataFeed error",e),{supportedResolutions:ie.js,defaultPinnedResolutions:ie.DE,symbolTypes:[],hideDefaultLineResolution:!1}})).then((function(e){var t,n,r,o;return{supportedResolutions:null!==(t=e.supportedResolutions)&&void 0!==t?t:ie.js,defaultPinnedResolutions:null!==(n=e.defaultPinnedResolutions)&&void 0!==n?n:ie.DE,symbolTypes:null!==(r=e.symbolTypes)&&void 0!==r?r:[],hideDefaultLineResolution:null!==(o=e.hideDefaultLineResolution)&&void 0!==o&&o}})));case 1:case"end":return e.stop()}}),e)})))}},{key:"init",value:function(e){return rt(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i,a=this;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.initialized){t.next=2;break}return t.abrupt("return");case 2:return this.initializeDataFeedAndBroker(e),this.initializeSaveLoadAdapter(e),t.next=6,this.loadSettings();case 6:return n=t.sent,o=n.settingsData,i=n.datafeedConfigData,(0,u.runInAction)((function(){a.datafeedConfig=i,a.applyStoredSettings(o),a.updateSettingsFromConfig(e,o),a.updateCSSVariables()})),t.next=12,this.finalizeInitialization();case 12:this.setupReactionObservers(),this.preFetchData();case 14:case"end":return t.stop()}}),t,this)})))}},{key:"initializeDataFeedAndBroker",value:function(e){if(null!=(null===e||void 0===e?void 0:e.datafeed)&&(this.datafeed=new oe(e.datafeed),this.symbolResolver=new nt(this.datafeed)),null!=(null===e||void 0===e?void 0:e.brokerFactory))try{this.brokerTerminalDelegate=new j(this,this.setting,e.brokerFactory,e.brokerConfig)}catch(t){}}},{key:"initializeSaveLoadAdapter",value:function(e){var t;if(null===e||void 0===e?void 0:e.saveLoadAdapter)this.setting.updateValue("saveLoadAdapter",e.saveLoadAdapter);else{var n=null!==(t=null===e||void 0===e?void 0:e.storageId)&&void 0!==t?t:"chart",r=new ze.U((0,v.Rh)()?"".concat(n,"_layout_v2.simulatedTrading"):"".concat(n,"_layout_v2"));this.setting.enableSaveDrawingToServer&&(r=new Ue.$J(r)),this.setting.updateValue("saveLoadAdapter",r)}}},{key:"loadSettings",value:function(){return rt(this,void 0,void 0,(0,r.A)().mark((function e(){var t,n,o,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.setting.saveLoadAdapter.getSettings(),this.initDataFeed()]);case 2:return t=e.sent,n=(0,s.A)(t,2),o=n[0],i=n[1],e.abrupt("return",{settingsData:o,datafeedConfigData:i});case 7:case"end":return e.stop()}}),e,this)})))}},{key:"applyStoredSettings",value:function(e){var t,n,r=this;ot(this,"selectedIndex",null===e||void 0===e?void 0:e.selectedIndex),ot(this,"pinnedResolutions",null!==(t=null===e||void 0===e?void 0:e.pinnedResolutions)&&void 0!==t?t:null===(n=this.datafeedConfig)||void 0===n?void 0:n.defaultPinnedResolutions),(null===e||void 0===e?void 0:e.areaContents)&&(this.areas=e.areaContents.map((function(e,t){return new et(r.setting,r,t,e)}))),(0,c.A)(this.chartSetting,null===e||void 0===e?void 0:e.chartSetting),(0,c.A)(this.layoutSizeMap,null===e||void 0===e?void 0:e.layoutSizeMap),ot(this,"customIntervals",null===e||void 0===e?void 0:e.customIntervals),it(this,"drawing",null===e||void 0===e?void 0:e.drawing),it(this,"trade",null===e||void 0===e?void 0:e.trade),it(this,"timeAnchorSetting",null===e||void 0===e?void 0:e.timeAnchorSetting),it(this,"syncSetting",null===e||void 0===e?void 0:e.syncSetting),ot(this,"orderPanelPosition",null===e||void 0===e?void 0:e.orderPanelPosition),ot(this,"showDrawingToolbar",null===e||void 0===e?void 0:e.showDrawingToolbar),ot(this,"showPriceAlertLabel",null===e||void 0===e?void 0:e.showPriceAlertLabel)}},{key:"updateSettingsFromConfig",value:function(e,t){this.updateBasicSettings(e),this.updateDisplaySettings(e),this.updateFeatureSettings(e),this.updateLayoutSettings(e,t)}},{key:"updateBasicSettings",value:function(e){this.setting.updateValue("tickerSymbol",null===e||void 0===e?void 0:e.tickerSymbol),this.setting.updateValue("resolution",null===e||void 0===e?void 0:e.resolution),this.setting.updateValue("priceType",null===e||void 0===e?void 0:e.priceType)}},{key:"updateDisplaySettings",value:function(e){this.setting.updateValue("theme",null===e||void 0===e?void 0:e.theme),this.setting.updateValue("reverseColor",null===e||void 0===e?void 0:e.reverseColor),this.setting.updateValue("timezone",null===e||void 0===e?void 0:e.timezone),this.setting.updateValue("locale",null===e||void 0===e?void 0:e.locale),this.setting.updateValue("longShortMode",null===e||void 0===e?void 0:e.longShortMode),this.setting.updateValue("priceFormatterFactory",null===e||void 0===e?void 0:e.priceFormatterFactory),this.setting.updateValue("customTranslateFunction",null===e||void 0===e?void 0:e.customTranslateFunction),this.setting.updateValue("customCssContent",null===e||void 0===e?void 0:e.customCssContent)}},{key:"updateFeatureSettings",value:function(e){this.setting.updateValue("supportedPriceTypes",null===e||void 0===e?void 0:e.supportedPriceTypes),this.setting.updateValue("supportedLayouts",null===e||void 0===e?void 0:e.supportedLayouts),this.setting.updateValue("supportedChartTypes",null===e||void 0===e?void 0:e.supportedChartTypes),this.setting.updateValue("storageId",null===e||void 0===e?void 0:e.storageId),this.setting.updateValue("chartProperties",null===e||void 0===e?void 0:e.overrides),this.setting.updateValue("customThemes",null===e||void 0===e?void 0:e.customThemes),this.setting.updateValue("contextMenu",null===e||void 0===e?void 0:e.contextMenu),this.setting.updateValue("enabledFeatures",null===e||void 0===e?void 0:e.enabledFeatures),this.setting.updateValue("disabledFeatures",null===e||void 0===e?void 0:e.disabledFeatures)}},{key:"updateLayoutSettings",value:function(e,t){var n,r;this.setting.updateValue("layout",null!==(n=null===e||void 0===e?void 0:e.layout)&&void 0!==n?n:null===t||void 0===t?void 0:t.layout),this.setting.updateValue("chartType",null!==(r=null===e||void 0===e?void 0:e.chartType)&&void 0!==r?r:null===t||void 0===t?void 0:t.chartType),this.setting.supportedChartTypes.includes(this.setting.chartType)||this.setting.updateValue("chartType",this.setting.supportedChartTypes[0]),this.setting.enableMultiCharts||this.setting.updateValue("layout",z.P.Layout1A),this.setting.enableHideDrawingToolsByDefault&&(this.showDrawingToolbar=!1)}},{key:"finalizeInitialization",value:function(){return rt(this,void 0,void 0,(0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activeArea&&(this.activeArea.resolution=this.activeArea.resolution||this.setting.resolution),!this.setting.tickerSymbol||!this.activeArea){e.next=10;break}return e.prev=2,e.next=5,this.activeArea.setSymbol(this.setting.tickerSymbol,this.setting.priceType);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:(0,u.runInAction)((function(){t.updateChartContents(),t.initialized=!0}));case 11:case"end":return e.stop()}}),e,this,[[2,7]])})))}},{key:"setupReactionObservers",value:function(){this.setupSettingsSyncObserver(),this.setupLayoutObserver(),this.setupInternalWidgetObserver(),this.setupCSSVariablesObserver()}},{key:"preFetchData",value:function(){var e,t,n,r;try{if(!this.setting.enableDataPrefetch)return;if(this.setting.chartType!==V.N.TradingView)return void(null===(t=null===(e=this.datafeed)||void 0===e?void 0:e.clearPrefetchCache)||void 0===t||t.call(e));if(!(null===(n=this.activeArea)||void 0===n?void 0:n.tickerSymbol))return;(null===(r=this.datafeed)||void 0===r?void 0:r.preFetchData)&&this.datafeed.preFetchData({tickerSymbol:this.activeArea.tickerSymbol,resolution:this.activeArea.resolution,priceType:this.activeArea.priceType,timezone:this.setting.timezone})}catch(o){console.error("PreFetch data failed:",o)}}},{key:"setupSettingsSyncObserver",value:function(){var e=this;this.reactionDisposers.push((0,u.reaction)((function(){return e.settingsData}),(function(t){e.setting.saveLoadAdapter.saveSettings(t).catch((function(e){console.error(e)}))}),{delay:1e3}))}},{key:"setupLayoutObserver",value:function(){var e=this;this.reactionDisposers.push((0,u.reaction)((function(){return{layout:e.setting.layout,enableMultiCharts:e.setting.enableMultiCharts}}),(function(t){var n=t.layout,r=t.enableMultiCharts;n===z.P.Layout1A||r||e.setLayout(z.P.Layout1A),e.selectedIndex>=e.chartCount&&e.updateChartContents()})))}},{key:"setupInternalWidgetObserver",value:function(){var e=this;this.reactionDisposers.push((0,u.reaction)((function(){return e.internalWidget}),(function(t){var n;e.setUndoRedoState(U),null===(n=null===t||void 0===t?void 0:t.subscribe)||void 0===n||n.call(t,"undo_redo_state_changed",e.setUndoRedoState)})))}},{key:"setupCSSVariablesObserver",value:function(){var e=this;this.reactionDisposers.push((0,u.reaction)((function(){return{theme:e.setting.theme,customThemes:e.setting.customThemes,chartProperties:e.setting.chartProperties}}),(function(){e.updateCSSVariables()})))}},{key:"reloadChart",value:function(){this.reloadId+=1}},{key:"updateChartContents",value:function(){var e=this;if(this.chartCount>this.areas.length)for(var t=function(){var t=e.areas[e.selectedIndex],r=null===t||void 0===t?void 0:t.toJSON(),o=new et(e.setting,e,n,r);(0,u.runInAction)((function(){e.areas.push(o)})),n!==e.selectedIndex&&t||o.setSymbol(e.setting.tickerSymbol,e.setting.priceType).catch((function(){}))},n=this.areas.length;n<this.chartCount;n++)t();this.selectedIndex>=this.chartCount&&(this.selectedIndex=this.chartCount-1)}},{key:"destroy",value:function(){var e,t,n,r=this;this.initialized&&(null===(e=this.brokerTerminalDelegate)||void 0===e||e.destroy(),this.reactionDisposers.splice(0,this.reactionDisposers.length).forEach((function(e){e()})),null===(n=null===(t=this.internalWidget)||void 0===t?void 0:t.destroy)||void 0===n||n.call(t),this.areas.forEach((function(e){e.destroy()})),(0,u.runInAction)((function(){r.destroyed=!0})))}},{key:"settingsData",get:function(){var e;return{layout:this.setting.layout,chartType:this.setting.chartType,selectedIndex:this.selectedIndex,pinnedResolutions:this.pinnedResolutions,trade:(0,d.A)(this.trade),chartSetting:(0,d.A)(this.chartSetting),drawing:(0,d.A)(this.drawing),orderPanelPosition:(0,d.A)(this.orderPanelPosition),showDrawingToolbar:this.showDrawingToolbar,showPriceAlertLabel:this.showPriceAlertLabel,syncSetting:(0,d.A)(this.syncSetting),timeAnchorSetting:(0,d.A)(this.timeAnchorSetting),areaContents:this.areas.map((function(e){return e.toJSON()})),layoutSizeMap:this.layoutSizeMap,customIntervals:this.customIntervals,priceType:null===(e=this.activeArea)||void 0===e?void 0:e.priceType}}},{key:"getAllCharts",value:function(){return this.initialized&&this.updateChartContents(),this.areas.slice(0,this.chartCount)}},{key:"activeArea",get:function(){return this.areaByIndex(this.selectedIndex)}},{key:"chartCount",get:function(){return(0,z.L)(this.setting.layout)}}])}()},946:(e,t,n)=>{"use strict";var r,o,i,a;n.d(t,{Nf:()=>a,Nl:()=>a,SJ:()=>i,h$:()=>o,r3:()=>r}),function(e){e.Spot="SPOT",e.Margin="MARGIN",e.Futures="FUTURES",e.Swap="SWAP",e.Option="OPTION",e.Index="INDEX"}(r||(r={})),function(e){e.Inverse="inverse",e.Linear="linear"}(o||(o={})),function(e){e.LastPrice="LastPrice",e.IndexPrice="IndexPrice",e.MarkPrice="MarkPrice"}(i||(i={})),function(e){e[e.Default=0]="Default",e[e.BaseCurrency=1]="BaseCurrency",e[e.QuoteCurrency=2]="QuoteCurrency",e[e.Contract=3]="Contract"}(a||(a={}))},4954:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var r=n(3029),o=n(2901),i=n(388),a=n(2176),s=n(3954),l=n(5501);var c=function(e){function t(e){var n,o,l,c,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String(e);return(0,r.A)(this,t),o=this,l=t,c=[d],l=(0,s.A)(l),(n=(0,i.A)(o,(0,a.A)()?Reflect.construct(l,c||[],(0,s.A)(o).constructor):l.apply(o,c))).error=e,n.retryable=u,n.message=d,n}return(0,l.A)(t,e),(0,o.A)(t,[{key:"toString",value:function(){return this.message}}])}((0,n(5818).A)(Error))},13:(e,t,n)=>{"use strict";n.d(t,{AG:()=>p,GU:()=>c,UA:()=>l,Vq:()=>u,gM:()=>s,qe:()=>f,vb:()=>d,wC:()=>h});var r=n(2195),o=/(\[[^\]]*])/g,i=/[()\s*\xd7/\xf7+\-0-9.]/g,a=/[*\xd7/\xf7+-]{2,}/g;function s(e){return!!e&&!e.match(a)&&0===e.replace(o,"1").replace(i,"").length}function l(e){return e.split(o).filter(Boolean)}function c(e){var t=e.matchAll(o);return Array.from(t).map((function(e){var t=e[1];return t.slice(1,t.length-1)}))}function u(e){if(!s(e))return[];var t=c(e);return Array.from(new Set(t))}function d(e,t){for(var n=[],r=-1;!((r=e.indexOf("[".concat(t,"]"),r+1))<0);){var o={start:r,length:t.length+1};n.push(o)}return n}function f(e){if(!s(e))throw new Error("invalid symbol expr: ".concat(e));var t=new Set,n="data",i="return "+e.replace(o,(function(e,r){var o=r.slice(1,r.length-1);return t.add(o),"".concat(n,'["').concat(o,'"][').concat("key","]")}));if(0===t.size)throw new Error("invalid symbol expr: ".concat(e));var a=new Function(n,"key",i),l={time:0,open:1e3*r.o.mathRandom(),high:1e3*r.o.mathRandom(),low:1e3*r.o.mathRandom(),close:1e3*r.o.mathRandom(),volume:0,turnover:0};return a(Object.fromEntries(Array.from(t).map((function(e){return[e,l]}))),"open"),a}function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.split(o).filter(Boolean).map((function(e){return e.startsWith("[")?e:e.replace(/ *([*\xd7/\xf7+-]) */g,t?" $1 ":"$1")})).join("")}function p(e,t,n){return e.split(o).filter(Boolean).map((function(e){var r;if(e.startsWith("[")){var o=e.slice(1,e.length-1);return"[".concat(null!==(r=null===t||void 0===t?void 0:t[o])&&void 0!==r?r:o,"]")}return"ui"===n?e.replace(/\*/g,"\xd7").replace(/\//g,"\xf7"):e.replace(/\xd7/g,"*").replace(/\xf7/g,"/")})).join("")}},1633:(e,t,n)=>{"use strict";n.d(t,{$H:()=>m,Bs:()=>d,DZ:()=>c,Df:()=>u,Fm:()=>h,W9:()=>g,_:()=>v,_$:()=>y,lt:()=>p,mE:()=>_,rU:()=>w,wt:()=>f});var r=n(5458),o=n(296),i=n(675),a=n(1287),s=n(1790),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};function c(e){return e.sort((function(e,t){return e.time-t.time}))}function u(e,t,n){for(var r=[],o=(0,a.DW)(e),i=t.countBack||Math.ceil((t.to-t.from)/o),s=t.to,l=0;i>0;l++){var c=t.firstDataRequest&&0===l,u=n(c),d=Math.min(i,u),f=s-o*d;r.push(Object.assign(Object.assign({},t),{firstDataRequest:c,from:f,to:s,countBack:d})),i-=d,s=f}return r}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o="number"===typeof n?n:(0,a.DW)(n),i=Math.floor(e/o-r)*o,s=Math.ceil(t/o+r)*o,l=Math.ceil((s-i)/o);return{from:i,to:Math.max(i,s),countBack:Math.max(0,l)}}function f(e,t,n,r,o,a){return l(this,void 0,void 0,(0,i.A)().mark((function s(){var c,u,f,h=this;return(0,i.A)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c={nextTimerId:void 0,stopped:!1},u=function(){return l(h,void 0,void 0,(0,i.A)().mark((function s(){var l;return(0,i.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:c.stopped||(l=Object.assign(Object.assign(Object.assign({},n),d(Math.floor(t()/1e3),Math.ceil(Date.now()/1e3),r,a)),{firstDataRequest:!0}),e(c,l).catch((function(e){console.error(e)})),c.stopped||(c.nextTimerId=window.setTimeout(u,o)));case 1:case"end":return i.stop()}}),s)})))},f=function(){c.stopped=!0,window.clearTimeout(c.nextTimerId)},s.next=5,Promise.resolve();case 5:return s.next=7,u();case 7:return s.abrupt("return",f);case 8:case"end":return s.stop()}}),s)})))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,n=null,r=!1,o=!1,i=!1,a=function(){return!r&&!o},s=function(){i&&(null===n||void 0===n||n(),n=null,i=!1)},l=function(){a()&&!i&&(i=!0,e().then((function(e){n=e,a()||s()})).catch((function(){a()&&setTimeout(l,t)})))};return{resume:function(){r=!1,l()},pause:function(){r=!0,s()},cancel:function(){o=!0,s()}}}function p(){for(var e=new AbortController,t=e.signal,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.forEach((function(n){if(null!=n){var r=e.abort.bind(e);n.addEventListener("abort",r),t.addEventListener("abort",(function(){n.removeEventListener("abort",r)}))}})),t}function v(e){if(null!=AbortSignal.timeout)return AbortSignal.timeout(e);var t=new AbortController;return setTimeout(t.abort.bind(t),e),t.signal}function g(e){return e.split(":",2)}function m(e,t){return[e,t].join(":")}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.includes(e))return{base:e,factor:1};var n=(0,a.sG)(e),r=(0,o.A)(n,2),i=r[0],s=r[1],l=t.filter((function(e){return e.includes(s)}));if(0===l.length&&s===a.rb.Year)return{base:"3M",factor:4};var c=l.map((function(e){return(0,a.sG)(e)[0]})).sort((function(e,t){return t-e})).find((function(e,t,n){return i%e===0||t===n.length-1}));return null==c?null:{base:"".concat(c).concat(s),factor:i/c}}function b(e,t,n,r){var o=(0,s.gP)(n),i=r+60*o*60*1e3,a=new Date(e+60*o*60*1e3),l=new Date(i),c=12*(a.getUTCFullYear()-l.getUTCFullYear())+(a.getUTCMonth()-l.getUTCMonth()),u=Math.floor(c/t),d=new Date(i);return d.setUTCMonth(l.getUTCMonth()+u*t),d.setUTCDate(l.getUTCDate()),d.setUTCHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),d.getTime()-60*o*60*1e3}function A(e){var t,n=e.time,r=e.timezone,i=e.targetResolution,l=(0,a.DW)(i),c=(0,a.sG)(i),u=(0,o.A)(c,2),d=u[0],f=u[1],h=Math.floor(n/1e3),p=function(e,t,n){var r=(0,s.gP)(n),o=new Date(e+60*r*60*1e3);switch(t){case a.rb.Minute:case a.rb.Hour:return o.setUTCHours(0,0,0,0),o.getTime()-60*r*60*1e3;case a.rb.Day:case a.rb.Year:return o.setUTCFullYear(o.getUTCFullYear(),0,1),o.setUTCHours(0,0,0,0),o.getTime()-60*r*60*1e3;case a.rb.Week:o.setUTCFullYear(o.getUTCFullYear(),0,1),o.setUTCHours(0,0,0,0);var i=o.getUTCDay(),l=0===i?1:(8-i)%7;return o.setUTCDate(o.getUTCDate()+l),o.getTime()-60*r*60*1e3;default:return 0}}(n,f,r),v=Math.floor(p/1e3),g=h-v,m=Math.floor(g/l)*l+v;switch(f){case a.rb.Year:t=p;break;case a.rb.Month:t=function(e,t,n){var r=(0,s.gP)(n),o=new Date(e+60*r*60*1e3),i=o.getUTCMonth(),a=Math.floor(i/t)*t;return o.setUTCMonth(a),o.setUTCDate(1),o.setUTCHours(0,0,0,0),o.getTime()-60*r*60*1e3}(n,d,r);break;default:t=1e3*m}return t}function w(e){var t=e.symbolStartTime;return null!=t&&t>0?function(e){var t=e.time,n=e.timezone,r=e.targetResolution,i=e.symbolStartTime,s=(0,a.DW)(r),l=(0,a.sG)(r),c=(0,o.A)(l,2),u=c[0],d=c[1],f=Math.floor(t/1e3),h=Math.floor(i/1e3);switch(d){case a.rb.Month:return b(t,u,n,i);case a.rb.Year:return b(t,12*u,n,i);default:var p=f-h;return 1e3*(Math.floor(p/s)*s+h)}}(e):A(e)}function _(e){var t=new Map;return e.data.forEach((function(n){var r=w(Object.assign(Object.assign({},e),{time:n.time,symbolStartTime:e.symbolStartTime}));t.has(r)?t.get(r).push(n):t.set(r,[n])})),Array.from(t.entries()).map((function(e){var t=(0,o.A)(e,2),n=t[0],i=t[1];return{time:Number(n),open:i[0].open,close:i[i.length-1].close,high:Math.max.apply(Math,(0,r.A)(i.map((function(e){return e.high})))),low:Math.min.apply(Math,(0,r.A)(i.map((function(e){return e.low})))),volume:i.reduce((function(e,t){if(null!=e&&null!=t.volume)return e+t.volume}),0),turnover:i.reduce((function(e,t){if(null!=e&&null!=t.turnover)return e+t.turnover}),0)}}))}},1994:(e,t,n)=>{"use strict";n.d(t,{z:()=>s,_:()=>u});var r=n(4467),o=n(4747);const i=(0,o.t)((function(){return Promise.all([n.e(828),n.e(204),n.e(298)]).then(n.bind(n,1240))})),a=(0,o.t)((function(){return Promise.all([n.e(417),n.e(828),n.e(399),n.e(72)]).then(n.bind(n,7063))}));var s,l=(0,o.t)((function(){return Promise.all([n.e(828),n.e(195),n.e(794),n.e(460)]).then(n.bind(n,8301))})),c=(0,o.t)((function(){return Promise.all([n.e(828),n.e(195),n.e(794),n.e(423)]).then(n.bind(n,5276))}));!function(e){e.PriceAlert="priceAlertDialog",e.HistoryDataTools="historyDataToolsDialog",e.Compare="compareDialog",e.CustomExpr="customExprDialog"}(s||(s={}));var u=(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},s.PriceAlert,a),s.HistoryDataTools,i),s.Compare,l),s.CustomExpr,c)},8847:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(3029),o=n(2901),i=n(3631),a=n(840),s=function(){return(0,o.A)((function e(t,n,o,i){(0,r.A)(this,e),this._symbolInfo=null,this._precision=null,this._customFactory=null,this._customFormatter=null,this._inheritFormatter=null,this._format=t,this._symbolInfo=n,this._precision=o,this._customFactory=i,null!=i&&(this._customFormatter=i(t,n,o))}),[{key:"setInheritFormatter",value:function(e){this._inheritFormatter=e}},{key:"precision",get:function(){var e,t;return null!==(t=null!==(e=this._precision)&&void 0!==e?e:this._format.precision)&&void 0!==t?t:a.V}},{key:"format",value:function(e,t){var n,r;return null!=(null===(n=this._customFormatter)||void 0===n?void 0:n.format)?this._customFormatter.format(e,t):"inherit"===this._format.type&&null==this._customFactory&&null!=(null===(r=this._inheritFormatter)||void 0===r?void 0:r.format)?this._inheritFormatter.format(e,t):"volume"===this._format.type?i._u.num2Shorthand(e,3,{signDisplay:null===t||void 0===t?void 0:t.signPositive,needZero:!1}):i._u.showTruncation(e,this.precision,{style:"percent"===this._format.type?"percent":void 0,signDisplay:null===t||void 0===t?void 0:t.signPositive})}},{key:"formatChange",value:function(e,t,n){var r,o;if(null!=(null===(r=this._customFormatter)||void 0===r?void 0:r.formatChange))return this._customFormatter.formatChange(e,t,n);if("inherit"===this._format.type&&null==this._customFactory&&null!=(null===(o=this._inheritFormatter)||void 0===o?void 0:o.formatChange))return this._inheritFormatter.formatChange(e,t,n);var a=(e-t)/t;return i._u.showTruncation(100*a,this.precision,{style:"percent",signDisplay:null===n||void 0===n?void 0:n.signPositive})}}])}();function l(e,t,n,r){return new s(e,t,n,r)}},2152:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var r=n(3029),o=n(2901),i=n(439),a=n(3631),s=function(){return(0,o.A)((function e(t,n,o){(0,r.A)(this,e),this.customFactory=null,this.customFormatter=null,this.symbolInfo=t,this.precisionOverride=n,this.customFactory=o,null!=o&&(this.customFormatter=o(t,n))}),[{key:"format",value:function(e,t){var n,r;if(null!=(null===(n=this.customFormatter)||void 0===n?void 0:n.format))return this.customFormatter.format(e,t);var o=null!==(r=this.precisionOverride)&&void 0!==r?r:Number.NaN;return Number.isNaN(o)&&null!=this.symbolInfo&&(o=Math.log10(this.symbolInfo.priceScale)),Number.isNaN(o)?i.Ru.formatNumber(e,{signDisplay:null===t||void 0===t?void 0:t.signPositive}):a._u.showTruncation(e,o,{signDisplay:null===t||void 0===t?void 0:t.signPositive})}},{key:"formatChange",value:function(e,t,n){var r;if(null!=(null===(r=this.customFormatter)||void 0===r?void 0:r.formatChange))return this.customFormatter.formatChange(e,t,n);var o=e-t;return this.format(o,n)}}])}();function l(e,t,n){return new s(e,t,n)}},840:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=2},7848:(e,t,n)=>{"use strict";var r,o;n.d(t,{F:()=>o,_:()=>r}),function(e){e.Volume="VOLUME",e.MovingAverage="MA",e.ExponentialMovingAverage="EMA",e.BollingerBands="BB",e.ParabolicSAR="SAR",e.MovingAverageConvergence="MACD",e.KDJ="KDJ",e.SKDJ="SKDJ",e.StochasticRSI="STOCH_RSI",e.RelativeStrengthIndex="RSI",e.DirectionalMovement="DMI",e.OnBalanceVolume="OBV",e.DifferentOfMovingAverage="DMA",e.TRIX="TRIX",e.BRAR="BRAR",e.VolatilityVolumeRatio="VR",e.EaseOfMovementValue="EMV",e.WilliamsR="WR",e.RateOfChange="ROC",e.MomentumIndex="MTM",e.PsychologicalLine="PSY",e.CommodityChannelIndex="CCI",e.Index="INDEX",e.OpenInterest="OI",e.EliteAccountLongShortRatio="ELITE_LSR",e.EliteAccountLongShortOpenInterest="ELITE_OI_LSR",e.AccountLongShortRatio="LSR",e.TakerBuySell="TAKER_BS",e.SymbolCompare="SYMBOL_COMPARE"}(r||(r={})),function(e){e[e.Default=0]="Default",e[e.GroupedOutput=1]="GroupedOutput"}(o||(o={}))},1599:(e,t,n)=>{"use strict";var r;n.d(t,{m:()=>r}),function(e){e.Text="text",e.VerticalLine="vertical_line",e.HorizontalLine="horizontal_line",e.HorizontalRay="horizontal_ray",e.TrendLine="trend_line",e.Arrow="arrow",e.Ray="ray",e.Extended="extended",e.ParallelChannel="parallel_channel",e.ParallelLine="parallel_line",e.ParallelRay="parallel_ray",e.ParallelHorizontalLine="parallel_horizontal_line",e.FibRetracement="fib_retracement",e.FibSpeedResistFan="fib_speed_resist_fan",e.LongPosition="long_position",e.ShortPosition="short_position",e.Measure="measure",e.Rectangle="rectangle",e.Circle="circle",e.Triangle="triangle",e.PriceLine="price_line",e.HorizontalExtended="horizontal_extended"}(r||(r={}))},6632:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deepMergeWithUndefined:()=>o,fromTickerSymbol:()=>r.W9,toTickerSymbol:()=>r.$H});var r=n(1633);function o(e,t){var n=Object.assign({},e);return Object.keys(t).forEach((function(r){var i=t[r],a=e[r];void 0===i?n[r]=void 0:null===i||"object"!==typeof i||Array.isArray(i)||null===a||"object"!==typeof a||Array.isArray(a)?n[r]=i:n[r]=o(a,i)})),n}},6936:(e,t,n)=>{"use strict";n.d(t,{B5:()=>w,Xj:()=>r});var r,o=n(3029),i=n(2901),a=n(9719),s=n(5314),l=n(519),c=n(8656),u=n(1029),d=n(3891),f=n(946),h=n(1327),p=n(3360);!function(e){e.HeaderWidget="header_widget",e.HeaderSimpleMode="header_simple_mode",e.HeaderKLineTradeMode="header_kline_trade_mode",e.HeaderPriceTypeMenu="header_price_type_menu",e.HeaderLayoutSelectMenu="header_layout_select_menu",e.HeaderCandleStyleMenu="header_candle_style_menu",e.HeaderCompareSymbolMenu="header_compare_symbol_menu",e.HeaderFullscreenButton="header_fullscreen_button",e.MultiCharts="multi_charts",e.PercentageMarketOrder="percentage_market_order",e.PercentageLimitOrder="percentage_limit_order",e.DisplayOrderQuantityHint="display_order_quantity_hint",e.MouseClickScale="mouse_click_scale",e.Trade="trade",e.TradeOrderRecord="trade_order_record",e.TradeOrderPanel="trade_order_panel",e.TradeOrderButton="trade_order_button",e.PriceAlert="price_alert",e.PrefillPrice="prefill_price",e.TradingViewWebhookAlert="tv_webhook_alert",e.CreateVolumeIndicatorByDefault="create_volume_indicator_by_default",e.HideDrawingToolsByDefault="hide_drawing_tools_by_default",e.LegendSeriesTitle="legend_series_title",e.TimeframesToolbar="timeframes_toolbar",e.TradeIndicator="trade_indicator",e.SaveDrawingToServer="save_drawing_to_server",e.SaveIndicatorSettingToServer="save_indicator_setting_to_server",e.HistoryDataTools="history_data_tools",e.CustomIntervals="custom_intervals",e.CustomExpr="custom_expr",e.SymbolCompare="symbol_compare",e.Marks="marks",e.HideClosePositionButton="hide_close_position_button",e.HideCloseOrderButton="hide_close_order_button",e.ResetTimeScaleOnChanges="reset_timescale_on_changes",e.HideLoader="hide_loader",e.DataPrefetch="data_prefetch",e.VolumeForceOverlay="volume_force_overlay",e.Shortcut="shortcut"}(r||(r={}));var v=[r.HeaderWidget,r.HeaderPriceTypeMenu,r.HeaderLayoutSelectMenu,r.HeaderCandleStyleMenu,r.HeaderFullscreenButton,r.MultiCharts,r.CreateVolumeIndicatorByDefault,r.TimeframesToolbar,r.HeaderCompareSymbolMenu,r.SaveDrawingToServer,r.CustomIntervals,r.Shortcut],g=[f.SJ.LastPrice,f.SJ.MarkPrice,f.SJ.IndexPrice],m=[d.P.Layout1A,d.P.Layout2A,d.P.Layout2B,d.P.Layout3A,d.P.Layout3B,d.P.Layout3C,d.P.Layout3D,d.P.Layout3E,d.P.Layout3F,d.P.Layout4A,d.P.Layout4B,d.P.Layout4C,d.P.Layout4D,d.P.Layout4E,d.P.Layout4F,d.P.Layout5A,d.P.Layout5B,d.P.Layout5C,d.P.Layout5D,d.P.Layout6A,d.P.Layout6B,d.P.Layout6C,d.P.Layout7A,d.P.Layout8A,d.P.Layout8B,d.P.Layout8C],y=[u.N.Original,u.N.TradingView,u.N.Depth],b="kline",A=new h.U(b),w=function(){return(0,i.A)((function e(){(0,o.A)(this,e),this.enabledFeatures=[],this.disabledFeatures=[],this.supportedPriceTypes=g,this.supportedLayouts=m,this.supportedChartTypes=y,this.storageId=b,this.inverseTradeUnit=f.Nf.Default,this.linearTradeUnit=f.Nf.Default,this.saveLoadAdapter=A,this.symbol="",this.tickerSymbol="",this.layout=d.P.Layout1A,this.chartType=c.Fr?u.N.Original:u.N.TradingView,this.priceFormatterFactory=null,this.studyFormatterFactory=null,this.timezone="Etc/UTC",this.locale=l.A.locale,this.theme=a.zG.dark,this.reverseColor=void 0,this.longShortMode=!1,this.contextMenu=void 0,this.chartProperties={},this.customThemes=null,this.customTranslateFunction=null,this.cssVariables={},this.customCssContent="",this.onThemeChange=null,this.openPlaceOrderPane=null,this.getTradeHeader=null,this.renderAlertHeaderPortal=!1,this.chartTradeSettingActions=void 0,(0,s.makeObservable)(this,{enabledFeatures:s.observable,disabledFeatures:s.observable,updateValue:s.action,setFeature:s.action,resetFeature:s.action,supportedPriceTypes:s.observable,supportedLayouts:s.observable,linearTradeUnit:s.observable,inverseTradeUnit:s.observable,storageId:s.observable,saveLoadAdapter:s.observable.ref,tickerSymbol:s.observable,layout:s.observable,chartType:s.observable,timezone:s.observable,locale:s.observable,theme:s.observable,reverseColor:s.observable,longShortMode:s.observable,onThemeChange:s.observable,chartTradeSettingActions:s.observable,contextMenu:s.observable,chartProperties:s.observable,customTranslateFunction:s.observable,cssVariables:s.observable,customCssContent:s.observable})}),[{key:"updateValue",value:function(e,t){null!=t&&(this[e]=t)}},{key:"subscribeValueChange",value:function(e){var t=this;return(0,p.u)((function(){return t[e]}))}},{key:"setFeature",value:function(e,t){this.resetFeature(e),"boolean"===typeof t&&(t?this.enabledFeatures.push(e):this.disabledFeatures.push(e))}},{key:"resetFeature",value:function(e){this.enabledFeatures=this.enabledFeatures.filter((function(t){return t!==e})),this.disabledFeatures=this.disabledFeatures.filter((function(t){return t!==e}))}},{key:"isFeatureEnabled",value:function(e){return!this.disabledFeatures.includes(e)&&(this.enabledFeatures.includes(e)||v.includes(e))}},{key:"enableHeaderWidget",get:function(){return this.isFeatureEnabled(r.HeaderWidget)}},{key:"enableHeaderSimpleMode",get:function(){return this.isFeatureEnabled(r.HeaderSimpleMode)}},{key:"enableHeaderKLineTradeMode",get:function(){return this.isFeatureEnabled(r.HeaderKLineTradeMode)}},{key:"enableHeaderPriceTypeMenu",get:function(){return this.isFeatureEnabled(r.HeaderPriceTypeMenu)}},{key:"enableHeaderLayoutSelectMenu",get:function(){return this.isFeatureEnabled(r.HeaderLayoutSelectMenu)}},{key:"enableHeaderCandleStyleMenu",get:function(){return this.isFeatureEnabled(r.HeaderCandleStyleMenu)}},{key:"enableHeaderCompareSymbolMenu",get:function(){return this.isFeatureEnabled(r.HeaderCompareSymbolMenu)}},{key:"enableHeaderFullscreenButton",get:function(){return this.isFeatureEnabled(r.HeaderFullscreenButton)}},{key:"enableMultiCharts",get:function(){return this.isFeatureEnabled(r.MultiCharts)}},{key:"enablePercentageMarketOrder",get:function(){return this.isFeatureEnabled(r.PercentageMarketOrder)}},{key:"enablePercentageLimitOrder",get:function(){return this.isFeatureEnabled(r.PercentageLimitOrder)}},{key:"enableDisplayOrderQuantityHint",get:function(){return this.isFeatureEnabled(r.DisplayOrderQuantityHint)}},{key:"enableTrade",get:function(){return this.isFeatureEnabled(r.Trade)}},{key:"enableTradeOrderRecord",get:function(){return this.enableTrade&&this.isFeatureEnabled(r.TradeOrderRecord)}},{key:"enableTradeOrderPanel",get:function(){return this.enableTrade&&this.isFeatureEnabled(r.TradeOrderPanel)}},{key:"enableTradeOrderButton",get:function(){return this.enableTrade&&this.isFeatureEnabled(r.TradeOrderButton)}},{key:"enableTradeIndicator",get:function(){return this.isFeatureEnabled(r.TradeIndicator)}},{key:"enableCreateVolumeIndicatorByDefault",get:function(){return this.isFeatureEnabled(r.CreateVolumeIndicatorByDefault)}},{key:"enableHideDrawingToolsByDefault",get:function(){return this.isFeatureEnabled(r.HideDrawingToolsByDefault)}},{key:"enableVolumeForceOverlay",get:function(){return this.isFeatureEnabled(r.VolumeForceOverlay)}},{key:"enableLegendSeriesTitle",get:function(){return this.isFeatureEnabled(r.LegendSeriesTitle)}},{key:"enableTimeframesToolbar",get:function(){return this.isFeatureEnabled(r.TimeframesToolbar)}},{key:"enablePriceAlert",get:function(){return this.isFeatureEnabled(r.PriceAlert)}},{key:"enablePrefillPrice",get:function(){return this.isFeatureEnabled(r.PrefillPrice)}},{key:"enableTradingViewWebhookAlert",get:function(){return this.isFeatureEnabled(r.TradingViewWebhookAlert)}},{key:"enableSaveDrawingToServer",get:function(){return this.isFeatureEnabled(r.SaveDrawingToServer)}},{key:"enableSaveIndicatorSettingToServer",get:function(){return this.isFeatureEnabled(r.SaveIndicatorSettingToServer)}},{key:"enableHistoryDataTools",get:function(){return this.isFeatureEnabled(r.HistoryDataTools)}},{key:"enableCustomIntervals",get:function(){return this.isFeatureEnabled(r.CustomIntervals)}},{key:"enableCustomExpr",get:function(){return this.isFeatureEnabled(r.CustomExpr)}},{key:"enableSymbolCompare",get:function(){return this.isFeatureEnabled(r.SymbolCompare)}},{key:"enableMarkers",get:function(){return this.isFeatureEnabled(r.Marks)}},{key:"hideClosePositionButton",get:function(){return this.isFeatureEnabled(r.HideClosePositionButton)}},{key:"hideCloseOrderButton",get:function(){return this.isFeatureEnabled(r.HideCloseOrderButton)}},{key:"enableResetTimeScaleOnChanges",get:function(){return this.isFeatureEnabled(r.ResetTimeScaleOnChanges)}},{key:"enableHideLoader",get:function(){return this.isFeatureEnabled(r.HideLoader)}},{key:"enableDataPrefetch",get:function(){return this.isFeatureEnabled(r.DataPrefetch)}},{key:"enableShortcut",get:function(){return this.isFeatureEnabled(r.Shortcut)}}])}()},2992:(e,t,n)=>{"use strict";n.d(t,{DE:()=>l,QQ:()=>f,XR:()=>c,fD:()=>d,g4:()=>u,js:()=>s});var r=n(5458),o=n(7544),i=n(1287),a={name:"line",displayName:"ok_component_okline_period_line",resolution:"1m",style:o.K.Line},s=["1s","1m","3m","5m","15m","30m","1H","2H","4H","6H","12H","1D","2D","3D","5D","1W","1M","3M"],l=["1s","1m","5m","15m","1H","4H","1D"];function c(e){var t,n=null!==(t=null===e||void 0===e?void 0:e.supportedResolutions)&&void 0!==t?t:s;return(null===e||void 0===e?void 0:e.hideDefaultLineResolution)?(0,r.A)(n):[a].concat((0,r.A)(n))}function u(e){return"object"===typeof e}function d(e,t){return u(e)&&u(t)?e.resolution===t.resolution:e===t}function f(e,t){return e.filter((function(e){return u(e)?t.includes(e.name):t.includes(e)})).sort((function(e,t){return(0,i.DW)(u(e)?e.resolution:e)-(0,i.DW)(u(t)?t.resolution:t)}))}},1327:(e,t,n)=>{"use strict";n.d(t,{U:()=>C,i:()=>_});var r=n(296),o=n(675),i=n(3029),a=n(2901),s=n(388),l=n(2176),c=n(3954),u=n(5501),d=n(1656),f=n(9136),h=n(4687),p=n(8679),v=n(8887),g=n(2539),m=n(519),y="okx.chart.settings",b=m.A.simulatedTrading?"okx.simulate.chart.shape":"okx.chart.shape";var A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function _(e){return d.A.get(e)}var C=function(e){function t(e){var n,r,o,a;return(0,i.A)(this,t),r=this,o=t,o=(0,c.A)(o),(n=(0,s.A)(r,(0,l.A)()?Reflect.construct(o,a||[],(0,c.A)(r).constructor):o.apply(r,a))).storageId=e,n}return(0,u.A)(t,e),(0,a.A)(t,[{key:"getSettings",value:function(){return A(this,void 0,void 0,(0,o.A)().mark((function e(){var t,n,r,i,a,s,l,c,u,d,f,p,g,m,y,b,A,_,C,S,k,T,x,P,E,L,I,O,R,M,N,D,B,F,j,V,H,z,U,W,K,G;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N=this.getLocalSettingsData(),D=this.getChartStoreData(),B=this.getLayoutSizeMapFromLocalStorage(),F=this.getCustomIntervalsFromLocalStorage(),D&&D.chartSetting&&(null!==(t=D.version)&&void 0!==t?t:0)<1&&(D.chartSetting.scales.crosshairPriceChange.checked=!0),j={priceType:null===D||void 0===D?void 0:D.priceType,layout:null===D||void 0===D?void 0:D.layout,selectedIndex:null===D||void 0===D?void 0:D.currentAreaIndex,chartType:null===D||void 0===D?void 0:D.chartType,pinnedResolutions:null===D||void 0===D?void 0:D.collectPeriods,chartSetting:null===D||void 0===D?void 0:D.chartSetting,syncSetting:null===D||void 0===D?void 0:D.syncSetting,timeAnchorSetting:null===D||void 0===D?void 0:D.timeAnchorSetting,areaContents:null===(n=null===D||void 0===D?void 0:D.areas)||void 0===n?void 0:n.map((function(e){return{resolution:("line"===e.resolution?"1m":e.resolution)||h.Tn,resolutionOpt:e.resolutionOpt,symbolType:e.symbolType,symbol:e.symbol,tickerSymbol:e.tickerSymbol,priceType:-1===e.priceType.indexOf("_")?e.priceType:(0,v.$A)(e.priceType),prevNonExprSymbol:e.prevNonExprSymbol,prevSymbol:e.prevSymbol,prevPriceType:e.prevPriceType,prevResolution:e.prevResolution,prevResolutionOpt:e.prevResolutionOpt,rightOffset:e.rightOffset,barSpacing:e.barSpacing,chartStyle:e.chartStyle}})),trade:{orderLine:null===(r=null===D||void 0===D?void 0:D.trade)||void 0===r?void 0:r.showOrderLine,orderLineQuickAttachTpSl:null===(i=null===D||void 0===D?void 0:D.trade)||void 0===i?void 0:i.orderLineQuickAttachTpSl,orderLineValueDisplayType:null===(a=null===D||void 0===D?void 0:D.trade)||void 0===a?void 0:a.orderLineValueDisplayType,orderLinePosition:null===(s=null===D||void 0===D?void 0:D.trade)||void 0===s?void 0:s.orderLinePosition,orderLineHorzVisible:null===(l=null===D||void 0===D?void 0:D.trade)||void 0===l?void 0:l.orderHorzLineVisible,orderRecord:null===(c=null===D||void 0===D?void 0:D.trade)||void 0===c?void 0:c.showOrderRecord,orderPanel:null!==(d=null===(u=null===D||void 0===D?void 0:D.trade)||void 0===u?void 0:u.floatOrderInputEnabled)&&void 0!==d?d:null===(f=null===D||void 0===D?void 0:D.trade)||void 0===f?void 0:f.showOrderInput,orderButton:null!==(g=null===(p=null===D||void 0===D?void 0:D.trade)||void 0===p?void 0:p.crosshairOrderBtnEnabled)&&void 0!==g?g:null===(m=null===D||void 0===D?void 0:D.trade)||void 0===m?void 0:m.showOrderInput,orderLineQuickChange:null===(y=null===D||void 0===D?void 0:D.trade)||void 0===y?void 0:y.orderLineQuicklyChange,positionLineQuickClose:null===(b=null===D||void 0===D?void 0:D.trade)||void 0===b?void 0:b.positionLineCloseAll,positionLine:null===(A=null===D||void 0===D?void 0:D.trade)||void 0===A?void 0:A.showPositionLine,positionLineQuickTpSl:null===(_=null===D||void 0===D?void 0:D.trade)||void 0===_?void 0:_.positionLineQuicklyTPSL,positionLinePosition:null===(C=null===D||void 0===D?void 0:D.trade)||void 0===C?void 0:C.positionLinePosition,positionLineHorzVisible:null===(S=null===D||void 0===D?void 0:D.trade)||void 0===S?void 0:S.positionHorzLineVisible,positionLineLiquidationPriceVisible:null===(k=null===D||void 0===D?void 0:D.trade)||void 0===k?void 0:k.positionLineLiquidationPriceVisible,positionLineBreakevenPriceVisible:null===(T=null===D||void 0===D?void 0:D.trade)||void 0===T?void 0:T.positionLineBreakevenPriceVisible,trade:null===(x=null===D||void 0===D?void 0:D.trade)||void 0===x?void 0:x.trade,quickTpSl:null===(P=null===D||void 0===D?void 0:D.trade)||void 0===P?void 0:P.quickTpSl,quickEdit:null===(E=null===D||void 0===D?void 0:D.trade)||void 0===E?void 0:E.quickEdit,quickClose:null===(L=null===D||void 0===D?void 0:D.trade)||void 0===L?void 0:L.quickClose,valueDisplayType:null===(I=null===D||void 0===D?void 0:D.trade)||void 0===I?void 0:I.valueDisplayType,lineHorzVisible:null===(O=null===D||void 0===D?void 0:D.trade)||void 0===O?void 0:O.lineHorzVisible},orderPanelPosition:null===D||void 0===D?void 0:D.orderInputPosition,showDrawingToolbar:null===(R=null===D||void 0===D?void 0:D.drawing)||void 0===R?void 0:R.toolbarSwitch,showPriceAlertLabel:null===(M=null===D||void 0===D?void 0:D.trade)||void 0===M?void 0:M.priceAlertLabel,layoutSizeMap:B,customIntervals:F},N&&(V=N.drawing,H=N.DrawingToolGroupLastUsedTool,z=void 0===H?{}:H,U=N.riskRewardAvailableChanged,W=N.riskRewardRiskSizeChanged,K=N.drawingShapeTemplate,G=w(N,["drawing","DrawingToolGroupLastUsedTool","riskRewardAvailableChanged","riskRewardRiskSizeChanged","drawingShapeTemplate"]),j.drawing=Object.assign(Object.assign({},V),{lastUsedTools:z,defaultStates:G,riskRewardAvailableChanged:U,riskRewardRiskSizeChanged:W,drawingShapeTemplate:K})),e.abrupt("return",j);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"getChartStoreData",value:function(){return _(this.storageId)}},{key:"setChartStoreData",value:function(e){d.A.set(this.storageId,e)}},{key:"saveSettings",value:function(e){return A(this,void 0,void 0,(0,o.A)().mark((function t(){var n,r,i,a,s,l,c,u,d,f,p,v,g,m;return(0,o.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.getChartStoreData(),this.setChartStoreData(Object.assign(Object.assign({},n),{version:1,layout:e.layout,currentAreaIndex:e.selectedIndex,chartType:e.chartType,collectPeriods:e.pinnedResolutions,areas:e.areaContents.map((function(e,t){var r,o=Object.assign({},(0,h.HF)());return Object.assign(Object.assign(Object.assign({indicatorVer:"0",indicatorData:[]},o),null===(r=null===n||void 0===n?void 0:n.areas)||void 0===r?void 0:r[t]),e)})),trade:Object.assign(Object.assign({},null===n||void 0===n?void 0:n.trade),{showPositionLine:e.trade.positionLine,showOrderLine:e.trade.orderLine,orderLineQuickAttachTpSl:e.trade.orderLineQuickAttachTpSl,orderLineValueDisplayType:e.trade.orderLineValueDisplayType,orderLinePosition:e.trade.orderLinePosition,orderHorzLineVisible:e.trade.orderLineHorzVisible,showOrderRecord:e.trade.orderRecord,showOrderInput:e.trade.orderPanel,floatOrderInputEnabled:e.trade.orderPanel,crosshairOrderBtnEnabled:e.trade.orderButton,orderLineQuicklyChange:e.trade.orderLineQuickChange,positionLineQuicklyTPSL:e.trade.positionLineQuickTpSl,positionLineCloseAll:e.trade.positionLineQuickClose,positionLinePosition:e.trade.positionLinePosition,positionHorzLineVisible:e.trade.positionLineHorzVisible,positionLineBreakevenPriceVisible:e.trade.positionLineBreakevenPriceVisible,positionLineLiquidationPriceVisible:e.trade.positionLineLiquidationPriceVisible,trade:e.trade.trade,quickTpSl:e.trade.quickTpSl,quickEdit:e.trade.quickEdit,quickClose:e.trade.quickClose,valueDisplayType:e.trade.valueDisplayType,lineHorzVisible:e.trade.lineHorzVisible,priceAlertLabel:e.showPriceAlertLabel}),chartSetting:e.chartSetting,syncSetting:e.syncSetting,timeAnchorSetting:e.timeAnchorSetting,orderInputPosition:e.orderPanelPosition,drawing:Object.assign(Object.assign({},null===n||void 0===n?void 0:n.drawing),{toolbarSwitch:e.showDrawingToolbar})})),r=e.drawing,i=r.magnet,a=r.magnetMode,s=r.stayInDrawingMode,l=r.hideShapes,c=r.lastUsedTools,u=r.defaultStates,d=r.favoriteDrawings,f=r.favoriteDrawingBarVisible,p=r.riskRewardAvailableChanged,v=r.riskRewardRiskSizeChanged,g=r.drawingShapeTemplate,m=Object.assign({drawing:{magnet:i,magnetMode:a,hideShapes:l,stayInDrawingMode:s,favoriteDrawings:d,favoriteDrawingBarVisible:f},DrawingToolGroupLastUsedTool:c,riskRewardAvailableChanged:p,riskRewardRiskSizeChanged:v,drawingShapeTemplate:g},u),this.setLocalSettingsData(m),this.saveLayoutSizeMapToLocalStorage(e.layoutSizeMap),this.saveCustomIntervalsToLocalStorage(e.customIntervals||[]);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getShapes",value:function(e){return A(this,void 0,void 0,(0,o.A)().mark((function t(){var n;return(0,o.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getLocalShapesData(),t.abrupt("return",(null===n||void 0===n?void 0:n[e])?Object.values(n[e]).filter(Boolean):[]);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"saveShapes",value:function(e,t){return A(this,void 0,void 0,(0,o.A)().mark((function n(){var i;return(0,o.A)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=this.getLocalShapesData()||{},Object.entries(t).forEach((function(t){var n=(0,r.A)(t,2),o=n[0],a=n[1];null!=a&&(i[e]||(i[e]={}),i[e][o]=a),null==a&&null!=i[e]&&delete i[e][o]})),this.setLocalShapesData(i);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"getLayoutSizeMapStorageKey",value:function(){return(0,g.X)(this.storageId,p.gn)}},{key:"getLayoutSizeMapFromLocalStorage",value:function(){var e=this.getLayoutSizeMapStorageKey();try{var t=localStorage.getItem(e)||"";return JSON.parse(t)}catch(n){return{}}}},{key:"saveLayoutSizeMapToLocalStorage",value:function(e){var t=this.getLayoutSizeMapStorageKey();localStorage.setItem(t,JSON.stringify(e))}},{key:"getCustomIntervalsStorageKey",value:function(){return(0,g.X)(this.storageId,f.N)}},{key:"saveCustomIntervalsToLocalStorage",value:function(e){var t=this.getCustomIntervalsStorageKey();localStorage.setItem(t,JSON.stringify(e))}},{key:"getCustomIntervalsFromLocalStorage",value:function(){try{var e=this.getCustomIntervalsStorageKey(),t=localStorage.getItem(e)||"";return JSON.parse(t)}catch(n){return}}}])}(function(){return(0,a.A)((function e(){(0,i.A)(this,e)}),[{key:"getLocalSettingsData",value:function(){var e=localStorage.getItem(y);return e?JSON.parse(e):null}},{key:"setLocalSettingsData",value:function(e){localStorage.setItem(y,JSON.stringify(e))}},{key:"getLocalShapesData",value:function(){var e=localStorage.getItem(b);return e?JSON.parse(e):null}},{key:"setLocalShapesData",value:function(e){localStorage.setItem(b,JSON.stringify(e))}}])}())},4789:(e,t,n)=>{"use strict";n.d(t,{xB:()=>K,$J:()=>G});var r=n(675),o=n(5458),i=n(991),a=n(2901),s=n(3029),l=n(388),c=n(2176),u=n(3954),d=n(5501),f=n(5818),h=n(296),p=n(3450),v=n.n(p),g=n(467),m=n(1742),y=n(1147),b=n(3357),A=(0,a.A)((function e(){var t=this;(0,s.A)(this,e),this.remove=function(e,n){var r=t.slist[e];r&&n&&r.forEach((function(e,t){e.id===n&&r.splice(t,1)}))},this.listen=function(e,n,r){if("function"!==typeof n)return null;t.slist[e]||(t.slist[e]=[]);var o="".concat(e).concat(t.slist[e].length);return t.slist[e].push({id:o,fn:n,once:r,count:0}),{id:o,remove:function(){t.remove(e,o)}}},this.trigger=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=t.slist[e];i&&0!==i.length&&i.forEach((function(n){var o=n,i=o.id,a=o.fn,s=o.once;a&&(a.apply(t,r),o.count++,s&&t.remove(e,i))}))},this.slist=function(){if((0,m.f)())return{};var e=(0,b.W)();return e._global_subscribe_list||(e._global_subscribe_list={}),e._global_subscribe_list}()}));const w=new A;var _=new(function(){return(0,a.A)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;(0,s.A)(this,e),this.cache=new Map,this.keysIndex=0,this.keys=Array.from(new Array(t))}),[{key:"delete",value:function(e){this.keys=this.keys.map((function(t){return t===e?void 0:t})),this.keysIndex=(this.keysIndex-1)%this.keys.length,this.cache.delete(e)}},{key:"clear",value:function(){this.cache.clear(),this.keys.fill(void 0),this.keysIndex=0}},{key:"get",value:function(e){return this.cache.get(e)}},{key:"set",value:function(e,t){if(!this.keys.includes(e)){var n=this.keys[this.keysIndex];void 0!==n&&this.cache.delete(n),this.keys[this.keysIndex]=e,this.keysIndex=(this.keysIndex+1)%this.keys.length}this.cache.set(e,t)}}])}()),C="ok-storagemutated",S="ok-storagemutated-1",k=new Map;var T=(0,b.W)();function x(e){var t=e.data;t&&t.type===S&&w.trigger(C,t.changedParts)}var P=n(9379);function E(e,t){return Object.entries(t).every((function(t){var n=(0,h.A)(t,2),r=n[0],o=n[1];return function(e,t,n){if("$in"===t&&Array.isArray(n))return n.includes(e);if("number"===typeof e&&"number"===typeof n)switch(t){case"$eq":return e===n;case"$ne":return e!==n;case"$gt":return e>n;case"$lt":return e<n;case"$gte":return e>=n;case"$lte":return e<=n}throw new Error("Unsupported operator or type: ".concat(t))}(e,r,o)}))}function L(e,t){for(var n=[],r=Object.entries(t),o=0;o<r.length;o++){var i=(0,h.A)(r[o],2),a=i[0],s=i[1];n.push([a,s])}return n.every((function(t){var n=(0,h.A)(t,2),r=n[0],o=n[1];return function(e,t,n){return"object"===typeof n?E(e[t],n):e[t]===n}(e,r,o)}))}function I(e,t){return e.filter((function(e){return L(e,t)}))}function O(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var R="idb",M=new(function(){return(0,a.A)((function e(){(0,s.A)(this,e),this.queue=[],this.isProcessing=!1}),[{key:"enqueue",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){var n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.queue.push({fn:t,resolve:e,reject:r}),n.isProcessing||n.processQueue()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"processQueue",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(){var t,n,o,i,a;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.queue.length){e.next=3;break}return this.isProcessing=!1,e.abrupt("return");case 3:return this.isProcessing=!0,t=this.queue.shift(),n=t.fn,o=t.resolve,i=t.reject,e.prev=5,e.next=8,n();case 8:a=e.sent,o(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),i(e.t0);case 15:return e.next=17,this.processQueue();case 17:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(){return e.apply(this,arguments)}}()}])}()),N=function(){return(0,a.A)((function e(t){var n=t.storeName,r=t.indices,o=t.options,i=t.db,a=t.enableCache;(0,s.A)(this,e),this.db=i,this.storeName=n,this.indices=null!==r&&void 0!==r?r:[],this.options=o,this.enableCache=null===a||void 0===a||a,this.storeExist=!1}),[{key:"createIndex",value:function(e,t,n){var r;if((0,m.f)())return!1;if(!this.db.autoVersion)throw new Error("Can not create index dynamically when version is set");var o={indexName:e,keyPath:t,options:null!==n&&void 0!==n?n:{}};this.db.setVersion(this.db.vero+1);var i=this.db.storesConfig[this.storeName];return!!i&&(null!==(r=i.indices)&&void 0!==r&&r.length||(i.indices=[]),i.indices.push(o),this.indices.push(o),!0)}},{key:"getPrimaryKey",value:function(){var e,t;return"string"===typeof(null===(e=this.options)||void 0===e?void 0:e.keyPath)?null===(t=this.options)||void 0===t?void 0:t.keyPath:""}},{key:"performSpecialQuery",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){var n,i,a,s,l;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(n=this.indices,i=this.getPrimaryKey(),a=t?[i].concat((0,o.A)(n.map((function(e){return"string"===typeof e.keyPath?e.keyPath:""})))).find((function(e){return e&&Object.hasOwn(t,e)})):void 0,!a){e.next=22;break}if("string"!==typeof(s=t[a])&&"number"!==typeof s){e.next=22;break}if(a!==i){e.next=15;break}return e.t0=a,e.next=12,this.get(s);case 12:return e.t1=e.sent,e.t2=[e.t1],e.abrupt("return",{key:e.t0,data:e.t2});case 15:if(!(l=n.find((function(e){return e.keyPath===a})))){e.next=22;break}return e.t3=a,e.next=20,this.getAllFromIndex(l.indexName,s,!0);case 20:return e.t4=e.sent,e.abrupt("return",{key:e.t3,data:e.t4});case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCacheData",value:function(e){if(!this.enableCache)return null;var t=this.db.dbInfo.dbName,n="".concat(t,"_").concat(this.storeName,"_").concat(e);return _.get(n)}},{key:"setCacheData",value:function(e,t){if(this.enableCache){var n=this.db.dbInfo.dbName;_.set("".concat(n,"_").concat(this.storeName,"_").concat(e),t)}}},{key:"getApi",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t,n){var i,a,s,l=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,m.f)()){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,this.db.basicOpenStore("get",this.storeName);case 4:return i=e.sent,a=i.transaction,s=i.store,this.transaction=a,this.store=s,e.abrupt("return",new Promise((function(e,r){var i,s=Array.isArray(n),c=t(),u=s?n:[n],d=[];(s?c:[c]).forEach((function(e,t){var n=u[t];e.onsuccess=function(){i=e.result;var t=e.source.keyPath;n&&(l.getPrimaryKey()&&t===l.getPrimaryKey()&&i&&l.setCacheData(n,i));i&&(Array.isArray(i)?d.push((0,o.A)(i)):d.push(i))}})),a.oncomplete=function(){var t;null===(t=l.db.db)||void 0===t||t.close(),l.db.versionChange&&(l.db.versionChange=!1),e(s?d:d[0])},a.onerror=function(e){var t,n,o=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error)||{},i=o.name,a=o.message;(0,y.V4)("".concat(R,"-getDB-catch-err"),R,"".concat(i,": ").concat(a)),null===(n=l.db.db)||void 0===n||n.close(),r(e)}})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFromIndex",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t,n){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getAllFromIndex(t,n,!1));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAllFromIndex",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t,n,o){var i=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.baseGet(n,(function(e){var n=i.store.index(t);return o?n.getAll(e):n.get(e)}),(function(){return null})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){var n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.baseGet(t,(function(e){return n.store.get(e)}),(function(e){return n.getCacheData(e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"liveQuery",value:function(e){var t=this;return function(e,t){var n,o,i=!1;return{subscribe:function(a){function s(){return l.apply(this,arguments)}function l(){return(l=(0,g.A)((0,r.A)().mark((function t(){var s;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n){t.next=7;break}return t.next=4,n;case 4:s=t.sent,t.next=12;break;case 7:return n=e(),t.next=10,n;case 10:s=t.sent,n=null;case 12:i=!0,o=s,a(s,null),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),a(null,t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}i&&a(o,null),s();var c=w.listen(C,(function(e){e===t&&s()}),!1);return{unsubscribe:function(){null===c||void 0===c||c.remove()}}},hasValue:function(){return i},getValue:function(){return o}}}((function(){return t.query(e)}),this.getQueryRange())}},{key:"query",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){var n,o,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performSpecialQuery(t);case 2:if(!(n=e.sent)){e.next=7;break}return delete(o=(0,P.A)({},t))[n.key],e.abrupt("return",I(n.data,o));case 7:return e.next=9,this.getAll();case 9:if(i=e.sent,!t){e.next=12;break}return e.abrupt("return",I(i,t));case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t,n){var o=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.enqueue((function(){return o.getApi((function(){return o.store.getAll(t,n)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getKey",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){var n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.enqueue((function(){return n.getApi((function(){return n.store.getKey(t)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllKeys",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.enqueue((function(){return t.getApi((function(){return t.store.getAllKeys()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"count",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.enqueue((function(){return t.getApi((function(){return t.store.count()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onMutate",value:function(){!function(e){k.set(e,!0);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];w.trigger.apply(w,[e].concat(n)),k.set(e,!1)}(C,this.getQueryRange())}},{key:"handleGetCache",value:function(e,t){var n=Array.isArray(e),r=[];if(n){var i=(0,o.A)(e);if(e.forEach((function(e,n){var a=t(e);a&&(Array.isArray(a)?r.push.apply(r,(0,o.A)(a)):r.push(a),i.splice(n,1))})),0===i.length)return r}else if(e){var a=t(e);if(a)return a}return null}},{key:"baseGet",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t,n,o){var i,a,s,l=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Array.isArray(t),!(a=this.handleGetCache(t,o))){e.next=4;break}return e.abrupt("return",a);case 4:return e.next=6,M.enqueue((function(){return l.getApi((function(){return i?t.map((function(e){return n(e)})):n(t)}),t)}));case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setApi",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){var n,o,i,a,s,l=this,c=arguments;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(c.length>1&&void 0!==c[1]?c[1]:{}).silent,o=void 0!==n&&n,!(0,m.f)()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,this.db.basicOpenStore("set",this.storeName);case 5:return i=e.sent,a=i.transaction,s=i.store,this.transaction=a,this.store=s,e.abrupt("return",new Promise(function(){var e=(0,g.A)((0,r.A)().mark((function e(n,i){var a,s,c,u,d;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){O(e)},e.next=3,t();case 3:if(s=e.sent){e.next=8;break}return null===(c=l.db.db)||void 0===c||c.close(),i(!1),e.abrupt("return");case 8:u=s.request,Array.isArray(u)?(u.forEach((function(e){e.onerror=a})),d=u[u.length-1]):d=u,d.onsuccess=function(){var e;l.db.versionChange&&(l.db.versionChange=!1),null===(e=l.db.db)||void 0===e||e.close(),n(!0),o||l.onMutate()},d.onerror=function(e){var t,n,r=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error)||{},o=r.name,a=r.message;(0,y.V4)("".concat(R,"-setDB-catch-err"),R,"".concat(o,": ").concat(a)),i(!1),null===(n=l.db.db)||void 0===n||n.close()};case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){var n,o,i,a,s,l,c,u=this,d=arguments;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(n=d.length>1&&void 0!==d[1]?d[1]:{}).clear,i=void 0!==o&&o,a=n.silent,s=void 0!==a&&a,l=this.getPrimaryKey(),c=function(e){if(l){var n=t[l];n&&u.setCacheData(n,e)}},e.abrupt("return",M.enqueue((function(){return u.setApi((function(){return new Promise((function(e){var n=function(){if(Array.isArray(t)){var n=t.map((function(e){return c(e),u.store.put(e)}));return u.enableCache&&_.clear(),void e({request:n,method:"set"})}c(t),e({request:u.store.put(t),method:"set"})};if(i){var r=u.store.clear();r.onsuccess=function(){n()},r.onerror=function(){e(null)}}else n()}))}),{silent:s})})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){var n=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.enqueue((function(){return n.setApi((function(){var e=n.store;return{request:(Array.isArray(t)?t:[t]).map((function(t){return n.enableCache&&_.delete("".concat(n.db.dbInfo.dbName,"_").concat(n.storeName,"_").concat(t)),e.delete(t)})),method:"delete"}}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryRange",value:function(){return[this.db.dbInfo.dbName,this.storeName].join("_")}},{key:"clear",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M.enqueue((function(){return t.setApi((function(){return t.enableCache&&_.clear(),{request:t.store.clear(),method:"clear"}}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteStore",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",this.db.deleteStore(t));case 2:return e.abrupt("return",this.db.deleteStore(this.storeName));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openStore",value:function(e,t){return this.db.openStore(e,t)}},{key:"getInstance",value:function(){var e=this;return new Promise((function(t,n){var r=indexedDB.open(e.db.dbName);r.onsuccess=function(){var n,o,i=null===r||void 0===r?void 0:r.result,a=null===i||void 0===i?void 0:i.version,s=null===i||void 0===i||null===(n=i.objectStoreNames)||void 0===n||null===(o=n.contains)||void 0===o?void 0:o.call(n,e.storeName);e.storeExist=s,e.db.autoVersion&&(e.db.vero=a+1,s||e.db.setVersion(a+1)),null===i||void 0===i||i.close(),t(e)},r.onerror=function(e){var t;n(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error)}}))}},{key:"setVersion",value:function(e){this.db.setVersion(e)}},{key:"basicOpenStore",value:function(e,t){return this.db.basicOpenStore(e,t)}}])}(),D="idb";!function(){if(!(0,m.f)())if("undefined"!==typeof BroadcastChannel){var e=new BroadcastChannel(S);w.listen(C,(function(t){k.get(C)&&e.postMessage(t)}),!1),e.onmessage=function(e){null!==e&&void 0!==e&&e.data&&(_.clear(),w.trigger(C,e.data))}}else if("undefined"!==typeof T&&"undefined"!==typeof navigator){w.listen(C,(function(e){"undefined"!==typeof localStorage&&k.get(C)&&localStorage.setItem(S,JSON.stringify({trig:Math.random(),type:S,changedParts:e})),"object"===typeof(null===T||void 0===T?void 0:T.clients)&&(0,o.A)(null===T||void 0===T?void 0:T.clients.matchAll({includeUncontrolled:!0})).forEach((function(t){t.postMessage({type:S,changedParts:e})}))}),!1),"undefined"!==typeof(null===T||void 0===T?void 0:T.addEventListener)&&(null===T||void 0===T||T.addEventListener("storage",(function(e){if(e.key===S){var t=e.newValue?JSON.parse(e.newValue):null;t&&x({data:t})}})));var t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",x)}}();const B=function(){function e(t){(0,s.A)(this,e);var n="string"===typeof t?{dbName:t,config:{}}:"object"===typeof t?t:{},r=n.dbName,o=n.config,i=n.version;this.dbInfo={dbName:null!==r&&void 0!==r?r:"FE"},this.dbName="OK_".concat(this.dbInfo.dbName.toUpperCase()),this.db=null,this.store=null,this.transaction=null,this.stores=new Map,this.storesConfig=null!==o&&void 0!==o?o:{},this.versionChange=!1,this.autoVersion="undefined"===typeof i,this.vero=null!==i&&void 0!==i?i:1,this.storeExist=!1,this.initStores()}return(0,a.A)(e,[{key:"initStores",value:function(){var e=this;Object.keys(this.storesConfig).forEach((function(t){var n=e.storesConfig[t],r=n.indices,o=n.options;e.stores.has(t)||e.stores.set(t,new N({storeName:t,indices:r,options:o,db:e}))}))}},{key:"setVersion",value:function(e){this.versionChange=!0,this.vero=e}},{key:"basicOpenStore",value:function(e,t){var n=this,r=this.versionChange;return new Promise((function(o,i){var a;if(r||!n.autoVersion){var s=n.vero;a=indexedDB.open(n.dbName,s)}else a=indexedDB.open(n.dbName);a.onupgradeneeded=function(e){try{var t,r,o=e.target,i=null===(t=a)||void 0===t?void 0:t.result;if(n.db=i,Object.keys(n.storesConfig).forEach((function(e){var t=n.storesConfig[e],a=t.options,s=t.indices;if(i.objectStoreNames.contains(e)){var l=o.transaction;r=l.objectStore(e)}else r=i.createObjectStore(e,a);null===s||void 0===s||s.forEach((function(e){var t=e.indexName,n=e.keyPath,o=e.options;r.indexNames.contains(t)||r.createIndex(t,n,o)}));for(var c=function(){var e=r.indexNames[u];null!==s&&void 0!==s&&s.find((function(t){return t.indexName===e}))||r.deleteIndex(e)},u=0;u<r.indexNames.length;u++)c()})),!n.autoVersion)for(var s=function(){var e=i.objectStoreNames[l];Object.keys(n.storesConfig).find((function(t){return t===e}))||i.deleteObjectStore(e)},l=0;l<i.objectStoreNames.length;l++)s()}catch(f){var c=f||{},u=c.name,d=c.message;(0,y.V4)("".concat(D,"-openDB-catch-err-in-upgrade"),D,"".concat(u,": ").concat(d))}},a.onsuccess=function(){try{var r,s=null===(r=a)||void 0===r?void 0:r.result;if(n.db=s,t){var l="get"===e?"readonly":"readwrite",c=s.transaction(t,l),u=c.objectStore(t);o({store:u,transaction:c})}else o({store:null,transaction:null})}catch(p){var d=p||{},f=d.name,h=d.message;(0,y.V4)("".concat(D,"-openDB-catch-err-in-success"),D,"".concat(f,": ").concat(h)),i(h)}},a.onerror=function(){var e,t,r,o=(null===(e=a)||void 0===e?void 0:e.error)||{},s=o.name,l=o.message;null!==l&&void 0!==l&&null!==(t=l.includes)&&void 0!==t&&t.call(l,"The connection was closed")||(0,y.V4)("".concat(D,"-openDB-catch-err-in-error"),D,"".concat(s,": ").concat(l)),null!==l&&void 0!==l&&null!==(r=l.includes)&&void 0!==r&&r.call(l,"less than the existing version")?(indexedDB.deleteDatabase(n.dbName),i(new Error("".concat(l," Please reload the page!")))):i(l)},a.onblocked=function(){var e,t=(null===(e=a)||void 0===e?void 0:e.error)||{},n=t.name,r=t.message;(0,y.V4)("".concat(D,"-openDB-catch-block"),D,"".concat(n,": ").concat(r)),i(new Error("Database is outdated, please reload the page!"))}}))}},{key:"openStore",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t,n){var o;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.stores.has(t)){e.next=2;break}return e.abrupt("return",this.stores.get(t));case 2:return this.storesConfig[t]={options:n},this.initStores(),o=this.stores.get(t),e.abrupt("return",o.getInstance());case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteStore",value:function(e){var t=this;return!(0,m.f)()&&new Promise((function(n,r){if(t.stores.get(e)){var o=t.stores.get(e);delete t.storesConfig[e],t.stores.delete(e),o.getInstance().then((function(o){if(o.storeExist){var i=indexedDB.open(t.dbName,t.vero);i.onupgradeneeded=function(){var t,r=null===i||void 0===i?void 0:i.result;null===r||void 0===r||null===(t=r.deleteObjectStore)||void 0===t||t.call(r,e),null===r||void 0===r||r.close(),n(!0)},i.onerror=function(e){var t=null===i||void 0===i?void 0:i.result;null===t||void 0===t||t.close(),r(e)}}})).catch((function(e){r(e)}))}}))}}],[{key:"deleteDb",value:function(){var e=(0,g.A)((0,r.A)().mark((function e(t){var n,o;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:if("string"!==typeof t){e.next=7;break}if("OK_FE"!==(n="OK_".concat(t.toUpperCase()))){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",new Promise((function(e,t){var r=indexedDB.deleteDatabase(n);r.onsuccess=function(){e(!0)},r.onerror=function(e){t(e)}})));case 7:if(!Array.isArray(t)){e.next=10;break}return o=t.map((function(e){var t="OK_".concat(e.toUpperCase());return"OK_FE"===t||new Promise((function(e,n){var r=indexedDB.deleteDatabase(t);r.onsuccess=function(){e(!0)},r.onerror=function(e){n(e)}}))})),e.abrupt("return",Promise.all(o).then((function(e){return e.every((function(e){return!0===e}))})));case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"openStore",value:function(){var t=(0,g.A)((0,r.A)().mark((function t(n,o){var i;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new e,t.abrupt("return",i.openStore(n,o));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}])}();var F=n(2332),j=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},V=function(){return(0,a.A)((function e(t){(0,s.A)(this,e),this.localImpl=t,this.shapesDbName=(0,F.Rh)()?"kline_shapes_simulate":"kline_shapes",this.shapesDbPk="id",this.initVersion="1"}),[{key:"initOnce",value:function(){return j(this,void 0,void 0,(0,r.A)().mark((function e(){var t=this;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initPromise||(this.initPromise=Promise.resolve().then((function(){return j(t,void 0,void 0,(0,r.A)().mark((function e(){var t;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new B("kline"),e.next=3,t.openStore(this.shapesDbName,{keyPath:this.shapesDbPk});case 3:this.store=e.sent;case 4:case"end":return e.stop()}}),e,this)})))}))),e.next=3,this.initPromise;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getShapesFromIDB",value:function(e){return j(this,void 0,void 0,(0,r.A)().mark((function t(){var n,o,i;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initOnce();case 2:return t.next=4,null===(n=this.store)||void 0===n?void 0:n.get(e);case 4:return i=t.sent,t.abrupt("return",{shapes:i?Object.values(i.data.lines):[],version:null!==(o=null===i||void 0===i?void 0:i.data.version)&&void 0!==o?o:this.initVersion});case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getShapes",value:function(e){return j(this,void 0,void 0,(0,r.A)().mark((function t(){return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getShapesFromIDB(e);case 2:return t.abrupt("return",t.sent.shapes);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"saveShapes",value:function(e,t,n,o){return j(this,void 0,void 0,(0,r.A)().mark((function i(){var a,s,l;return(0,r.A)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.initOnce();case 2:return r.next=4,this.store.get(e);case 4:return s=r.sent,l=o?t:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.data.lines),t),Object.keys(l).forEach((function(e){l[e]||delete l[e]})),r.next=9,this.store.set({id:e,data:{version:null!==(a=null!==n&&void 0!==n?n:null===s||void 0===s?void 0:s.data.version)&&void 0!==a?a:this.initVersion,lines:l}});case 9:case"end":return r.stop()}}),i,this)})))}},{key:"clearShapes",value:function(e){return j(this,void 0,void 0,(0,r.A)().mark((function t(){return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initOnce();case 2:return t.next=4,this.store.delete(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getSettings",value:function(){return j(this,void 0,void 0,(0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.localImpl.getSettings());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"saveSettings",value:function(e){return j(this,void 0,void 0,(0,r.A)().mark((function t(){return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.localImpl.saveSettings(e));case 1:case"end":return t.stop()}}),t,this)})))}}])}();function H(e,t,n,r){var o=(0,i.A)((0,u.A)(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function z(e,t,n){return t=(0,u.A)(t),(0,l.A)(e,(0,c.A)()?Reflect.construct(t,n||[],(0,u.A)(e).constructor):t.apply(e,n))}var U,W=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};!function(e){e.Success="0",e.UseLocalShapes="51282",e.MaxShapes="51283"}(U||(U={}));var K=function(e){function t(){return(0,s.A)(this,t),z(this,t,arguments)}return(0,d.A)(t,e),(0,a.A)(t)}((0,f.A)(Error)),G=function(e){function t(){return(0,s.A)(this,t),z(this,t,arguments)}return(0,d.A)(t,e),(0,a.A)(t,[{key:"getShapes",value:function(e){var n=this,i=Object.create(null,{getShapesFromIDB:{get:function(){return H(t,"getShapesFromIDB",n,1)}},clearShapes:{get:function(){return H(t,"clearShapes",n,1)}},saveShapes:{get:function(){return H(t,"saveShapes",n,1)}}});return W(this,void 0,void 0,(0,r.A)().mark((function t(){var n,a,s,l,c,u,d,f,p,g,m,y;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.localImpl.getShapes(e);case 2:if(a=t.sent,v().isLogin()){t.next=5;break}return t.abrupt("return",a);case 5:return t.next=7,i.getShapesFromIDB.call(this,e);case 7:return s=t.sent,l=s.version,c=s.shapes,(u=new URLSearchParams).set("instId",e),u.set("timeVersion",l),t.next=15,v().get("/priapi/v5/rubik/line-draw/read?".concat(u));case 15:if(d=t.sent,f=[],!d.data){t.next=34;break}if((p=d.data).code!==U.UseLocalShapes){t.next=23;break}f=c,t.next=34;break;case 23:if(p.code!==U.Success||p.data||!(c.length>0)){t.next=28;break}return t.next=26,i.clearShapes.call(this,e);case 26:t.next=34;break;case 28:if(!(null===(n=p.data)||void 0===n?void 0:n.lines)){t.next=34;break}return g=p.data.timeVersion,r=p.data.lines,m=Object.fromEntries(r.map((function(e){try{var t=JSON.parse(e.lineData);return[e.indexId,t]}catch(n){return[]}})).filter((function(e){return!!(0,h.A)(e,2)[1]}))),t.next=33,i.saveShapes.call(this,e,m,g,!0);case 33:f=Object.values(m).filter((function(e){return!!e}));case 34:if(0===a.length){t.next=40;break}return t.next=37,this.saveShapes(e,Object.fromEntries(a.map((function(e){return e.points&&e.points.length>4&&(e.points=e.points.slice(0,4)),[e.id,e]}))));case 37:return t.next=39,this.localImpl.saveShapes(e,Object.fromEntries(a.map((function(e){return[e.id,null]}))));case 39:(y=f).push.apply(y,(0,o.A)(a));case 40:return t.abrupt("return",f);case 41:case"end":return t.stop()}var r}),t,this)})))}},{key:"saveShapes",value:function(e,n){var o=this,i=Object.create(null,{saveShapes:{get:function(){return H(t,"saveShapes",o,1)}}});return W(this,void 0,void 0,(0,r.A)().mark((function t(){var o,a,s;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v().isLogin()){t.next=4;break}return t.next=3,this.localImpl.saveShapes(e,n);case 3:return t.abrupt("return");case 4:return t.next=6,v().post("/priapi/v5/rubik/line-draw/write",{instId:e,lines:(r=n,Object.fromEntries(Object.entries(r).map((function(e){var t=(0,h.A)(e,2),n=t[0],r=t[1];return[n,r?JSON.stringify(r):""]}))))});case 6:if(!(o=t.sent).data){t.next=14;break}if((a=o.data).code!==U.MaxShapes){t.next=11;break}throw new K;case 11:return s=a.data[0],t.next=14,i.saveShapes.call(this,e,n,s);case 14:case"end":return t.stop()}var r}),t,this)})))}}])}(V)},6687:(e,t,n)=>{"use strict";var r,o,i;n.d(t,{V2:()=>i,b9:()=>o,vz:()=>r}),function(e){e.solid="solid",e.gradient="gradient"}(r||(r={})),function(e){e.cross="cross",e.vertical="vertical",e.horizontal="horizontal",e.none="none"}(o||(o={})),function(e){e.body="body",e.border="border",e.wicks="wicks"}(i||(i={}))},4062:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(3029),o=n(2901),i=function(){return(0,o.A)((function e(){(0,r.A)(this,e),this.promise=Promise.resolve(),this.id=0,this.resolved=!1}),[{key:"next",value:function(e){var t=this;return new Promise((function(n,r){var o=t.id,i=function(e){return function(n){if(o!==t.id)throw new Error("queued task is canceled");return e(n)}};t.resolved=!1,t.promise=t.promise.then(i(e)).then(i(n)).catch(r).finally((function(){t.resolved=!0}))}))}},{key:"idle",value:function(){return this.resolved}},{key:"wait",value:function(){return this.promise}},{key:"clear",value:function(){this.promise=Promise.resolve(),this.id++}}])}()},2006:(e,t,n)=>{"use strict";n.d(t,{H0:()=>A,HC:()=>k,NP:()=>T,Ob:()=>b,Td:()=>_,YB:()=>C,eU:()=>S,fO:()=>w,fS:()=>x,kC:()=>m});var r=n(296),o=n(3029),i=n(2901),a=n(9719),s=n(5147),l=n(2195),c=n(1126),u=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,d=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,f=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,h=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,p=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function v(e){return e<0?0:e>255?255:Math.round(e)||0}function g(e){var t=p.exec(e)||h.exec(e);if(t)return[v(parseInt(t[1],10)),v(parseInt(t[2],10)),v(parseInt(t[3],10))];var n=u.exec(e);if(n)return[v(parseInt(n[1],16)),v(parseInt(n[2],16)),v(parseInt(n[3],16))];var r=f.exec(e);return r?[v(17*parseInt(r[1],16)),v(17*parseInt(r[2],16)),v(17*parseInt(r[3],16))]:[0,0,0]}function m(e){var t=g(e);return"rgb(".concat(t[0],",").concat(t[1],",").concat(t[2],")")}function y(e){return v(e).toString(16).padStart(2,"0")}function b(e){if(e){var t=Array.from(e.matchAll(/\d+/g)).map((function(e){return e[0]}));if(3===t.length)return"#".concat(t.map((function(e){return y(parseInt(e,10))})).join("")).toUpperCase()}return e}function A(e){if(p.test(e)){var t=p.exec(e),n="rgb(".concat(t[1],",").concat(t[2],",").concat(t[3],")");return{rgbColor:n,hexColor:b(n),opacity:parseFloat(t[4]),isRgba:!0}}if(d.test(e)){var r=d.exec(e),o=parseInt(r[1],16),i=parseInt(r[2],16),a=parseInt(r[3],16),s=Number((parseInt(r[4],16)/255).toFixed(2)),l="rgb(".concat(o,",").concat(i,",").concat(a,")");return{rgbColor:l,hexColor:b(l),opacity:s,isRgba:!0}}var c=m(e||"");return{rgbColor:c,hexColor:b(c),opacity:1,isRgba:!1}}function w(e,t){var n=g(e);return"rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],",").concat(t,")")}function _(e,t){var n=A(e);return"".concat(n.hexColor).concat(y(255*t)).toUpperCase()}function C(e){var t,n=g(e);return{background:"rgb(".concat(n[0],",").concat(n[1],",").concat(n[2],")"),foreground:(t=n,.199*t[0]+.687*t[1]+.114*t[2]>160?"black":"white")}}function S(e){var t=A(e),n=g(t.rgbColor),r="#".concat(n.map(y).join("")).toUpperCase();return 1!==t.opacity&&(r+=y(Math.round(255*t.opacity))),r}var k=function(){function e(t,n,r){(0,o.A)(this,e),this.r=t,this.g=n,this.b=r}return(0,i.A)(e,[{key:"toString",value:function(){return"rgb(".concat(this.r,",").concat(this.g,",").concat(this.b,")")}},{key:"isSimilar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.abs(this.r-e.r)<=t&&Math.abs(this.g-e.g)<=t&&Math.abs(this.b-e.b)<=t}}],[{key:"randomUnique",value:function(){for(var t,n=this,r=function(){var t=new e(Math.round(255*l.o.get()),Math.round(255*l.o.get()),Math.round(255*l.o.get()));if(Array.from(n.randomColors).every((function(e){return!e.isSimilar(t)}))||o>100)return{v:t}},o=0;;o++)if(t=r())return t.v}},{key:"from",value:function(t){var n=g(t),o=(0,r.A)(n,3);return new e(o[0],o[1],o[2])}}])}();function T(){return k.randomUnique().toString()}function x(e,t){if(!e)return t;var n=A(t).opacity,r=Math.round(255*n).toString(16).toUpperCase(),o=(0,s.j1)(),i=(0,c.T)(o!==a.zG.dark)[e];if(!i)return t;var l=r;return"0"===r?l="":1===r.length&&(l="0".concat(r)),"".concat(i).concat(l)}k.randomColors=new Set},2539:(e,t,n)=>{"use strict";function r(e,t){return["okx.chart",e,t].filter(Boolean).join(".")}n.d(t,{X:()=>r})},429:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(4883);function o(e){var t=(0,r.useRef)(e);return t.current=e,t}},3451:(e,t,n)=>{"use strict";n.d(t,{t:()=>s,tf:()=>l,tt:()=>a});var r=n(310),o=n(867),i=(0,r.OS)({partName:o.D.project}),a=i;function s(){return i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return i(e,arguments.length>1?arguments[1]:void 0)||t}},3360:(e,t,n)=>{"use strict";n.d(t,{T:()=>a,u:()=>i});var r=n(5314),o=n(6018);function i(e,t){return new o.c((function(n){return(0,r.reaction)(e,(function(e){return n.next(e)}),t)}))}function a(e,t){return new o.c((function(n){return(0,r.autorun)((function(){e(),n.next()}),t)}))}},3631:(e,t,n)=>{"use strict";n.d(t,{_u:()=>D});var r=n(5458),o=n(3029),i=n(2901),a=n(388),s=n(2176),l=n(3954),c=n(5501),u=n(9379),d=n(296),f=n(7654),h=n.n(f),p=n(439),v=n(519),g=function(){var e=(v.A||{}).locale;return"zh_cn"===(void 0===e?"":e).replace(/-/g,"_").toLowerCase()},m={returnString:!1,isConvertToZero:!1,exponentialAt:[-7,20]},y="K",b="M",A="B",w="T",_="P",C="E",S="Z",k="Y",T=[{min:0,max:Math.pow(10,3),sign:""},{min:Math.pow(10,3),max:Math.pow(10,6),sign:y},{min:Math.pow(10,6),max:Math.pow(10,9),sign:b},{min:Math.pow(10,9),max:Math.pow(10,12),sign:A},{min:Math.pow(10,12),max:Math.pow(10,15),sign:w},{min:Math.pow(10,15),max:Math.pow(10,18),sign:_},{min:Math.pow(10,18),max:Math.pow(10,21),sign:C},{min:Math.pow(10,21),max:Math.pow(10,24),sign:S},{min:Math.pow(10,24),max:1/0,sign:k}],x=[{min:1,max:100,digit:4},{min:100,max:1e5,digit:2},{min:1e5,max:1e6,digit:1},{min:1e6,max:1/0,digit:0}];function P(e){return e?+e:e}function E(e){return"string"!==typeof e&&"number"!==typeof e||(0==="".concat(e).trim().length||Number.isNaN(Number(e)))}function L(e,t){return t&&(void 0===e||Number.isNaN(e)||""===e||null===e)?0:e}function I(e,t){return!t&&e.endsWith("0")?new(h())(e).toFixed():e}var O=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function R(e,t){var n={groupSeparator:"",decimalSeparator:"."};return e&&void 0!==t&&null!==t?[t,n]:[n]}function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n||[],i=(0,d.A)(o,5),a=i[0],s=i[1],l=void 0===s?0:s,c=i[2],h=void 0===c||c,p=i[3],m=void 0===p?2:p,y=i[4],b=void 0===y||y,A=null===v.A||void 0===v.A?void 0:v.A.isRTL,w=g()?["\u4e07","\u4ebf"]:["M","B"],_=g()?[1e4,1e8]:[1e6,1e9],C=new f.BigNumber(a).abs(),S=1,k="",T=n.find((function(e){return O(e)}))||{};if(C.isLessThan(new f.BigNumber(_[0])))return e(a,l,(0,u.A)((0,u.A)({},T),{},{needZero:h}));C.isGreaterThanOrEqualTo(_[1])?(S=_[1],k=w[1]):(S=_[0],k=w[0]),f.BigNumber.config({DECIMAL_PLACES:40});var x=e(new f.BigNumber(a).div(S).toNumber(),m,(0,u.A)((0,u.A)({},T),{},{needZero:b}));return A?"".concat(k).concat(x):"".concat(x).concat(k)}function N(e,t){var n=t[0],r=t[1]||{},o=r.digit,i=void 0===o?0:o,a=r.needZero,s=void 0===a||a,l=r.shortDigit,c=void 0===l?2:l,h=r.shortNeedZero,p=void 0===h||h,m=r.needK,y=void 0===m||m,b=r.needChineseUnit,A=void 0!==b&&b,w=null===v.A||void 0===v.A?void 0:v.A.isRTL,_=!(g()&&A),C=_?y?["K","M","B"]:["M","B"]:["\u4e07","\u4ebf"],S=_?y?[1e3,1e6,1e9]:[1e6,1e9]:[1e4,1e8],k=new f.BigNumber(n).abs(),T=1,x="",P=(0,d.A)(S,3),E=P[0],L=P[1],I=P[2],R=(0,d.A)(C,3),M=R[0],N=R[1],D=R[2],B=t.find((function(e){return O(e)}))||{};if(k.isLessThan(new f.BigNumber(E)))return e(n,i,(0,u.A)((0,u.A)({},B),{},{needZero:s}));T=I||L,x=D||N,I&&k.isGreaterThanOrEqualTo(L)&&k.isLessThan(new f.BigNumber(I))&&(T=L,x=N),k.isGreaterThanOrEqualTo(E)&&k.isLessThan(new f.BigNumber(L))&&(T=E,x=M),f.BigNumber.config({DECIMAL_PLACES:40});var F=e(new f.BigNumber(n).div(T).toNumber(),c,(0,u.A)((0,u.A)({},B),{},{needZero:p}));return w?"".concat(x).concat(F):"".concat(F).concat(x)}var D=new(function(e){function t(){var e,n,i,c;(0,o.A)(this,t);for(var d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];return n=this,i=t,c=[].concat(h),i=(0,l.A)(i),(e=(0,a.A)(n,(0,s.A)()?Reflect.construct(i,c||[],(0,l.A)(n).constructor):i.apply(n,c))).thousandFormat=function(e,t){return E(e)?"NaN":(0,p.ZV)(e,t)},e.showCeilTruncation=function(t,n,o){var i;if(E(t))return"NaN";var a="boolean"===typeof o?{needZero:o}:o,s=void 0===(null===a||void 0===a?void 0:a.needZero)||(null===a||void 0===a?void 0:a.needZero),l=P(n),c=(i=e.bigNumber(e.bigNumber(t).toFixed(l,f.BigNumber.ROUND_CEIL))).toFormat.apply(i,(0,r.A)(R(s,l)));return(0,p.ZV)(c,(0,u.A)((0,u.A)({},a),{},{needZero:s}))},e.showFloorTruncation=function(t,n,o){var i;if(E(t))return"NaN";var a="boolean"===typeof o?{needZero:o}:o,s=void 0===(null===a||void 0===a?void 0:a.needZero)||(null===a||void 0===a?void 0:a.needZero),l=P(n),c=(i=e.bigNumber(e.bigNumber(t).toFixed(l,f.BigNumber.ROUND_FLOOR))).toFormat.apply(i,(0,r.A)(R(s,l)));return(0,p.ZV)(c,(0,u.A)((0,u.A)({},a),{},{needZero:s}))},e.showTruncation=function(t,n,o){var i;if(E(t))return"NaN";var a=P(n),s="boolean"===typeof o?{needZero:o}:o,l=void 0===(null===s||void 0===s?void 0:s.needZero)||(null===s||void 0===s?void 0:s.needZero),c=(i=e.bigNumber(e.bigNumber(t).toFixed(a))).toFormat.apply(i,(0,r.A)(R(l,a)));return(0,p.ZV)(c,(0,u.A)((0,u.A)({},s),{},{needZero:l}))},e.roundShort=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M.apply(void 0,[e.showTruncation.bind(e)].concat(n))},e.floorShort=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M.apply(void 0,[e.showFloorTruncation.bind(e)].concat(n))},e.ceilShort=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M.apply(void 0,[e.showCeilTruncation.bind(e)].concat(n))},e.roundTruncateShort=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(e.showTruncation.bind(e),n)},e.floorTruncateShort=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(e.showFloorTruncation.bind(e),n)},e.ceilTruncateShort=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(e.showCeilTruncation.bind(e),n)},e.abbreviateFiat=function(t,n){if(E(t))return"NaN";var r=+t;if(0===r)return"0";var o=0,i=Math.pow(10,-15);return Math.abs(r)<i?(o=15,r=r<0?-i:i):o=e.getFiatDigit(r),e.showTruncation(r,o,n)},e.getFiatDigit=function(t){var n=Math.abs(+t);if(n<1){var r=e.toPlainString(t);return r.length-(r=r.replace(/^0\.0*/,"0.")).length+5}var o=x.find((function(e){var t=e.min,r=e.max;return n>=t&&n<r}));return(null===o||void 0===o?void 0:o.digit)||0},e}return(0,c.A)(t,e),(0,i.A)(t,[{key:"num2Shorthand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0,r=T[0];if(E(e))return"NaN";var o=Math.abs(+e),i=T.find((function(e){var t=e.min,n=e.max;return o>=t&&o<n}))||r,a=i.min,s=i.sign;if(0===a)return this.showFloorTruncation(e,t,n);var l=this.div(e,a);return"".concat(this.showFloorTruncation(l,t,n)).concat(s)}}])}((0,i.A)((function e(t){var n=this;(0,o.A)(this,e),this.BigNumber=f.BigNumber,this.convertNum=function(e){return L(e,n.calcConfig.isConvertToZero)},this.config=function(e){var t=n.calcConfig;n.calcConfig=(0,u.A)((0,u.A)({},t),e)},this.add=function(e,t,r){var o=(r||n.calcConfig).returnString,i=n.bigNumber(e).plus(n.convertNum(t));return o?i.toFixed():i.toNumber()},this.sub=function(e,t,r){var o=(r||n.calcConfig).returnString,i=n.bigNumber(e).minus(n.convertNum(t));return o?i.toFixed():i.toNumber()},this.mul=function(e,t,r){var o=(r||n.calcConfig).returnString,i=n.bigNumber(e).times(n.convertNum(t));return o?i.toFixed():i.toNumber()},this.div=function(e,t,r){var o=(r||n.calcConfig).returnString;n.calcConfig.decimalPlaces=40;var i=n.bigNumber(e).div(n.convertNum(t));return o?i.toFixed():i.toNumber()},this.safeDiv=function(e,t,r){var o=(r||n.calcConfig).returnString;return 0===Number(n.convertNum(t))?o?"0":0:n.div(e,n.convertNum(t),r)},this.pow=function(e,t,r){var o=(r||n.calcConfig).returnString;if(!Number.isInteger(+t))throw new Error("Exponent not an integer");if(+t<0)throw new Error("Exponent need more than 0");var i=n.bigNumber(e).exponentiatedBy(t);return o?i.toFixed():i.toNumber()},this.digitLength=function(e){return n.bigNumber(e).dp()},this.ceilTruncate=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=P(t);return r?n.bigNumber(e).toFixed(o,f.BigNumber.ROUND_CEIL):I(n.bigNumber(e).toFixed(Math.min(o,Number(n.digitLength(e))),f.BigNumber.ROUND_CEIL),r)},this.floorTruncate=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=P(t);return r?n.bigNumber(e).toFixed(o,f.BigNumber.ROUND_FLOOR):I(n.bigNumber(e).toFixed(Math.min(o,n.digitLength(e)),f.BigNumber.ROUND_FLOOR),r)},this.truncate=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=P(t);return r?n.bigNumber(e).toFixed(o):I(n.bigNumber(e).toFixed(Math.min(o,Number(n.digitLength(e)))),r)},this.ceilMul=function(e,t,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=P(r),a=n.bigNumber(e).times(t).toFixed(i,f.BigNumber.ROUND_CEIL);return o?a:n.bigNumber(a).toFixed(Math.min(i,Number(n.digitLength(a))),f.BigNumber.ROUND_FLOOR)},this.floorMul=function(e,t,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=P(r),a=n.bigNumber(e).times(t).toFixed(i,f.BigNumber.ROUND_FLOOR);return o?a:n.bigNumber(a).toFixed(Math.min(i,Number(n.digitLength(a))),f.BigNumber.ROUND_FLOOR)},this.ceilDiv=function(e,t,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=P(r),a=n.bigNumber(e).div(t).toFixed(i,f.BigNumber.ROUND_CEIL);return o?a:n.bigNumber(a).toFixed(Math.min(i,Number(n.digitLength(a))),f.BigNumber.ROUND_FLOOR)},this.safeCeilDiv=function(e,t,r,o){var i=r||0;return 0===Number(t)?n.ceilDiv(0,1,i,o):n.ceilDiv(e,t,i,o)},this.floorDiv=function(e,t,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=P(r),a=n.bigNumber(e).div(t).toFixed(i,f.BigNumber.ROUND_FLOOR);return o?a:n.bigNumber(a).toFixed(Math.min(i,Number(n.digitLength(a))),f.BigNumber.ROUND_FLOOR)},this.safeFloorDiv=function(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return 0===Number(t)?n.floorDiv.apply(n,[0,1].concat(o)):n.floorDiv.apply(n,[e,t].concat(o))},this.toPlainString=function(e){return n.bigNumber(e).toFixed()},this.lt=function(e,t){return n.bigNumber(e).lt(n.convertNum(t))},this.lte=function(e,t){return n.bigNumber(e).lte(n.convertNum(t))},this.gt=function(e,t){return n.bigNumber(e).gt(n.convertNum(t))},this.gte=function(e,t){return n.bigNumber(e).gte(n.convertNum(t))},this.eq=function(e,t){return n.bigNumber(e).eq(n.convertNum(t))},this.max=function(){return n.calcConfig.returnString?f.BigNumber.max.apply(f.BigNumber,arguments).toFixed():f.BigNumber.max.apply(f.BigNumber,arguments).toNumber()},this.min=function(){return n.calcConfig.returnString?f.BigNumber.min.apply(f.BigNumber,arguments).toFixed():f.BigNumber.min.apply(f.BigNumber,arguments).toNumber()},this.sigDigs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=n.bigNumber(e),o=r.precision(t);return r.precision()<t?r.toPrecision(t):o.toString()},this.calcConfig=(0,u.A)((0,u.A)({},m),t);var r=f.BigNumber.clone();this.bigNumber=function(e){var t=n.calcConfig,o=t.isConvertToZero,i=t.exponentialAt,a=t.decimalPlaces;return i&&r.config({EXPONENTIAL_AT:i}),a&&r.config({DECIMAL_PLACES:a}),new r(L(e,o))}}))))},5761:(e,t,n)=>{"use strict";n.d(t,{A:()=>k});var r=n(4467),o=n(9379),i=n(3029),a=n(2901),s=n(3357),l=n(9991);function c(e){try{var t=function(e){var t,n=e,r=0;do{t=n,n=decodeURIComponent(n),r++}while(n!==t&&r<5);return{decodeValue:n,count:r}}(e),n=t.decodeValue,r=t.count;return n===e?{isEncode:!1,count:0}:{isEncode:n,count:r}}catch(o){return{isEncode:!1,count:0}}}function u(e,t,n){var r=t.enableXssPurify,o=t.mode;if(!r)return n(e);if(void 0===e||null===e)return n(e);var i=c(String(e)),a=i.isEncode,s=i.count;if(a&&"string"===typeof a){var u=(0,l.YW)(a,{mode:o});return n(u===a?e:function(e,t){var n=1,r=e;do{n++,r=encodeURIComponent(r)}while(n!==t);return r}(u,s))}return n((0,l.YW)(String(e),{mode:o}))}var d=n(1742);function f(){for(var e=arguments,t=arguments.length<=0?void 0:arguments[0],n=function(){var n=r<0||e.length<=r?void 0:e[r];n&&Object.keys(n).forEach((function(e){t[e]=n[e]}))},r=1;r<arguments.length;r++)n();return t}const h={get:function(e){var t=e;return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},set:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};var p=n(7344),v=["path","domain","overwrite","sameSite","encrypt","maxAge","expires","httpOnly","secure","signed"],g=(0,s.E)(),m=(0,d.f)();function y(e,t){t.length&&p.v.info(e),p.v.info('[cookieAlarm]: "cookieWhiteList length is '.concat(t.length))}function b(e){var t,n,r,o,i,a,l=e||{},c=l.name,u=l.apiType,d=l.type,f=l.defaultCookieInterceptLevel,h=l.defaultCookieInterceptMaxAge,p="instance"===u,v=(null===(t=g)||void 0===t?void 0:t.cookieWhitelist)||[];0===v.length&&(v=(null===(a=g=(0,s.E)())||void 0===a?void 0:a.cookieWhitelist)||[]);var m=p?(null===(n=g)||void 0===n?void 0:n.cookieInterceptLevel)||f||0:(null===(r=g)||void 0===r?void 0:r.cookieInterceptLevel)||0,b=p?(null===(o=g)||void 0===o?void 0:o.cookieInterceptMaxAge)||h:null===(i=g)||void 0===i?void 0:i.cookieInterceptMaxAge;if(c&&!v.includes(c)){var A='[cookieAlarm]: "'.concat(c,'" is not allowed to ').concat(d,"!");if(1===m)y(A,v);else if(2===m)return void y(A,v)}return"undefined"===typeof b||b}var A=(0,s.W)(),w=(0,d.f)(),_=!w&&"undefined"===typeof document,C={path:"/"},S="ok_global";const k=new(function(){function e(t){(0,i.A)(this,e),this.options=t||{},this.converter=(null===t||void 0===t?void 0:t.converter)||h,this.attributes=(null===t||void 0===t?void 0:t.attributes)||C,this.enableXssPurify=void 0===(null===t||void 0===t?void 0:t.enableXssPurify)||t.enableXssPurify,this.mode=(null===t||void 0===t?void 0:t.mode)||"escape",this.initAttributes={value:Object.freeze(this.attributes)},this.initConverter={value:Object.freeze(this.converter)}}return(0,a.A)(e,[{key:"init",value:function(t){return new e(t)}},{key:"closeXssPurify",value:function(){this.enableXssPurify=!1}},{key:"setMode",value:function(e){this.mode=e}},{key:"validateProjectName",value:function(e){if(e===S)throw new Error("ok_global is not allowed as a cookie name. Please use 'Cookies.g' instead.")}},{key:"getApi",value:function(e){var t,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{disableOkGlobal:!0};if((!arguments.length||e)&&(null!==o&&void 0!==o&&o.disableOkGlobal&&this.validateProjectName(e),b({apiType:"instance",type:"get",name:e,defaultCookieInterceptLevel:null===(t=this.options)||void 0===t?void 0:t.cookieInterceptLevel,defaultCookieInterceptMaxAge:null===(n=this.options)||void 0===n?void 0:n.cookieInterceptMaxAge}))){if(w){var i,a,s=null===A||void 0===A||null===(i=A.ssrUtils)||void 0===i||null===(a=i.cookies)||void 0===a?void 0:a.get(e);return s?u(s,{enableXssPurify:this.enableXssPurify,mode:this.mode},(function(e){return e})):s}if(!_){var l=document.cookie?document.cookie.split("; "):[];if(!e){var c={};return l.forEach((function(e){var t=e.indexOf("=");if(-1!==t){var n=e.substring(0,t),o=e.substring(t+1);try{var i=decodeURIComponent(n);c[i]=r.converter.get(o,i)}catch(a){}}})),c}var d=l.find((function(t){var n=t.indexOf("=");if(-1===n)return!1;var r=t.substring(0,n);try{return decodeURIComponent(r)===e}catch(o){return!1}}));if(d){var f=d.indexOf("="),h=d.substring(f+1);try{return u(this.converter.get(h,e),{enableXssPurify:this.enableXssPurify,mode:this.mode},(function(e){return e}))}catch(p){}}}}}},{key:"setApi",value:function(e,t,n){var r,i,a=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{disableOkGlobal:!0};if(!_){null!==s&&void 0!==s&&s.disableOkGlobal&&this.validateProjectName(e);var l=b({apiType:"instance",type:"set",name:e,defaultCookieInterceptLevel:null===(r=this.options)||void 0===r?void 0:r.cookieInterceptLevel,defaultCookieInterceptMaxAge:null===(i=this.options)||void 0===i?void 0:i.cookieInterceptMaxAge});if(l){var c,d=function(e){var t=!1;return m&&e&&Object.keys(e).every((function(e){return v.includes(e)}))&&(t=!0),t}(n),h=(0,o.A)({},n);if((h=f({},this.attributes,h)).expires){var p=function(e,t){if("number"===typeof e){var n=24*e*60*60,r=n;return"number"===typeof t&&n>t&&(r=t),new Date(Date.now()+1e3*r)}if(e instanceof Date){var o=e;if("number"===typeof t){var i=new Date(Date.now()+1e3*t);e>i&&(o=i)}return o}}(h.expires,l);p&&(h.expires=p.toUTCString())}c=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,encodeURIComponent);var g="";return Object.keys(h).forEach((function(e){h[e]&&(g+="; ".concat(e),!0!==h[e]&&("number"===typeof h[e]&&(h[e]=String(h[e])),g+="=".concat(String(h[e]).split(";")[0])))})),u(t,{enableXssPurify:this.enableXssPurify,mode:this.mode},(function(e){var t,n;if(d)return null===A||void 0===A||null===(t=A.ssrUtils)||void 0===t||null===(n=t.cookies)||void 0===n?void 0:n.set(c,e,h);var r="".concat(c,"=").concat(a.converter.set(e,c)).concat(g);return document.cookie=r,r}))}}}},{key:"set",value:function(e,t,n){return this.setApi(e,t,n)}},{key:"get",value:function(e){return void 0===e?this.getApi():this.getApi(e)}},{key:"g",get:function(){var e=this;return{set:function(t,n){var o,i,a;if(w)return null===A||void 0===A||null===(o=A.ssrUtils)||void 0===o||null===(i=o.cookies)||void 0===i||null===(a=i.g)||void 0===a?void 0:a.set(t,n);if("string"!==typeof t||!t)return!1;if("string"!==typeof n&&"number"!==typeof n)return!1;var s=e.getApi(S,{disableOkGlobal:!1}),l={};if(s&&"string"===typeof s)try{s=decodeURIComponent(s),l=JSON.parse(s)}catch(c){}return e.setApi(S,JSON.stringify(Object.assign(l,(0,r.A)({},t,n))),{expires:1e3},{disableOkGlobal:!1})},get:function(t){var n,r,o;if(w)return null===A||void 0===A||null===(n=A.ssrUtils)||void 0===n||null===(r=n.cookies)||void 0===r||null===(o=r.g)||void 0===o?void 0:o.get(t);var i=e.getApi(S,{disableOkGlobal:!1});try{return i&&"string"===typeof i?(i=decodeURIComponent(i),JSON.parse(i)[t]):void 0}catch(a){return}},remove:function(t){if(w){var n,r,o;null===A||void 0===A||null===(n=A.ssrUtils)||void 0===n||null===(r=n.cookies)||void 0===r||null===(o=r.g)||void 0===o||o.set(t,void 0)}else{var i=e.getApi(S,{disableOkGlobal:!1}),a={};if(i&&"string"===typeof i)try{i=decodeURIComponent(i),a=JSON.parse(i)}catch(s){}a[t]&&(delete a[t],e.setApi(S,JSON.stringify(a),{expires:1e3},{disableOkGlobal:!1}))}}}}},{key:"remove",value:function(e,t){this.set(e,"",f({},t,{expires:-1}))}},{key:"withAttributes",value:function(t){return new e({converter:this.initConverter.value,attributes:f({},this.initAttributes.value,t)})}},{key:"withConverter",value:function(t){return new e({converter:f({},this.initConverter.value,t),attributes:this.initAttributes.value})}}])}())},5938:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3357),o="//okg-pub-hk.oss-cn-hongkong.aliyuncs.com";const i=function(){var e=(0,r.E)(),t=e.cdnBaseUrl,n=void 0===t?"":t;"daily"!==e.envSign&&"dev"!==e.envSign||(n=o);var i=n||"//static.coinall.ltd";return{BASE_URL_PUBLISH:"".concat(i,"/cdn/i18n/web"),BASE_URL_PREVIEW:"".concat(i,"/cdnpre/i18n/web"),BASE_URL_NOCDN_PUBLISH:"".concat(o,"/cdn/i18n/web"),BASE_URL_NOCDN_PREVIEW:"".concat(o,"/cdnpre/i18n/web"),LANGUAGE_VERSIONS:e.i18nVersion||{}}}},1230:(e,t,n)=>{"use strict";n.d(t,{Fq:()=>k});var r=n(9379),o=n(5624),i=n(3357),a=n(1656),s=n(1742),l=n(5938),c=n(2906),u=n(5473),d="MULTILINGUAL_OKDB",f="okI18nVersion",h=function(e){var t=a.A.g.get(f)||{};t[e.project]||(t[e.project]={}),t[e.project][e.locale]=e.version,a.A.g.set(f,t)};function p(e){try{var t=(new Date).getTime(),n=!e.err&&(t-((null===e||void 0===e?void 0:e.startTime)||0))/1e3||0;if(n>1){var o=(0,r.A)((0,r.A)({},null===e||void 0===e?void 0:e.msg),{},{timeout:n});(0,u.JC)(null===e||void 0===e?void 0:e.name,o)}else e.err&&(0,u.JC)(null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.msg)}catch(i){(0,u.JC)("dbTimeOutReport-catch-err",null===e||void 0===e?void 0:e.msg)}}var v=function(e,t){if(!t)return null;var n,o;if(localStorage.i18nDBversion=Number(t)+1,t>=9007199254740992)return null===(n=window)||void 0===n||null===(o=n.indexedDB)||void 0===o||o.deleteDatabase(d),a.A.g.set(f,{}),null;var i={project:e.project,locale:e.locale,version:e.version},s=null;try{var l;null!==(l=window)&&void 0!==l&&l.indexedDB&&(s=window.indexedDB.open(d,Number(t)+1))}catch(c){return null}if(!s)return null;s.onsuccess=function(e){var t;(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result).close()},s.onerror=function(){p({name:"setDB-open-err",err:"err",msg:(0,r.A)((0,r.A)({},i),{},{err:"open-err"})})},s.onblocked=function(){p({name:"setDB-onblocked-err",err:"err",msg:(0,r.A)((0,r.A)({},i),{},{err:"onblocked"})})},s.onupgradeneeded=function(t){var n,o=null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.result;try{if(o.objectStoreNames.contains("".concat(e.project,"_").concat(e.locale))){var a,s=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.transaction;if(!s)return;var l=s.objectStore("".concat(e.project,"_").concat(e.locale)).put({project:null===e||void 0===e?void 0:e.data.project,version:null===e||void 0===e?void 0:e.data.version,data:JSON.stringify(e.data)});l.onsuccess=function(){h(e)},l.onerror=function(e){var t;p({err:"err",name:"setDB-put-db-err",msg:(0,r.A)((0,r.A)({},i),{},{err:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error})}),null===o||void 0===o||o.close()}}else{var c;o.createObjectStore("".concat(e.project,"_").concat(e.locale),{keyPath:"project"}).createIndex("project","project",{unique:!1});var u=null===t||void 0===t||null===(c=t.target)||void 0===c?void 0:c.transaction;if(!u)return;var d=u.objectStore("".concat(e.project,"_").concat(e.locale)).add({project:null===e||void 0===e?void 0:e.data.project,version:null===e||void 0===e?void 0:e.data.version,data:JSON.stringify(e.data)});d.onsuccess=function(){h(e)},d.onerror=function(e){var t;p({err:"err",name:"setDB-add-db-err",msg:(0,r.A)((0,r.A)({},i),{},{err:null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.error})}),null===o||void 0===o||o.close()}}}catch(f){p({err:"err",name:"setDB-put-db-catch-err",msg:(0,r.A)((0,r.A)({},i),{},{err:f instanceof Error?f.message:String(f)})})}}},g=function(e,t,n){var o=(new Date).getTime(),i=null;try{var a;null!==(a=window)&&void 0!==a&&a.indexedDB&&(i=window.indexedDB.open(d))}catch(s){return n(e)}if(!i)return n(e);i.onsuccess=function(i){var a,s=null===i||void 0===i||null===(a=i.target)||void 0===a?void 0:a.result;try{if(s.objectStoreNames.contains("".concat(e.project,"_").concat(e.locale))){var l=s.transaction(["".concat(e.project,"_").concat(e.locale)]);l.oncomplete=function(){null===s||void 0===s||s.close()};var c=l.objectStore("".concat(e.project,"_").concat(e.locale)).get("".concat(e.project,"_").concat(e.locale));c.onsuccess=function(){if(c.result){var i=c.result;p({startTime:o,name:"getDB-got-db-timeout",msg:(0,r.A)({},e)}),t(i)}else{p({startTime:o,name:"getDB-nogot-db-timeout",msg:(0,r.A)({},e)}),n(e)}},c.onerror=function(t){var i;p({startTime:o,name:"getDB-getRequest-onerror-timeout",msg:(0,r.A)((0,r.A)({},e),{},{err:null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.error})}),n(e),null===s||void 0===s||s.close()}}else{p({startTime:o,name:"getDB-no-storeNames-timeout",msg:(0,r.A)({},e)}),n(e)}}catch(u){p({startTime:o,name:"getDB-catch-err",err:"err",msg:(0,r.A)((0,r.A)({},e),{},{err:u instanceof Error?u.message:String(u)})}),n(e),null===s||void 0===s||s.close()}},i.onerror=function(t){var i;p({startTime:o,name:"getDB-onerror-err",err:"err",msg:(0,r.A)((0,r.A)({},e),{},{err:null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.error})}),n(e)},i.onblocked=function(t){var i;p({startTime:o,name:"getDB-onblocked-err",err:"err",msg:(0,r.A)((0,r.A)({},e),{},{err:null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.error})}),n(e)}},m=n(8462),y="okI18nVersion",b="en_US",A=(0,i.E)(),w=(0,i.W)();function _(e,t,n,i){var a,s=m.A.localeDevStore,l=m.A.localeState,d=l[t],f=(null===d||void 0===d?void 0:d.locale)||(null===A||void 0===A?void 0:A.locale)||c.A.get("locale")||c.A.get("language")||b,h=(0,u.xE)(),p=e||(0,r.A)((0,r.A)({},w&&w["".concat(t)]),{},{version:n,project:t}),v=(0,r.A)((0,r.A)((0,r.A)({},s["".concat(t)]),p),h);(0,o.Ts)(v,{locale:f.toLowerCase(),project:t});var g=[];l.fetchModules.forEach((function(e){e.project===t?g.push((0,r.A)((0,r.A)({},e),{},{fetchDone:!0})):g.push(e)})),l.fetchModules=g;var y=l["".concat(t,"_").concat(i)];null===y||void 0===y||null===(a=y.updateView)||void 0===a||a.call(y);var _,C=l.fetchConfigs.find((function(e){return e.project===t}));null!==C&&void 0!==C&&C.fastRender&&(null===(_=C.onLocaleReady)||void 0===_||_.call(C,e||w["".concat(t)]))}function C(e,t,n,i){var a=m.A.localeStore,s=m.A.localeDevStore,l=m.A.localeState,d=m.A.hasLoadedModules,f=(w||{}).onLocaleDataReady,h=l[t.project],p=(null===h||void 0===h?void 0:h.locale)||A.locale||c.A.get("locale")||c.A.get("language")||b;n||!w["".concat(t.project)]||i||t.noCache||w.addEventListener("load",(function(){try{var e=JSON.stringify(w["".concat(t.project)]),n=(0,u.Zm)(t.locale,e),o=localStorage.i18nDBversion||1e4;!n&&v({project:t.project,locale:t.locale||"",version:t.version||"",data:(0,r.A)((0,r.A)({},w["".concat(t.project)]),{},{project:"".concat(t.project,"_").concat(t.locale),version:t.version||""})},Number.isNaN(o)?1e4:o)}catch(i){(0,u.JC)("i18n-multiLoaded-setDB-err",t)}}));var g,y=n||(0,r.A)((0,r.A)({},w&&w["".concat(t.project)]),{},{version:t.version,project:t.project}),C=(0,u.xE)(),S=(0,r.A)((0,r.A)((0,r.A)({},s["".concat(t.project)]),y),C);if(f&&f(n||(w&&w["".concat(t.project)],{project:t.project})),(0,o.Ts)(S,{locale:p.toLowerCase(),project:t.project}),e)return d.push(t.project),void(null===t||void 0===t||null===(g=t.resolveFn)||void 0===g||g.call(t,S));m.A.usingRemote?l["".concat(t.project,"_").concat(t.flag)]&&(a["".concat(t.project)]=n||w&&w["".concat(t.project)],_(n,t.project,t.version,t.flag)):a["".concat(t.project)]=n||w&&w["".concat(t.project)]}function S(e,t,n){var r=document.createElement("script");r.setAttribute("src",e.url),r.onerror=t,r.onload=n,document.head.appendChild(r)}function k(e,t,n){var o,i,d=m.A.localeState,f=m.A.hasLoadedModules,h=e.project,p=e.noCache,v=e.flag,T=e.noFetch,x=e.resolveFn;t&&!n&&(d[h]={errorTimes:0});var P=function(e){if(!e)return null;var t=e.site,n=e.project,r=e.version,o=e.resourceType,i=void 0===o?"js":o,a=e.fetchBaseUrl,d=void 0===a?m.A.fetchBaseUrl:a,f=(0,l.A)().LANGUAGE_VERSIONS,h=e.locale||A.locale||!(0,s.f)()&&c.A.get("locale")||!(0,s.f)()&&c.A.get("language")||b,p=null===t||void 0===t?void 0:t.toLowerCase(),v=null===n||void 0===n?void 0:n.toLowerCase(),g=h&&h.toLowerCase&&h.toLowerCase().replace(/-/g,"_"),y="".concat(p,"_").concat(v,"_").concat(g),w="".concat(d,"/").concat(t,"/").concat(v,"/").concat(g,".").concat(i),_=f[(0,u.eg)(n,!0)]||r;return{url:"".concat(w).concat(_?"?v=".concat(_):""),namespace:y,finalVersion:_,locale:h}}(e),E=null===P||void 0===P?void 0:P.finalVersion;if(f.includes(h))return _(!1,h,E,v),(null===e||void 0===e?void 0:e.resolveFn)&&(null===e||void 0===e?void 0:e.resolveFn(w["".concat(h)]));var L=null===P||void 0===P?void 0:P.locale,I=function(){!function(e,t){var n=m.A.localeState,o=e.flag?n["".concat(e.project,"_").concat(e.flag)]:n[e.project];"number"===typeof o.errorTimes&&(o.errorTimes+=1);var i=o.errorTimes;if("number"===typeof i&&i>=4)(0,u.JC)("i18n-remote-data-err",e);else if(2===i){var a=b,s=e.locale||A.locale||c.A.get("locale")||c.A.get("language");if(2===i&&s!==a){var l=n.fetchConfigs.find((function(t){return t.project===e.project})),d=e;l?(l.locale=a,l.flag=e.flag,n[e.project]=a):d.locale=a,t(e.flag?(0,r.A)({},l):(0,r.A)({},d),!e.flag,!0)}}else t((0,r.A)({},e),!e.flag,!0)}(e,k)},O={project:h,version:E,locale:L,noCache:p,flag:v,resolveFn:x},R=function(){C(t,O,!1)};if(!(!(0,s.f)()&&(null===(o=window)||void 0===o?void 0:o.indexedDB)&&"function"===typeof(null===(i=window)||void 0===i?void 0:i.indexedDB.open))||p||T)!T&&S(P,I,R),T&&R();else{var M=a.A.g.get(y)||{};(M[h]&&M[h][L]||"")===E?w["".concat(h)]?C(t,O,!1,!0):(g({project:h,version:E,locale:L},(function(e){if(e){var n=(0,u.Zm)(L,e.data||""),r=JSON.parse(e.data);r&&!n&&(w["".concat(h)]=r),E!==e.version||n?S(P,I,R):C(t,O,r)}else S(P,I,R)}),(function(){S(P,I,R)})),(0,u.io)(h,P,S,I,R)):w["".concat(h)]?C(t,O,w["".concat(h)],!0):S(P,I,R)}return null}},310:(e,t,n)=>{"use strict";n.d(t,{OS:()=>g,eY:()=>v,kW:()=>f});var r=n(9379),o=n(5624),i=n(3357),a=n(1742),s=n(2906),l=n(5473),c=n(8462),u=(0,i.E)(),d="toLocale cannot be used outside of LocaleProvider, issue key is ";function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=c.A.localeStore,f=c.A.localeDevStore,h=c.A.localeState,p=c.A.SSRProviderModule;try{var v,g,m,y=(n||{}).partName,b=n||{},A=b.withJSX,w=b.useBr,_=void 0===w||w,C=(y=(0,l.eg)(y||""))||h.fetchModules&&h.fetchModules[0]&&h.fetchModules[0].project||"main",S=i[C=(0,l.eg)(C)];if(o.hQ&&(0,o.hQ)()){var k;if((0,o.D1)()){var T=(0,o.Rq)(p)||{};g=null===T||void 0===T?void 0:T.ssrModuleName,m=null===T||void 0===T?void 0:T.ssrLocale}var x,P=(0,o.AU)({locale:null===(k=m)||void 0===k?void 0:k.toLowerCase(),project:g}),E=(0,o.hD)(P);if(S=(null===E||void 0===E?void 0:E.messages)||{},(0,a.f)()&&m)if(m!==(null===(x=u.locale)||void 0===x?void 0:x.toLowerCase())){if("prod"!==(null===u||void 0===u?void 0:u.envSign))throw new Error("".concat(d).concat(e));return""}}var L=(null===(v=h[C])||void 0===v?void 0:v.locale)||u.locale||!(0,a.f)()&&s.A.get("locale")||!(0,a.f)()&&s.A.get("language")||l.cQ;(0,a.f)()&&(0,o.hQ)()&&(C=g,L=m);var I=S&&S[e]||"";if(c.A.isInDevMode&&!(0,a.f)()&&f[C]){var O=f[C][e];O&&(I=O)}var R={key:e,moduleName:C,handler:r,content:I,useBr:_,withJSX:A,values:t,currLocale:L,from:"i18n"};return(0,l.KB)(R)}catch(M){return""}}function h(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=f(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{},(0,r.A)((0,r.A)({},t),{},{withJSX:!0}),{hasBr:!0});return(0,l.eI)(n,e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=f.apply(void 0,[e,t,n]);return r&&"object"===typeof r&&"props"in r?r.props.children:r}function v(e){var t=(0,l.eg)(e,!0);f[t]=function(t,n){return f(t,n,{partName:e})},p[t]=function(t,n){return p(t,n,{partName:e})},h[t]=function(t,n){return h(t,n,{partName:e})}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{jsx:!1,useBr:!0,partName:""};return function(t,n){return null!==e&&void 0!==e&&e.jsx?h(t,n,e):f(t,n,e)}}},9940:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a,s:()=>s});var r=n(3357),o=(0,n(1742).f)(),i=(0,r.W)();function a(){var e=i.okMarkLocaleVarSign;return o||!e}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.okMarkLocaleVarSign||"",r=arguments.length>2?arguments[2]:void 0;return o||"function"!==typeof(null===i||void 0===i?void 0:i.getFalconNeededRes)||i.getFalconNeededRes(r,e),a()||!e?e:(null===(t=i.okMarkLocale)||void 0===t?void 0:t.call(i,e,n))||e}},2906:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1742);const o={get:function(e){var t,n;if((0,r.f)())return"";var o=new RegExp("(^| )".concat(e,"=([^;]*)(;|$)")),i=!(0,r.f)()&&"undefined"!==typeof document&&(null===(t=document)||void 0===t||null===(n=t.cookie)||void 0===n?void 0:n.match(o));return i?decodeURIComponent(i[2]):""}}},5473:(e,t,n)=>{"use strict";n.d(t,{JC:()=>x,KB:()=>L,Zm:()=>S,cQ:()=>y,eI:()=>_,eg:()=>C,io:()=>T,xE:()=>k});var r=n(9379),o=n(296),i=n(8032),a=n(4883),s=n(439),l=n(3357),c=n(1742),u=n(7344),d=n(5938),f=n(9940),h=n(8462),p=/[\n]/g,v=/\{(\w+)}|(\n)|(\\n)+/g,g=/<\/?[a-z][\s\S]*>/i,m=/(\n)|(\\n)/g,y="en_US",b=(0,l.W)();function A(){return(0,f.Y)()?"":"data-locale-"}function w(e){for(var t,n=h.A.isShowKeyMode,r=A(),s=[],l=0,c=0;t=p.exec(e);){var u=t,d=(0,o.A)(u,2),f=d[0],v=d[1],g=t.index;l<g&&s.push((0,i.jsx)(a.Fragment,{children:e.slice(l,g)},"".concat(r).concat(c++))),v||s.push((0,i.jsx)(a.Fragment,{children:(0,i.jsx)("br",{})},"".concat(r).concat(c++))),l=g+f.length}return l<e.length&&s.push((0,i.jsx)(a.Fragment,{children:e.slice(l)},"".concat(r).concat(c))),n?s:(0,i.jsx)(a.Fragment,{children:s},"".concat(r).concat(c))}function _(e,t){var n,r=A(),s=h.A.isShowKeyMode,l=[],c=0,u=0;if("string"===typeof e){for(;n=v.exec(e);){var d=n,f=(0,o.A)(d,2),p=f[0],g=f[1],m=n.index;c<m&&l.push((0,i.jsx)(a.Fragment,{children:e.slice(c,m)},"".concat(r).concat(u++))),0!==(Object.keys(t||{})||[]).length&&void 0!==(null===t||void 0===t?void 0:t[g])&&null!==(null===t||void 0===t?void 0:t[g])&&l.push((0,i.jsx)(a.Fragment,{children:t[g]},"".concat(r).concat(u++))),void 0===g&&l.push((0,i.jsx)(a.Fragment,{children:(0,i.jsx)("br",{})},"".concat(r).concat(u++))),c=m+p.length}c<e.length&&l.push((0,i.jsx)(a.Fragment,{children:e.slice(c)},"".concat(r).concat(u)))}return s?l:(0,i.jsx)(a.Fragment,{children:l},"".concat(r).concat(u))}function C(e,t){var n=(0,l.E)().i18nModulePrefix,r=void 0===n?"":n,o=new RegExp("^".concat(r));return r&&!t?e?e.startsWith(r)?e:"".concat(r).concat(e):e:t&&r&&e&&e.startsWith(r)?e.replace(o,""):e}function S(e,t){var n,r,o=null===(n="".concat(e))||void 0===n||null===(r=n.toLowerCase())||void 0===r?void 0:r.replace(/-/g,"_");return("zh_cn"===o||"zh_tw"===o)&&!/[\u4e00-\u9fa5]/gi.test(t)}function k(){try{if(!(0,c.f)()){var e=window.javaweb_locale||null;if(e)return e=e.replace(/\n/g,"\\n"),JSON.parse(e)}return null}catch(t){return null}}function T(e,t,n,r,o){var i=setTimeout((function(){window["".concat(e)]||(n(t,r,o),clearTimeout(i))}),1e3)}function x(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i18n",i=!(0,c.f)()&&(null===b||void 0===b||null===(n=b.location)||void 0===n?void 0:n.pathname)||"",a="".concat(o," -- ").concat(i?"".concat(e," -- ").concat(i):e);t&&(a="".concat(a," -- ").concat(t));var s="object"===typeof t,l="object"===typeof t&&null!==t&&void 0!==t&&t.devid?t.devid:!(0,c.f)()&&void 0!==typeof localStorage&&localStorage.devid||"",d=s?(0,r.A)((0,r.A)({},t),{},{devid:l}):{message:t,devid:l};u.v.info(a,{message:d,customConfig:{error:{type:e},project:{id:243,token:"2b65098fbd898b1419f8241753fbf146"}}})}function P(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=h.A.isShowKeyMode,i=h.A.isShowPureKey,a=h.A.localeState,s=b.okMarkLocaleTextSign,l=(0,d.A)().LANGUAGE_VERSIONS;if(!o)return(0,f.s)(t||"",s,{noNeedFilter:!0});if(i)return(0,f.s)(e,s,{noNeedFilter:!0});var c=n,u=a.fetchConfigs[0];if(!u)return(0,f.s)(t,s,{noNeedFilter:!0});c||(c=u.project);var p=u.site,v=u.version,g=l[c];return g&&(v=g),r?"showkeyWithJSX?key=".concat(e,"?site=").concat(p,"?partName=").concat(n,"?project=").concat(c,"?version=").concat(v,"?content=").concat(t,"?showkeyWithJSX"):"showkey?key=".concat(e,"?site=").concat(p,"?partName=").concat(n,"?project=").concat(c,"?version=").concat(v,"?content=").concat(t,"?showkey")}function E(e){return Object.prototype.toString.call(e).includes("String")}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.content,n=e.key,r=e.moduleName,o=e.handler,i=void 0===o?{}:o,a=e.useBr,l=e.withJSX,c=e.values,u=void 0===c?{}:c,d=e.currLocale,h=e.from,p=void 0===h?"i18n":h;if(!t)return P(n,t,r);if(null!==b&&void 0!==b&&b.getFalconNeededRes&&(0,f.s)(t,"",{originContent:!0,msg:{project:r,key:n,content:t}}),!i.hasBr&&g.test(t)&&a&&(t=E(t)?t.replace(m,""):t),l)return P(n,t,r,l);if(0===(Object.keys(u)||[]).length)return a&&E(t)&&t.indexOf("\n")>-1&&!i.hasBr&&!g.test(t)?w(t):P(n,t,r,l);var v="";return v=(0,s.hw)({project:r,locale:null===d||void 0===d?void 0:d.toLowerCase()},n,u,!0,p),a&&E(v)&&v.indexOf("\n")>-1&&!i.hasBr&&!g.test(t||"")?w(v):P(n,v,r,l)}},8462:(e,t,n)=>{"use strict";n.d(t,{A:()=>p,B:()=>h});var r=n(1742),o=n(5938),i=(0,r.f)()||"undefined"===typeof sessionStorage?{}:sessionStorage,a=i.showKey,s=i.showKeyMode,l="777"===a,c="1"===s,u="2"===s,d="1"===i.preview,f={isInDevMode:!1,usingRemote:!1,fetchBaseUrl:(0,o.A)().BASE_URL_PUBLISH,isShowKeyMode:l,isShowKeyTips:c,isShowPureKey:u,isPreview:d,partsDataProvided:!1,hasLoadedModules:[],localeStore:{main:{}},localeDevStore:{main:{}},baseInitState:{fetchDone:!1,didMount:!1,didMountFns:[],errorTimes:0},localeState:{fetchModules:[],fetchConfigs:[]},SSRProviderModule:"SSRProviderModule"},h=function(e){Object.assign(f,e)};const p=f},439:(e,t,n)=>{"use strict";n.d(t,{r6:()=>R,hw:()=>B,ZV:()=>M,O3:()=>N,Ru:()=>O,vE:()=>D});var r=n(296),o=n(4467),i=n(9379),a=n(3029),s=n(2901);var l=n(7654),c=n.n(l),u=n(9940),d=n(3357),f=n(519),h=n(9184),p=n(5624),v=["ar","he","fa","ur","ks","ps","ug","pa","sd"],g=function(e,t){var n,r=Math.abs(e);if(t){n=1===r?new RegExp("(?:".concat("\u0661","|1)"),"g"):new RegExp("(?:".concat("\u0662","|2)"),"g")}else n=1===r?/1/g:/2/g;return n},m=function(e){var t=e.signDisplay,n=void 0!==t&&t,r=e.number,o=e.zeroSign,i=void 0===o?"+":o,a=String(r),s=a;return null!==a&&void 0!==a&&a.includes("+")||null!==a&&void 0!==a&&a.includes("-")||!n||(0!=r?s="+".concat(a):0==r&&i&&(s="".concat(i).concat(a))),s},y=function(e,t){var n=t.stringValue,r=t.numberValue,o=t.code,a=t.locale,s=t.currencyDisplay,l=t.currencySign,c=void 0===l?"":l,u=t.signDisplay,d=t.zeroSign,f=void 0===d?"+":d,b=t.invalid,A=void 0!==b&&b,w=String(e),_=n;0===r&&"-"===f&&(_="-".concat(n));var C=s===h.yw.narrowSymbol,S=v.some((function(e){return null===a||void 0===a?void 0:a.startsWith(e)}));if(A&&C&&S){var k=m({number:_,signDisplay:u,zeroSign:f});return"\u200f\u200e".concat(k,"\xa0\u200f").concat(c,"\u200e\u200f")}try{var T={locale:a,useSington:!0};(0,p.Ts)({},T);var x=p.$5[(0,p.AU)({locale:a})];(0,p.jh)();var P=u&&(0!==r||f),E=x.formatNumber(e,(0,i.A)({style:h.Y.currency,currency:o,currencyDisplay:s,minimumFractionDigits:0,maximumFractionDigits:0},P?{signDisplay:"always"}:{})),L=(0,p.Kp)();if(L&&L.toString().includes("Invalid currency code"))return c?y(e,(0,i.A)((0,i.A)({},t),{},{code:"USD",invalid:!0})):m({number:_,signDisplay:u,zeroSign:f});if(A){var I=g(e,S),O=n.replace(/^[+-]/,"");return E.replace(I,O).replace("US$",c).replace("$",c)}if(C&&S){var R=E.replace(/\u200F/g,"").replace(/\u200E/g,"").replace(/\u00A0/g,"").replace(/\u0661/g,"").replace(w,"");return"\u200f\u200e".concat(_,"\xa0\u200f").concat(R,"\u200e\u200f")}var M=g(e,S),N=n.replace(/^[+-]/,"");return E.replace(M,N)}catch(D){return _}},b=function(e,t){var n,r=null===(n=(0,d.E)())||void 0===n?void 0:n.isRTL,o=t.currency,i=void 0===o?"":o,a=t.currencySign,s=void 0===a?"":a,l=t.signDisplay,c=t.zeroSign,u=t.code,f=t.isSymbol,h=void 0===f||f,p=t.forceLtr,v=void 0!==p&&p,g=m({number:e,signDisplay:l,zeroSign:c});if(!h&&u&&(i=u),!i&&!s)return g;var y=i&&!s;if(r){var b=y?" ".concat(i):s;return"\u200f\u200e".concat(g,"\u200f").concat(b,"\u200f")}if(y)return v?"\u200e".concat(g," ").concat(i,"\u200e"):"".concat(g," ").concat(i);var A=g.match(/^([-+])([^-+]+)$/),w=(null===A||void 0===A?void 0:A[1])||"",_=g.replace(w,"");return"".concat(w).concat(s).concat(_)},A=n(1742);function w(e){return/(GMT)[^+-]/.test(e)?null===e||void 0===e?void 0:e.replace(/GMT/,"UTC"):e.replace(/\[?(GMT|UTC|\u063a\u0631\u064a\u0646\u062a\u0634)(\+|-)([0-9]+)\]?/g,(function(e,t,n,r){return"0"===r?"UTC":"(UTC+".concat(r,")")}))}var _={"tr-tr":function(e,t){var n=t;return e.startsWith("MMdd")&&(n=t.replace("/",".")),e.includes("z")&&(n=w(t)),n},default:function(e,t,n){var r=t;if(e.includes("z"))r=w(t);else if(n.includes("ar-")){r="\u200f"+r}return r}};var C={"en-in":function(){return{groupSize:3,secondaryGroupSize:2}},"hi-in":function(){return{groupSize:3,secondaryGroupSize:2}},"es-es":function(e){return{groupSize:4===(null===e||void 0===e?void 0:e.length)?0:3}},"es-ar":function(e){return{groupSize:4===(null===e||void 0===e?void 0:e.length)?0:3}},"pl-pl":function(e){return{groupSize:4===(null===e||void 0===e?void 0:e.length)?0:3}},"pt-pt":function(e){return{groupSize:4===(null===e||void 0===e?void 0:e.length)?0:3}}};function S(e){var t,n=null===e||void 0===e||null===(t=e.bgValue)||void 0===t?void 0:t.e,o=!!"".concat(null===e||void 0===e?void 0:e.value).split("").find((function(e){return"."===e})),a=/e[+-]|e\d/.test("".concat(null===e||void 0===e?void 0:e.value)),s=o&&!a?"".concat(null===e||void 0===e?void 0:e.value):e.bgValue.toFormat({groupSeparator:"",decimalSeparator:"."}),l=null===s||void 0===s?void 0:s.trim().split("."),c=(0,r.A)(l,2),u=c[0],d=c[1],f=d?d.length:0;n&&n<0&&d&&Math.abs(n)>d.length&&(f=Math.abs(n)+2);var h,p={};("boolean"!==typeof(null===e||void 0===e?void 0:e.useGrouping)||null!==e&&void 0!==e&&e.useGrouping)&&(p=(null===(h=C[e.locale.toLowerCase()])||void 0===h?void 0:h.call(C,u))||{groupSize:3});return{decimalLen:f,bgFormatConfig:(0,i.A)({decimalSeparator:null===e||void 0===e?void 0:e.smallDigitalSymbol,groupSeparator:null===e||void 0===e?void 0:e.micrometerSymbol},p)}}function k(e,t,n){var r=e.replace("-",""),o=t.replace(/0/g,"").replace(/\d/,r),i={"es-419":function(){return/\d%/.test(o)?o.replace(/%/,"\xa0%"):o}};return i[n]&&i[n]()||o}function T(e,t){try{var n,r="".concat(Number(e)),o=t.res,i=t.roundingMode,a=t.digit,s=void 0===a?2:a,l=t.needZero,u=t.locale,d=t.micrometerSymbol,f=t.smallDigitalSymbol,p=t.useGrouping,v=o.replace(/(\d)[\s,.](\d)/g,(function(e,t,n){return t+n})).replace(/-/,""),g=new RegExp("\\".concat(d,"|\\+"),"g"),m=null===o||void 0===o?void 0:o.replace(g,""),y=null===m||void 0===m?void 0:m.indexOf(f);null!==m&&void 0!==m&&m.includes(f)||(y=function(e){var t=null===e||void 0===e?void 0:e.match(/\d/g);return t?t.length:-1}(m));var b,A=new RegExp("(.{".concat(y,"})")),w=null===r||void 0===r||null===(n=r.replace(/\.|\+/,""))||void 0===n?void 0:n.replace(A,"$1."),_=new(c())(w),C=function(e){return 0===e?0:e}(s),k=_.toFixed(C,function(e){switch(e){case h.Ic.ceil:return c().ROUND_CEIL;case h.Ic.floor:return c().ROUND_FLOOR;default:return c().ROUND_HALF_UP}}(i)),T=new(c())(k),x=S({bgValue:_,micrometerSymbol:d,smallDigitalSymbol:f,locale:u,value:r,useGrouping:p}).bgFormatConfig;return b="undefined"===typeof l||l?T.toFormat(C,x):T.toFormat(x),v.replace(/[\d]+/g,b)}catch(P){throw new Error("Number short err: ".concat(P))}}function x(e,t,n){var r=t.style,o=t.notation,i=function(e){var t=e.needZero,n=e.digit,r=0;return t&&(r=n),r}(t),a=function(e){var t=e.digit,n=2;return 0==t?n=0:t&&(n=t),n}(t),s=null===t||void 0===t?void 0:t.roundingMode,l={},c=e;if(r===h.Y.percent)c=1,e<0&&(c=-1),l={minimumFractionDigits:0,style:null===t||void 0===t?void 0:t.style};else{if(o===h.Y.compact){var u=t.digit,d=t.needZero,f=t.micrometerSymbol,v=void 0===f?"":f,g=t.smallDigitalSymbol,m=void 0===g?"":g,y=t.useGrouping;return l={notation:h.Y.compact,compactDisplay:"short",minimumFractionDigits:20,maximumFractionDigits:20},T(c,{digit:u,res:p.$5[(0,p.AU)({locale:n})].formatNumber(c,l),roundingMode:s,needZero:d,locale:n,micrometerSymbol:v,smallDigitalSymbol:m,useGrouping:y})}l={style:null===t||void 0===t?void 0:t.style,currency:null===t||void 0===t?void 0:t.currency,currencyDisplay:h.yw.narrowSymbol,minimumFractionDigits:i,maximumFractionDigits:a,roundingMode:s}}return p.$5[(0,p.AU)({locale:n})].formatNumber(c,l)}function P(e,t,n){var r=e,o=(0,d.E)().isRTL,i=void 0!==o&&o,a=n||{},s=a.signDisplay,l=void 0!==s&&s,c=a.zeroSign,u=void 0===c?"+":c;return l&&(t>0?r="+".concat(r):0==t&&u&&(r="".concat(u).concat(r))),i&&(r="\u200f\u200e".concat(r,"\u200f")),r}function E(e,t){var n=t.smallDigitalSymbol;if("string"!==typeof e)return e;var r=e.indexOf(n);if(-1===r||-1!==e.indexOf(n,r+1))return e;for(var o=e.slice(r+1),i=0;i<o.length&&"0"===o[i];)i++;if(i<4)return e;var a=e.slice(0,r),s=function(e){for(var t=["\u2080","\u2081","\u2082","\u2083","\u2084","\u2085","\u2086","\u2087","\u2088","\u2089"],n="",r=e;r>0;)n=t[r%10]+n,r=Math.floor(r/10);return"0".concat(n)}(i)+o.slice(i);return"".concat(a).concat(n).concat(s)}var L=(0,d.W)(),I=new(function(){return(0,s.A)((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.A)(this,e),this.formatCurrency=function(e,n){var r=n.currencyDisplay,o=void 0===r?"narrowSymbol":r,a=n.isSymbol,s=void 0===a||a,l=n.code,c=void 0===l?"":l,u=n.zeroSign,d=void 0===u?"+":u,f=(0,p.JK)((null===n||void 0===n?void 0:n.locale)||t.intlConfigs.locale),v=t.getNumberInfo(f).smallDigitalSymbol,g=String(e),m=Number(g.replace(v,"."));if(!c)return b(e,n);if(!o||o===h.yw.narrowSymbol){if(!s)return b(e,n);var A=g.startsWith("-")||0===m&&"-"===d;return y(A?-1:1,(0,i.A)((0,i.A)({},n),{},{locale:f,stringValue:g,numberValue:m,currencyDisplay:o}))}var w=function(e,t,n){var r=1,o=Math.abs(t);return(e.length>1&&"-1"!==e||o>1||0===o)&&(r=2),(/^-/.test(e)||0===t&&"-"===n)&&(r=-r),r}(g,m,d);return y(w,(0,i.A)((0,i.A)({},n),{},{locale:f,currencySign:c,stringValue:g,numberValue:m}))},this.getCurrencyName=function(e,n){try{var r=(0,p.JK)((null===n||void 0===n?void 0:n.locale)||t.intlConfigs.locale),o={locale:r,useSington:!0};return(0,p.Ts)({},o),p.$5[(0,p.AU)(o)].formatters.getDisplayNames(r,{type:h.Y.currency,style:(null===n||void 0===n?void 0:n.style)||h.Ar.long}).of(e)||""}catch(i){return e}},this.formatRange=function(e){var t=null===f.A||void 0===f.A?void 0:f.A.isRTL,n=e.sign,r=void 0===n?"":n,o=e.leftNumber,i=e.rightNumber;return o||(o=""),i||(i=""),t?"\u200f".concat(o).concat(r,"\u200e").concat(i,"\u200f"):o+r+i},this.formatDateTime=function(e,n){var r,i=(0,p.JK)((null===n||void 0===n?void 0:n.locale)||t.intlConfigs.locale);if(null!==n&&void 0!==n&&n.format){var a,s=null===n||void 0===n?void 0:n.format;null!==(a=s)&&void 0!==a&&a.includes("MMMdd")&&(s=s.replace("MMMdd","MMMd"));var l=function(e,t){var n,r;if((0,A.f)())return t;var o=null===(n=navigator)||void 0===n?void 0:n.userAgent,i=null===o||void 0===o||null===(r=o.match(/Chrome\/(\d+)/))||void 0===r?void 0:r[1];return"88"!==i&&"89"!==i||"zh-CN"!==e?t:t.replace("ddHH","ddhh")}(i,s),c={locale:i,project:l,useSington:!0};(0,p.Ts)((0,o.A)({},l,"{date, date, ::".concat(l,"}")),c),r=function(e,t,n){var r=e.toLowerCase();return void 0!==_[r]?_[r](t,n,r):_.default(t,n,r)}(i,l,r=t.formatMessage(c,l,{date:e}))}else{var d={locale:i,useSington:!0};(0,p.Ts)({},d),r=p.$5[(0,p.AU)(d)].formatDate(e,n),i.includes("ar-")&&(r="\u200f"+r)}return(0,u.s)(r)},this.splitNumber=function(e,n){if("string"!==typeof e)return e;var r=(n||{}).hasThousandSep,o=void 0!==r&&r,i=(0,p.JK)((null===n||void 0===n?void 0:n.locale)||t.intlConfigs.locale),a=t.getNumberInfo(i).micrometerSymbol,s=e.replace(/[\u200F\u200E]/g,"");return o||(s=s.split(a).join("")),s.split("")},this.shortNumber=function(e,n){return t.formatNumber(e,(0,i.A)((0,i.A)({},n),{},{notation:h.Y.compact}))},this.percent=function(e,n){return t.formatNumber(e,(0,i.A)((0,i.A)({},n),{},{style:h.Y.percent}))},this.zeroFoldedNum=function(e,n){var r=(0,p.JK)((null===n||void 0===n?void 0:n.locale)||t.intlConfigs.locale),o=t.getNumberInfo(r).smallDigitalSymbol;return E(e,(0,i.A)((0,i.A)({},n),{},{smallDigitalSymbol:o}))},this.scientificNotation=function(e,n){return t.zeroFoldedNum(e,n)},this.forceLTR=function(e){return(null===f.A||void 0===f.A?void 0:f.A.isRTL)?e:"\u200e".concat(e,"\u200e")},this.formatNumber=function(e,n){var r=new(c())(e);if(Number.isNaN(r.toNumber())){if("prod"!==(null===f.A||void 0===f.A?void 0:f.A.envSign))throw new Error(h.Q4);return""}var o,a=(0,p.JK)((null===n||void 0===n?void 0:n.locale)||t.intlConfigs.locale),s=t.getNumberInfo(a),l=s.micrometerSymbol,d=s.smallDigitalSymbol,v=S({bgValue:r,micrometerSymbol:l,smallDigitalSymbol:d,locale:a,value:e,useGrouping:null===n||void 0===n?void 0:n.useGrouping}),g=v.decimalLen,m=v.bgFormatConfig,y=(o=(null===n||void 0===n?void 0:n.style)||(null===n||void 0===n?void 0:n.notation))&&["currency","percent","compact"].includes(o),b=(0,i.A)((0,i.A)({},n),{},{bgFormatConfig:m,micrometerSymbol:l,smallDigitalSymbol:d});if("undefined"===typeof(null===n||void 0===n?void 0:n.needZero)||null!==n&&void 0!==n&&n.needZero){if(y&&n){var A=x(e,b,a);if((null===n||void 0===n?void 0:n.notation)===h.Y.compact||(null===n||void 0===n?void 0:n.style)===h.Y.currency){var w=P(A,e,n);return(0,u.s)(w)}if((null===n||void 0===n?void 0:n.style)===h.Y.percent&&(null===n||void 0===n||!n.needK)){var _=P(k(r.toFormat(g,m),A,a),e,n);return(0,u.s)(_)}}var C=P(r.toFormat(g,m),e,n);return(0,u.s)(C)}if(y){var T=x(r.toNumber(),b,a);if((null===n||void 0===n?void 0:n.notation)===h.Y.compact||(null===n||void 0===n?void 0:n.style)===h.Y.currency){var E=P(T,e,n);return(0,u.s)(E)}if((null===n||void 0===n?void 0:n.style)===h.Y.percent&&(null===n||void 0===n||!n.needK)){var L=P(k(r.toFormat(m),T,a),e,n);return(0,u.s)(L)}}var I=P(r.toFormat(m),e,n);return(0,u.s)(I)},this.formatMessage=function(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,l=(0,i.A)({},o);a&&Object.keys(o).forEach((function(e){l[e]=(0,u.s)(o[e],L.okMarkLocaleVarInTextSign,{noNeedFilter:!0})}));var c=e.locale,d=e.project,v=(0,p.AU)({project:d,locale:(0,p.JK)(c||t.intlConfigs.locale)}),g=p.$5[v];if((0,p.hQ)()&&"i18n"===s&&(g=(0,p.hD)(v)),!g){if("prod"!==(null===f.A||void 0===f.A?void 0:f.A.envSign))throw new Error(h.ln);return""}var m={id:n,defaultMessage:""},y={},b=g.messages[n],A=function(e){for(var t=/<\s*(\/)?\s*([a-z]+)(?:\s+[^\/]+(?:\s*=\s*(?:[^/]+)|\"\S+\"|\'\S+\')?)?\s*(\/)?\s*>/gi,n={},o={},i=0,a=e,s=[],l=t.exec(e);null!==l;)s.push(l),l=t.exec(e);return s.forEach((function(e){var t=(0,r.A)(e,4),s=t[0],l=t[1],c=t[2],u=t[3];if(!u){var d="";n[c]?(d="</".concat(n[c],">"),Reflect.deleteProperty(n,c)):(n[c]="tmp".concat(i++),o[n[c]]={matchText:s,isClose:!!u,isEnd:!!l,tag:c},d="<".concat(n[c],">")),a=a.replace(s,d)}})),{res:a,tagMaps:o}}(b);g.messages[n]=A.res,Object.entries(A.tagMaps).forEach((function(e){var t=(0,r.A)(e,2),n=t[0],o=t[1],i=o.isClose,a=o.isEnd,s=o.matchText,l=o.tag;a||(y[n]=i?function(){return s}:function(e){return"".concat(s).concat(e,"</").concat(l,">")})}));var w=g.formatMessage(m,(0,i.A)((0,i.A)({},l),y));return g.messages[n]=b,w},this.formatRelativeTime=function(e,n,r){var o={locale:(0,p.JK)((null===r||void 0===r?void 0:r.locale)||t.intlConfigs.locale),useSington:!0};return(0,p.Ts)({},o),p.$5[(0,p.AU)(o)].formatRelativeTime(e,n,r)},this.getNumberInfo=function(e){var n={project:h.ol,locale:(0,p.JK)(e||t.intlConfigs.locale),useSington:!0};(0,p.Ts)({},n);var r=p.$5[(0,p.AU)(n)].formatNumber(10000.1);return{micrometerSymbol:r[2],smallDigitalSymbol:r.split("").reverse()[1]}},this.parseLocaleNumber=function(e,n){var o,i=null===(o="".concat(e))||void 0===o?void 0:o.replace(/\u200F|\u200E/g,""),a=(0,p.JK)((null===n||void 0===n?void 0:n.locale)||t.intlConfigs.locale),s=t.getNumberInfo(a),l=s.smallDigitalSymbol,c=s.micrometerSymbol,u=new RegExp("\\".concat(c),"g"),d=i.split(l),f=(0,r.A)(d,2),v=f[0],g=f[1],m=v.replace(u,""),y=Number("".concat(m).concat(g?".".concat(g):""));if(Number.isNaN(y)||"-"!==i[0]&&Number.isNaN(Number(i[0])))throw new Error(h.Q4);if(null!==n&&void 0!==n&&n.handleInput){var b=!!i.split("").find((function(e){return e===l}));return"".concat(m).concat(b?".":"").concat(void 0===g?"":g)}return y},this.isPlural=function(e,n){var r={locale:(0,p.JK)((null===n||void 0===n?void 0:n.locale)||t.intlConfigs.locale),useSington:!0};return(0,p.Ts)({},r),"one"!==p.$5[(0,p.AU)(r)].formatPlural(e)},this.intlConfigs=n,this.intlConfigs=n}),[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,p.Ts)(e,(0,i.A)((0,i.A)({},t),{},{locale:this.locale}))}},{key:"locale",get:function(){return(0,p.JK)(this.intlConfigs.locale)}}])}()),O=I,R=I.formatDateTime,M=I.formatNumber,N=(I.formatCurrency,I.formatRelativeTime,I.zeroFoldedNum,I.zeroFoldedNum,I.forceLTR,I.getNumberInfo),D=(I.getCurrencyName,I.parseLocaleNumber),B=(I.percent,I.shortNumber,I.isPlural,I.splitNumber,I.formatMessage)},9184:(e,t,n)=>{"use strict";n.d(t,{Ar:()=>c,Ic:()=>s,Q4:()=>i,Y:()=>a,ln:()=>o,ol:()=>r,yw:()=>l});var r="global",o="PLEASE_INIT_INTL",i="NOT_A_NUMBER",a={currency:"currency",percent:"percent",compact:"compact"},s={ceil:"ceil",floor:"floor"},l={code:"code",symbol:"symbol",narrowSymbol:"narrowSymbol",name:"name"},c={narrow:"narrow",short:"short",long:"long"}},5624:(e,t,n)=>{"use strict";n.d(t,{Rq:()=>St,jh:()=>Pt,AU:()=>wt,Kp:()=>Et,JK:()=>At,D1:()=>Ct,hQ:()=>_t,Ts:()=>xt,$5:()=>Tt,hD:()=>kt});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.create;function a(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var s,l,c;Object.create;function u(e){return e.type===l.literal}function d(e){return e.type===l.argument}function f(e){return e.type===l.number}function h(e){return e.type===l.date}function p(e){return e.type===l.time}function v(e){return e.type===l.select}function g(e){return e.type===l.plural}function m(e){return e.type===l.pound}function y(e){return e.type===l.tag}function b(e){return!(!e||"object"!==typeof e||e.type!==c.number)}function A(e){return!(!e||"object"!==typeof e||e.type!==c.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(s||(s={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(l||(l={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(c||(c={}));var w=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,_=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function C(e){var t={};return e.replace(_,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var S=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var k=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,T=/^(@+)?(\+|#+)?[rs]?$/g,x=/(\*)(0+)|(#+)(0+)|(0+)/g,P=/^(0+)$/;function E(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(T,(function(e,n,r){return"string"!==typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"===typeof r?r.length:0)),""})),t}function L(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function I(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!P.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function O(e){var t=L(e);return t||{}}function R(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=i(i(i({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return i(i({},e),O(t))}),{}));continue;case"engineering":t=i(i(i({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return i(i({},e),O(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(x,(function(e,n,r,o,i,a){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(P.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(k.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(k,(function(e,n,r,o,i,a){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&a?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var a=o.options[0];"w"===a?t=i(i({},t),{trailingZeroDisplay:"stripIfInteger"}):a&&(t=i(i({},t),E(a)))}else if(T.test(o.stem))t=i(i({},t),E(o.stem));else{var s=L(o.stem);s&&(t=i(i({},t),s));var l=I(o.stem);l&&(t=i(i({},t),l))}}return t}var M,N={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function D(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;return"root"!==r&&(n=e.maximize().region),(N[n||""]||N[r||""]||N["".concat(r,"-001")]||N["001"])[0]}var B=new RegExp("^".concat(w.source,"*")),F=new RegExp("".concat(w.source,"*$"));function j(e,t){return{start:e,end:t}}var V=!!String.prototype.startsWith,H=!!String.fromCodePoint,z=!!Object.fromEntries,U=!!String.prototype.codePointAt,W=!!String.prototype.trimStart,K=!!String.prototype.trimEnd,G=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},q=!0;try{q="a"===(null===(M=te("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===M?void 0:M[0])}catch(Lt){q=!1}var Y,Z=V?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},X=H?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",o=e.length,i=0;o>i;){if((n=e[i++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},J=z?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],i=o[0],a=o[1];t[i]=a}return t},Q=U?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,o=e.charCodeAt(t);return o<55296||o>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?o:r-56320+(o-55296<<10)+65536}},$=W?function(e){return e.trimStart()}:function(e){return e.replace(B,"")},ee=K?function(e){return e.trimEnd()}:function(e){return e.replace(F,"")};function te(e,t){return new RegExp(e,t)}if(q){var ne=te("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Y=function(e,t){var n;return ne.lastIndex=t,null!==(n=ne.exec(e)[1])&&void 0!==n?n:""}}else Y=function(e,t){for(var n=[];;){var r=Q(e,t);if(void 0===r||ie(r)||ae(r))break;n.push(r),t+=r>=65536?2:1}return X.apply(void 0,n)};var re=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){if((i=this.parseArgument(e,n)).err)return i;r.push(i.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(s.UNMATCHED_CLOSING_TAG,j(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&oe(this.peek()||0)){if((i=this.parseTag(e,t)).err)return i;r.push(i.val)}else{var i;if((i=this.parseLiteral(e,t)).err)return i;r.push(i.val)}}else{var a=this.clonePosition();this.bump(),r.push({type:l.pound,location:j(a,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:l.literal,value:"<".concat(r,"/>"),location:j(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var i=o.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!oe(this.char()))return this.error(s.INVALID_TAG,j(a,this.clonePosition()));var c=this.clonePosition();return r!==this.parseTagName()?this.error(s.UNMATCHED_CLOSING_TAG,j(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:l.tag,value:r,children:i,location:j(n,this.clonePosition())},err:null}:this.error(s.INVALID_TAG,j(a,this.clonePosition())))}return this.error(s.UNCLOSED_TAG,j(n,this.clonePosition()))}return this.error(s.INVALID_TAG,j(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var i=this.tryParseUnquoted(e,t);if(i)r+=i;else{var a=this.tryParseLeftAngleBracket();if(!a)break;r+=a}}}var s=j(n,this.clonePosition());return{val:{type:l.literal,value:r,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(oe(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return X.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),X(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(s.EXPECT_ARGUMENT_CLOSING_BRACE,j(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(s.EMPTY_ARGUMENT,j(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(s.MALFORMED_ARGUMENT,j(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(s.EXPECT_ARGUMENT_CLOSING_BRACE,j(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:l.argument,value:r,location:j(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(s.EXPECT_ARGUMENT_CLOSING_BRACE,j(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(s.MALFORMED_ARGUMENT,j(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=Y(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:j(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var o,a=this.clonePosition(),u=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(u){case"":return this.error(s.EXPECT_ARGUMENT_TYPE,j(a,d));case"number":case"date":case"time":this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var h=this.clonePosition();if((w=this.parseSimpleArgStyleIfPossible()).err)return w;if(0===(m=ee(w.val)).length)return this.error(s.EXPECT_ARGUMENT_STYLE,j(this.clonePosition(),this.clonePosition()));f={style:m,styleLocation:j(h,this.clonePosition())}}if((_=this.tryParseArgumentClose(r)).err)return _;var p=j(r,this.clonePosition());if(f&&Z(null===f||void 0===f?void 0:f.style,"::",0)){var v=$(f.style.slice(2));if("number"===u)return(w=this.parseNumberSkeletonFromString(v,f.styleLocation)).err?w:{val:{type:l.number,value:n,location:p,style:w.val},err:null};if(0===v.length)return this.error(s.EXPECT_DATE_TIME_SKELETON,p);var g=v;this.locale&&(g=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var i=0;r+1<e.length&&e.charAt(r+1)===o;)i++,r++;var a=1+(1&i),s=i<2?1:3+(i>>1),l=D(t);for("H"!=l&&"k"!=l||(s=0);s-- >0;)n+="a";for(;a-- >0;)n=l+n}else n+="J"===o?"H":o}return n}(v,this.locale));var m={type:c.dateTime,pattern:g,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?C(g):{}};return{val:{type:"date"===u?l.date:l.time,value:n,location:p,style:m},err:null}}return{val:{type:"number"===u?l.number:"date"===u?l.date:l.time,value:n,location:p,style:null!==(o=null===f||void 0===f?void 0:f.style)&&void 0!==o?o:null},err:null};case"plural":case"selectordinal":case"select":var y=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(s.EXPECT_SELECT_ARGUMENT_OPTIONS,j(y,i({},y)));this.bumpSpace();var b=this.parseIdentifierIfPossible(),A=0;if("select"!==u&&"offset"===b.value){if(!this.bumpIf(":"))return this.error(s.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,j(this.clonePosition(),this.clonePosition()));var w;if(this.bumpSpace(),(w=this.tryParseDecimalInteger(s.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,s.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return w;this.bumpSpace(),b=this.parseIdentifierIfPossible(),A=w.val}var _,S=this.tryParsePluralOrSelectOptions(e,u,t,b);if(S.err)return S;if((_=this.tryParseArgumentClose(r)).err)return _;var k=j(r,this.clonePosition());return"select"===u?{val:{type:l.select,value:n,options:J(S.val),location:k},err:null}:{val:{type:l.plural,value:n,options:J(S.val),offset:A,pluralType:"plural"===u?"cardinal":"ordinal",location:k},err:null};default:return this.error(s.INVALID_ARGUMENT_TYPE,j(a,d))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(s.EXPECT_ARGUMENT_CLOSING_BRACE,j(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(s.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,j(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(S).filter((function(e){return e.length>0}));n<r.length;n++){var o=r[n].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var i=o[0],a=o.slice(1),s=0,l=a;s<l.length;s++)if(0===l[s].length)throw new Error("Invalid number skeleton");t.push({stem:i,options:a})}return t}(e)}catch(r){return this.error(s.INVALID_NUMBER_SKELETON,t)}return{val:{type:c.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?R(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,i=!1,a=[],l=new Set,c=r.value,u=r.location;;){if(0===c.length){var d=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(s.EXPECT_PLURAL_ARGUMENT_SELECTOR,s.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;u=j(d,this.clonePosition()),c=this.message.slice(d.offset,this.offset())}if(l.has(c))return this.error("select"===t?s.DUPLICATE_SELECT_ARGUMENT_SELECTOR:s.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===c&&(i=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?s.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:s.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,j(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,n);if(p.err)return p;var v=this.tryParseArgumentClose(h);if(v.err)return v;a.push([c,{value:p.val,location:j(h,this.clonePosition())}]),l.add(c),this.bumpSpace(),c=(o=this.parseIdentifierIfPossible()).value,u=o.location}return 0===a.length?this.error("select"===t?s.EXPECT_SELECT_ARGUMENT_SELECTOR:s.EXPECT_PLURAL_ARGUMENT_SELECTOR,j(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!i?this.error(s.MISSING_OTHER_CLAUSE,j(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var s=j(r,this.clonePosition());return o?G(i*=n)?{val:i,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Q(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Z(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&ie(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!==n&&void 0!==n?n:null},e}();function oe(e){return e>=97&&e<=122||e>=65&&e<=90}function ie(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function ae(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function se(e){e.forEach((function(e){if(delete e.location,v(e)||g(e))for(var t in e.options)delete e.options[t].location,se(e.options[t].value);else f(e)&&b(e.style)||(h(e)||p(e))&&A(e.style)?delete e.style.location:y(e)&&se(e.children)}))}function le(e,t){void 0===t&&(t={}),t=i({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new re(e,t).parse();if(n.err){var r=SyntaxError(s[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null===t||void 0===t?void 0:t.captureLocation)||se(n.val),n.val}function ce(e,t){var n=t&&t.cache?t.cache:me,r=t&&t.serializer?t.serializer:pe;return(t&&t.strategy?t.strategy:he)(e,{cache:n,serializer:r})}function ue(e,t,n,r){var o,i=null==(o=r)||"number"===typeof o||"boolean"===typeof o?r:n(r),a=t.get(i);return"undefined"===typeof a&&(a=e.call(this,r),t.set(i,a)),a}function de(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return"undefined"===typeof i&&(i=e.apply(this,r),t.set(o,i)),i}function fe(e,t,n,r,o){return n.bind(t,e,r,o)}function he(e,t){return fe(e,this,1===e.length?ue:de,t.cache.create(),t.serializer)}var pe=function(){return JSON.stringify(arguments)};function ve(){this.cache=Object.create(null)}ve.prototype.get=function(e){return this.cache[e]},ve.prototype.set=function(e,t){this.cache[e]=t};var ge,me={create:function(){return new ve}},ye={variadic:function(e,t){return fe(e,this,de,t.cache.create(),t.serializer)},monadic:function(e,t){return fe(e,this,ue,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(ge||(ge={}));var be,Ae=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return o(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),we=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),ge.INVALID_VALUE,o)||this}return o(t,e),t}(Ae),_e=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),ge.INVALID_VALUE,r)||this}return o(t,e),t}(Ae),Ce=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),ge.MISSING_VALUE,n)||this}return o(t,e),t}(Ae);function Se(e){return"function"===typeof e}function ke(e,t,n,r,o,i,a){if(1===e.length&&u(e[0]))return[{type:be.literal,value:e[0].value}];for(var s=[],l=0,c=e;l<c.length;l++){var w=c[l];if(u(w))s.push({type:be.literal,value:w.value});else if(m(w))"number"===typeof i&&s.push({type:be.literal,value:n.getNumberFormat(t).format(i)});else{var _=w.value;if(!o||!(_ in o))throw new Ce(_,a);var C=o[_];if(d(w))C&&"string"!==typeof C&&"number"!==typeof C||(C="string"===typeof C||"number"===typeof C?String(C):""),s.push({type:"string"===typeof C?be.literal:be.object,value:C});else if(h(w)){var S="string"===typeof w.style?r.date[w.style]:A(w.style)?w.style.parsedOptions:void 0;s.push({type:be.literal,value:n.getDateTimeFormat(t,S).format(C)})}else if(p(w)){S="string"===typeof w.style?r.time[w.style]:A(w.style)?w.style.parsedOptions:r.time.medium;s.push({type:be.literal,value:n.getDateTimeFormat(t,S).format(C)})}else if(f(w)){(S="string"===typeof w.style?r.number[w.style]:b(w.style)?w.style.parsedOptions:void 0)&&S.scale&&(C*=S.scale||1),s.push({type:be.literal,value:n.getNumberFormat(t,S).format(C)})}else{if(y(w)){var k=w.children,T=w.value,x=o[T];if(!Se(x))throw new _e(T,"function",a);var P=x(ke(k,t,n,r,o,i).map((function(e){return e.value})));Array.isArray(P)||(P=[P]),s.push.apply(s,P.map((function(e){return{type:"string"===typeof e?be.literal:be.object,value:e}})))}if(v(w)){if(!(E=w.options[C]||w.options.other))throw new we(w.value,C,Object.keys(w.options),a);s.push.apply(s,ke(E.value,t,n,r,o))}else if(g(w)){var E;if(!(E=w.options["=".concat(C)])){if(!Intl.PluralRules)throw new Ae('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',ge.MISSING_INTL_API,a);var L=n.getPluralRules(t,{type:w.pluralType}).select(C-(w.offset||0));E=w.options[L]||w.options.other}if(!E)throw new we(w.value,C,Object.keys(w.options),a);s.push.apply(s,ke(E.value,t,n,r,o,C-(w.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===be.literal&&t.type===be.literal?n.value+=t.value:e.push(t),e}),[])}(s)}function Te(e,t){return t?Object.keys(e).reduce((function(n,r){var o,a;return n[r]=(o=e[r],(a=t[r])?i(i(i({},o||{}),a||{}),Object.keys(o).reduce((function(e,t){return e[t]=i(i({},o[t]),a[t]||{}),e}),{})):o),n}),i({},e)):e}function xe(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(be||(be={}));var Pe,Ee=function(){function e(t,n,r,o){var i,s=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=s.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===be.literal&&"string"===typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return ke(s.ast,s.locales,s.formatters,s.formats,e,void 0,s.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=s.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"===typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null===o||void 0===o?void 0:o.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Te(e.formats,r),this.formatters=o&&o.formatters||(void 0===(i=this.formatterCache)&&(i={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:ce((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,a([void 0],t,!1)))}),{cache:xe(i.number),strategy:ye.variadic}),getDateTimeFormat:ce((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,a([void 0],t,!1)))}),{cache:xe(i.dateTime),strategy:ye.variadic}),getPluralRules:ce((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,a([void 0],t,!1)))}),{cache:xe(i.pluralRules),strategy:ye.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if("undefined"!==typeof Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"===typeof e?e:e[0])}},e.__parse=le,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(Pe||(Pe={}));var Le=function(e){function t(n,r,o){var i=this,a=o?o instanceof Error?o:new Error(String(o)):void 0;return(i=e.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r,"\n").concat(a?"\n".concat(a.message,"\n").concat(a.stack):""))||this).code=n,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return o(t,e),t}(Error),Ie=function(e){function t(t,n){return e.call(this,Pe.UNSUPPORTED_FORMATTER,t,n)||this}return o(t,e),t}(Le),Oe=function(e){function t(t,n){return e.call(this,Pe.INVALID_CONFIG,t,n)||this}return o(t,e),t}(Le),Re=function(e){function t(t,n){return e.call(this,Pe.MISSING_DATA,t,n)||this}return o(t,e),t}(Le),Me=function(e){function t(t,n,r){return e.call(this,Pe.FORMAT_ERROR,"".concat(t,"\nLocale: ").concat(n,"\n"),r)||this}return o(t,e),t}(Le),Ne=function(e){function t(t,n,r,o){var i=e.call(this,"".concat(t,"\nMessageID: ").concat(null===r||void 0===r?void 0:r.id,"\nDefault Message: ").concat(null===r||void 0===r?void 0:r.defaultMessage,"\nDescription: ").concat(null===r||void 0===r?void 0:r.description,"\n"),n,o)||this;return i.descriptor=r,i}return o(t,e),t}(Me),De=function(e){function t(t,n){var r=e.call(this,Pe.MISSING_TRANSLATION,'Missing message: "'.concat(t.id,'" for locale "').concat(n,'", using ').concat(t.defaultMessage?"default message (".concat("string"===typeof t.defaultMessage?t.defaultMessage:t.defaultMessage.map((function(e){var t;return null!==(t=e.value)&&void 0!==t?t:JSON.stringify(e)})).join(),")"):"id"," as fallback."))||this;return r.descriptor=t,r}return o(t,e),t}(Le);function Be(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}var Fe={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(e){0},onWarn:function(e){0}};function je(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Ve(e,t,n,r){var o,i=e&&e[t];if(i&&(o=i[n]),o)return o;r(new Ie("No ".concat(t," format named: ").concat(n)))}var He=["style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function ze(e,t,n){var r=e.locale,o=e.formats,i=e.onError;void 0===n&&(n={});var a=n.format,s=a&&Ve(o,"number",a,i)||{};return t(r,Be(n,He,s))}function Ue(e,t,n,r){void 0===r&&(r={});try{return ze(e,t,r).format(n)}catch(o){e.onError(new Le(Pe.FORMAT_ERROR,"Error formatting number.",o))}return String(n)}function We(e,t,n,r){void 0===r&&(r={});try{return ze(e,t,r).formatToParts(n)}catch(o){e.onError(new Le(Pe.FORMAT_ERROR,"Error formatting number.",o))}return[]}var Ke=["numeric","style"];function Ge(e,t,n,r,o){void 0===o&&(o={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new Ae('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',ge.MISSING_INTL_API));try{return function(e,t,n){var r=e.locale,o=e.formats,i=e.onError;void 0===n&&(n={});var a=n.format,s=!!a&&Ve(o,"relative",a,i)||{};return t(r,Be(n,Ke,s))}(e,t,o).format(n,r)}catch(i){e.onError(new Me("Error formatting relative time.",e.locale,i))}return String(n)}var qe=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function Ye(e,t,n,r){var o=e.locale,a=e.formats,s=e.onError,l=e.timeZone;void 0===r&&(r={});var c=r.format,u=i(i({},l&&{timeZone:l}),c&&Ve(a,t,c,s)),d=Be(r,qe,u);return"time"!==t||d.hour||d.minute||d.second||d.timeStyle||d.dateStyle||(d=i(i({},d),{hour:"numeric",minute:"numeric"})),n(o,d)}function Ze(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=void 0===i?{}:i,s="string"===typeof o?new Date(o||0):o;try{return Ye(e,"date",t,a).format(s)}catch(l){e.onError(new Le(Pe.FORMAT_ERROR,"Error formatting date.",l))}return String(s)}function Xe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=void 0===i?{}:i,s="string"===typeof o?new Date(o||0):o;try{return Ye(e,"time",t,a).format(s)}catch(l){e.onError(new Le(Pe.FORMAT_ERROR,"Error formatting time.",l))}return String(s)}function Je(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=n[2],s=void 0===a?{}:a,l=e.timeZone,c=e.locale,u=e.onError,d=Be(s,qe,l?{timeZone:l}:{});try{return t(c,d).formatRange(o,i)}catch(f){u(new Le(Pe.FORMAT_ERROR,"Error formatting date time range.",f))}return String(o)}function Qe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=void 0===i?{}:i,s="string"===typeof o?new Date(o||0):o;try{return Ye(e,"date",t,a).formatToParts(s)}catch(l){e.onError(new Le(Pe.FORMAT_ERROR,"Error formatting date.",l))}return[]}function $e(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=void 0===i?{}:i,s="string"===typeof o?new Date(o||0):o;try{return Ye(e,"time",t,a).formatToParts(s)}catch(l){e.onError(new Le(Pe.FORMAT_ERROR,"Error formatting time.",l))}return[]}var et=["type"];function tt(e,t,n,r){var o=e.locale,i=e.onError;void 0===r&&(r={}),Intl.PluralRules||i(new Ae('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',ge.MISSING_INTL_API));var a=Be(r,et);try{return t(o,a).select(n)}catch(s){i(new Me("Error formatting plural.",o,s))}return"other"}function nt(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=i({timeZone:t},e[r]),n}),{})}function rt(e,t){return Object.keys(i(i({},e),t)).reduce((function(n,r){return n[r]=i(i({},e[r]||{}),t[r]||{}),n}),{})}function ot(e,t){if(!t)return e;var n=Ee.formats;return i(i(i({},n),e),{date:rt(nt(n.date,t),nt(e.date||{},t)),time:rt(nt(n.time,t),nt(e.time||{},t))})}var it=function(e,t,n,r,o){var a=e.locale,s=e.formats,c=e.messages,u=e.defaultLocale,d=e.defaultFormats,f=e.fallbackOnEmptyString,h=e.onError,p=e.timeZone,v=e.defaultRichTextElements;void 0===n&&(n={id:""});var g=n.id,m=n.defaultMessage;!function(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}(!!g,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var y=String(g),b=c&&Object.prototype.hasOwnProperty.call(c,y)&&c[y];if(Array.isArray(b)&&1===b.length&&b[0].type===l.literal)return b[0].value;if(!r&&b&&"string"===typeof b&&!v)return b.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=i(i({},v),r||{}),s=ot(s,p),d=ot(d,p),!b){if(!1===f&&""===b)return b;if((!m||a&&a.toLowerCase()!==u.toLowerCase())&&h(new De(n,a)),m)try{return t.getMessageFormat(m,u,d,o).format(r)}catch(A){return h(new Ne('Error formatting default message for: "'.concat(y,'", rendering default message verbatim'),a,n,A)),"string"===typeof m?m:y}return y}try{return t.getMessageFormat(b,a,s,i({formatters:t},o||{})).format(r)}catch(A){h(new Ne('Error formatting message: "'.concat(y,'", using ').concat(m?"default message":"id"," as fallback."),a,n,A))}if(m)try{return t.getMessageFormat(m,u,d,o).format(r)}catch(A){h(new Ne('Error formatting the default message for: "'.concat(y,'", rendering message verbatim'),a,n,A))}return"string"===typeof b?b:"string"===typeof m?m:y},at=["type","style"],st=Date.now();function lt(e,t,n,r){void 0===r&&(r={});var o=ct(e,t,n,r).reduce((function(e,t){var n=t.value;return"string"!==typeof n?e.push(n):"string"===typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]);return 1===o.length?o[0]:o}function ct(e,t,n,r){var o=e.locale,a=e.onError;void 0===r&&(r={}),Intl.ListFormat||a(new Ae('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',ge.MISSING_INTL_API));var s=Be(r,at);try{var l={},c=n.map((function(e,t){if("object"===typeof e){var n=function(e){return"".concat(st,"_").concat(e,"_").concat(st)}(t);return l[n]=e,n}return String(e)}));return t(o,s).formatToParts(c).map((function(e){return"literal"===e.type?e:i(i({},e),{value:l[e.value]||e.value})}))}catch(u){a(new Le(Pe.FORMAT_ERROR,"Error formatting list.",u))}return n}var ut=["style","type","fallback"];function dt(e,t,n,r){var o=e.locale,i=e.onError;Intl.DisplayNames||i(new Ae('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',ge.MISSING_INTL_API));var a=Be(r,ut);try{return t(o,a).of(n)}catch(s){i(new Le(Pe.FORMAT_ERROR,"Error formatting display name.",s))}}function ft(e){var t;e.onWarn&&e.defaultRichTextElements&&"string"===typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&e.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}function ht(e,t){var n=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,o=ce((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,a([void 0],t,!1)))}),{cache:je(e.dateTime),strategy:ye.variadic}),s=ce((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,a([void 0],t,!1)))}),{cache:je(e.number),strategy:ye.variadic}),l=ce((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,a([void 0],t,!1)))}),{cache:je(e.pluralRules),strategy:ye.variadic});return{getDateTimeFormat:o,getNumberFormat:s,getMessageFormat:ce((function(e,t,n,r){return new Ee(e,t,n,i({formatters:{getNumberFormat:s,getDateTimeFormat:o,getPluralRules:l}},r||{}))}),{cache:je(e.message),strategy:ye.variadic}),getRelativeTimeFormat:ce((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,a([void 0],e,!1)))}),{cache:je(e.relativeTime),strategy:ye.variadic}),getPluralRules:l,getListFormat:ce((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,a([void 0],e,!1)))}),{cache:je(e.list),strategy:ye.variadic}),getDisplayNames:ce((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(r.bind.apply(r,a([void 0],e,!1)))}),{cache:je(e.displayNames),strategy:ye.variadic})}}(t),r=i(i({},Fe),e),o=r.locale,s=r.defaultLocale,l=r.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&l?l(new Re('Missing locale data for locale: "'.concat(o,'" in Intl.NumberFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&l&&l(new Re('Missing locale data for locale: "'.concat(o,'" in Intl.DateTimeFormat. Using default locale: "').concat(s,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(l&&l(new Oe('"locale" was not configured, using "'.concat(s,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),ft(r),i(i({},r),{formatters:n,formatNumber:Ue.bind(null,r,n.getNumberFormat),formatNumberToParts:We.bind(null,r,n.getNumberFormat),formatRelativeTime:Ge.bind(null,r,n.getRelativeTimeFormat),formatDate:Ze.bind(null,r,n.getDateTimeFormat),formatDateToParts:Qe.bind(null,r,n.getDateTimeFormat),formatTime:Xe.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:Je.bind(null,r,n.getDateTimeFormat),formatTimeToParts:$e.bind(null,r,n.getDateTimeFormat),formatPlural:tt.bind(null,r,n.getPluralRules),formatMessage:it.bind(null,r,n),$t:it.bind(null,r,n),formatList:lt.bind(null,r,n.getListFormat),formatListToParts:ct.bind(null,r,n.getListFormat),formatDisplayName:dt.bind(null,r,n.getDisplayNames)})}var pt=n(3357),vt=n(519),gt=n(1742),mt=n(9184),yt=null,bt=(0,pt.W)();function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(null===vt.A||void 0===vt.A?void 0:vt.A.locale)||"";return e?e.replace(/_/g,"-"):"en-US"}function wt(e){var t=(null===e||void 0===e?void 0:e.project)||mt.ol;return"".concat(At(null===e||void 0===e?void 0:e.locale),"@").concat(t)}function _t(){var e;return!(!(0,gt.f)()||null===bt||void 0===bt||null===(e=bt.ssrUtils)||void 0===e||!e.setCache)}function Ct(){var e;return!(!(0,gt.f)()||null===bt||void 0===bt||null===(e=bt.ssrUtils)||void 0===e||!e.globalStore)}function St(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SSRProviderModule",i=arguments.length>1?arguments[1]:void 0;return i?null===bt||void 0===bt||null===(n=bt.ssrUtils)||void 0===n||null===(r=n.globalStore)||void 0===r?void 0:r.set(o,i):null===bt||void 0===bt||null===(e=bt.ssrUtils)||void 0===e||null===(t=e.globalStore)||void 0===t?void 0:t.get(o)}function kt(e,t){var n,r,o,i;return t?null===bt||void 0===bt||null===(o=bt.ssrUtils)||void 0===o||null===(i=o.setCache)||void 0===i?void 0:i.call(o,"blade@localeStore@".concat(e),t):null===bt||void 0===bt||null===(n=bt.ssrUtils)||void 0===n||null===(r=n.getCache)||void 0===r?void 0:r.call(n,"blade@localeStore@".concat(e))}var Tt={};function xt(e,t){if(null===t||void 0===t||!t.useSington||!Tt[wt(t)]){var n={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},r=ht({locale:At(null===t||void 0===t?void 0:t.locale),messages:e,onError:function(e){yt=e}},n);_t()&&null!==t&&void 0!==t&&t.from?kt(wt(t),r):Tt[wt(t)]=r}}function Pt(){yt=null}function Et(){return yt}},3357:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,W:()=>i});var r=n(9379),o={};function i(){var e;if("undefined"!==typeof globalThis)e=globalThis;else if("undefined"!==typeof window)e=window;else{if("undefined"===typeof n.g)throw new Error("unable to locate global object");e=n.g}return e}var a=function(e){var t=i();return new Proxy({_global_subscribe_list:{},_global_message_list:{},locale:"en_US"},{get:function(n,i,a){if("toJSON"===i)return function(){var e=t,n=e.okGlobal?(0,r.A)({},e.okGlobal):{},i=e._okGlobal?(0,r.A)({},e._okGlobal):{};return(0,r.A)((0,r.A)((0,r.A)({},n),i),o)};if("toString"===i)return function(){return JSON.stringify(a.toJSON())};var s=[o,t._okGlobal,t.okGlobal];e&&(s=e(s));var l=s.find((function(e){return e&&Object.prototype.hasOwnProperty.call(e,i)}));return null===l||void 0===l?void 0:l[i]},set:function(e,t,n){return o[t]=n,!0}})}},519:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(5458),o=n(3357),i=n(5761),a=n(1742),s=n(6059).hp,l="ok_site_info",c=(0,o.W)(),u=(0,a.f)(),d=function(e){return e.split("").reverse().join("")},f=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=i.A.get(l);if(!t)return e?{}:"";try{return e?JSON.parse(function(e){var t=d(e);return u?s.from(t,"base64").toString("utf-8"):window.atob(t)}(t)):t}catch(n){}return{}},h=function(e){var t=f();Object.keys(e).forEach((function(n){t[n]=e[n]}));var n,r,o,a=(n=JSON.stringify(t),d(u?s.from(n).toString("base64"):window.btoa(n)));u?null===c||void 0===c||null===(r=c.ssrUtils)||void 0===r||null===(o=r.cookies)||void 0===o||o.set(l,a):i.A.set(l,a)};const p=(0,o.E)((function(e){return[].concat((0,r.A)(e||[]),[{getSiteInfo:f,setSiteInfo:h}])}))},1656:(e,t,n)=>{"use strict";n.d(t,{A:()=>U});var r=n(9379),o=n(1742),i=n(3029),a=n(2901),s=n(388),l=n(2176),c=n(3954),u=n(5501),d=n(4467),f=n(3357),h="_expire",p=(0,f.W)();const v=function(){function e(t,n){(0,i.A)(this,e),this.storageKey=t,this.projectKey=n}return(0,a.A)(e,[{key:"getProjectData",value:function(t){if((0,o.f)())return{};var n=p[this.storageKey].getItem(this.projectKey),r={};try{r=JSON.parse(n||"{}")}catch(s){r={}}var i=(0,d.A)({},h,{}),a=r[h]||{};return Object.keys(r).forEach((function(t){t!==h&&(void 0===a[t]||e.isCorrectExpire(a[t]))&&(i[t]=r[t],i[h]&&(i[h][t]=a[t]))})),t&&delete i[h],i}},{key:"get",value:function(e){if(!(null===e||void 0===e||e instanceof Function||e instanceof Array||e instanceof Object))return this.getProjectData()[e]}},{key:"set",value:function(t,n,r){if((0,o.f)())return!1;if(null===t||void 0===t||t instanceof Function||t instanceof Array)return!1;if(t===h)return!1;var i=this.getProjectData();if(!(t instanceof Object)){i[t]=n,"undefined"!==typeof r&&e.isCorrectExpireSeconds(r)?(i[h]||(i[h]={}),i[h][t]=e.getExpire(r)):i[h]&&delete i[h][t];try{return p[this.storageKey].setItem(this.projectKey,JSON.stringify(i)),!0}catch(a){return!1}}return this.setAll(t,n)}},{key:"setAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,o.f)())return!1;var r=this.getProjectData();Object.entries(t).forEach((function(t){var o=t[0];if(o!==h){var i=n[o];r[o]=t[1],e.isCorrectExpireSeconds(i)?(r[h]||(r[h]={}),r[h][o]=e.getExpire(i)):r[h]&&delete r[h][o]}}));try{return p[this.storageKey].setItem(this.projectKey,JSON.stringify(r)),!0}catch(i){return!1}}},{key:"remove",value:function(e){if((0,o.f)())return!1;if(null===e||void 0===e||e instanceof Function)return!1;if(e.constructor&&e.constructor===Object)return!1;var t=[];e instanceof Array?t=e:t.push(e);var n=this.getProjectData();return t.forEach((function(e){delete n[e],n[h]&&delete n[h][e]})),p[this.storageKey].setItem(this.projectKey,JSON.stringify(n)),!0}},{key:"getAll",value:function(){return this.getProjectData(!0)}},{key:"cleanAll",value:function(){(0,o.f)()||p[this.storageKey].setItem(this.projectKey,JSON.stringify({}))}},{key:"cleanInvalidData",value:function(){(0,o.f)()||p[this.storageKey].setItem(this.projectKey,JSON.stringify(this.getProjectData()))}}],[{key:"isCorrectExpire",value:function(e){return"undefined"!==typeof e&&Number.isInteger(Number(e))&&Number.isSafeInteger(e)&&e>(new Date).getTime()}},{key:"isCorrectExpireSeconds",value:function(e){return"undefined"!==typeof e&&Number.isInteger(e)&&Number.isSafeInteger(e)&&e>0}},{key:"getExpire",value:function(e){return(new Date).getTime()+1e3*e}}])}();var g="".concat("ok_","global"),m="localStorage";const y=function(e){function t(e){var n,r,o,a;return(0,i.A)(this,t),r=this,o=t,a=[m,"ok_"+e],o=(0,c.A)(o),(n=(0,s.A)(r,(0,l.A)()?Reflect.construct(o,a||[],(0,c.A)(r).constructor):o.apply(r,a))).global=new v(m,g),n.g=new v(m,g),n}return(0,u.A)(t,e),(0,a.A)(t)}(v);var b="sessionStorage",A="".concat("ok_","global");const w=function(e){function t(e){var n,r,o,a;return(0,i.A)(this,t),r=this,o=t,a=[b,"ok_"+e],o=(0,c.A)(o),(n=(0,s.A)(r,(0,l.A)()?Reflect.construct(o,a||[],(0,c.A)(r).constructor):o.apply(r,a))).global=new v(b,A),n.g=new v(b,A),n}return(0,u.A)(t,e),(0,a.A)(t)}(v);const _=new(function(){return(0,a.A)((function e(){(0,i.A)(this,e),this.local={},this.session={}}),[{key:"localProject",value:function(e){return this.local[e]||(this.local[e]=new y(e)),this.local[e]}},{key:"sessionProject",value:function(e){return this.session[e]||(this.session[e]=new w(e)),this.session[e]}}])}());var C="ok_",S="default",k="global",T="localStorage",x="sessionStorage",P=C+S,E=C+k;function L(e){if(e===S)throw new Error("'default' is not allowed as a project name.");if(e===k)throw new Error("'global' is not allowed as a project name. Please use 'storage.g' or 'storage.session.g' instead.");return e}function I(e,t,n){var r=new v(e,t);return n?r.getAll():r.getProjectData()}function O(e,t){(0,o.f)()||new v(e,t).cleanInvalidData()}var R=function(e,t,n){return new v(e,t).get(n)},M=function(e,t,n,r,o){return new v(e,t).set(n,r,o)},N=function(e,t,n){return new v(e,t).remove(n)},D=function(e,t){return new v(e,t).getAll()},B=function(e,t){return new v(e,t).cleanAll()};function F(e){var t=e.isLocal,n=e.isGlobal;function r(){return t?T:x}function o(){return n?E:P}return{set:function(e,t,n){return M(r(),o(),e,t,n)},get:function(e){return R(r(),o(),e)},remove:function(e){return N(r(),o(),e)},getAll:function(){return D(r(),o())},cleanAll:function(){return B(r(),o())}}}var j=function(){var e=(0,r.A)({},F({isLocal:!0,isGlobal:!0}));return(0,r.A)((0,r.A)({},F({isLocal:!0,isGlobal:!1})),{},{getProjectStorage:function(e){return I(T,C+e,!0)},global:e,g:e})}();function V(e){var t=L(e.project);return O(x,P=C+t),O(x,E),t!==S&&O(x,C+S),_.sessionProject(t)}function H(e){var t=L(e);return _.sessionProject(t)}var z=function(){var e=(0,r.A)({},F({isLocal:!1,isGlobal:!0}));return(0,r.A)((0,r.A)({},F({isLocal:!1,isGlobal:!1})),{},{getProjectStorage:function(e){return I(x,C+e,!0)},global:e,g:e,init:V,getInstance:H})}();const U=(0,r.A)((0,r.A)({getInstance:function(e){var t=L(e);return _.localProject(t)},init:function(e){var t=L(e.project);return O(T,P=C+t),O(T,E),t!==S&&O(T,C+S),_.localProject(t)},session:z},j),{},{local:j})},1746:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9379);const o=function(e,t){return e.then((function(e){return[null,e]})).catch((function(e){return t?[(0,r.A)((0,r.A)({},e),t),void 0]:[e,void 0]}))}},1727:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1147);const o=function(e,t,n){var o,i,a,s,l,c=0,u=0,d=!1,f=!1,h=!0,p=!t&&0!==t&&"function"===typeof r.zr.requestAnimationFrame;if("function"!==typeof e)throw new TypeError("Expected a function");var v=+(null!==t&&void 0!==t?t:0);function g(t){var n=o,r=i;return o=void 0,i=void 0,u=t,a=e.apply(r,n)}function m(e){var t=e-l;return void 0===l||t>=v||t<0||f&&e-u>=c}function y(e){return s=void 0,h&&o?g(e):(o=void 0,i=void 0,a)}function b(e,t){return p?(r.zr.cancelAnimationFrame(s),r.zr.requestAnimationFrame(e)):setTimeout(e,t)}function A(){var e=Date.now();if(m(e))return y(e);s=b(A,function(e){var t=e-u,n=v-(e-l);return f?Math.min(n,c-t):n}(e))}function w(){for(var e=Date.now(),t=m(e),n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];if(o=r,i=this,l=e,t){if(void 0===s)return function(e){return u=e,s=b(A,v),d?g(e):a}(l);if(f)return s=b(A,v),g(l)}return void 0===s&&(s=b(A,v)),a}return(0,r.Gv)(n)&&(d=Boolean(null===n||void 0===n?void 0:n.leading),(f=Boolean(void 0!==(null===n||void 0===n?void 0:n.maxWait)))&&void 0!==(null===n||void 0===n?void 0:n.maxWait)&&(c=Math.max(+n.maxWait,v)),n&&"trailing"in n&&(h=Boolean(n.trailing))),w.cancel=function(){var e;void 0!==s&&(e=s,p?r.zr.cancelAnimationFrame(e):clearTimeout(e)),u=0,o=void 0,l=0,i=void 0,s=void 0},w.flush=function(){return void 0===s?a:y(Date.now())},w.pending=function(){return void 0!==s},w}},7462:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function e(t){try{if("object"!==typeof t||null===t)return t;if(t.constructor===Date)return new Date(t.getTime());if(Array.isArray(t))return t.map((function(t){return e(t)}));var n={};return Object.keys(t).forEach((function(r){n[r]=e(t[r])})),n}catch(r){throw new Error("Failed to clone object: ".concat(r))}}},1742:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r=function(){return Boolean("undefined"===typeof window||void 0)}},7344:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var r=n(9379),o=n(3357),i=n(1742),a=(0,o.E)(),s=(0,i.f)(),l=(0,o.W)(),c={debug:function(){},info:function(){},warn:function(){},error:function(){},timeStart:function(){},timeEnd:function(){},init:function(){}},u=function(e){var t,n=e.message,o=e.level,i=e.data,a={};a=i instanceof Error?{error:i}:(0,r.A)({message:n},null!==i&&void 0!==i?i:{});var s=Object.keys(a).find((function(e){return a[e]instanceof Error})),c=s?a[s]:void 0;if(c){var u;s&&delete a[s];var d=new Error;return d.message="".concat(n," - ").concat(c.message),d.name=c.name,d.stack=c.stack,void(null===(u=l.Sentry)||void 0===u||u.captureException(d,(0,r.A)((0,r.A)({},a),{},{message:n,contexts:{report:{info:JSON.stringify(a)}}})))}null===(t=l.Sentry)||void 0===t||t.captureEvent((0,r.A)((0,r.A)({},a),{},{message:n,level:o,contexts:{report:{info:JSON.stringify(a)}}}))};c.init=s?function(){if(l.ssrUtils&&l.ssrUtils.logger){var e=l.ssrUtils.logger;c.debug=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(t=e.debug)||void 0===t?void 0:t.call.apply(t,[e].concat(r))},c.info=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(t=e.info)||void 0===t?void 0:t.call.apply(t,[e].concat(r))},c.warn=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(t=e.warn)||void 0===t?void 0:t.call.apply(t,[e].concat(r))},c.error=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(t=e.error)||void 0===t?void 0:t.call.apply(t,[e].concat(r))},c.timeStart=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(t=e.timeStart)||void 0===t?void 0:t.call.apply(t,[e].concat(r))},c.timeEnd=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(t=e.timeEnd)||void 0===t?void 0:t.call.apply(t,[e].concat(r))}}}:function(){var e,t,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(null===l||void 0===l||null===(e=l.__INIT_STATE__)||void 0===e?void 0:e.appContext)||{},s=i.dsn,d=i.version,f=i.traceId,h=i.injectableOptions,p=void 0===h?{}:h,v=null===p||void 0===p?void 0:p.reportOptions,g={};"object"!==typeof v||Array.isArray(v)||(g=v||{}),(s||null!==o&&void 0!==o&&o.dsn||g.dsn)&&(null===(t=l.Sentry)||void 0===t||t.init((0,r.A)((0,r.A)({dsn:s,release:d},o),g),{debug:["dev","daily"].includes(a.envSign)}),null===(n=l.Sentry)||void 0===n||n.setTag("traceId",f),c.debug=function(e,t){return u({message:e,level:"debug",data:t})},c.info=function(e,t){return u({message:e,level:"info",data:t})},c.warn=function(e,t){return u({message:e,level:"warn",data:t})},c.error=function(e,t){return u({message:e,level:"error",data:t})},c.timeStart=console.time,c.timeEnd=console.timeEnd)},c.init()},2195:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=(0,n(3357).W)(),o=null===r||void 0===r?void 0:r.crypto,i={mathRandom:function(){return Math.random()},cryptoRandom:function(e){var t=e||{},n=t.bytesLength,r=void 0===n?1:n,i=t.UnitArray,a=void 0===i?Uint32Array:i,s=new a(r);if(o)return o.getRandomValues(s);for(var l=Math.pow(2,8*a.BYTES_PER_ELEMENT)-1,c=0;c<r;c++)s[c]=Math.floor(Math.random()*l);return s},get:function(e){var t=(e||{}).useMathRandom;if(void 0!==t&&t)return i.mathRandom();if(o){var n=new Uint32Array(1);return o.getRandomValues(n),n[0]/Math.pow(2,32)}return i.mathRandom()}}},7464:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1727),o=n(1147);const i=function(e,t,n){var i=!0,a=!0;if("function"!==typeof e)throw new TypeError("Expected a function");if((0,o.Gv)(n)){var s=n;i="leading"in s?!!s.leading:i,a="trailing"in s?!!s.trailing:a}return"boolean"===typeof n&&(i=n),(0,r.A)(e,t,{leading:i,trailing:a,maxWait:t})}},1147:(e,t,n)=>{"use strict";n.d(t,{Gv:()=>d,V4:()=>f,zr:()=>u});var r=n(5473),o=n(3357),i=n(519),a=(0,o.W)(),s="object"===typeof n.g&&null!==n.g&&n.g.Object===Object&&n.g,l="object"===typeof a&&null!==a&&a.Object===Object&&a,c="object"===typeof self&&null!==self&&self.Object===Object&&self,u=l||s||c||Function("return this")();function d(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}function f(e,t,n){var o,s,l=i.A||{},c=l.locale,u=l.ipRegion,d=l.envSign,f=l.langPath,h=l.userAgent,p=l.site,v=a;(0,r.JC)(e,{project:null===(o=v.__INIT_STATE__)||void 0===o||null===(s=o.appContext)||void 0===s?void 0:s.project,locale:c,ipRegion:u,envSign:d,langPath:f,userAgent:h,site:p,message:n},t)}},9991:(e,t,n)=>{"use strict";n.d(t,{Nb:()=>re,YW:()=>ne});var r=n(9379),o=["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"],i=n(4467),a=n(1206),s=n.n(a);const l={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}};var c=s().FilterCSS,u=s().getDefaultWhiteList;function d(){return(0,i.A)((0,i.A)({a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"],picture:["class"]},"figure",["class"]),"button",["type","class"])}var f=new c;function h(e){return e.replace(p,"&lt;").replace(v,"&gt;")}var p=/</g,v=/>/g,g=/"/g,m=/&quot;/g,y=/&#([a-zA-Z0-9]*);?/gim,b=/&colon;?/gim,A=/&newline;?/gim,w=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,_=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,C=/u\s*r\s*l\s*\(.*/gi;function S(e){return e.replace(g,"&quot;")}function k(e){return e.replace(m,'"')}function T(e){return e.replace(y,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function x(e){return e.replace(b,":").replace(A," ")}function P(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return l.trim(t)}function E(e){return e=P(e=x(e=T(e=k(e))))}function L(e){return e=h(e=S(e))}const I={whiteList:d(),getDefaultWhiteList:d,onTag:function(e,t,n){},onIgnoreTag:function(e,t,n){},onTagAttr:function(e,t,n){},onIgnoreTagAttr:function(e,t,n){},safeAttrValue:function(e,t,n,r){if(n=E(n),"href"===t||"src"===t){if("#"===(n=l.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(w.lastIndex=0,w.test(n))return""}else if("style"===t){if(_.lastIndex=0,_.test(n))return"";if(C.lastIndex=0,C.test(n)&&(w.lastIndex=0,w.test(n)))return"";!1!==r&&(n=(r=r||f).process(n))}return n=L(n)},escapeHtml:h,escapeQuote:S,unescapeQuote:k,escapeHtmlEntities:T,escapeDangerHtml5Entities:x,clearNonPrintableCharacter:P,friendlyAttrValue:E,escapeAttrValue:L,onIgnoreTagStripAll:function(){return""},StripTagBody:function(e,t){"function"!==typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(i,a,s){if(function(t){return!!n||-1!==l.indexOf(e,t)}(i)){if(s.isClosing){var c="[/removed]",u=s.position+10;return r.push([!1!==o?o:s.position,u]),o=!1,c}return o||(o=s.position),"[removed]"}return t(i,a,s)},remove:function(e){var t="",n=0;return l.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},stripCommentTag:function(e){for(var t="",n=0;n<e.length;){var r=e.indexOf("\x3c!--",n);if(-1===r){t+=e.slice(n);break}t+=e.slice(n,r);var o=e.indexOf("--\x3e",r);if(-1===o)break;n=o+3}return t},stripBlankChar:function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},attributeWrapSign:'"',cssFilter:f,getDefaultCSSWhiteList:u};function O(e){var t,n=l.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=l.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function R(e){return"</"===e.slice(0,2)}var M=/[^a-zA-Z0-9\\_:.-]/gim;function N(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function D(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function B(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function F(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}const j=function(e,t,n){var r="",o=0,i=!1,a=!1,s=0,l=e.length,c="",u="";e:for(s=0;s<l;s++){var d=e.charAt(s);if(!1===i){if("<"===d){i=s;continue}}else if(!1===a){if("<"===d){r+=n(e.slice(o,s)),i=s,o=s;continue}if(">"===d||s===l-1){r+=n(e.slice(o,i)),c=O(u=e.slice(i,s+1)),r+=t(i,r.length,c,u,R(u)),o=s+1,i=!1;continue}if('"'===d||"'"===d)for(var f=1,h=e.charAt(s-f);""===h.trim()||"="===h;){if("="===h){a=d;continue e}h=e.charAt(s-++f)}}else if(d===a){a=!1;continue}}return o<l&&(r+=n(e.substr(o))),r},V=function(e,t){var n=0,r=0,o=[],i=!1,a=e.length;function s(e,n){if(!((e=(e=l.trim(e)).replace(M,"").toLowerCase()).length<1)){var r=t(e,n||"");r&&o.push(r)}}for(var c=0;c<a;c++){var u,d=e.charAt(c);if(!1!==i||"="!==d)if(!1===i||c!==r)if(/\s|\n|\t/.test(d)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(u=N(e,c))){s(l.trim(e.slice(n,c))),i=!1,n=c+1;continue}c=u-1;continue}if(-1===(u=B(e,c-1))){s(i,F(l.trim(e.slice(n,c)))),i=!1,n=c+1;continue}}else;else{if(-1===(u=e.indexOf(d,c+1)))break;s(i,l.trim(e.slice(r+1,u))),i=!1,n=(c=u)+1}else i=e.slice(n,c),n=c+1,r='"'===e.charAt(n)||"'"===e.charAt(n)?n:D(e,c+1)}return n<e.length&&(!1===i?s(e.slice(n)):s(i,F(l.trim(e.slice(n))))),l.trim(o.join(" "))};var H=s().FilterCSS,z=j,U=V;function W(e){return void 0===e||null===e}function K(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=I.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=e.whiteList||e.allowList:e.whiteList=I.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":I.attributeWrapSign,e.onTag=e.onTag||I.onTag,e.onTagAttr=e.onTagAttr||I.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||I.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||I.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||I.safeAttrValue,e.escapeHtml=e.escapeHtml||I.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new H(e.css))}K.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,n=t.options,r=n.whiteList,o=n.onTag,i=n.onIgnoreTag,a=n.onTagAttr,s=n.onIgnoreTagAttr,c=n.safeAttrValue,u=n.escapeHtml,d=t.attributeWrapSign,f=t.cssFilter;n.stripBlankChar&&(e=I.stripBlankChar(e)),n.allowCommentTag||(e=I.stripCommentTag(e));var h=!1;n.stripIgnoreTagBody&&(h=I.StripTagBody(n.stripIgnoreTagBody,i),i=h.onIgnoreTag);var p=z(e,(function(e,t,n,h,p){var v={sourcePosition:e,position:t,isClosing:p,isWhite:Object.prototype.hasOwnProperty.call(r,n)},g=o(n,h,v);if(!W(g))return g;if(v.isWhite){if(v.isClosing)return"</"+n+">";var m=function(e){var t=l.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=l.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=l.trim(e.slice(0,-1))),{html:e,closing:n}}(h),y=r[n],b=U(m.html,(function(e,t){var r=-1!==l.indexOf(y,e),o=a(n,e,t,r);return W(o)?r?(t=c(n,e,t,f))?e+"="+d+t+d:e:W(o=s(n,e,t,r))?void 0:o:o}));return h="<"+n,b&&(h+=" "+b),m.closing&&(h+=" /"),h+=">"}return W(g=i(n,h,v))?u(h):g}),u);return h&&(p=h.remove(p)),p};var G={filterXSS:function(e,t){return new K(t).process(e)},FilterXSS:K,whiteList:I.whiteList,getDefaultWhiteList:I.getDefaultWhiteList,onTag:I.onTag,onIgnoreTag:I.onIgnoreTag,onTagAttr:I.onTagAttr,onIgnoreTagAttr:I.onIgnoreTagAttr,safeAttrValue:I.safeAttrValue,escapeHtml:I.escapeHtml,escapeQuote:I.escapeQuote,unescapeQuote:I.unescapeQuote,escapeHtmlEntities:I.escapeHtmlEntities,escapeDangerHtml5Entities:I.escapeDangerHtml5Entities,clearNonPrintableCharacter:I.clearNonPrintableCharacter,friendlyAttrValue:I.friendlyAttrValue,escapeAttrValue:I.escapeAttrValue,onIgnoreTagStripAll:I.onIgnoreTagStripAll,StripTagBody:I.StripTagBody,stripCommentTag:I.stripCommentTag,stripBlankChar:I.stripBlankChar,attributeWrapSign:I.attributeWrapSign,cssFilter:I.cssFilter,getDefaultCSSWhiteList:I.getDefaultCSSWhiteList,parseTag:j,parseAttr:V},q=G.getDefaultWhiteList(),Y=G.escapeAttrValue,Z={};function X(e){var t=(null===e||void 0===e?void 0:e.mode)||"escape",n=null===e||void 0===e?void 0:e.whiteList,o=(null===e||void 0===e?void 0:e.allowHrefVariables)||!1,i=q;if(n){var a=function(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}(n);i=(0,r.A)((0,r.A)({},q),a)}var s="escape"===t;return new G.FilterXSS((0,r.A)((0,r.A)({onTagAttr:function(e,t,n,r){return r&&"a"===e&&"href"===t&&(n.startsWith("okex://")||n.startsWith("okx://")||n.startsWith("okxtr://"))||r&&o&&"a"===e&&"href"===t&&n.startsWith("{")&&n.endsWith("}")?"".concat(t,'="').concat(n,'"'):void 0},onIgnoreTagAttr:function(e,t,n){if(t.startsWith("data-")){var r=s?Y(n):n.replace(/</g,"").replace(/>/g,"");return"".concat(t,'="').concat(r,'"')}},css:!1,escapeHtml:function(e){return s?G.escapeHtml(e):e.replace(/</g,"").replace(/>/g,"")}},e),{},{whiteList:i}))}Object.keys(q).forEach((function(e){q[e]=q[e].concat(o)}));const J=function(e,t){var n=JSON.stringify(t);return Z[n]||(Z[n]=X(t)),Z[n].process(e)};var Q=n(5458),$=["javascript:","view-source:","\\s*j\\s*a\\s*v\\s*a\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*:\\s*"],ee={};const te=function(e,t){var n=e,r="",o=function(e,t){var n="".concat((0,Q.A)(e).join(","),"|").concat(t.join(","));if(!ee[n]){var r=$.concat(t).filter((function(t){return!e.has(t)})),o=new RegExp(r.join("|"),"gi");ee[n]=o}return ee[n]}(new Set((null===t||void 0===t?void 0:t.keywordsWhiteList)||[]),(null===t||void 0===t?void 0:t.keywordsBlackList)||[]);do{r=n,n=n.replace(o,"")}while(n!==r);return n};function ne(e,t){var n=J(e,t);return n=te(n,t)}function re(e){return e}},6511:(e,t,n)=>{"use strict";n.d(t,{HL:()=>Ue,Ky:()=>de,N1:()=>ve,Oi:()=>_e,Re:()=>H,Sc:()=>Ie,ZN:()=>D,_B:()=>r,aX:()=>y,mn:()=>F,pi:()=>K,u8:()=>p,vD:()=>f,vk:()=>M,xU:()=>c});var r,o,i,a,s,l,c,u,d,f,h,p,v,g,m,y,b,A,w,_,C,S,k,T,x,P,E,L,I,O,R,M,N,D,B,F,j,V,H,z,U,W,K,G,q,Y,Z,X,J,Q,$,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,fe,he,pe,ve,ge,me,ye,be,Ae,we,_e,Ce,Se,ke,Te,xe,Pe,Ee,Le,Ie,Oe=n(4765),Re=n(296),Me=n(675),Ne=n(467),De=n(3029),Be=n(2901),Fe=n(9379);function je(e,t){var n=(0,Fe.A)({},e);for(var r in t)"object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?void 0!==t[r]&&(n[r]=t[r]):n[r]=je(e[r],t[r]);return n}!function(e){e.UnknownAction="UnknownAction",e.Spinner="Spinner",e.Loading="Loading",e.AlertAdd="Alert.Add",e.AlertEdit="Alert.Edit",e.AlertsClone="Alerts.Clone",e.AlertsRemove="Alerts.Remove",e.AlertsRemoveAll="Alerts.RemoveAll",e.AlertsRemoveFiltered="Alerts.RemoveFiltered",e.AlertsRemoveAllInactive="Alerts.RemoveAllInactive",e.AlertsRemoveAllWatchlistInactive="Alerts.RemoveAllWatchlistInactive",e.AlertsRemoveFires="Alerts.RemoveFires",e.AlertsRestart="Alerts.Restart",e.AlertsRestartAllInactive="Alerts.RestartAllInactive",e.AlertsRestartFilteredInactive="Alerts.RestartFilteredInactive",e.AlertsStop="Alerts.Stop",e.AlertsStopAll="Alerts.StopAll",e.AlertsStopFilteredActive="Alerts.StopFilteredActive",e.AlertsExportFiresToCSV="Alerts.ExportFiresToCSV",e.AlertsLogClear="AlertsLog.Clear",e.ChartAddIndicatorToAllCharts="Chart.AddIndicatorToAllCharts",e.ChartAddSymbolToWatchList="Chart.AddSymbolToWatchList",e.ChartAlertLabelToggleExtendLines="Chart.AlertLabel.ToggleExtendLines",e.ChartApplyIndicatorsToAllCharts="Chart.ApplyIndicatorsToAllCharts",e.ChartIndicatorApplyChildIndicator="Chart.Indicator.ApplyChildIndicator",e.ChartIndicatorApplyFinancials="Chart.Indicator.ApplyFinancials",e.ChartIndicatorAbout="Chart.Indicator.About",e.ChartIndicatorPineLogs="Chart.Indicator.PineLogs",e.ChartIndicatorPineSource="Chart.Indicator.PineSource",e.ChartIndicatorAddFavorites="Chart.Indicator.AddFavorites",e.ChartChangeTimeZone="Chart.ChangeTimeZone",e.ChartClipboardCopyPrice="Chart.Clipboard.CopyPrice",e.ChartClipboardCopyLineTools="Chart.Clipboard.CopyLineTools",e.ChartClipboardCopySource="Chart.Clipboard.CopySource",e.ChartClipboardPasteSource="Chart.Clipboard.PasteSource",e.ChartCrosshairLockVerticalCursor="Chart.Crosshair.LockVerticalCursor",e.ChartCrosshairPlusButtonDrawHorizontalLine="Chart.Crosshair.PlusButton.DrawHorizontalLine",e.ChartCustomActionId="Chart.CustomActionId",e.ChartDialogsShowChangeInterval="Chart.Dialogs.ShowChangeInterval",e.ChartDialogsShowChangeSymbol="Chart.Dialogs.ShowChangeSymbol",e.ChartDialogsShowCompareOrAddSymbol="Chart.Dialogs.ShowCompareOrAddSymbol",e.ChartDialogsShowGeneralSettings="Chart.Dialogs.ShowGeneralSettings",e.ChartDialogsShowGeneralSettingsLegendTab="Chart.Dialogs.ShowGeneralSettings.LegendTab",e.ChartDialogsShowGeneralSettingsSymbolTab="Chart.Dialogs.ShowGeneralSettings.SymbolTab",e.ChartDialogsShowGeneralScalesTab="Chart.Dialogs.ShowGeneralSettings.ScalesTab",e.ChartDialogsShowGeneralSettingsEventsTab="Chart.Dialogs.ShowGeneralSettings.EventsTab",e.ChartDialogsShowGeneralSettingsAlertsTab="Chart.Dialogs.ShowGeneralSettings.AlertsTab",e.ChartDialogsShowGoToDate="Chart.Dialogs.ShowGoToDate",e.ChartDialogsShowInsertIndicators="Chart.Dialogs.ShowInsertIndicators",e.ChartDialogsShowInsertFinancials="Chart.Dialogs.ShowInsertFinancials",e.ChartDialogsShowInsertSeasonals="Chart.Dialogs.ShowInsertSeasonals",e.ChartDialogsShowInsertTechnicals="Chart.Dialogs.ShowInsertTechnicals",e.ChartDialogsShowInsertForecast="Chart.Dialogs.ShowInsertForecast",e.ChartDialogsShowInsertOptions="Chart.Dialogs.ShowInsertOptions",e.ChartDetailsMetricsActionId="Chart.Dialogs.DetailsMetrics",e.ChartDialogsShowInsertEconomyIndicators="Chart.Dialogs.ShowInsertEconomyIndicators",e.ChartDialogsShowSymbolInfo="Chart.Dialogs.ShowSymbolInfo",e.ChartDrawingToolbarToggleVisibility="Chart.DrawingToolbar.ToggleVisibility",e.ChartExternalActionId="Chart.ExternalActionId",e.ChartFavoriteDrawingToolsToolbarHide="Chart.FavoriteDrawingToolsToolbar.Hide",e.ChartIndicatorShowSettingsDialog="Chart.Indicator.ShowSettingsDialog",e.ChartLegendToggleLastDayChangeValuesVisibility="Chart.Legend.ToggleLastDayChangeValuesVisibility",e.ChartLinkingGroupSync="Chart.LinkingGroupSync",e.ChartLinkingGroupSyncChangeGroup="Chart.LinkingGroupSync.ChangeGroup",e.ChartLegendToggleBarChangeValuesVisibility="Chart.Legend.ToggleBarChangeValuesVisibility",e.ChartLegendTogglePriceSourceVisibility="Chart.Legend.TogglePriceSourceVisibility",e.ChartLegendToggleIndicatorArgumentsVisibility="Chart.Legend.ToggleIndicatorArgumentsVisibility",e.ChartLegendToggleIndicatorTitlesVisibility="Chart.Legend.ToggleIndicatorTitlesVisibility",e.ChartLegendToggleIndicatorValuesVisibility="Chart.Legend.ToggleIndicatorValuesVisibility",e.ChartLegendToggleOhlcValuesVisibility="Chart.Legend.ToggleOhlcValuesVisibility",e.ChartLegendToggleOpenMarketStatusVisibility="Chart.Legend.ToggleOpenMarketStatusVisibility",e.ChartLegendToggleSymbolVisibility="Chart.Legend.ToggleSymbolVisibility",e.ChartLegendToggleVolumeVisibility="Chart.Legend.ToggleVolumeVisibility",e.ChartLines="Chart.Lines",e.ChartLinesToggleBidAskLinesVisibility="Chart.Lines.ToggleBidAskLinesVisibility",e.ChartLinesToggleHighLowLinesVisibility="Chart.Lines.ToggleHighLowLinesVisibility",e.ChartLinesToggleAverageLineVisibility="Chart.Lines.ToggleAverageLineVisibility",e.ChartLinesTogglePrePostMarketPriceLineVisibility="Chart.Lines.TogglePrePostMarketPriceLineVisibility",e.ChartLinesToggleSeriesPrevCloseLineVisibility="Chart.Lines.ToggleSeriesPrevCloseLineVisibility",e.ChartLinesToggleSeriesPriceLineVisibility="Chart.Lines.ToggleSeriesPriceLineVisibility",e.ChartLineToolBarsPatternToggleFlipped="Chart.LineTool.BarsPattern.ToggleFlipped",e.ChartLineToolBarsPatternToggleMirrored="Chart.LineTool.BarsPattern.ToggleMirrored",e.ChartLineToolRiskRewardReverse="Chart.LineTool.RiskReward.Reverse",e.ChartLineToolClone="Chart.LineTool.Clone",e.ChartLineToolCreateLimitOrderFromState="Chart.LineTool.CreateLimitOrderFromState",e.ChartLineToolElliotChangeDegreeProperty="Chart.LineTool.Elliot.ChangeDegreeProperty",e.ChartLineToolNoSync="Chart.LineTool.NoSync",e.ChartLineToolPitchforkChangeTypeToInside="Chart.LineTool.Pitchfork.ChangeTypeToInside",e.ChartLineToolPitchforkChangeTypeToModifiedSchiff="Chart.LineTool.Pitchfork.ChangeTypeToModifiedSchiff",e.ChartLineToolPitchforkChangeTypeToOriginal="Chart.LineTool.Pitchfork.ChangeTypeToOriginal",e.ChartLineToolPitchforkChangeTypeToSchiff="Chart.LineTool.Pitchfork.ChangeTypeToSchiff",e.ChartLineToolSyncInLayout="Chart.LineTool.SyncInLayout",e.ChartLineToolSyncGlobally="Chart.LineTool.SyncGlobally",e.ChartLineToolTemplates="Chart.LineTool.Templates",e.ChartLineToolTemplatesApply="Chart.LineTool.Templates.Apply",e.ChartLineToolTemplatesApplyDefaults="Chart.LineTool.Templates.ApplyDefaults",e.ChartLineToolTemplatesSaveAs="Chart.LineTool.Templates.SaveAs",e.ChartLineToolToolbarChangeFontSizeProperty="Chart.LineTool.Toolbar.ChangeFontSizeProperty",e.ChartLineToolToolbarChangeLineStyleToDashed="Chart.LineTool.Toolbar.ChangeLineStyleToDashed",e.ChartLineToolToolbarChangeLineStyleToDotted="Chart.LineTool.Toolbar.ChangeLineStyleToDotted",e.ChartLineToolToolbarChangeLineStyleToSolid="Chart.LineTool.Toolbar.ChangeLineStyleToSolid",e.ChartMarksToggleVisibility="Chart.Marks.ToggleVisibility",e.ChartMoveChartInLayout="Chart.MoveChartInLayout",e.ChartMoveChartInLayoutBack="Chart.MoveChartInLayout.Back",e.ChartMoveChartInLayoutForward="Chart.MoveChartInLayout.Forward",e.ChartTpoResetAllMergesAndSplits="Chart.TPO.ResetAllMergesAndSplits",e.ChartTpoSplitBlock="Chart.TPO.SplitBlock",e.ChartTpoMergeBlock="Chart.TPO.MergeBlock",e.ChartObjectTreeShow="Chart.ObjectTree.Show",e.ChartDataWindowShow="Chart.DataWindow.Show",e.ChartPaneControlsDeletePane="Chart.PaneControls.DeletePane",e.ChartPaneControlsMaximizePane="Chart.PaneControls.MaximizePane",e.ChartPaneControlsMinimizePane="Chart.PaneControls.MinimizePane",e.ChartPaneControlsMovePaneDown="Chart.PaneControls.MovePaneDown",e.ChartPaneControlsMovePaneUp="Chart.PaneControls.MovePaneUp",e.ChartPaneControlsCollapsePane="Chart.PaneControls.CollapsePane",e.ChartPaneControlsRestorePane="Chart.PaneControls.RestorePane",e.ChartPriceScaleLabels="Chart.PriceScale.Labels",e.ChartPriceScaleLabelsToggleBidAskLabelsVisibility="Chart.PriceScale.Labels.ToggleBidAskLabelsVisibility",e.ChartPriceScaleLabelsToggleHighLowPriceLabelsVisibility="Chart.PriceScale.Labels.ToggleHighLowPriceLabelsVisibility",e.ChartPriceScaleLabelsToggleAveragePriceLabelVisibility="Chart.PriceScale.Labels.ToggleAveragePriceLabelVisibility",e.ChartPriceScaleLabelsToggleIndicatorsNameLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsNameLabelsVisibility",e.ChartPriceScaleLabelsToggleIndicatorsValueLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsValueLabelsVisibility",e.ChartPriceScaleLabelsTogglePrePostMarketLabelsVisibility="Chart.PriceScale.Labels.TogglePrePostMarketLabelsVisibility",e.ChartPriceScaleLabelsToggleNoOverlappingLabelsVisibility="Chart.PriceScale.Labels.ToggleNoOverlappingLabelsVisibility",e.ChartPriceScaleLabelsToggleSeriesLastValueVisibility="Chart.PriceScale.Labels.ToggleSeriesLastValueVisibility",e.ChartPriceScaleLabelsToggleSymbolNameLabelsVisibility="Chart.PriceScale.Labels.ToggleSymbolNameLabelsVisibility",e.ChartPriceScaleLabelsToggleSymbolPrevCloseValueVisibility="Chart.PriceScale.Labels.ToggleSymbolPrevCloseValueVisibility",e.ChartPriceScaleMergeAllScales="Chart.PriceScale.MergeAllScales",e.ChartPriceScaleMergeAllScalesToLeft="Chart.PriceScale.MergeAllScalesToLeft",e.ChartPriceScaleMergeAllScalesToRight="Chart.PriceScale.MergeAllScalesToRight",e.ChartPriceScaleMoveToLeft="Chart.PriceScale.MoveToLeft",e.ChartPriceScaleMoveToRight="Chart.PriceScale.MoveToRight",e.ChartPriceScaleReset="Chart.PriceScale.Reset",e.ChartPriceScaleToggleAddOrderPlusButtonVisibility="Chart.PriceScale.ToggleAddOrderPlusButtonVisibility",e.ChartPriceScaleToggleAutoScale="Chart.PriceScale.ToggleAutoScale",e.ChartPriceScaleToggleAutoScaleSeriesOnly="Chart.PriceScale.ToggleAutoScaleSeriesOnly",e.ChartPriceScaleToggleCountdownToBarCloseVisibility="Chart.PriceScale.ToggleCountdownToBarCloseVisibility",e.ChartPriceScaleToggleIndexedTo100="Chart.PriceScale.ToggleIndexedTo100",e.ChartPriceScaleToggleInvertScale="Chart.PriceScale.ToggleInvertScale",e.ChartPriceScaleToggleLogarithmic="Chart.PriceScale.ToggleLogarithmic",e.ChartPriceScaleTogglePercentage="Chart.PriceScale.TogglePercentage",e.ChartPriceScaleToggleRegular="Chart.PriceScale.ToggleRegular",e.ChartRedo="Chart.Redo",e.ChartRemoveAllIndicators="Chart.RemoveAllIndicators",e.ChartRemoveAllIndicatorsAndLineTools="Chart.RemoveAllIndicatorsAndLineTools",e.ChartRemoveAllLineTools="Chart.RemoveAllLineTools",e.ChartScalesReset="Chart.Scales.Reset",e.ChartScalesToggleLockPriceToBarRatio="Chart.Scales.ToggleLockPriceToBarRatio",e.ChartScrollToLineTool="Chart.ScrollToLineTool",e.ChartSelectedObjectHide="Chart.SelectedObject.Hide",e.ChartSelectedObjectRemove="Chart.SelectedObject.Remove",e.ChartSelectedObjectShow="Chart.SelectedObject.Show",e.ChartSelectedObjectShowSettingsDialog="Chart.SelectedObject.ShowSettingsDialog",e.ChartSelectedObjectInsertRowTable="Chart.SelectedObject.InsertRowTable",e.ChartSelectedObjectInsertColumnTable="Chart.SelectedObject.InsertColumnTable",e.ChartSelectedObjectRemoveRowTable="Chart.SelectedObject.RemoveRowTable",e.ChartSelectedObjectRemoveColumnTable="Chart.SelectedObject.RemoveColumnTable",e.ChartSelectedObjectToggleLocked="Chart.SelectedObject.ToggleLocked",e.ChartSelectedObjectToggleAnchored="Chart.SelectedObject.ToggleAnchored",e.ChartSeriesPriceScaleToggleAutoScale="Chart.Series.PriceScale.ToggleAutoScale",e.ChartSeriesPriceScaleToggleIndexedTo100="Chart.Series.PriceScale.ToggleIndexedTo100",e.ChartSeriesPriceScaleToggleInvertPriceScale="Chart.Series.PriceScale.ToggleInvertPriceScale",e.ChartSeriesPriceScaleToggleLogarithmic="Chart.Series.PriceScale.ToggleLogarithmic",e.ChartSeriesPriceScaleTogglePercentage="Chart.Series.PriceScale.TogglePercentage",e.ChartSeriesPriceScaleToggleRegular="Chart.Series.PriceScale.ToggleRegular",e.ChartSessionBreaksToggleVisibility="Chart.SessionBreaks.ToggleVisibility",e.ChartSetSession="Chart.SetSession",e.ChartSourceChangePriceScale="Chart.Source.ChangePriceScale",e.ChartSourceMergeDown="Chart.Source.MergeDown",e.ChartSourceMergeUp="Chart.Source.MergeUp",e.ChartSourceMoveToNoScale="Chart.Source.MoveToNoScale",e.ChartSourceMoveToOtherScale="Chart.Source.MoveToOtherScale",e.ChartSourceMoveToPane="Chart.Source.MoveToPane",e.ChartSourceUnmergeDown="Chart.Source.UnmergeDown",e.ChartSourceUnmergeUp="Chart.Source.UnmergeUp",e.ChartSourceVisualOrder="Chart.Source.VisualOrder",e.ChartSourceVisualOrderBringForward="Chart.Source.VisualOrder.BringForward",e.ChartSourceVisualOrderBringToFront="Chart.Source.VisualOrder.BringToFront",e.ChartSourceVisualOrderSendBackward="Chart.Source.VisualOrder.SendBackward",e.ChartSourceVisualOrderSendToBack="Chart.Source.VisualOrder.SendToBack",e.ChartSourceResetInputPoints="Chart.Source.ResetInputPoints",e.ChartThemeApply="Chart.Theme.Apply",e.ChartThemeApplyCustom="Chart.Theme.Apply.Custom",e.ChartThemeSaveAs="Chart.Theme.SaveAs",e.ChartTimeScaleReset="Chart.TimeScale.Reset",e.ChartUndo="Chart.Undo",e.ChartShowAllIdeas="Chart.ShowAllIdeas",e.ChartShowIdeasOfFollowedUsers="Chart.ShowIdeasOfFollowedUsers",e.ChartShowMyIdeasOnly="Chart.ShowMyIdeasOnly",e.ChartToggleVisibilityAllLineTools="Chart.ToggleVisibility.AllLineTools",e.ChartToggleVisibilityContinuousContractSwitch="Chart.ToggleVisibility.ContinuousContractSwitch",e.ChartToggleVisibilityContractExpiration="Chart.ToggleVisibility.ContractExpiration",e.ChartToggleVisibilityDividends="Chart.ToggleVisibility.Dividends",e.ChartToggleVisibilityEarnings="Chart.ToggleVisibility.Earnings",e.ChartToggleVisibilityEconomicEvents="Chart.ToggleVisibility.EconomicEvents",e.ChartToggleVisibilitySplits="Chart.ToggleVisibility.Splits",e.ChartToggleVisibilityLatestNewsAndMinds="Chart.ToggleVisibility.LatestNewsAndMinds",e.ChartToggleVisibilityKeyFactsToday="Chart.ToggleVisibility.KeyFactsToday",e.ChartSourceIntervalsVisibility="Chart.Source.IntervalsVisibility",e.ChartSourceIntervalsVisibilityCurrentAndAbove="Chart.Source.IntervalsVisibility.CurrentAndAbove",e.ChartSourceIntervalsVisibilityCurrentAndBelow="Chart.Source.IntervalsVisibility.CurrentAndBelow",e.ChartSourceIntervalsVisibilityOnlyCurrent="Chart.Source.IntervalsVisibility.Current",e.ChartSourceIntervalsVisibilityAll="Chart.Source.IntervalsVisibility.All",e.NoteCreate="Note.Create",e.NoteEdit="Note.Edit",e.NoteRemove="Note.Remove",e.ObjectsTreeCreateGroup="ObjectsTree.CreateGroup",e.ObjectsTreeRemoveItem="ObjectsTree.RemoveItem",e.ObjectsTreeRenameItem="ObjectsTree.RenameItem",e.ObjectsTreeToggleItemLocked="ObjectsTree.ToggleItemLocked",e.ObjectsTreeToggleItemVisibility="ObjectsTree.ToggleItemVisibility",e.PineEditorConsoleCopyMessage="PineEditor.Console.CopyMessage",e.PineEditorConsoleToggleVisibility="PineEditor.Console.ToggleVisibility",e.PineEditorConsoleClear="PineEditor.Console.Clear",e.ScreenerColumnRemove="Screener.Column.Remove",e.ScreenerFilterChange="Screener.Filter.Change",e.ScreenerFilterReset="Screener.Filter.Reset",e.ScreenerToggleVisibilityCurrency="Screener.ToggleVisibility.Currency",e.ScreenerToggleVisibilityDescription="Screener.ToggleVisibility.Description",e.ScreenerToggleVisibilityRating="Screener.ToggleVisibility.Rating",e.ScreenerToggleVisibilitySymbolType="Screener.ToggleVisibility.SymbolType",e.TradingCancelOrder="Trading.CancelOrder",e.TradingClosePosition="Trading.ClosePosition",e.TradingCustomActionId="Trading.CustomActionId",e.TradingDOMPlaceLimitOrder="Trading.DOMPlaceLimitOrder",e.TradingDOMPlaceMarketOrder="Trading.DOMPlaceMarketOrder",e.TradingDOMPlaceStopLimitOrder="Trading.DOMPlaceStopLimitOrder",e.TradingDOMPlaceStopOrder="Trading.DOMPlaceStopOrder",e.TradingEditOrder="Trading.EditOrder",e.TradingModifyPosition="Trading.ModifyPosition",e.TradingReversePosition="Trading.ReversePosition",e.TradingSellBuyButtonsToggleVisibility="Trading.SellBuyButtonsToggleVisibility",e.TradingTradeFromChart="Trading.TradeFromChart",e.TradingNoOverlapMode="Trading.NoOverlapMode",e.TradingShowSelectBrokerPanel="Trading.ShowSelectBrokerPanel",e.TradingOrderTitle="Trading.OrderTitle",e.TradingPositionTitle="Trading.PositionTitle",e.WatchlistActions="Watchlist.Actions",e.WatchlistAddSelectedSymbolsToCompare="Watchlist.AddSelectedSymbolsToCompare ",e.WatchlistAddSymbolToCompare="Watchlist.AddSymbolToCompare",e.WatchlistAddSymbolToSection="Watchlist.AddSymbolToSection",e.WatchlistChangeFlaggedGroupColor="Watchlist.ChangeFlaggedGroupColor",e.WatchlistAddSymbol="Watchlist.AddSymbol",e.WatchlistCreate="Watchlist.Create",e.WatchlistAddSelectedSymbols="Watchlist.AddSelectedSymbols",e.WatchlistAddSelectedSymbolsLists="Watchlist.AddSelectedSymbols.Lists",e.WatchlistGetDisplayedTickerDescription="Watchlist.GetDisplayedTickerDescription",e.WatchlistCreateSection="Watchlist.CreateSection",e.WatchlistFlagSelectedSymbols="Watchlist.FlagSelectedSymbols",e.WatchlistFlagSymbol="Watchlist.FlagSymbol",e.WatchlistOpenSymbolChart="Watchlist.OpenSymbolChart",e.WatchlistOpenSymbolOverview="Watchlist.OpenSymbolOverview",e.WatchlistRemoveSection="Watchlist.RemoveSection",e.WatchlistRemoveSymbol="Watchlist.RemoveSymbol",e.WatchlistRenameSection="Watchlist.RenameSection",e.WatchlistUnflagAllSymbols="Watchlist.UnflagAllSymbols",e.WatchlistUnflagSelectedSymbols="Watchlist.UnflagSelectedSymbols",e.WatchlistUnflagSymbol="Watchlist.UnflagSymbol"}(r||(r={})),function(e){e.extractErrorReason=function(e){return e.params[1]}}(o||(o={})),function(e){e.Default="default",e.FullSingleSession="full_single_session"}(i||(i={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(a||(a={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(s||(s={})),function(e){e.Open="market",e.Pre="pre_market",e.Post="post_market",e.Close="out_of_session",e.Holiday="holiday"}(l||(l={})),function(e){e.Separator="separator",e.Action="action"}(c||(c={})),function(e){e[e.All=0]="All",e[e.BarMarks=1]="BarMarks",e[e.TimeScaleMarks=2]="TimeScaleMarks"}(u||(u={})),function(e){e[e.Line=0]="Line",e[e.Histogram=1]="Histogram",e[e.Cross=3]="Cross",e[e.Area=4]="Area",e[e.Columns=5]="Columns",e[e.Circles=6]="Circles",e[e.LineWithBreaks=7]="LineWithBreaks",e[e.AreaWithBreaks=8]="AreaWithBreaks",e[e.StepLine=9]="StepLine",e[e.StepLineWithDiamonds=10]="StepLineWithDiamonds",e[e.StepLineWithBreaks=11]="StepLineWithBreaks"}(d||(d={})),function(e){e.Line="line",e.Colorer="colorer",e.BarColorer="bar_colorer",e.BgColorer="bg_colorer",e.TextColorer="text_colorer",e.OhlcColorer="ohlc_colorer",e.CandleWickColorer="wick_colorer",e.CandleBorderColorer="border_colorer",e.UpColorer="up_colorer",e.DownColorer="down_colorer",e.Shapes="shapes",e.Chars="chars",e.Arrows="arrows",e.Data="data",e.DataOffset="dataoffset",e.OhlcOpen="ohlc_open",e.OhlcHigh="ohlc_high",e.OhlcLow="ohlc_low",e.OhlcClose="ohlc_close"}(f||(f={})),function(e){e.AlertCondition="alertcondition"}(h||(h={})),function(e){e[e.None=0]="None",e[e.Pane=1]="Pane",e[e.DataWindow=2]="DataWindow",e[e.PriceScale=4]="PriceScale",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(p||(p={})),function(e){e[e.None=0]="None",e[e.Pane=1]="Pane",e[e.DataWindow=2]="DataWindow",e[e.PriceScale=4]="PriceScale",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(v||(v={})),function(e){e.OhlcBars="ohlc_bars",e.OhlcCandles="ohlc_candles"}(g||(g={})),function(e){e.Auto="auto",e.Tiny="tiny",e.Small="small",e.Normal="normal",e.Large="large",e.Huge="huge"}(m||(m={})),function(e){e.Integer="integer",e.Float="float",e.Price="price",e.Bool="bool",e.Text="text",e.Symbol="symbol",e.Session="session",e.Source="source",e.Resolution="resolution",e.Time="time",e.BarTime="bar_time",e.Color="color",e.Textarea="text_area"}(y||(y={})),function(e){e[e.None=0]="None",e[e.DataWindow=2]="DataWindow",e[e.StatusLine=8]="StatusLine",e[e.All=15]="All"}(b||(b={})),function(e){e.InitialCapital="initial_capital",e.Currency="currency",e.DefaultQTYValue="default_qty_value",e.DefaultQTYType="default_qty_type",e.Pyramiding="pyramiding",e.ComissionValue="commission_value",e.ComissionType="commission_type",e.BacktestFillLimitsAssumtion="backtest_fill_limits_assumption",e.Slippage="slippage",e.CalcOnOrderFills="calc_on_order_fills",e.CalcOnEveryTick="calc_on_every_tick",e.MarginLong="margin_long",e.MarginShort="margin_short",e.UseBarMagnifier="use_bar_magnifier",e.ProcessOrdersOnClose="process_orders_on_close",e.FillOrdersOnStandardOHLC="fill_orders_on_standard_ohlc"}(A||(A={})),function(e){e.Fixed="fixed",e.CashPerOrder="cash_per_order",e.PercentOfEquity="percent_of_equity"}(w||(w={})),function(e){e.Percent="percent",e.CashPerContract="cash_per_contract",e.CashPerOrder="cash_per_order"}(_||(_={})),function(e){e.FirstBar="first_visible_bar_time",e.LastBar="last_visible_bar_time",e.Realtime="subscribeRealtime"}(C||(C={})),function(e){e.FgColor="__chart_fgcolor",e.BgColor="__chart_bgcolor"}(S||(S={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.NoScale=2]="NoScale"}(k||(k={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left",e[e.None=2]="None"}(T||(T={})),function(e){e.TypePlots="plot_plot",e.TypeHlines="hline_hline"}(x||(x={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TrailingStop=1]="TrailingStop",e[e.GuaranteedStop=2]="GuaranteedStop"}(P||(P={})),function(e){e.Stocks="stocks",e.Futures="futures",e.Forex="forex",e.Crypto="crypto",e.Others="others"}(E||(E={})),function(e){e.Symbol="symbol"}(L||(L={})),function(e){e[e.PopUp=0]="PopUp",e[e.Notification=1]="Notification"}(I||(I={})),function(e){e.Quantity="qty",e.OrderSide="side",e.Price="price",e.Duration="duration",e.Brackets="brackets",e.StopLossType="slType"}(O||(O={})),function(e){e[e.CONNECTED=1]="CONNECTED",e[e.CONNECTING=2]="CONNECTING",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.ERROR=4]="ERROR"}(R||(R={})),function(e){e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected",e[e.Error=4]="Error"}(M||(M={})),function(e){e[e.LIMIT=1]="LIMIT",e[e.MARKET=2]="MARKET",e[e.STOP=3]="STOP",e[e.STOPLIMIT=4]="STOPLIMIT"}(N||(N={})),function(e){e[e.Limit=1]="Limit",e[e.Market=2]="Market",e[e.Stop=3]="Stop",e[e.StopLimit=4]="StopLimit"}(D||(D={})),function(e){e[e.BUY=1]="BUY",e[e.SELL=-1]="SELL"}(B||(B={})),function(e){e[e.Buy=1]="Buy",e[e.Sell=-1]="Sell"}(F||(F={})),function(e){e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.PLACING=4]="PLACING",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(j||(j={})),function(e){e[e.ALL=0]="ALL",e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(V||(V={})),function(e){e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Placing=4]="Placing",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(H||(H={})),function(e){e[e.All=0]="All",e[e.Canceled=1]="Canceled",e[e.Filled=2]="Filled",e[e.Inactive=3]="Inactive",e[e.Rejected=5]="Rejected",e[e.Working=6]="Working"}(z||(z={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position"}(U||(U={})),function(e){e[e.ORDER=1]="ORDER",e[e.POSITION=2]="POSITION"}(W||(W={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position",e[e.IndividualPosition=3]="IndividualPosition"}(K||(K={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TakeProfit=1]="TakeProfit",e[e.TrailingStop=2]="TrailingStop",e[e.GuaranteedStop=3]="GuaranteedStop"}(G||(G={})),function(e){e[e.LIMITPRICE=1]="LIMITPRICE",e[e.STOPPRICE=2]="STOPPRICE",e[e.TAKEPROFIT=3]="TAKEPROFIT",e[e.STOPLOSS=4]="STOPLOSS"}(q||(q={})),function(e){e[e.LimitPrice=1]="LimitPrice",e[e.StopPrice=2]="StopPrice",e[e.TakeProfit=3]="TakeProfit",e[e.StopLoss=4]="StopLoss",e[e.Quantity=5]="Quantity"}(Y||(Y={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(Z||(Z={})),function(e){e[e.Error=0]="Error",e[e.Success=1]="Success"}(X||(X={})),function(e){e[e.Demo=1]="Demo",e[e.Real=0]="Real"}(J||(J={})),function(e){e.Information="information",e.Warning="warning",e.Error="error"}(Q||(Q={})),function(e){e.Demo="demo",e.Live="live"}($||($={})),function(e){e[e.LogOut=0]="LogOut",e[e.FailedRestoring=1]="FailedRestoring",e[e.Offline=2]="Offline",e[e.APIError=3]="APIError",e[e.TwoFactorRequired=4]="TwoFactorRequired",e[e.CancelAuthorization=5]="CancelAuthorization",e[e.TimeOutForAuthorization=6]="TimeOutForAuthorization",e[e.OauthError=7]="OauthError",e[e.BrokenConnection=8]="BrokenConnection",e[e.Reconnect=9]="Reconnect",e[e.FailedSignIn=10]="FailedSignIn"}(ee||(ee={})),function(e){e[e.None=0]="None",e[e.Pips=1]="Pips",e[e.Ticks=2]="Ticks"}(te||(te={})),function(e){e.Halted="HALTED",e.NotShortable="NOT-SHORTABLE",e.HardToBorrow="HARD-TO-BORROW"}(ne||(ne={})),function(e){e[e.Limit=1]="Limit",e[e.Stop=2]="Stop"}(re||(re={})),function(e){e.Disallowed="disallowed",e.Allowed="allowed",e.AllowedWithWarning="allowed_with_warning"}(oe||(oe={})),function(e){e.PlaceOrder="place_order",e.ModifyOrder="modify_order",e.CancelOrder="cancel_order",e.ModifyPosition="modify_position",e.ClosePosition="close_position",e.ModifyIndividualPosition="modify_individual_position",e.CloseIndividualPosition="close_individual_position",e.CloseNetPosition="close_net_position"}(ie||(ie={})),function(e){e.Date="date",e.DateOrDateTime="dateOrDateTime",e.Default="default",e.Fixed="fixed",e.FixedInCurrency="fixedInCurrency",e.VariablePrecision="variablePrecision",e.FormatQuantity="formatQuantity",e.FormatPrice="formatPrice",e.FormatPriceForexSup="formatPriceForexSup",e.FormatPriceInCurrency="formatPriceInCurrency",e.IntegerSeparated="integerSeparated",e.LocalDate="localDate",e.LocalDateOrDateTime="localDateOrDateTime",e.Percentage="percentage",e.Pips="pips",e.Profit="profit",e.ProfitInInstrumentCurrency="profitInInstrumentCurrency",e.Side="side",e.PositionSide="positionSide",e.Status="status",e.Symbol="symbol",e.Text="text",e.Type="type",e.MarginPercent="marginPercent",e.Empty="empty"}(ae||(ae={})),function(e){e[e.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",e[e.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(se||(se={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(le||(le={})),function(e){e[e.Offline=0]="Offline",e[e.Resolving=1]="Resolving",e[e.Loading=2]="Loading",e[e.Ready=3]="Ready",e[e.InvalidSymbol=4]="InvalidSymbol",e[e.Snapshot=5]="Snapshot",e[e.EOD=6]="EOD",e[e.Pulse=7]="Pulse",e[e.Delayed=8]="Delayed",e[e.DelayedSteaming=9]="DelayedSteaming",e[e.NoBars=10]="NoBars",e[e.Replay=11]="Replay",e[e.Error=12]="Error",e[e.CalculationError=13]="CalculationError",e[e.UnsupportedResolution=14]="UnsupportedResolution"}(ce||(ce={})),function(e){e[e.Markers=0]="Markers",e[e.Stepline=1]="Stepline",e[e.Simple=2]="Simple"}(ue||(ue={})),function(e){e[e.Bar=0]="Bar",e[e.Candle=1]="Candle",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.Renko=4]="Renko",e[e.Kagi=5]="Kagi",e[e.PnF=6]="PnF",e[e.LineBreak=7]="LineBreak",e[e.HeikinAshi=8]="HeikinAshi",e[e.HollowCandle=9]="HollowCandle",e[e.Baseline=10]="Baseline",e[e.Range=11]="Range",e[e.HiLo=12]="HiLo",e[e.Column=13]="Column",e[e.LineWithMarkers=14]="LineWithMarkers",e[e.Stepline=15]="Stepline",e[e.HLCArea=16]="HLCArea",e[e.VolFootprint=17]="VolFootprint",e[e.TPO=18]="TPO",e[e.VolCandle=19]="VolCandle",e[e.SVP=20]="SVP",e[e.HLCBars=21]="HLCBars"}(de||(de={})),function(e){e.TwentyFourHours="24-hours",e.TwelveHours="12-hours"}(fe||(fe={})),function(e){e[e.Initial=2]="Initial",e[e.SeriesZOrderIsAlwaysZero=3]="SeriesZOrderIsAlwaysZero",e[e.Current=3]="Current"}(he||(he={})),function(e){e[e.Money=0]="Money",e[e.Pips=1]="Pips",e[e.Percentage=2]="Percentage"}(pe||(pe={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(ve||(ve={})),pe.Money,pe.Money,ve.Right,function(e){e[e.Background=0]="Background",e[e.Foreground=1]="Foreground",e[e.Topmost=2]="Topmost"}(ge||(ge={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.AvailableReadonlyAlwaysDisabled=1]="AvailableReadonlyAlwaysDisabled",e[e.AvailableReadonlyAlwaysEnabled=2]="AvailableReadonlyAlwaysEnabled",e[e.Available=3]="Available"}(me||(me={})),function(e){e[e.ViewportChangeUserAction=0]="ViewportChangeUserAction",e[e.DataUpdate=1]="DataUpdate",e[e.SeriesRestart=2]="SeriesRestart",e[e.SeriesCompleted=3]="SeriesCompleted",e[e.StudyCreation=4]="StudyCreation"}(ye||(ye={})),function(e){e[e.Chart=0]="Chart"}(be||(be={})),function(e){e.AlwaysOn="alwaysOn",e.VisibleOnMouseOver="visibleOnMouseOver",e.AlwaysOff="alwaysOff"}(Ae||(Ae={})),function(e){e[e.Normal=0]="Normal",e[e.Log=1]="Log",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"}(we||(we={})),function(e){e[e.Bars=0]="Bars",e[e.Candles=1]="Candles",e[e.Line=2]="Line",e[e.Area=3]="Area",e[e.HeikenAshi=8]="HeikenAshi",e[e.HollowCandles=9]="HollowCandles",e[e.Baseline=10]="Baseline",e[e.HiLo=12]="HiLo",e[e.Column=13]="Column",e[e.LineWithMarkers=14]="LineWithMarkers",e[e.Stepline=15]="Stepline",e[e.HLCArea=16]="HLCArea",e[e.VolCandle=19]="VolCandle",e[e.HLCBars=21]="HLCBars",e[e.Renko=4]="Renko",e[e.Kagi=5]="Kagi",e[e.PointAndFigure=6]="PointAndFigure",e[e.LineBreak=7]="LineBreak"}(_e||(_e={})),function(e){e.Value="_seriesId"}(Ce||(Ce={})),function(e){e[e.InvalidSymbol=0]="InvalidSymbol",e[e.ReplayUnsupported=1]="ReplayUnsupported",e[e.UnsupportedDepth=2]="UnsupportedDepth",e[e.UnsupportedIntradyReplay=3]="UnsupportedIntradyReplay"}(Se||(Se={})),function(e){e.LeftToRight="left_to_right",e.RightToLeft="right_to_left"}(ke||(ke={})),function(e){e.Relative="relative",e.Absolute="absolute"}(Te||(Te={})),function(e){e.UpDown="Up/Down",e.Total="Total",e.Delta="Delta"}(xe||(xe={})),function(e){e.AboveBar="AboveBar",e.BelowBar="BelowBar",e.Top="Top",e.Bottom="Bottom",e.Right="Right",e.Left="Left",e.Absolute="Absolute",e.AbsoluteUp="AbsoluteUp",e.AbsoluteDown="AbsoluteDown"}(Pe||(Pe={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(Ee||(Ee={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(Le||(Le={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(Ie||(Ie={}));var Ve={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,news:!1,datawindow:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[],indicators:[],drawingTools:[]}},He=JSON.parse('[{"iso":"ar","dir":"rtl","language":"ar"},{"iso":"pt","dir":"ltr","language":"pt"},{"iso":"ca","dir":"ltr","language":"ca_ES"},{"iso":"cs","dir":"ltr","language":"cs"},{"iso":"de","dir":"ltr","language":"de"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"es","dir":"ltr","language":"es"},{"iso":"fr","dir":"ltr","language":"fr"},{"iso":"he","dir":"rtl","language":"he_IL"},{"iso":"hu","dir":"ltr","language":"hu_HU"},{"iso":"id","dir":"ltr","language":"id_ID"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"it","dir":"ltr","language":"it"},{"iso":"ja","dir":"ltr","language":"ja"},{"iso":"ko","dir":"ltr","language":"ko"},{"iso":"ms","dir":"ltr","language":"ms_MY"},{"iso":"pl","dir":"ltr","language":"pl"},{"iso":"ru","dir":"ltr","language":"ru"},{"iso":"sv","dir":"ltr","language":"sv"},{"iso":"th","dir":"ltr","language":"th"},{"iso":"tr","dir":"ltr","language":"tr"},{"iso":"vi","dir":"ltr","language":"vi"},{"iso":"zh-Hans","dir":"ltr","language":"zh"},{"iso":"zh-Hant","dir":"ltr","language":"zh_TW"},{"iso":"el","dir":"ltr","language":"el"},{"iso":"nl","dir":"ltr","language":"nl_NL"},{"iso":"ro","dir":"ltr","language":"ro"}]'),ze=!1;var Ue=function(){return(0,Be.A)((function e(t){var n,r,o=this;if((0,De.A)(this,e),this._id="tradingview_".concat((1048576*(1+Math.random())|0).toString(16).substring(1)),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");null!==(n=t.overrides)&&void 0!==n&&n["mainSeriesProperties.priceAxisProperties.lockScale"]&&(console.warn("mainSeriesProperties.priceAxisProperties.lockScale can not be set to true within the widget constructor"),delete t.overrides["mainSeriesProperties.priceAxisProperties.lockScale"]),this._options=je(Ve,t),"dark"===(null!==(r=this._options.theme)&&void 0!==r?r:"light").toLowerCase()&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),(this._options.debug||this._options.debug_broker)&&(ze||(ze=!0)),this._innerWindowLoaded=new Promise((function(e){o._innerWindowResolver=e})),this._create()}),[{key:"setDebugMode",value:function(e){this._innerAPI().setDebugMode(e)}},{key:"onChartReady",value:function(e){this._ready?e.call(this):this._readyHandlers.push(e)}},{key:"headerReady",value:function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))}},{key:"onGrayedObjectClicked",value:function(e){this._doWhenInnerApiLoaded((function(t){t.onGrayedObjectClicked(e)}))}},{key:"onShortcut",value:function(e,t){this._doWhenInnerWindowLoaded((function(n){n.createShortcutAction(e,t)}))}},{key:"subscribe",value:function(e,t){this._doWhenInnerApiLoaded((function(n){n.subscribe(e,t)}))}},{key:"unsubscribe",value:function(e,t){this._doWhenInnerApiLoaded((function(n){n.unsubscribe(e,t)}))}},{key:"chart",value:function(e){return this._innerAPI().chart(e)}},{key:"getLanguage",value:function(){return this._options.locale}},{key:"setSymbol",value:function(e,t,n){this._innerAPI().changeSymbol(e,t,n)}},{key:"remove",value:function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}},{key:"closePopupsAndDialogs",value:function(){this._doWhenInnerApiLoaded((function(e){e.closePopupsAndDialogs()}))}},{key:"selectLineTool",value:function(e,t){return this._innerAPI().selectLineTool(e,t)}},{key:"selectedLineTool",value:function(){return this._innerAPI().selectedLineTool()}},{key:"save",value:function(e,t){this._innerAPI().saveChart(e,t)}},{key:"load",value:function(){var e=(0,Ne.A)((0,Me.A)().mark((function e(t,n){return(0,Me.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._innerAPI().loadChart({json:t,extendedData:n}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSavedCharts",value:function(e){this._innerAPI().getSavedCharts(e)}},{key:"loadChartFromServer",value:function(e){return this._innerAPI().loadChartFromServer(e)}},{key:"saveChartToServer",value:function(e,t,n){this._innerAPI().saveChartToServer(e,t,n)}},{key:"removeChartFromServer",value:function(e,t){this._innerAPI().removeChartFromServer(e,t)}},{key:"onContextMenu",value:function(e){this._doWhenInnerApiLoaded((function(t){t.onContextMenu(e)}))}},{key:"createButton",value:function(e){return this._innerWindow().createButton(e)}},{key:"removeButton",value:function(e){this._innerWindow().removeButton(e)}},{key:"createDropdown",value:function(e){return this._innerWindow().createDropdown(e)}},{key:"showNoticeDialog",value:function(e){this._doWhenInnerApiLoaded((function(t){t.showNoticeDialog(e)}))}},{key:"showConfirmDialog",value:function(e){this._doWhenInnerApiLoaded((function(t){t.showConfirmDialog(e)}))}},{key:"showLoadChartDialog",value:function(){this._innerAPI().showLoadChartDialog()}},{key:"showSaveAsChartDialog",value:function(){this._innerAPI().showSaveAsChartDialog()}},{key:"symbolInterval",value:function(){return this._innerAPI().getSymbolInterval()}},{key:"mainSeriesPriceFormatter",value:function(){return this._innerAPI().mainSeriesPriceFormatter()}},{key:"getIntervals",value:function(){return this._innerAPI().getIntervals()}},{key:"getStudiesList",value:function(){return this._innerAPI().getStudiesList()}},{key:"getStudyInputs",value:function(e){return this._innerAPI().getStudyInputs(e)}},{key:"getStudyStyles",value:function(e){return this._innerAPI().getStudyStyles(e)}},{key:"addCustomCSSFile",value:function(e){this._innerWindow().addCustomCSSFile(e)}},{key:"applyOverrides",value:function(e){this._options=je(this._options,{overrides:e}),this._doWhenInnerWindowLoaded((function(t){t.applyOverrides(e)}))}},{key:"applyStudiesOverrides",value:function(e){this._doWhenInnerWindowLoaded((function(t){t.applyStudiesOverrides(e)}))}},{key:"watchList",value:function(){return this._innerAPI().watchlist()}},{key:"news",value:function(){return this._innerAPI().news()}},{key:"widgetbar",value:function(){return this._innerAPI().widgetbar()}},{key:"activeChart",value:function(){return this._innerAPI().activeChart()}},{key:"activeChartIndex",value:function(){return this._innerAPI().activeChartIndex()}},{key:"setActiveChart",value:function(e){return this._innerAPI().setActiveChart(e)}},{key:"chartsCount",value:function(){return this._innerAPI().chartsCount()}},{key:"layout",value:function(){return this._innerAPI().layout()}},{key:"setLayout",value:function(e){this._innerAPI().setLayout(e)}},{key:"layoutName",value:function(){return this._innerAPI().layoutName()}},{key:"resetLayoutSizes",value:function(e){this._innerAPI().resetLayoutSizes(e)}},{key:"setLayoutSizes",value:function(e,t){this._innerAPI().setLayoutSizes(e,t)}},{key:"changeTheme",value:function(e,t){return this._innerWindow().changeTheme(e,t)}},{key:"getTheme",value:function(){return this._innerWindow().getTheme()}},{key:"takeScreenshot",value:function(){this._doWhenInnerApiLoaded((function(e){e.takeScreenshot()}))}},{key:"lockAllDrawingTools",value:function(){return this._innerAPI().lockAllDrawingTools()}},{key:"hideAllDrawingTools",value:function(){return this._innerAPI().hideAllDrawingTools()}},{key:"drawOnAllChartsEnabled",value:function(){return this._innerAPI().drawOnAllChartsEnabled()}},{key:"drawOnAllCharts",value:function(e){this._innerAPI().drawOnAllCharts(e)}},{key:"magnetEnabled",value:function(){return this._innerAPI().magnetEnabled()}},{key:"magnetMode",value:function(){return this._innerAPI().magnetMode()}},{key:"undoRedoState",value:function(){return this._innerAPI().undoRedoState()}},{key:"setIntervalLinkingEnabled",value:function(e){this._innerAPI().setIntervalLinkingEnabled(e)}},{key:"setDateRangeLinkingEnabled",value:function(e){this._innerAPI().setDateRangeLinkingEnabled(e)}},{key:"setTimeFrame",value:function(e){this._innerAPI().setTimeFrame(e)}},{key:"symbolSync",value:function(){return this._innerAPI().symbolSync()}},{key:"intervalSync",value:function(){return this._innerAPI().intervalSync()}},{key:"crosshairSync",value:function(){return this._innerAPI().crosshairSync()}},{key:"timeSync",value:function(){return this._innerAPI().timeSync()}},{key:"dateRangeSync",value:function(){return this._innerAPI().dateRangeSync()}},{key:"setFeatureEnabled",value:function(e,t){this._innerAPI().setFeatureEnabled(e,t)}},{key:"getAllFeatures",value:function(){return this._innerWindow().getAllFeatures()}},{key:"clearUndoHistory",value:function(){return this._innerAPI().clearUndoHistory()}},{key:"undo",value:function(){return this._innerAPI().undo()}},{key:"redo",value:function(){return this._innerAPI().redo()}},{key:"startFullscreen",value:function(){this._innerAPI().startFullscreen()}},{key:"exitFullscreen",value:function(){this._innerAPI().exitFullscreen()}},{key:"takeClientScreenshot",value:function(e){return this._innerAPI().takeClientScreenshot(e)}},{key:"navigationButtonsVisibility",value:function(){return this._innerWindow().getNavigationButtonsVisibility()}},{key:"paneButtonsVisibility",value:function(){return this._innerWindow().getPaneButtonsVisibility()}},{key:"dateFormat",value:function(){return this._innerWindow().getDateFormat()}},{key:"timeHoursFormat",value:function(){return this._innerWindow().getTimeHoursFormat()}},{key:"currencyAndUnitVisibility",value:function(){return this._innerWindow().getCurrencyAndUnitVisibility()}},{key:"supportedChartTypes",value:function(){return this._innerAPI().supportedChartTypes()}},{key:"watermark",value:function(){return this._innerAPI().watermark()}},{key:"customSymbolStatus",value:function(){return this._innerWindow().customSymbolStatus()}},{key:"setCSSCustomProperty",value:function(e,t){if(!1===e.startsWith("--"))throw new Error("customPropertyName should begin with a double hyphen");this._innerWindow().document.body.style.setProperty(e,t)}},{key:"getCSSCustomPropertyValue",value:function(e){if(!1===e.startsWith("--"))throw new Error("customPropertyName should begin with a double hyphen");var t=this._innerWindow().document.body,n=t.style.getPropertyValue(e);return n||getComputedStyle(t).getPropertyValue(e)}},{key:"unloadUnusedCharts",value:function(){this._innerAPI().unloadUnusedCharts()}},{key:"customThemes",value:function(){var e=(0,Ne.A)((0,Me.A)().mark((function e(){return(0,Me.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._innerWindow().customThemes());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetCache",value:function(){this._innerAPI().resetCache()}},{key:"linking",value:function(){return this._innerAPI().linking}},{key:"_innerAPI",value:function(){return this._innerWindow().tradingViewApi}},{key:"_innerWindow",value:function(){return this._iFrame.contentWindow}},{key:"_doWhenInnerWindowLoaded",value:function(e){var t=this;this._ready?e(this._innerWindow()):this._innerWindowLoaded.then((function(){e(t._innerWindow())}))}},{key:"_doWhenInnerApiLoaded",value:function(e){var t=this;this._doWhenInnerWindowLoaded((function(n){n.doWhenApiIsReady((function(){return e(t._innerAPI())}))}))}},{key:"_autoResizeChart",value:function(){var e=this;this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px",We&&setTimeout((function(){e._iFrame.style.height=window.innerHeight+"px"}),30))}},{key:"_create",value:function(){var e=(0,Ne.A)((0,Me.A)().mark((function e(){var t,n,r,o,i,a,s,l,c,u,d,f,h,p,v,g,m=this;return(0,Me.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null!==(t=null===(n=this._options.enabled_features)||void 0===n?void 0:n.includes("iframe_loading_same_origin"))&&void 0!==t&&t,l=s||null!==(r=null===(o=this._options.enabled_features)||void 0===o?void 0:o.includes("iframe_loading_compatibility_mode"))&&void 0!==r&&r,c=s&&null!==(i=null===(a=this._options.enabled_features)||void 0===a?void 0:a.includes("iframe_loading_root_path"))&&void 0!==i&&i,u=this._render(!l,s,c),d=(0,Re.A)(u,2),f=d[0],h=d[1],p=this._options.container,null!==(v="string"==typeof p?document.getElementById(p):p)){e.next=3;break}throw new Error("There is no such element - #".concat(this._options.container));case 3:if(v.innerHTML=f,this._iFrame=v.querySelector("#".concat(this._id)),g=this._iFrame,e.t0=s,!e.t0){e.next=9;break}return e.next=9,this._innerWindowEvent("sameOriginLoad");case 9:l&&(g.contentWindow?(g.contentWindow.document.open(),g.contentWindow.document.write(h),g.contentWindow.document.close()):console.warn("Unable to locate contentWindow for the created iframe. Please try disabling the `iframe_loading_compatibility_mode` featureset.")),this._innerWindow().addEventListener("innerWindowLoad",(function(e){e.detail.received=!0,function(e){if(void 0===e)throw new Error("".concat("_innerWindowResolver"," is undefined"));return e}(m._innerWindowResolver)()}),{once:!0}),(this._options.autosize||this._options.fullscreen)&&(g.style.width="100%",this._options.fullscreen||(g.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded.then((function(){try{m._innerWindow().widgetReady((function(){m._ready=!0;var e,t=(0,Oe.A)(m._readyHandlers);try{for(t.s();!(e=t.n()).done;){var n=e.value;try{n.call(m)}catch(s){console.error(s)}}}catch(r){t.e(r)}finally{t.f()}m._innerWindow().initializationFinished()}))}catch(s){if(s instanceof Error&&/widgetReady is not a function/.test(s.message))throw new Error("There was an error when loading the library. Usually this error means the library failed to load its static files. Check that the library files are available at ".concat(window.location.host,"/").concat(m._options.library_path||""," or correct the library_path option."))}}));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_innerWindowEvent",value:function(e){var t=this;return new Promise((function(n){t._innerWindow().addEventListener(e,n,{once:!0})}))}},{key:"_render",value:function(e,t,n){var r=window;if(r[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters,brokerFactory:this._options.broker_factory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,rss_news_title:this._options.rss_news_title,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides,timeframe:this._options.timeframe,customTimezones:this._options.custom_timezones,customChartDescriptionFunction:this._options.custom_chart_description_function,customThemes:this._options.custom_themes,imageStorageAdapter:this._options.image_storage_adapter},this._options.saved_data)r[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(r[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");if(this._options.library_path&&!this._options.library_path.endsWith("/")&&console.warn("library_path option should contain a trailing forward slash"),this._options.locale){var o=encodeURIComponent(this._options.locale);He.findIndex((function(e){return e.language===o}))>=0||(console.warn("locale isn't supported. Using default of `en`."),this._options.locale="en")}var i=function(e,t,n){var r,o=new URL("".concat(e||""),location.href).href,i=JSON.parse('["bundles/runtime-patch.4024a32646fc8fa1baf5.js","bundles/__LANG__.7249.ae315255b77fb4a87e60.js","bundles/4986.8b484bfeff805649f879.css","bundles/2614.d933f41e2b12e0f914b7.js","bundles/library.6db9e18bbe110d34ccbe.js"]'),a=encodeURIComponent(t),s=null!==(n=He.find((function(e){return e.language===a})))&&void 0!==n?n:{iso:"en",dir:"ltr"},l='lang="'.concat(s.iso,'" dir="').concat(s.dir,'"'),c="\n".concat(function(e,t,n){if(void 0===e)return"";var r,o=[],i=[],a=(0,Oe.A)(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;s.endsWith(".js")?o.push('<script defer crossorigin="anonymous" src="'.concat(s.replace("__LANG__",n),'"><\/script>')):s.endsWith(".css")&&i.push('<link type="text/css" href="'.concat(t?s.replace(/\.css$/i,".rtl.css"):s,'" rel="stylesheet"/>'))}}catch(l){a.e(l)}finally{a.f()}return[].concat(o,i).join("\n")}(i,"rtl"===s.dir,a),"\n");return"<!DOCTYPE html><html ".concat((r={bundles:c,localeLanguage:a,htmlAttrs:l,libraryPath:o}).htmlAttrs,'><head><base href="').concat(r.libraryPath,'"><meta charset="utf-8"><script>window===window.parent&&(location.href="about:blank")<\/script> ').concat(r.bundles,' </head><body class="chart-page unselectable on-widget"><div class="loading-indicator" id="loading-indicator"></div><script>var JSServer={},__initialEnabledFeaturesets=["trading_terminal"]<\/script><script>(function() {\n\t\twindow.urlParams = (function () {\n\t\t\tvar match,\n\t\t\t\tpl\t = /\\+/g,  // Regex for replacing addition symbol with a space\n\t\t\t\tsearch = /([^&=]+)=?([^&]*)/g,\n\t\t\t\tdecode = function (s) { return decodeURIComponent(s.replace(pl, \' \')).replace(/<\\/?[^>]+(>|$)/g, \'\'); },\n\t\t\t\tquery = function() {\n\t\t\t\t\t// We don\'t use hash on the url because: safari 13 throws an error if you attempt this\n\t\t\t\t\t// on a blob, and safari 14 will strip hash from blob urls.\n\t\t\t\t\tif (frameElement && frameElement.dataset.widgetOptions) {\n\t\t\t\t\t\treturn frameElement.dataset.widgetOptions;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow "Unexpected use of this page";\n\t\t\t\t\t}\n\t\t\t\t}(),\n\t\t\t\tresult = {};\n\n\t\t\twhile (match = search.exec(query)) {\n\t\t\t\tresult[decode(match[1])] = decode(match[2]);\n\t\t\t}\n\n\t\t\tvar additionalSettingsObject = window.parent[result.uid];\n\n\t\t\tvar customObjectNames = [\'datafeed\', \'customFormatters\', \'brokerFactory\', \'save_load_adapter\', \'customTranslateFunction\', \'contextMenu\'];\n\n\t\t\tfor (var p in additionalSettingsObject) {\n\t\t\t\tif (customObjectNames.indexOf(p) === -1) {\n\t\t\t\t\tresult[p] = JSON.stringify(additionalSettingsObject[p]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t})();\n\n\t\twindow.locale = urlParams.locale;\n\t\twindow.language = urlParams.locale; // a very big attention needed here\n\t\twindow.customTranslateFunction = window.parent[urlParams.uid].customTranslateFunction;\n\t\twindow.customChartDescriptionFunction = window.parent[urlParams.uid].customChartDescriptionFunction;\n\n\t\twindow.addCustomCSSFile = function(href) {\n\t\t\tvar link = document.createElement(\'link\');\n\t\t\tlink.setAttribute(\'type\', \'text/css\');\n\t\t\tlink.setAttribute(\'rel\', \'stylesheet\');\n\t\t\tlink.setAttribute(\'href\', href);\n\t\t\tlink.setAttribute(\'cross-origin\', \'anonymous\');\n\n\t\t\twindow.loadedCustomCss = new Promise((resolve) => {\n\t\t\t\tlink.onload = resolve;\n\t\t\t\tlink.onerror = resolve;\n\t\t\t});\n\t\t\tdocument.body.appendChild(link);\n\t\t};\n\n\t\twindow.loadedCustomCss = Promise.resolve();\n\t\tif (!!urlParams.customCSS) {\n\t\t\twindow.addCustomCSSFile(urlParams.customCSS);\n\t\t}\n\n\t\tvar loadingScreenParams = {};\n\n\t\tif (typeof urlParams.loading_screen === \'string\') {\n\t\t\ttry {\n\t\t\t\tloadingScreenParams = JSON.parse(urlParams.loading_screen);\n\t\t\t} catch(e) {}\n\t\t}\n\n\t\tvar loadingIndicatorElement = document.getElementById(\'loading-indicator\');\n\n\t\tif (loadingScreenParams.backgroundColor) {\n\t\t\tloadingIndicatorElement.style = \'background-color: \' + loadingScreenParams.backgroundColor;\n\t\t}\n\n\t\t!function(){"use strict";var t,e=new WeakMap;!function(t){t[t.Element=1]="Element",t[t.Document=9]="Document"}(t||(t={}));var n={mini:"xsmall",xxsmall:"xxsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large"};var s,i,o,r,l=(void 0===r&&(r=""),s=\'<div class="tv-spinner \'.concat(r,\'" role="progressbar"></div>\'),i=function(t){var n,s;return n=document.documentElement,e&&(s=e.get(n)),s||((s=n.ownerDocument.createRange()).selectNodeContents(n),e&&e.set(n,s)),s.createContextualFragment(t)}(s),null!==(o=i.firstElementChild)&&i.removeChild(o),o),a=function(){function t(t){this._shown=!1,this._el=l.cloneNode(!0),this.setSize(n[t||"large"])}return t.prototype.spin=function(t){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=t,void 0!==t&&t.appendChild(this._el)),this._shown=!0,this},t.prototype.stop=function(t){return t&&void 0!==this._container&&this._container.removeChild(this._el),this._el&&this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this},t.prototype.setStyle=function(t){var e=this;return Object.keys(t).forEach((function(n){var s=t[n];void 0!==s&&e._el.style.setProperty(n,s)})),this},t.prototype.style=function(){return this._el.style},t.prototype.setSize=function(t){var e=void 0!==t?"tv-spinner--size_".concat(t):"";return this._el.className="tv-spinner ".concat(e," ").concat(this._shown?"tv-spinner--shown":""),this},t.prototype.getEl=function(){return this._el},t.prototype.destroy=function(){this.stop(),delete this._el,delete this._container},t}();window.Spinner=a}();\n\n\n\t\tvar spinnerColor = (loadingScreenParams.foregroundColor) ? loadingScreenParams.foregroundColor : undefined;\n\n\t\tvar loadingSpinner = new Spinner(\'large\').setStyle({\n\t\t\t\'--tv-spinner-color\': spinnerColor,\n\t\t\tzIndex: String(2e9),\n\t\t});\n\t\tloadingSpinner.getEl().classList.add(\'spinner\');\n\t\tloadingSpinner.spin(loadingIndicatorElement);\n\t})();<\/script></body></html>')}(this._options.library_path||"",this._options.locale),a=new URL("about:blank");if(e){var s=new Blob([i],{type:"text/html"}),l=URL.createObjectURL(s);a=new URL(l)}else if(t){var c,u=null!==(c=this._options.library_path)&&void 0!==c?c:"/",d=n?location.origin:location.href;a=new URL(u+"sameorigin.html",d)}var f="symbol="+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.debug_broker?"&debugBroker="+encodeURIComponent(String(this._options.debug_broker)):"")+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return['<iframe\n\t\tversion="TT v29.5.0 (internal id d4304b56f4484593d3049db5abb2c22dadf6ea92 @ 2025-08-05T15:29:37.116Z)" id="'.concat(this._id,'" name="').concat(this._id,'" src="').concat(a.href,'" data-widget-options="').concat(f,'"\n\t\t').concat(this._options.autosize||this._options.fullscreen?"":'width="'.concat(this._options.width,'" height="').concat(this._options.height,'"'),' title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;">\n\t</iframe>'),i]}}])}();"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"TT v29.5.0 (internal id d4304b56f4484593d3049db5abb2c22dadf6ea92 @ 2025-08-05T15:29:37.116Z)"});var We=!("undefined"==typeof window||!window.navigator||!window.navigator.userAgent)&&window.navigator.userAgent.includes("CriOS")},8794:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(9379),o=n(3986),i=n(4883),a=n.n(i),s=n(792),l=n.n(s),c=n(7040),u=n.n(c),d=n(9719),f=n(4199),h=n(4195),p=n(4932),v=n(5857),g=["children","disabled","forceAriaButton","onClick"],m=["onClick","onMouseEnter","className","ref"];function y(e){var t,n=h.A.mergeProps(y.defaultPropsValue,e),s=n.children,c=n.disabled,u=n.forceAriaButton,b=n.onClick,A=(0,o.A)(n,g),w=(null===s||void 0===s?void 0:s.props)||{},_=w.onClick,C=w.onMouseEnter,S=w.className,k=w.ref,T=(0,o.A)(w,m),x=(0,i.useRef)(null),P=(0,i.useCallback)((function(e){var t=(0,p.A9)(s);x.current=e,t&&(0,p.Xf)(t,e)}),[s,e,k]);return(0,f.A)([d.OC.ENTER,d.OC.SPACE],(function(e){var t,n;(e.preventDefault(),c)||(null===b||void 0===b||b(e),null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.click?null===(n=e.target)||void 0===n||n.click():null===_||void 0===_||_(e))}),{eventName:"keydown",target:x,enable:(null===(t=x.current)||void 0===t?void 0:t.addEventListener)&&(!!_||u)}),null!==s&&void 0!==s&&s.props?a().cloneElement(s,(0,r.A)({ref:P},u||_||C?(0,r.A)((0,r.A)({"aria-disabled":c,className:l()(S,"".concat(v.H3,"-a11y-button")),role:"button",tabIndex:"0"},A),T):{"aria-hidden":!s.props["aria-label"]||s.props["aria-hidden"]})):s}y.defaultPropsValue={disabled:void 0},y.propTypes={disabled:u().bool}},9203:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(9379),o=n(4883),i=n.n(o),a=n(3430),s=n(8032),l=function(e){var t=(0,a.ok)().toLocale;return i().cloneElement(e.children,{"aria-label":t(e.localeKey,e.values)})};function c(e){var t,n;return null!==(t=e.children)&&void 0!==t&&null!==(n=t.props)&&void 0!==n&&n["aria-label"]?e.children:(0,s.jsx)(a.Ay,{children:(0,s.jsx)(l,(0,r.A)((0,r.A)({},e),{},{values:e.localeValues}))})}},5703:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(9379),o=n(3986),i=n(4883),a=n(792),s=n.n(a),l=n(4195),c=n(3430),u=n(5857),d=n(3909),f=n(8032),h=["id","className","children","localeKey","localeValues"],p=(0,i.forwardRef)((function(e,t){var n=l.A.mergeProps(p.defaultPropsValue,e),i=n.id,a=n.className,v=n.children,g=n.localeKey,m=n.localeValues,y=(0,o.A)(n,h),b=(0,d.A)();return(0,f.jsx)("span",(0,r.A)((0,r.A)({},y),{},{ref:t,id:i,className:s()("".concat(u.H3,"-a11y-text"),a),children:v||b&&g&&(0,c.kW)(g,m)}))}));p.defaultPropsValue={className:"",children:null};const v=p},1178:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(4467),o=n(9379),i=n(3986),a=n(4883),s=n(792),l=n.n(s),c=n(4195),u=n(9203),d=n(7769),f=n(8739),h=n(5857),p=n(1075),v=(n(504),n(8032)),g=["children","className"],m=["children","className"],y={error:"okds-fail-circle-fill",warn:"okds-warning-circle-fill",info:"okds-information-circle-fill",success:"okds-success-circle-fill",normal:"okds-information-circle-fill"},b="".concat(h.H3,"-alert");function A(e){var t=e.children,n=e.className,r=(0,i.A)(e,g);return(0,v.jsx)("button",(0,o.A)((0,o.A)({type:"button"},r),{},{className:"".concat(b,"-action ").concat(n||""),children:t}))}function w(e){var t=c.A.mergeProps(w.defaultPropsValue,e,c.A.componentNames.Alert),n=t.title,o=t.onClose,i=t.closable,s=t.desc,f=t.closeText,h=t.className,g=t.children,m=t.rightActionText,_=t.onRightAction,C=t.onConfirm,S=t.confirmText,k=t.cancelText,T=t.onCancel,x=t.type,P=t.showIcon,E=t.icon,L=t.boxClassName,I=t.a11yLandmark,O=t.a11yText,R=t.iconClassName,M=t.titleClassName,N=t.a11yLabelledBy,D=(0,a.useId)(),B=x===p.A.normal?p.A.info:x,F=function(){if(!P)return null;if(!E||"string"===typeof E){return(0,v.jsx)(u.A,{localeKey:{error:"a11y_web_icon_error_universal_default",warn:"a11y_web_icon_warning_universal_default",info:"a11y_web_icon_info_universal_default",success:"a11y_web_icon_success_universal_default",normal:"a11y_web_icon_info_universal_default"}[x],children:(0,v.jsx)(d.A,{className:l()("".concat(b,"-icon ").concat(E||y[x]),R)})})}return E}(),j=l()(c.A.data.okdNamespace,(0,r.A)({},b,b),"".concat(B,"-alert"),{closable:i},(0,r.A)({},h,!!h));return(0,v.jsxs)("div",{className:j,role:I?"region":void 0,"aria-labelledby":O?void 0:N||D,"aria-label":O,children:[F,(0,v.jsxs)("div",{className:l()("".concat(b,"-msg-box"),L),children:[n&&(0,v.jsx)("div",{id:D,className:l()("".concat(b,"-title"),M),children:n}),!Array.isArray(s)&&s&&(0,v.jsx)("div",{className:"".concat(b,"-desc"),children:s}),Array.isArray(s)&&(0,v.jsx)("ul",{className:"".concat(b,"-desc-list ").concat(b,"-desc"),children:s.map((function(e,t){return(0,v.jsx)("li",{children:e},t)}))}),g&&(0,v.jsx)("div",{className:"".concat(b,"-desc"),children:g}),(S||k)&&(0,v.jsxs)("div",{className:"".concat(b,"-action-box"),children:[S&&(0,v.jsx)(A,{onClick:C,children:S}),k&&(0,v.jsx)(A,{onClick:T,children:k})]})]}),m&&(0,v.jsx)(A,{onClick:_,children:m}),i&&(0,v.jsx)(v.Fragment,{children:f||(0,v.jsx)(u.A,{localeKey:"a11y_web_btn_close_universal_default",children:(0,v.jsx)(d.A,{className:"okds-close ".concat(b,"-close"),onClick:o})})})]})}w.defaultPropsValue={title:"",desc:"",closable:!0,className:"",closeText:"",showIcon:!0,type:p.A.info,onClose:null,rightActionText:"",onRightAction:null,onConfirm:null,confirmText:"",cancelText:"",onCancel:null,icon:"",boxClassName:"",iconClassName:"",titleClassName:""},w.TYPE=p.A,w.Action=A,w.Link=function(e){var t=e.children,n=e.className,r=(0,i.A)(e,m);return(0,v.jsx)(f.A,(0,o.A)((0,o.A)({rel:"noopener",handleStyle:!1},r),{},{className:"".concat(b,"-desc ").concat(b,"-link ").concat(n||""),children:t}))};const _=w},9643:(e,t,n)=>{"use strict";n.d(t,{A:()=>M});var r=n(4467),o=n(9379),i=n(3986),a=n(4883),s=n(792),l=n.n(s),c=n(4195),u=n(7769),d=n(4393),f=n(5857),h=n(7040),p=n.n(h),v=n(7844),g=n(9719),m=n(3909),y=n(5526),b=n(8739),A=n(8032);const w=(0,a.forwardRef)((function(e,t){var n=e.children,r=e.rel,i=(e.loading,e.renderAs),a=e.originProps,s=e.disabled,l=e.target,c=e.powerLinkProps,u=e.href,d=e.btnStyle,f=e.routerLinkProps,h=i||b.A,p=i?(0,o.A)((0,o.A)({},f),{},{to:s||null===f||void 0===f?void 0:f.to}):(0,o.A)((0,o.A)({handleStyle:!1},c),{},{href:s?void 0:u,target:l,rel:r});return(0,A.jsx)(h,(0,o.A)((0,o.A)((0,o.A)({role:s?"link":void 0},p),a),{},{ref:t,style:d,children:n}))}));var _=n(5386),C=["children","category","type","className","htmlType","onClick","disabled","block","circle","size","width","style","href","target","loading","submit","debounceTime","rect","strictCircle","rel","powerLinkProps","ellipsis","renderAs","routerLinkProps"],S="".concat(f.H3,"-btn"),k=(0,a.forwardRef)((function(e,t){var n=c.A.useMergeProps(k.defaultPropsValue,e),s=n.children,u=n.category,d=n.type,f=n.className,h=n.htmlType,p=n.onClick,g=n.disabled,y=n.block,b=n.circle,_=n.size,T=n.width,x=n.style,P=n.href,E=n.target,L=n.loading,I=(n.submit,n.debounceTime),O=n.rect,R=n.strictCircle,M=n.rel,N=n.powerLinkProps,D=(n.ellipsis,n.renderAs),B=n.routerLinkProps,F=(0,i.A)(n,C),j=(0,a.useRef)(0),V=(0,m.A)(),H=(0,v.A)().isSm,z=!!P||D,U=(0,o.A)((0,o.A)({},x),T?{width:T,minWidth:T}:{}),W=l()(c.A.data.okdNamespace,(0,r.A)({},S,S),"btn-".concat(_),(0,r.A)({},"btn-".concat(u,"-").concat(d),d),{block:y},{"btn-disabled":g&&!L},{loading:L},{"btn-circle":b},(0,r.A)({},"".concat(S,"-strict-circle"),R),{"btn-rect":O},H&&V&&"mobile",f),K=(0,o.A)((0,o.A)({disabled:g||L,"aria-disabled":g||void 0},F),{},{type:h,onClick:function(e){z&&g&&e.preventDefault();var t=Date.now();t-j.current>I&&(j.current=t,p&&p(e))},className:W}),G=(0,A.jsx)("button",(0,o.A)((0,o.A)({type:"button"},K),{},{ref:t,style:U,children:s}));return z?(0,A.jsx)(w,{originProps:K,renderAs:D,btnStyle:U,disabled:g,target:E,rel:M,ref:t,href:P,routerLinkProps:B,loading:L,powerLinkProps:N,children:s}):G}));k.propTypes={category:p().oneOf([_.XJ.fill,_.XJ.outline,_.XJ.text]),type:p().oneOf([_.ZE.highlight,_.ZE.primary,_.ZE.secondary,_.ZE.tertiary,_.ZE.quaternary,_.ZE.red,_.ZE.green,_.ZE.yellow,_.ZE.orange,_.ZE.gray,_.ZE.default]),size:p().oneOf([y.A.xxs,y.A.xs,y.A.s,y.A.sm,y.A.md,y.A.lg,y.A.xl]),width:p().oneOfType([p().number,p().string]),disabled:p().bool,circle:p().bool,block:p().bool,debounceTime:p().number,onClick:p().func,htmlType:p().string,href:p().string,target:p().string,rel:p().string,rect:p().bool,strictCircle:p().bool,powerLinkProps:p().object,renderAs:p().any,routerLinkProps:p().object},k.defaultPropsValue={disabled:!1,circle:!1,category:_.XJ.fill,type:_.ZE.secondary,size:y.A.md,width:void 0,htmlType:"button",onClick:null,href:"",rel:"noopener",target:"",block:!1,debounceTime:500,rect:!1,strictCircle:!1,powerLinkProps:{}},k.elementType=g.rk.Button;const T=k;var x,P=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},_.ZE.highlight,_.ZE.highlight),_.ZE.primary,_.ZE.primary),_.ZE.secondary,_.ZE.secondary),_.ZE.tertiary,_.ZE.tertiary),_.ZE.quaternary,_.ZE.quaternary),_.ZE.red,_.ZE.red),_.ZE.green,_.ZE.green),_.ZE.gray,_.ZE.gray),_.ZE.orange,_.ZE.orange),_.ZE.yellow,_.ZE.yellow),E=(x={_:{category:_.XJ.fill,type:_.ZE.secondary}},(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)(x,"".concat(_.ZE.primary,"_"),{category:_.XJ.fill,type:_.ZE.primary,allow:!0}),"".concat(_.ZE.primary,"_").concat(_.ZE.default),{category:_.XJ.fill,type:_.ZE.primary}),"".concat(_.ZE.red,"_"),{category:_.XJ.fill,type:_.ZE.red,allow:!0}),"".concat(_.ZE.primary,"_").concat(_.ZE.red),{category:_.XJ.fill,type:_.ZE.red}),"".concat(_.ZE.green,"_"),{category:_.XJ.fill,type:_.ZE.green,allow:!0}),"".concat(_.ZE.primary,"_").concat(_.ZE.green),{category:_.XJ.fill,type:_.ZE.green}),"".concat(_.ZE.primary,"_").concat(_.ZE.gray),{category:_.XJ.fill,type:_.ZE.gray}),"".concat(_.ZE.secondary,"_"),{category:_.XJ.fill,type:_.ZE.secondary,allow:!0}),"".concat(_.ZE.secondary,"_").concat(_.ZE.default),{category:_.XJ.fill,type:_.ZE.secondary}),"".concat(_.ZE.secondary,"_").concat(_.ZE.gray),{category:_.XJ.fill,type:_.ZE.gray}),(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)(x,"".concat(_.ZE.basic,"_"),{category:_.XJ.outline,type:_.ZE.primary}),"".concat(_.ZE.basic,"_").concat(_.ZE.default),{category:_.XJ.outline,type:_.ZE.primary}),"".concat(_.ZE.plain,"_"),{category:_.XJ.text,type:_.ZE.primary}),"".concat(_.ZE.plain,"_").concat(_.ZE.default),{category:_.XJ.text,type:_.ZE.primary}),"".concat(_.ZE.plain,"_").concat(_.ZE.red),{category:_.XJ.text,type:_.ZE.red}),"".concat(_.ZE.plain,"_").concat(_.ZE.green),{category:_.XJ.text,type:_.ZE.green}),"".concat(_.ZE.plain,"_").concat(_.ZE.orange),{category:_.XJ.text,type:_.ZE.orange}),"".concat(_.ZE.plain,"_").concat(_.ZE.yellow),{category:_.XJ.text,type:_.ZE.yellow}));var L=n(5618),I=["currentTheme","changeTheme","loading","icon","className","children","iconType","size","category","type","color","loadingText","iconStyle","loaderProps","contentClassName","ellipsis"],O="".concat(f.H3,"-btn"),R=(0,a.forwardRef)((function(e,t){var n=c.A.mergeProps(R.defaultPropsValue,e),s=(n.currentTheme,n.changeTheme,n.loading),h=n.icon,p=n.className,v=n.children,g=n.iconType,m=n.size,y=n.category,b=n.type,w=n.color,C=n.loadingText,S=n.iconStyle,k=n.loaderProps,x=n.contentClassName,L=n.ellipsis,M=(0,i.A)(n,I),N=function(e){var t=e.iconStyle,n=e.iconType,r=e.icon,o=e.children;return r?"string"===typeof r?(0,A.jsx)(u.A,{className:l()("btn-icon","".concat(r," "),o&&"btn-icon-".concat(n)),style:t,"aria-hidden":"true"}):r:null}({iconStyle:S,iconType:g,icon:h,children:v}),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=E["".concat(t,"_").concat(n)];return e||!r||r.allow?{category:_.XJ[e]||_.XJ.fill,type:P[t]||_.ZE.secondary,newType:!0}:(0,o.A)((0,o.A)({},r),{},{oldType:t,oldColor:n,newType:!1})}(y,b,w),B=D.category,F=D.type;return(0,A.jsxs)(T,(0,o.A)((0,o.A)({},M),{},{ref:t,size:m,category:B,type:F,loading:s,className:p,ellipsis:L,children:[s&&(0,A.jsxs)(a.Fragment,{children:[(0,A.jsx)(d.A.Circle,(0,o.A)((0,o.A)({},k),{},{defaultA11yTextLocaleKey:C?void 0:"a11y_web_btn_loading_universal_default",className:l()("".concat(f.H3,"-btn-loader"),{"btn-loader-position-absolute":!!C}),loaderClassName:"".concat(f.H3,"-btn-").concat(B,"-").concat(F,"-loader ").concat(f.H3,"-btn-loader-size")})),!!C&&(0,A.jsx)("div",{className:"".concat(f.H3,"-btn-loader-text"),children:C})]}),(0,A.jsxs)("span",{className:l()("btn-content",x,(0,r.A)({},"".concat(O,"-ellipsis"),L),{"btn-content-position":s&&C}),children:[g===_._B.leading&&h?N:null,v,g===_._B.tailing&&h?N:null]})]}))}));R.defaultPropsValue={loading:!1,icon:"",iconType:_._B.leading,className:"",style:void 0,loadingText:null,loaderProps:{},contentClassName:"",ellipsis:!1},(0,L.C)(R);const M=R},5386:(e,t,n)=>{"use strict";n.d(t,{XJ:()=>o,ZE:()=>r,_B:()=>i});var r={highlight:"highlight",primary:"primary",secondary:"secondary",tertiary:"tertiary",quaternary:"quaternary",red:"red",green:"green",orange:"orange",yellow:"yellow",gray:"grey",default:"normal",basic:"basic",plain:"plain"},o={fill:"fill",outline:"outline",text:"text"},i={tailing:"tailing",leading:"leading"}},8174:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(9643).A},5618:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(9719),o=n(5526),i=n(5386);function a(e){Object.assign(e,{elementType:r.rk.Button,SIZE:o.A,CATEGORY:i.XJ,TYPE:i.ZE,ICON_POSITION:i._B,COLOR:i.ZE,THEME:{},btnType:i.ZE,size:o.A})}},4415:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(9379),o=n(4467),i=n(3986),a=n(4883),s=n(792),l=n.n(s),c=n(9719),u=n(4195),d=n(5857),f=n(5526),h=n(1075),p=n(8032),v=["clickStopPropagation","onClick","checked","indeterminate","disabled","type","className","style","textClass","children","size","error","boxClassName","circle","innerClassName","id"],g="".concat(d.H3,"-checkbox"),m=[f.A.sm,f.A.md];function y(e){var t=u.A.mergeProps(y.defaultPropsValue,e),n=t.clickStopPropagation,s=t.onClick,c=t.checked,d=t.indeterminate,b=t.disabled,A=t.type,w=t.className,_=t.style,C=t.textClass,S=t.children,k=t.size,T=t.error,x=t.boxClassName,P=t.circle,E=t.innerClassName,L=t.id,I=(0,i.A)(t,v),O=k===f.A.xs?f.A.sm:k,R=m.includes(O)?O:f.A.md,M=l()(u.A.data.okdNamespace,(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},"".concat(g,"-").concat(R),!0),"".concat(g,"-wrapper"),!0),"".concat(g,"-wrapper-disabled"),b),"".concat(g,"-wrapper-checked"),c),"".concat(g,"-wrapper-indeterminate"),d),"".concat(g,"-wrapper-error"),T||A===h.A.error),A&&"".concat(g,"-").concat(A),P&&"".concat(g,"-circular"),w),N="".concat(g,"-input"),D=l()("".concat(g,"-inner"),E),B=l()(C,"".concat(g,"-children")),F=(0,a.useId)(),j=T?{"aria-invalid":!0}:{};return(0,p.jsxs)("div",{className:M,style:_,children:[(0,p.jsxs)("span",{className:l()(g,x),children:[(0,p.jsx)("input",(0,r.A)((0,r.A)((0,r.A)({type:"checkbox",className:N,checked:c,disabled:b,onClick:function(e){n&&e.stopPropagation(),s(e)}},j),I),{},{id:L||F})),(0,p.jsx)("span",{className:D})]}),void 0!==S&&(0,p.jsx)("label",{htmlFor:L||F,className:B,children:S})]})}y.elementType=c.rk.Checkbox,y.TYPE=(0,r.A)((0,r.A)({},h.A),{reversed:"reversed"}),y.SIZE=f.A,y.defaultPropsValue={className:"",style:void 0,checked:!1,indeterminate:!1,disabled:!1,error:!1,size:f.A.md,circle:!1,type:void 0,onChange:function(){},onClick:function(){},clickStopPropagation:!1,textClass:"",boxClassName:"",innerClassName:""};var b=["disabled","checked","className"],A="".concat(d.H3,"-checkbox");function w(e){var t=u.A.mergeProps(w.defaultPropsValue,e),n=t.disabled,o=t.checked,a=t.className,s=(0,i.A)(t,b);return(0,p.jsx)("div",(0,r.A)((0,r.A)({},s),{},{className:l()("".concat(A,"-circle"),o&&"".concat(A,"-circle-checked"),n&&"".concat(A,"-circle-disabled"),a),onClick:function(t){var r;!n&&(null===(r=e.onClick)||void 0===r||r.call(e,!o,t))}}))}w.defaultPropsValue={checked:!1,disabled:!1,onClick:void 0,className:void 0,style:void 0};var _=n(5458),C=["value","style","className","label","disabled"],S="".concat(d.H3,"-checkbox-group");function k(e){var t=u.A.mergeProps(k.defaultPropsValue,e),n=t.value,a=t.options,s=t.className,c=t.style,d=t.size,f=t.type,h=t.onChange;if(!a||!a.length)return null;var v=l()(u.A.data.okdNamespace,s,(0,o.A)({},S,!0)),g=a.map((function(e){return"string"===typeof e?{label:e,value:e}:e.value&&void 0===e.label?(0,r.A)({label:e.value},e):e}));return(0,p.jsx)("div",{className:v,style:c,children:g.map((function(e){var t,o=e.value,s=e.style,l=e.className,c=e.label,u=e.disabled,v=(0,i.A)(e,C);return(0,p.jsx)(y,(0,r.A)((0,r.A)({disabled:u,checked:-1!==n.indexOf(o),onChange:(t=o,function(e){var r=(0,_.A)(n);return e.target.checked?(r.push(t),r.sort((function(e,t){return a.indexOf(e)-a.indexOf(t)}))):r.splice(r.indexOf(t),1),h(r)}),className:l,style:s,size:d,type:f,"e2e-okd-checkbox-group-option-value":o},v),{},{children:c}),o.toString())}))})}k.defaultPropsValue={className:"",style:void 0,value:[],options:[],onChange:function(){},size:f.A.md,type:void 0},k.elementType=c.rk.CheckboxGroup;const T=k;y.Group=T,y.Circle=w;const x=y},4563:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(296),o=n(4883);const i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultValue,i=t.defaultValuePropName,a=void 0===i?"defaultValue":i,s=t.valuePropName,l=void 0===s?"value":s,c=t.trigger,u=void 0===c?"onChange":c,d=e[l],f=void 0!==d,h=(0,o.useMemo)((function(){var t;return f?d:null!==(t=e[a])&&void 0!==t?t:n}),[]),p=(0,o.useRef)(h);f&&(p.current=d);var v=function(){var e=(0,o.useState)({}),t=(0,r.A)(e,2)[1];return(0,o.useCallback)((function(){return t({})}),[])}();return[p.current,function(t){var n=function(e){return"function"===typeof e}(t)?t(p.current):t;if(f||(p.current=n,v()),e[u]){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];e[u].apply(e,[n].concat(o))}}]}},61:(e,t,n)=>{"use strict";n.d(t,{A:()=>Re});var r=n(4822),o=n(9379),i=n(4467),a=n(296),s=n(3986),l=n(4883),c=n.n(l),u=n(4195),d=n(8001),f=n(792),h=n.n(f),p=n(5857),v="".concat(p.H3,"-coach"),g="".concat(v,"-con"),m="".concat(v,"-title"),y="".concat(v,"-desc"),b="".concat(v,"-footer"),A="".concat(v,"-standalone"),w="".concat(v,"-tour"),_="".concat(w,"-footer"),C="".concat(A,"-footer");var S=n(8032);const k=c().memo((function(e){var t=e.description;return(0,S.jsx)("div",{className:y,children:t})})),T=c().memo((function(e){var t=e.footer;return(0,S.jsx)("div",{className:b,children:t})}));var x=n(7769);const P=c().memo((function(e){var t=e.title,n=e.onClose,r=e.closable;return(0,S.jsxs)("div",{className:m,children:[(0,S.jsx)("div",{children:t}),r&&(0,S.jsx)(x.A,{onClick:n,className:h()("okds-close","".concat(m,"-close"))})]})})),E=c().memo((function(e){var t=e.description,n=e.title,r=e.onClose,o=e.closeable,i=e.footer,a=e.width,s=h()(u.A.data.okdNamespace,g),l=a?{width:a}:null;return(0,S.jsxs)("div",{className:s,style:l,children:[n&&(0,S.jsx)(P,{title:n,onClose:r,closable:o}),t&&(0,S.jsx)(k,{description:t}),i&&(0,S.jsx)(T,{footer:i})]})}));var L=["content","popupRef","prefixClassName"],I="".concat(p.H3,"-coach-popover");function O(e){var t=u.A.mergeProps(O.defaultPropsValue,e),n=t.content,r=t.popupRef,i=t.prefixClassName,a=(0,s.A)(t,L);return(0,S.jsx)(d.A,(0,o.A)((0,o.A)({},a),{},{ref:r,arrowSize:d.A.SIZE.lg,prefixClassName:h()(I,i),content:n,alwaysUpdatePopper:!0,arrowPadding:8}))}O.defaultPropsValue={content:""};var R={svgWrapper:function(){return{width:"100%",height:"100%"}},maskArea:function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,fill:"black"}},maskRect:function(e){var t=e.windowWidth,n=e.windowHeight,r=e.maskID;return{x:0,y:0,width:t,height:n,fill:"currentColor",mask:"url(#".concat(r,")")}},highlightedArea:function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,pointerEvents:"auto",fill:"transparent",rx:e.rx,display:"none"}}};var M=n(1845),N=n(9991),D="data-okui-order";var B,F=new Map;function j(e){var t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):"okui-util-key"}function V(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function H(e){return Array.from((F.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function z(e,t){if("undefined"===typeof window||!window.document||!window.document.createElement)return null;var n=t.csp,r=t.prepend,o=document.createElement("style");o.setAttribute(D,(0,N.YW)(function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r))),null!==n&&void 0!==n&&n.nonce&&(o.nonce=null===n||void 0===n?void 0:n.nonce),o.innerText=(0,N.YW)(e);var i=V(t),a=i.firstChild;if(r){if("queue"===r){var s=H(i).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(D))}));if(s.length)return i.insertBefore(o,s[s.length-1].nextSibling),o}i.insertBefore(o,a)}else i.appendChild(o);return o}function U(e,t){return H(V(t)).find((function(n){return n.getAttribute(j(t))===e}))}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=U(e,t);n&&V(t).removeChild(n)}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){var n=F.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=z("",t),o=r.parentNode;F.set(e,o),e.removeChild(r)}}(V(n),n);var r=U(t,n);if(r){var o,i,a;if(null!==(o=n.csp)&&void 0!==o&&o.nonce&&r.nonce!==(null===(i=n.csp)||void 0===i?void 0:i.nonce))r.nonce=null===(a=n.csp)||void 0===a?void 0:a.nonce;return r.innerText!==e&&(r.innerText=(0,N.YW)(e)),r}var s=z(e,n);return s.setAttribute(j(n),(0,N.YW)(t)),s}var G="okui-util-locker-".concat(Date.now()),q=0;function Y(){var e=!!(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]),t=l.useState((function(){return q+=1,"".concat(G,"_").concat(q)})),n=(0,a.A)(t,1)[0];l.useEffect((function(){if(e){var t=function(e){if("undefined"===typeof document)return 0;if(e||void 0===B){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var o=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;o===i&&(i=n.clientWidth),document.body.removeChild(n),B=o-i}return B}(document.body).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;K("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(t,"px);"):"","\n}"),n)}else W(n);return function(){W(n)}}),[e,n])}const Z=function(e){var t=e.children,n=e.type,r=void 0===n?"div":n,o=(0,l.useRef)(null),i=(0,l.useRef)(null),s=(0,l.useState)({}),c=(0,a.A)(s,2)[1];return Y(document.body),(0,l.useEffect)((function(){var e;if(!o.current)return function(){};var t=null===(e=o.current)||void 0===e?void 0:e.ownerDocument;return i.current=null===t||void 0===t?void 0:t.createElement(r),null===t||void 0===t||t.body.appendChild(i.current),c({}),function(){i.current&&i.current.ownerDocument&&i.current.ownerDocument.body.removeChild(i.current)}}),[r]),i.current?(0,M.createPortal)(t,i.current):(0,S.jsx)("span",{ref:o})};const X=function(e){var t=e.children;return(0,S.jsx)(Z,{children:t})};var J=n(2195),Q=n(9508);function $(e){return e<0?0:e}function ee(){return{w:Math.max(document.documentElement.clientWidth,Q.A.innerWidth||0),h:Math.max(document.documentElement.clientHeight,Q.A.innerHeight||0)}}var te={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0};function ne(e){var t=te;e&&(t=e.getBoundingClientRect());return t}function re(e){var t=ee(),n=t.w,r=t.h,i=ne(e),a=i.bottom,s=i.x,l=i.height,c=i.left,u=i.right,d=i.top,f=i.width,h=i.y;return(0,o.A)((0,o.A)({},ne(e)),{},{bottom:a,x:s,height:l,left:c,right:u,top:d,width:f,y:h,windowWidth:n,windowHeight:r,hasHighligtedElems:!1})}var oe=n(1093),ie={fill:"transparent",pointerEvents:"auto"};const ae=function(e){var t=e.padding,n=void 0===t?4:t,r=e.rx,i=void 0===r?4:r,s=e.onClick,l=e.onClickHighlighted,d=e.styles,f=void 0===d?{}:d,p=e.sizes,g=function(e){return e+J.o.mathRandom().toString(36).substring(2,16)}("mask__"),m=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=R[t](n),o=e[t];return o?o(r,n):r}}(f),y=function(e){return Array.isArray(e)?1===e.length?[e[0],e[0],e[0],e[0]]:2===e.length?[e[1],e[0],e[1],e[0]]:3===e.length?[e[0],e[1],e[2],e[1]]:e.length>3?[e[0],e[1],e[2],e[3]]:[10,10]:[e,e,e,e]}(n),b=(0,a.A)(y,4),A=b[0],w=b[1],_=b[2],C=b[3],k=ee(),T=k.w,x=k.h,P=!(null===p||void 0===p||!p.width),E=$(P?(null===p||void 0===p?void 0:p.width)+C+w:null===p||void 0===p?void 0:p.width),L=$(P?(null===p||void 0===p?void 0:p.height)+A+_:null===p||void 0===p?void 0:p.height),I=$(P?(null===p||void 0===p?void 0:p.top)-A:null===p||void 0===p?void 0:p.top),O=$(P?(null===p||void 0===p?void 0:p.left)-C:null===p||void 0===p?void 0:p.left),M=T,N=x,D=m("maskArea",{x:O,y:I,width:E,height:L,rx:i}),B=c().useState(oe.cb.next().value),F=(0,a.A)(B,1)[0],j=m("highlightedArea",{x:O,y:I,width:E,height:L,rx:i}),V=h()(u.A.data.okdNamespace,"".concat(v,"-mask"));return(0,S.jsx)(X,{children:(0,S.jsx)("div",{className:V,style:{zIndex:F},onClick:s,children:(0,S.jsxs)("svg",{style:m("svgWrapper",{windowWidth:M,windowHeight:N}),children:[(0,S.jsx)("defs",{children:(0,S.jsxs)("mask",{id:g,children:[(0,S.jsx)("rect",{x:0,y:0,width:M,height:N,fill:"white"}),P&&(0,S.jsx)("rect",{style:D})]})}),(0,S.jsx)("rect",{style:m("maskRect",{windowWidth:M,windowHeight:N,maskID:g})}),(0,S.jsx)("rect",(0,o.A)((0,o.A)({},ie),{},{x:"0",y:"0",width:"100%",height:I})),(0,S.jsx)("rect",(0,o.A)((0,o.A)({},ie),{},{x:"0",y:"0",width:O,height:"100%"})),(0,S.jsx)("rect",(0,o.A)((0,o.A)({},ie),{},{x:"0",y:I+L,width:"100%",height:"calc(100vh - ".concat(I+L,"px)")})),(0,S.jsx)("rect",(0,o.A)((0,o.A)({},ie),{},{x:O+E,y:"0",width:"calc(100vw - ".concat(O+E,"px)"),height:"100%"})),(0,S.jsx)("rect",{style:j,onClick:l})]})})})};var se=n(8174),le=n(2737),ce=["onClick","disabled","children","className"],ue=["onClick","children","className","disabled"];function de(e){var t=e.onClick,n=e.disabled,r=e.children,i=e.className,a=(0,s.A)(e,ce),l=(0,le.A)({OriginComponent:se.A,defaultProps:(0,o.A)({type:se.A.TYPE.highlight,size:se.A.SIZE.xs},a)});return(0,S.jsx)(l,{onClick:t,className:i,disabled:n,children:r})}var fe=c().memo((function(e){var t=e.onClick,n=e.children,r=e.className,i=e.disabled,a=(0,s.A)(e,ue),l=(0,le.A)({OriginComponent:se.A,defaultProps:(0,o.A)({category:se.A.CATEGORY.outline,type:se.A.TYPE.primary,size:se.A.SIZE.xs},a)});return(0,S.jsx)(l,{onClick:t,className:r,disabled:i,children:n})}));const he=function(e){var t=e.confirmText,n=e.cancelText,r=e.onConfirm,i=e.onCancel,a=e.renderFooter,s=null!==t&&void 0!==t,l=null!==n&&void 0!==n,c={onClick:r,className:"".concat(C,"-button")},u={onClick:i,className:"".concat(C,"-button")},d=(0,S.jsxs)("div",{children:[l?(0,S.jsx)(fe,(0,o.A)((0,o.A)({},u),{},{children:n})):null,s?(0,S.jsx)(de,(0,o.A)((0,o.A)({},c),{},{children:t})):null]});return(0,S.jsx)("div",{className:C,children:a?a((function(){return d})):(0,S.jsx)(S.Fragment,{children:d})})};var pe=n(4563);function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}var ge={bottom:0,height:0,left:0,right:0,top:0,width:0,windowWidth:0,windowHeight:0,x:0,y:0};const me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{block:"center",behavior:"smooth"},n=(0,l.useState)(!1),r=(0,a.A)(n,2),i=r[0],s=r[1],c=(0,l.useState)(!1),u=(0,a.A)(c,2),d=u[0],f=u[1],h=(0,l.useState)(null),p=(0,a.A)(h,2),v=p[0],g=p[1],m=(0,l.useState)(ge),y=(0,a.A)(m,2),b=y[0],A=y[1],w=e.target,_=e.scrollToView,C=e.showValue,S=e.isStandalone,k=e.getScrollContainer,T="function"===typeof w?w():w,x=(0,l.useCallback)((function(){var e=re(T);Object.entries(b).some((function(t){var n=(0,a.A)(t,2),r=n[0],o=n[1];return e[r]!==o}))&&A(e)}),[T,b]);(0,l.useEffect)((function(){return x(),Q.A.addEventListener("resize",x),function(){return Q.A.removeEventListener("resize",x)}}),[T,v]),(0,l.useEffect)((function(){var e=null===k||void 0===k?void 0:k();return e&&e.addEventListener("scroll",x),function(){e&&e.removeEventListener("scroll",x)}}),[T,v]),(0,l.useEffect)((function(){C&&x()}),[C]),(0,l.useEffect)((function(){var e,n,r=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left,i=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight;return t>=0&&o>=0&&n<=i&&r<=a}((0,o.A)({},b));!S&&!r&&T&&_&&(s(!0),(e=T,n=t,new Promise((function(t){var r;if(!(e instanceof Element))throw new TypeError("Argument 1 must be an Element");var i,a=0,s=(0,o.A)({behavior:"smooth"},n);null===e||void 0===e||null===(r=e.scrollIntoView)||void 0===r||r.call(e,s),requestAnimationFrame((function n(){var r=null===e||void 0===e?void 0:e.getBoundingClientRect().top;if(r===i){if(a++>2)return void t(null)}else a=0,i=r;requestAnimationFrame(n)}))}))).then((function(){d||g(Date.now())})).catch((function(){})).finally((function(){s(!1)})))}),[b]);var P=(0,l.useCallback)((function(){f(!0);var e=re(T),t=ve({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));A(t),f(!1)}),[T,b]);return{sizes:b,transition:i,target:T,observableRefresher:P}};var ye=["title","description","confirmText","cancelText","onConfirm","onCancel","defaultShow","closeable","onClose","radius","highlightedPadding","show","mask","width","scrollToView"],be={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},Ae=(0,l.forwardRef)((function(e,t){var n,r=u.A.mergeProps(Ae.defaultPropsValue,e),c=r.title,d=r.description,f=r.confirmText,h=r.cancelText,p=r.onConfirm,v=r.onCancel,g=r.defaultShow,m=r.closeable,y=r.onClose,b=r.radius,A=r.highlightedPadding,w=r.show,_=r.mask,C=r.width,k=r.scrollToView,T=(0,s.A)(r,ye),x=null!==f&&void 0!==f,P=null!==h&&void 0!==h,L=(0,l.useRef)(null),I=P||x,R=(0,pe.A)({defaultShow:g,show:w},{defaultValuePropName:"defaultShow",valuePropName:"show"}),M=(0,a.A)(R,2),N=M[0],D=M[1],B=me({target:null===(n=L.current)||void 0===n?void 0:n.popupRef,scrollToView:k,showValue:N,isStandalone:!0}),F=B.sizes,j=B.transition;(0,l.useImperativeHandle)(t,(function(){return L.current}));var V=(0,l.useCallback)((function(){var e,t;y&&y(),D(!1),g&&(null===(e=L.current)||void 0===e||null===(t=e.setVisible)||void 0===t||t.call(e,!1))}),[]),H=g?"defaultShow":"show",z=I?{trigger:"click",show:N}:(0,i.A)({},H,N),U=I?(0,S.jsx)(he,{confirmText:f,cancelText:h,onConfirm:p,onCancel:function(){null===v||void 0===v||v(),D(!1)}}):null,W=(0,S.jsx)(E,{title:c,description:d,footer:U,closeable:m,onClose:V,width:C});return _?(0,S.jsxs)(S.Fragment,{children:[N?(0,S.jsx)(ae,{sizes:j?be:F,padding:A,rx:b,styles:{highlightedArea:function(e){return(0,o.A)({},e)}}}):null,(0,S.jsx)(O,(0,o.A)((0,o.A)({},T),{},{trigger:"click",show:N,popupRef:L,gutter:Number(A)+2,content:W}))]}):(0,S.jsx)(O,(0,o.A)((0,o.A)((0,o.A)({},T),z),{},{content:W,popupRef:L}))}));Ae.defaultPropsValue={title:"",description:"",confirmText:null,cancelText:null,onConfirm:null,onCancel:null,closeable:!1,onClose:null,mask:!1,radius:4,highlightedPadding:4,width:null,scrollToView:!0},Ae.TRIGGER=d.A.TRIGGER;const we=Ae;var _e=n(777),Ce=function(e){var t=e.current,n=e.total;return(0,S.jsx)("div",{children:(0,_e.DY)()?"".concat(n,"/").concat(t):"".concat(t,"/").concat(n)})};const Se=function(e){var t=e.current,n=e.total,r=e.onInternalChange,i=e.onFinish,a=e.finishText,s=e.renderFooter,l=t===n-1,c=t+1,u={onClick:l?i:function(){r(t+1)},className:"".concat(_,"-button ").concat(_,"-confirm")},d={onClick:function(){r(t-1)},className:"".concat(_,"-button ").concat(_,"-cancel")},f=(0,S.jsxs)("div",{className:"".concat(_,"-right"),children:[0!==t?(0,S.jsx)(fe,(0,o.A)((0,o.A)({},d),{},{children:(0,S.jsx)(x.A,{className:"okds-arrow-chevron-left-centered-sm"})})):null,(0,S.jsx)(de,(0,o.A)((0,o.A)({},u),{},{children:l?(0,S.jsx)(S.Fragment,{children:a}):(0,S.jsx)(x.A,{className:"okds-arrow-chevron-right-centered-sm"})}))]});return(0,S.jsx)("div",{className:_,children:s?s((function(){return f}),c,n):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Ce,{current:c,total:n}),f]})})};var ke=["current","defaultCurrent","steps","setOpen","onClose","onChange","onFinish","closeable","placement","renderFooter","radius","finishText","highlightedPadding","mask","width","getScrollContainer"],Te=["placement","closeable","radius","highlightedPadding","width"],xe=["show","defaultShow"],Pe={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},Ee=function(e){var t=e.current,n=e.defaultCurrent,r=e.steps,i=void 0===r?[]:r,c=e.setOpen,u=e.onClose,d=e.onChange,f=e.onFinish,h=e.closeable,p=e.placement,v=e.renderFooter,g=e.radius,m=e.finishText,y=e.highlightedPadding,b=e.mask,A=e.width,w=e.getScrollContainer,_=(0,s.A)(e,ke),C=(0,pe.A)({onChange:d,current:t,defaultCurrent:n},{defaultValuePropName:"defaultCurrent",valuePropName:"current"}),k=(0,a.A)(C,2),T=k[0],x=k[1],P=i[T],L=P||{},I=L.placement,R=L.closeable,M=L.radius,N=L.highlightedPadding,D=L.width,B=(0,s.A)(L,Te),F=(0,l.useCallback)((function(){u&&u(),c(!1)}),[]),j=null!==I&&void 0!==I?I:p,V=null!==R&&void 0!==R?R:h,H=null!==N&&void 0!==N?N:y,z=null!==M&&void 0!==M?M:g,U=null!==D&&void 0!==D?D:A,W=me((0,o.A)((0,o.A)({},P),{},{scrollToView:!0,getScrollContainer:w}),{block:"center",behavior:"auto"}),K=W.sizes,G=W.transition,q=W.target;return P?(0,S.jsxs)(S.Fragment,{children:[b&&(0,S.jsx)(ae,{sizes:G?Pe:K,padding:H,rx:z,styles:{highlightedArea:function(e){return(0,o.A)((0,o.A)({},e),{},{display:"block"})}}}),(0,S.jsx)(O,(0,o.A)((0,o.A)({placement:j,referenceRef:q},_),{},{alwaysUpdatePopper:!0,show:!0,gutter:Number(H)+2,content:(0,S.jsx)(E,(0,o.A)({onClose:F,closeable:V,footer:(0,S.jsx)(Se,{current:Number(T),total:i.length,onInternalChange:function(e){x(e)},onFinish:function(){F(),null===f||void 0===f||f()},finishText:m,renderFooter:v}),width:U},B))}))]}):null},Le=function(e){var t=u.A.mergeProps(Le.defaultPropsValue,e),n=t.show,r=t.defaultShow,i=(0,s.A)(t,xe),l=(0,pe.A)({defaultShow:r,show:n},{defaultValuePropName:"defaultShow",valuePropName:"show"}),c=(0,a.A)(l,2),d=c[0],f=c[1];return(0,S.jsx)(S.Fragment,{children:d?(0,S.jsx)(Ee,(0,o.A)((0,o.A)({},i),{},{setOpen:f})):null})};Le.defaultPropsValue={onChange:function(){},current:void 0,defaultCurrent:0,closeable:!0,onClose:function(){},onFinish:function(){},show:void 0,defaultShow:void 0,placement:r.M8.top,renderFooter:null,steps:[],finishText:"",radius:4,highlightedPadding:4,mask:!0,width:null};const Ie=Le;n(504);var Oe=we;Oe.Tour=Ie,Oe.DIRECTION=r.M8;const Re=Oe},2561:(e,t,n)=>{"use strict";n.d(t,{A:()=>Lt});var r=n(9379),o=n(995);o.A.okdThemes=o.A.okdThemes||{},o.A.okdThemes.light=o.A.okdThemes.light||{};var i=o.A.okdThemes.light.okd||{};o.A.okdThemes.light.okd=(0,r.A)((0,r.A)({},i),{dialog:{footer:{action:{cancel:{type:"secondary",size:"sm"},confirm:{type:"highlight",size:"sm"}}}}}),o.A.okdThemes.light.cc=(0,r.A)((0,r.A)({},i),{dialog:{footer:{action:{cancel:{type:"secondary",size:"sm"},confirm:{type:"highlight",size:"sm"}}}}}),o.A.okdThemes.default=o.A.okdThemes.light;var a=n(1237);a.A.okdThemes=a.A.okdThemes||{},a.A.okdThemes.dark=a.A.okdThemes.dark||{};var s=a.A.okdThemes.dark.okd||{};a.A.okdThemes.dark.okd=(0,r.A)((0,r.A)({},s),{dialog:{footer:{action:{cancel:{type:"primary",size:"sm"},confirm:{type:"highlight",size:"sm"}}}}}),a.A.okdThemes.dark.cc=(0,r.A)((0,r.A)({},s),{dialog:{footer:{action:{cancel:{type:"primary",size:"sm"},confirm:{type:"highlight",size:"sm"}}}}});var l=n(4883),c=n.n(l),u=n(792),d=n.n(u),f=n(1742),h=n(9991),p=n(7844),v=n(296),g=n(9508),m=n(7860);function y(e){var t=e.frozenBg,n=(0,l.useState)(null),r=(0,v.A)(n,2),o=r[0],i=r[1],a=(0,l.useMemo)((function(){return(0,m.s)((function(){var e,t,n="inherit",r=null===(e=g.A.document)||void 0===e||null===(t=e.body)||void 0===t?void 0:t.offsetWidth;i((function(e){return e===n?r:n}))}),500,!0)}),[]);return(0,l.useEffect)((function(){return t&&function(){var e,t=((null===(e=g.A.document)||void 0===e?void 0:e.body)||{}).offsetWidth;i(void 0===t?0:t)}(),t&&g.A.addEventListener("resize",a),function(){t&&g.A.removeEventListener("resize",a)}}),[]),t?o:null}var b=n(6795),A=n(4195),w=n(4156),_=n(1093),C=n(3986),S=n(1845),k=n.n(S),T=n(4467),x=n(5857),P=n(8032),E=["visible","timeout","children","className","classNames","setTransitionRef","renderDom","onTransitionEnd"],L="unmount",I="entering",O="entered",R="exiting",M="exited",N=0;const D=function(e){var t=e.visible,n=e.timeout,o=e.children,i=e.className,a=e.classNames,s=e.setTransitionRef,l=e.renderDom,u=e.onTransitionEnd,f=(0,C.A)(e,E),h=c().useRef(null),p=function(e,t,n,r){var o=c().useState(L),i=(0,v.A)(o,2),a=i[0],s=i[1],l=c().useCallback((function(e){e!==a&&s(e)}),[a]);return c().useEffect((function(){if(e){if(clearTimeout(0),a===L)return void l(M);a===M&&n.current&&n.current.clientWidth,a!==M&&a!==R||(l(I),N=setTimeout((function(){l(O)}),t))}else clearTimeout(N),a!==O&&a!==I||(l(R),setTimeout((function(){null===r||void 0===r||r(),l(L)}),t))}),[n,e,l,a,t]),a}(t,n,h,u),g=c().useState(!1),m=(0,v.A)(g,2),y=m[0],b=m[1];c().useEffect((function(){b(p===I||p===R)}),[p]);var w=d()(A.A.data.popupClassName,A.A.data.okdNamespace,i,"".concat(a,"-").concat(p),(0,T.A)({},"".concat(a,"-active"),y));return p!==L||l?(0,P.jsx)("div",(0,r.A)((0,r.A)({},f),{},{className:w,ref:function(e){h.current=e,null===s||void 0===s||s(e)},dir:A.A.data.popupDir,style:(0,r.A)({transitionDuration:"".concat(n,"ms")},f.style),children:o})):null};var B=["visible","timeout","transitionDuration","children","className","timingFunc"],F="".concat(x.H3,"-transition-fade"),j=function(e){var t=A.A.mergeProps(j.defaultPropsValue,e),n=t.visible,o=t.timeout,i=t.transitionDuration,a=t.children,s=t.className,l=t.timingFunc,c=(0,C.A)(t,B),u=d()(F,(0,T.A)({},"".concat(F,"-").concat(l),l),s);return(0,P.jsx)(D,(0,r.A)((0,r.A)({},c),{},{visible:n,timeout:null!==o&&void 0!==o?o:i,className:u,classNames:F,children:a}))};j.defaultPropsValue={transitionDuration:300,visible:!1,className:""};const V=j;var H=n(721);var z=["timeout","visible","onClick","className","style","autoIndex","frozenBg","getContainer"],U="".concat(x.H3,"-mask"),W=function(e){var t=A.A.mergeProps(W.defaultPropsValue,e),n=t.timeout,o=t.visible,i=t.onClick,a=t.className,s=t.style,c=t.autoIndex,u=t.frozenBg,h=t.getContainer,p=(0,C.A)(t,z),v=y({frozenBg:u});!function(e){var t=e.frozenBg,n=e.visible;(0,l.useEffect)((function(){t&&(n?H.Ay.frozenScroll(!0):H.Ay.frozenScroll(!1))}),[t,n]),(0,l.useEffect)((function(){return function(){t&&H.Ay.frozenScroll(!1)}}),[])}({frozenBg:u,visible:o});var g=c?(0,r.A)({zIndex:_.cb.next().value},s):s,m=(0,P.jsx)(V,(0,r.A)({visible:o,className:d()(A.A.data.okdNamespace,U,a),style:(0,r.A)({width:v},g),timeout:n,onClick:i},p)),b=null===h||void 0===h?void 0:h();return b?(0,f.f)()?m:k().createPortal(m,b):m};W.defaultPropsValue={visible:!1,onClick:function(){},timeout:300,className:"",autoIndex:!1,frozenBg:!1,getContainer:null};const K=W;var G=n(3029),q=n(2901),Y=n(388),Z=n(2176),X=n(3954),J=n(5501);const Q=function(e){function t(){return(0,G.A)(this,t),e=this,n=t,r=arguments,n=(0,X.A)(n),(0,Y.A)(e,(0,Z.A)()?Reflect.construct(n,r||[],(0,X.A)(e).constructor):n.apply(e,r));var e,n,r}return(0,J.A)(t,e),(0,q.A)(t,[{key:"componentDidMount",value:function(){this.createContainer()}},{key:"componentDidUpdate",value:function(e){var t=this.props.didUpdate;t&&t(e)}},{key:"createContainer",value:function(){this.container=this.props.getContainer(),this.forceUpdate()}},{key:"render",value:function(){return this.container?(0,f.f)()?this.props.children:k().createPortal(this.props.children,this.container):null}}])}(c().Component);var $=n(1289),ee=n(1075),te="".concat(x.H3,"-dialog"),ne={right:"right",left:"left",full:"full"},re={horizontal:"horizontal",vertical:"vertical"},oe={success:ee.A.success,info:ee.A.info,prompt:ee.A.prompt,alert:ee.A.alert,warn:ee.A.warn,error:ee.A.error,default:"normal"},ie=(0,$.A)(),ae="sm",se=c().createContext({}),le=function(){return c().useContext(se)};const ce=se.Provider;var ue=new((0,q.A)((function e(){var t=this;(0,G.A)(this,e),this.store=[],this.destroyAll=function(){t.store.forEach((function(e){e()}))},this.create=function(e,n){var o,i,a,s,l=null===(o=g.A.document)||void 0===o?void 0:o.createElement("div");l.style.width="100%",l&&(null===(i=g.A.document)||void 0===i||null===(a=i.body)||void 0===a||a.appendChild(l));var c=null,u=null,d=(0,r.A)((0,r.A)({},n),{},{visible:!0,onClose:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null===(e=u)||void 0===e||e.apply(void 0,n)}});function h(t){var n=e;(0,f.f)()||(s?s.render((0,P.jsx)(n,(0,r.A)((0,r.A)({getContainer:function(){return l}},t),{},{operation:c}))):(s=S.createRoot(l)).render((0,P.jsx)(n,(0,r.A)((0,r.A)({getContainer:function(){return l}},t),{},{operation:c}))))}var p=function(){h((0,r.A)((0,r.A)({},d),{},{visible:!1})),setTimeout((function(){if(!(0,f.f)()){var e,n;if(null===(e=s)||void 0===e||e.unmount(),null!==l&&void 0!==l&&l.parentNode)null===l||void 0===l||null===(n=l.parentNode)||void 0===n||n.removeChild(l);s=null,t.store=t.store.filter((function(e){return e!==p}))}}),500)};return u=function(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=null===n||void 0===n||null===(e=n.onClose)||void 0===e?void 0:e.call.apply(e,[n].concat(r));!1!==(null===i||void 0===i?void 0:i.closeDialog)&&(0,w.A)((function(){p()}),!0)},c={destroy:p,update:function(e){h(d=(0,r.A)((0,r.A)({},d),e))},destroyAll:t.destroyAll},h(d),t.store.push(p),c}})));function de(e,t){return ue.create(e,t)}de.destroyAll=function(){ue.destroyAll()};const fe=de;var he=n(2737),pe=n(8174),ve=["children","loading","onClose","operation","onClick"],ge=function(e){var t=e.children,n=e.loading,o=e.onClose,i=e.operation,a=e.onClick,s=(0,C.A)(e,ve),c=(0,l.useState)(!1),u=(0,v.A)(c,2),d=u[0],f=u[1];return(0,P.jsx)(pe.A,(0,r.A)((0,r.A)({className:"dialog-btn",size:pe.A.SIZE.md,loading:d||n,onClick:function(e){if(a){var t=a(i,e);t&&t.then&&(f(!0),t.then((function(e){f(!1),"boolean"===typeof e&&e||o&&o({fromAction:!0})}),(function(){f(!1)})).catch((function(){})))}else o&&o({fromAction:!0})}},s),{},{children:t}))};ge.SIZE=pe.A.SIZE,ge.TYPE=pe.A.TYPE;const me=ge;var ye=["text","confirmBtnProps","cancelBtnProps"],be=pe.A.TYPE,Ae=pe.A.CATEGORY,we=pe.A.SIZE,_e="confirm",Ce=function(e){var t=e.item,n=e.isMobile,o=e.confirmBtnType,i=e.isAverageLayout,a=e.twoButtons,s=e.operation,l=t.text,c=t.confirmBtnProps,u=t.cancelBtnProps,f=(0,C.A)(t,ye),h=(0,H.VP)(f,["hasCancelBtn","hasConfirmBtn","color","type","size","className"]),p=t.hasCancelBtn?u:c,v={size:n?we.md:we.sm},g=t.hasCancelBtn?"cancel":_e;return g===_e&&(v=(0,r.A)((0,r.A)({},v),{},{type:o||be.primary})),(0,P.jsx)(he.h,(0,r.A)((0,r.A)((0,r.A)({OriginComponent:me,keyChain:"okd.dialog.footer.action.".concat(g),defaultProps:v,isMobile:n},h),p),{},{className:d()("dialog-btn",a&&!i&&"double-btn",null===h||void 0===h?void 0:h.className,null===p||void 0===p?void 0:p.className),operation:s,children:l}))};function Se(e){var t=e.btnLayout,n=void 0===t?ne.right:t,r=e.isMobile,o=void 0===r||r,i=e.confirmBtnType,a=e.btnList,s=e.onClose,l=e.confirmText,c=e.cancelText,u=e.onConfirm,d=e.onCancel,f=e.confirmDisabled,h=e.confirmLoading,p=e.confirmBtnProps,g=e.cancelBtnProps,m=e.operation,y=function(){var e=null!==l&&void 0!==l,t=null!==c&&void 0!==c,n=[];return t&&n.push({text:c,category:pe.A.CATEGORY.outline,onClick:d||s,hasCancelBtn:t,cancelBtnProps:g,onClose:s,"data-testid":"okd-dialog-cancel-btn"}),e&&n.push({text:l,category:Ae.fill,onClick:u,loading:h,disabled:f,hasConfirmBtn:e,confirmBtnProps:p,onClose:s,"data-testid":"okd-dialog-confirm-btn"}),a&&0!==a.length?a:n||[]}(),b=(0,v.A)(y,2),A=b[0],w=b[1],_=y.length>1,C=(null===w||void 0===w?void 0:w.block)&&(null===A||void 0===A?void 0:A.block);return(0,P.jsx)("div",{className:"".concat(te,"-btn-box layout-").concat(n),children:y.map((function(e,t){return(0,P.jsx)(Ce,{item:e,isAverageLayout:C,twoButtons:_,confirmBtnType:i,isMobile:o,operation:m},t)}))})}const ke=c().memo(Se);var Te=n(7040),xe=n.n(Te),Pe=function(e){return e.touches&&e.touches[0]?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}},Ee=function(e,t){var n;return null!==e&&void 0!==e&&null!==(n=e.includes)&&void 0!==n&&n.call(e,"%")?parseFloat(e.replace("%","")/100)*t:e},Le=(0,l.forwardRef)((function(e,t){var n=A.A.mergeProps(Le.defaultPropsValue,e),r=n.getMoveRef,o=n.getDragRef,i=n.getDragRefList,a=n.children,s=n.dragInViewport,c=n.noTextSelection,u=n.onDragMove,d=n.viewportOverflow,f=void 0===d?{}:d,h=n.detectWindowResize,p=n.stopPropagationWhenMove,v=n.dispatchClickEventOnMove,m=(0,l.useRef)(!1),y=(0,l.useRef)(5),b=(0,l.useRef)(1e3),w=(0,l.useRef)(null),_=(0,l.useRef)(null),C=function(){_.current.style.left=w.current.left,_.current.style.top=w.current.top};(0,l.useImperativeHandle)(t,(function(){return{resetPosition:C}}),[]),(0,l.useEffect)((function(){if(h){var e=C;return g.A.addEventListener("resize",e),function(){g.A.removeEventListener("resize",e)}}return function(){}}),[h]);var S=function(e,t){var n=e,r=t;_.current=r,w.current={left:r.style.left,top:r.style.top};var o=r.getBoundingClientRect(),i=f.left,a=f.right,l=f.top,d=f.bottom,h=Ee(i,o.width),A=Ee(a,o.width),C=Ee(l,o.height),S=Ee(d,o.height),k=r.offsetWidth,T=r.offsetHeight,x=function(e){var t=Pe(e),n=t.clientX,i=t.clientY,a=n-r.offsetLeft,l=i-r.offsetTop,d=r.offsetLeft,f=r.offsetTop,p=(new Date).getTime(),w=function(e){v&&!m.current&&g.A.document.documentElement.dispatchEvent(new Event("click",{bubbles:!0})),m.current=!0;var t=Pe(e),n=t.clientX,i=t.clientY,d=n-a,f=i-l,p=g.A.innerWidth,y=g.A.innerHeight,b=u({left:d,top:f,viewportWidth:p,viewportHeight:y,moveDom:r,moveDomRect:o,viewportOverflowValues:{left:h,right:A,top:C,bottom:S}});if(b)Object.assign(r.style,b);else{var w=n-a,_=i-l;s&&(w=Math.max(0-h,Math.min(p-k+A,n-a)),_=Math.max(0-C,Math.min(y-T+S,i-l))),r.style.left="".concat(w,"px"),r.style.top="".concat(_,"px")}c&&(g.A.document.body.style.userSelect="none")},_=function(){g.A.document.onmousemove=null,g.A.document.onmouseup=null,g.A.document.ontouchmove=null,g.A.document.ontouchend=null,g.A.document.body.style.userSelect=null;var e=Math.abs(r.offsetLeft-d),t=Math.abs(r.offsetTop-f),n=(new Date).getTime()-p;Math.max(e,t)<y.current&&n<b.current?m.current=!1:setTimeout((function(){m.current=!1}),700)};g.A.document.onmouseup=_,g.A.document.ontouchend=_,g.A.document.onmousemove=w,g.A.document.ontouchmove=w};n.addEventListener("mousedown",x),n.addEventListener("touchstart",x,{passive:!1}),n.addEventListener("click",(function(e){m.current&&(e.preventDefault(),p&&e.stopPropagation())}))};return(0,l.useEffect)((function(){!function(){var e=r(),t=o();t=t||e;var n=i?i():[],a=0===n.length;e&&(a?t&&S(t,e):n.forEach((function(t){S(t,e)})))}()}),[]),(0,P.jsx)(P.Fragment,{children:a})}));Le.propTypes={getMoveRef:xe().func,getDragRef:xe().func,getDragRefList:xe().func,onDragMove:xe().func,dragInViewport:xe().bool,viewportOverflow:xe().object,detectWindowResize:xe().bool,noTextSelection:xe().bool,stopPropagationWhenMove:xe().bool,dispatchClickEventOnMove:xe().bool},Le.defaultPropsValue={getMoveRef:function(){},getDragRef:function(){},onDragMove:function(){},getDragRefList:null,dragInViewport:!1,noTextSelection:!1,detectWindowResize:!1,stopPropagationWhenMove:!0,dispatchClickEventOnMove:!1,viewportOverflow:{left:0,right:0,top:0,bottom:0}};const Ie=Le;var Oe=["timeout","transitionDuration","visible","children","isFade","placement","className","timingFunc"],Re="".concat(x.H3,"-transition-slide"),Me=function(e){var t=A.A.mergeProps(Me.defaultPropsValue,e),n=t.timeout,o=t.transitionDuration,i=t.visible,a=t.children,s=t.isFade,l=t.placement,c=t.className,u=t.timingFunc,f=(0,C.A)(t,Oe),h=d()(Re,"".concat(Re,"-").concat(l),(0,T.A)({},"".concat(Re,"-fade"),s),(0,T.A)({},"".concat(Re,"-").concat(u),u),c);return(0,P.jsx)(D,(0,r.A)((0,r.A)({},f),{},{visible:i,timeout:null!==n&&void 0!==n?n:o,className:h,classNames:Re,children:a}))};Me.defaultPropsValue={placement:"bottom",transitionDuration:300,visible:!1,className:"",isFade:!1};const Ne=Me;var De=["type","children","visible","timeout"],Be={fade:"fade",slide:"slide"},Fe=function(e){var t=A.A.mergeProps(Fe.defaultPropsValue,e),n=t.type,o=t.children,i=t.visible,a=t.timeout,s=(0,C.A)(t,De),l=V;switch(n){case Be.fade:l=V;break;case Be.slide:l=Ne}return(0,P.jsx)(l,(0,r.A)((0,r.A)({visible:i,transitionDuration:a},s),{},{children:o}))};Fe.defaultPropsValue={timeout:100,type:Be.fade},Fe.TYPE=Be;const je=Fe;var Ve=n(777),He=function(e,t,n){return e<t?t:e>n?n:e},ze=function(e){var t=e.left,n=e.top,r=e.moveDom,o=e.viewportWidth,i=e.viewportHeight,a=e.viewportOverflowValues;if(!r)return(0,T.A)((0,T.A)({},(0,Ve.U)("left"),"".concat(t,"px")),"top","".concat(n,"px"));var s=a.left,l=a.right,c=a.top,u=a.bottom,d=r.getBoundingClientRect(),f=d.width,h=d.height,p=(0,b.bx)(r).y,v=Math.abs(p),g=f/2,m=h-v;return(0,T.A)((0,T.A)({},(0,Ve.U)("left"),"".concat(He((0,Ve.DY)()?o-t-f:t,g-s,o-g+l),"px")),"top","".concat(He(n,v-c,i-m+u),"px"))},Ue=function(e){var t=["mousedown","mousemove"],n=function(e){e.preventDefault(),e.stopPropagation()},r=e.map((function(e){return document.querySelector(e)}));return function(e){e.forEach((function(e){t.forEach((function(t){null===e||void 0===e||e.addEventListener(t,n,{passive:!1})}))}))}(r),function(){return function(e){e.forEach((function(e){t.forEach((function(t){null===e||void 0===e||e.removeEventListener(t,n)}))}))}(r)}};function We(e){var t=e.frozenBg,n=e.float,r=e.dialogWindowRef,o=e.preventScrollLeakage,i=(0,l.useRef)(!1),a=(0,l.useCallback)((function(){H.Ay.frozenScroll(!1),i.current=!1}),[]),s=(0,l.useCallback)((function(e){if(!i.current){var t,n,o=(null===(t=r.current)||void 0===t||null===(n=t.getBoundingClientRect)||void 0===n?void 0:n.call(t))||{},a=o.x,s=o.width,l=o.y,c=o.height,u=e.clientX,d=e.clientY;u>a&&u<a+s&&d>l&&d<l+c&&(H.Ay.frozenScroll(!0),i.current=!0)}}),[]);return(0,l.useEffect)((function(){o&&!t&&n&&r.current&&(r.current.addEventListener("mouseleave",a),r.current.addEventListener("mousemove",s),r.current.addEventListener("mouseenter",s))}),[t,n,o]),(0,l.useEffect)((function(){var e=r.current;return function(){null!==e&&void 0!==e&&e.removeEventListener&&(e.removeEventListener("mouseleave",a),e.removeEventListener("mousemove",s),e.removeEventListener("mouseenter",s))}}),[]),(0,l.useEffect)((function(){return t?H.Ay.frozenScroll(!0):H.Ay.frozenScroll(!1),function(){H.Ay.frozenScroll(!1)}}),[t]),null}var Ke=n(9719),Ge=n(4199),qe=n(7964),Ye=n(4393);function Ze(e){var t=e.footer,n=e.confirmText,o=e.cancelText,i=e.renderFooter,a=e.footerStyle,s=e.footerLine,l=void 0===s||s,u=e.btnFull,f=void 0!==u&&u,h=e.customRenderFooter,p=e.footerClassName,v=e.isMobile,g=null!==o&&void 0!==o||null!==n&&void 0!==n,m=f&&v?{btnLayout:ne.full}:{btnLayout:e.btnLayout},y=(0,P.jsx)(ke,(0,r.A)({confirmText:e.confirmText,cancelText:e.cancelText,onConfirm:e.onConfirm,onCancel:e.onCancel,operation:e.operation,confirmBtnType:e.confirmBtnType,btnList:e.btnList,onClose:e.onClose,confirmDisabled:e.confirmDisabled,confirmLoading:e.confirmLoading,confirmBtnProps:e.confirmBtnProps,cancelBtnProps:e.cancelBtnProps,isMobile:v},m)),b=d()("".concat(te,"-footer-box"),(0,T.A)({},"".concat(te,"-footer-line"),l&&!v),p);return g||t||i||h?h?(0,P.jsx)(P.Fragment,{children:h((function(){return y}))}):(0,P.jsx)("div",{className:b,style:a,children:i?i((function(){return y})):(0,P.jsxs)(c().Fragment,{children:[y,t]})}):null}const Xe=c().memo(Ze);var Je=function(e){var t=e.children,n=e.noContentPadding,r=e.className,o=e.style,i=d()("".concat(te,"-customer-box"),n&&"no-padding",r);return(0,P.jsx)("div",{className:i,style:o,children:t})},Qe=function(e){var t=e.children,n=e.noContentPadding,r=e.scrollDisable,o=e.scrollBoxClassName,i=e.containerClassName,a=e.setContainerRef,s=d()("".concat(te,"-container"),{"no-padding":n},i),c=(0,l.useCallback)((function(e){null===a||void 0===a||a(e)}),[]);return(0,P.jsx)("div",{id:"scroll-box",className:d()("".concat(te,"-scroll-box"),r&&"scroll-disable",o),ref:c,children:(0,P.jsx)("div",{className:s,children:t})})};function $e(e){var t=e.renderContent,n=e.scrollDisable,r=e.noContentPadding,o=e.children,i=e.scrollBoxClassName,a=e.containerClassName,s=e.title,l=e.confirmText,u=e.cancelText,f=e.footer,h=e.topContent,p=e.scrollBoxRef,v=function(e){var t,n,r=e.title,o=e.cancelText,i=e.confirmText,a=e.topContent,s=e.footer;return r||a||(t="".concat(te,"-scroll-bar-start")),null!==i&&void 0!==i||null!==o&&void 0!==o||s||(n="".concat(te,"-scroll-bar-end")),{scrollBarStartClass:t,scrollBarEndClass:n}}({title:s,confirmText:l,cancelText:u,footer:f,topContent:h}),g=v.scrollBarStartClass,m=v.scrollBarEndClass;return(0,P.jsx)(c().Fragment,{children:t?t(Qe,Je):(0,P.jsx)(Qe,{scrollDisable:n,noContentPadding:r,containerClassName:a,scrollBoxClassName:d()(i,g,m),setContainerRef:p,children:o})})}var et=n(9203),tt=n(7769),nt=function(e){var t=e.showBackBtn,n=e.onBack,r=e.renderTopLeft,o=e.hideCloseBtn,i=e.onClose,a=e.renderTopRight,s=e.titleCenter,u=e.defaultTitleStyle,f=e.children,h=e.closeClassName,p=e.closeIconClassName,v=e.draggable,g="".concat(te,s?"-top-hidden-for-t-center":"-top-action-hidden");(0,l.useEffect)((function(){return v?Ue(["#okdDialogBackBtn","#okdDialogCloseBtn"]):function(){}}),[]);var m=(0,P.jsx)(et.A,{localeKey:"a11y_web_btn_back_universal_default",children:(0,P.jsx)(tt.A,{onClick:t?n:void 0,id:"okdDialogBackBtn",className:d()((0,T.A)({},g,!t),"okds-arrow-chevron-left-centered-sm","".concat(te,"-b-btn")),"aria-hidden":!t})}),y=(0,P.jsx)(et.A,{localeKey:"a11y_web_btn_close_universal_default",children:(0,P.jsx)(tt.A,{id:"okdDialogCloseBtn",onClick:o?void 0:i,className:d()((0,T.A)({},g,o),"okds-close","".concat(te,"-c-btn"),p),"aria-hidden":o})}),b="function"===typeof r?r():r,A=b||m,w="function"===typeof a?a():a,_=w||y,C=d()("".concat(te,"-top-l"),(0,T.A)((0,T.A)({},"".concat(te,"-top-action-fixed"),!u),g,!b&&!t)),S=d()("".concat(te,"-top-r"),(0,T.A)((0,T.A)({},"".concat(te,"-top-action-fixed"),!u),g,!w&&o),h);return(0,P.jsxs)(c().Fragment,{children:[(0,P.jsx)("div",{className:C,children:A}),f,(0,P.jsx)("div",{className:S,children:_})]})};function rt(e){var t=e.title,n=e.subTitle,r=e.titleCenter,o=e.closeBtn,i=e.hideCloseBtn,a=e.showBackBtn,s=e.onBack,l=e.onClose,u=e.topContent,f=e.renderTopLeft,h=e.renderTopRight,p=e.topStyle,v=e.topClassName,g=void 0===v?"":v,m=e.headerLine,y=void 0===m||m,b=e.closeClassName,A=e.closeIconClassName,w=e.isMobile,_=e.draggable,C=!u&&(t||n),S=o?function(){return(0,P.jsx)("span",{className:"".concat(te,"-close-box"),onClick:l,children:o})}:h,k=d()("".concat(te,"-title-container"),(0,T.A)({"title-center":r,"has-back":a},"".concat(te,"-header-line"),y&&!w),g),x=le().titleId;return(0,P.jsxs)(c().Fragment,{children:[u,C&&(0,P.jsx)("div",{className:k,style:p,children:(0,P.jsx)(nt,{titleCenter:r,showBackBtn:a,hideCloseBtn:i,onBack:s,renderTopLeft:f,closeBtn:o,onClose:l,renderTopRight:S,defaultTitleStyle:C,closeClassName:b,closeIconClassName:A,draggable:_,children:(0,P.jsxs)("div",{className:"".concat(te,"-title-block ").concat(r?"title-center":""),children:[t&&(0,P.jsx)("span",{className:"modal-title",role:"heading","aria-level":"1",id:x,children:t}),n&&(0,P.jsx)("span",{className:"modal-sub-title",children:n})]})})}),!C&&(0,P.jsx)(nt,{showBackBtn:a,hideCloseBtn:i,onBack:s,renderTopLeft:f,closeBtn:o,onClose:l,renderTopRight:S,closeClassName:b,defaultTitleStyle:C,closeIconClassName:A})]})}var ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.windowProps,n=e.showLoading,o=void 0!==n&&n,i=e.className,a=e.style,s=e.getRef,u=e.dir,d=e.children,f=e.whiteboard,h=e.containerMode,p=e.visible,v=e.innerOnClose,g=e.shouldEscClose,m=e.id,y=e["aria-describedby"],b=e["aria-labelledby"],A=e["aria-label"],w=e.autoFocus,_=e.focusManagerProps,C=c().useRef(),S=le().titleId,k=(0,l.useCallback)((function(e){null===s||void 0===s||s(e),C.current=e}),[]);(0,Ge.A)(Ke.OC.ESC,(function(e){e.stopPropagation(),p&&v()}),{target:C.current,enable:g});var T=f||h,x=T?d:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(rt,(0,r.A)({},e)),(0,P.jsx)($e,(0,r.A)({},e)),(0,P.jsx)(Xe,(0,r.A)({},e)),(0,P.jsx)(Ye.A,{loading:o,hasMask:!0})]});return(0,P.jsx)("div",(0,r.A)((0,r.A)({className:i,style:a,ref:k,dir:u},t),{},{role:"dialog","aria-modal":"true",id:m,"aria-describedby":y,"aria-labelledby":A?void 0:b||S,"aria-label":A,children:T?x:(0,P.jsx)(qe.A,(0,r.A)((0,r.A)({getContainer:function(){return C.current}},_),{},{autoFocus:w,children:x}))}))};ot.elementType="Dialog.Window",ot.Top=rt,ot.Bottom=Xe,ot.Content=$e;const it=ot;const at=function(e){var t=e.visible,n=e.frozenBg,o=e.isFull,i=e.isShowHeader,a=e.float,s=e.children,u=e.noMargin,f=e.containerMode,h=e.width,m=e.windowClass,y=e.alignBottom,b=e.zIndex,w=e.className,_=e.transitionProps,C=void 0===_?{}:_,S=e.animateDisable,k=e.draggable,x=e.getDragRef,E=e.dragProps,L=e.getDragRefList,I=e.ignoreScrollBar,O=e.mobileWidth,R=e.windowStyle,M=e.isMobile,N=e.bodyWidth,D=e.containerZIndex,B=e.innerOnClose,F=e.rebirthDialog,j=e.finalVisible,V=e.windowProps,H=void 0===V?{}:V,z=e.afterTransition,U=e.mobileMode,W=e.layerPositionAbsolute,K=e.renderWindow,G=e.preventScrollLeakage,q=e.showWindowBorder,Y=void 0===q||q,Z=c().createRef(),X=c().createRef(),J=(0,l.useRef)(!1),Q=(0,l.useState)(t&&!F),$=(0,v.A)(Q,2),ee=$[0],ne=$[1],re=(0,p.A)().isSm;(0,l.useEffect)((function(){t&&J.current&&!F&&ne(!0),J.current=!0}),[t,F]);var oe=ee&&!t?{display:"none"}:null,ie=M||!a||I||!n?{}:{width:N||void 0},ae=(0,r.A)((0,r.A)({zIndex:b||D},ie),{},{position:W?"absolute":void 0}),se=d()(te,w,(0,T.A)({},"".concat(te,"-float"),a),U&&"".concat(te,"-mobile-mode")),le=(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},O&&M?{width:O}:{}),h&&!M?{width:h}:{}),function(){if(M&&o&&i){var e=g.A||{},t=e.devicePixelRatio,n=e.okMeta,r=void 0===n?{}:n,a=("string"===typeof r?JSON.parse(r):r).statusBarHeight/t||24,s="calc(100% - ".concat(a,"px - 44px - 12px)");return{minHeight:s,maxHeight:s}}return{}}()),R),ce=M&&(o||y),ue=d()(A.A.data.popupClassName,A.A.data.okdNamespace,"".concat(te,"-window"),!re&&Y&&"".concat(te,"-window-border"),ce&&"".concat(te,"-window-safe"),(0,T.A)({},"".concat(te,"-window-float"),a),(0,T.A)({},m,!!m),{"full-page":o&&!i},{"full-page-with-show-header":o&&i},{"bottom-align":o||y},{"no-margin":u},{"container-mode":f}),de=(0,P.jsx)(it,(0,r.A)((0,r.A)({isFull:o,alignBottom:y,dir:A.A.data.popupDir},e),{},{onClose:B,className:ue,style:le,getRef:function(e){Z.current=e,X.current=e},windowProps:H,isMobile:M,children:s}));return k&&(de=(0,P.jsx)(Ie,(0,r.A)((0,r.A)({getMoveRef:function(){return Z.current},getDragRef:x,getDragRefList:L},E),{},{onDragMove:null!==E&&void 0!==E&&E.dragInViewport?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=null===(e=E.onDragMove)||void 0===e?void 0:e.call.apply(e,[E].concat(n));return o||ze.apply(void 0,n)}:void 0,children:de}))),S?j||ee?(0,P.jsxs)("div",{style:(0,r.A)((0,r.A)({},ae),oe),className:se,children:[(null===K||void 0===K?void 0:K((function(){return de})))||de,(0,P.jsx)(We,{frozenBg:n,float:a,dialogWindowRef:X,preventScrollLeakage:G})]}):null:(0,P.jsxs)(je,(0,r.A)((0,r.A)({visible:j,renderDom:ee,onTransitionEnd:z},C),{},{style:(0,r.A)((0,r.A)({},ae),oe),className:se,children:[(null===K||void 0===K?void 0:K((function(){return de})))||de,j&&(0,P.jsx)(We,{frozenBg:n,preventScrollLeakage:G,float:a,dialogWindowRef:X})]}))};function st(e){var t=A.A.mergeProps(st.defaultPropsValue,e,A.A.componentNames.Dialog),n=t.visible,o=t.getContainer,i=t.parentSelector,a=t.onMediaChange,s=t.frozenBg,u=t.onClose,v=t.onTransitionEnd,m=t.escToClose,C=t.hideCloseBtn,S=t.renderTopRight,k=t.float,T=t.openWhen,x=t.zIndex,E=t.mask,L=t.maskClosable,I=t.maskClassName,O=t.mobileMode,R=t.onVisibleChange,M=(0,l.useRef)({}),N=(0,l.useId)(),D=(0,l.useMemo)((function(){return n&&(M.current={mask:_.cb.next().value,window:_.cb.next().value}),{maskZIndex:k?M.current.mask:1,containerZIndex:k?M.current.window:1}}),[n,k]),B=D.maskZIndex,F=D.containerZIndex,j=y({frozenBg:s}),V=(0,p.A)(),H=V.isSm,z=V.media,U=O||H,W=(0,l.useRef)(n),G=void 0===L?U:L,q=(0,l.useMemo)((function(){return void 0!==m?m:!C&&!S||G}),[m,C,S,G]);(0,l.useEffect)((function(){W.current&&(null===R||void 0===R||R(n)),W.current=!0}),[n]),(0,l.useEffect)((function(){a&&a({media:z,isMobile:U})}),[z]);var Y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,w.A)((function(){u&&u.apply(void 0,t)}),!0),v&&setTimeout(v,300)},Z=Object.prototype.hasOwnProperty.call(t,"openWhen")?T:n;if((0,b.un)()&&!(0,f.f)()){var X,J,$=null===(X=g.A.document)||void 0===X||null===(J=X.getElementsByTagName("meta"))||void 0===J?void 0:J.viewport,ee=null===$||void 0===$?void 0:$.content;null!==ee&&void 0!==ee&&ee.includes("viewport-fit=cover")||null===$||void 0===$||$.setAttribute("content",(0,h.YW)("".concat(ee,",viewport-fit=cover")))}var ne=x?{zIndex:x-1}:{zIndex:B},re=(0,P.jsxs)(c().Fragment,{children:[E&&k&&(0,P.jsx)(K,{visible:Z,onClick:G?Y:null,className:d()("".concat(te,"-mask"),I),style:(0,r.A)({position:t.layerPositionAbsolute?"absolute":void 0},ne)}),(0,P.jsx)(at,(0,r.A)((0,r.A)({},t),{},{isMobile:U,bodyWidth:j,containerZIndex:F,innerOnClose:Y,finalVisible:Z,shouldEscClose:q}))]}),oe=(0,l.useMemo)((function(){return{titleId:N}}),[]);return(0,P.jsx)(ce,{value:oe,children:(0,P.jsx)(Q,{getContainer:function(){if((0,f.f)())return null;var e=g.A.document.body;return o&&o()?e=o():i&&g.A.document.querySelector(i)&&(e=g.A.document.querySelector(i)),e},children:re})})}st.BTN_LAYOUT=ne,st.THEME={},st.Footer=ke,st.Window=it,st.create=function(e){return fe(st,e)},st.defaultPropsValue={visible:!1,hideCloseBtn:!1,noMargin:!1,alignBottom:!1,noContentPadding:!1,isFull:!1,isShowHeader:!1,mobileMode:!1,layerPositionAbsolute:!1,title:"",subTitle:"",titleCenter:!1,topContent:null,topClassName:"",closeClassName:"",closeIconClassName:"",renderTopLeft:null,renderTopRight:null,onClose:null,showBackBtn:!1,onBack:null,scrollDisable:!1,zIndex:void 0,className:"",maskClassName:"",width:null,windowClass:"",windowStyle:{},mask:!0,draggable:!1,getDragRef:function(){},getDragRefList:null,maskClosable:void 0,animateDisable:!1,getContainer:function(){},onMediaChange:null,frozenBg:!0,whiteboard:!1,containerMode:!1,renderContent:null,float:!0,showLoading:!1,confirmText:null,cancelText:null,confirmDisabled:!1,confirmLoading:!1,onConfirm:null,onCancel:null,confirmBtnProps:{},cancelBtnProps:{},transitionProps:{},footer:null,renderFooter:null,scrollBoxClassName:"",topStyle:{},footerStyle:{},footerClassName:"",btnFull:!1,ignoreScrollBar:!1,mobileWidth:"",containerClassName:"",rebirthDialog:!0,escToClose:void 0,dragProps:null,afterTransition:null,renderWindow:null,autoFocus:!0,preventScrollLeakage:!0,scrollBoxRef:null,onVisibleChange:function(){},footerLine:!0,headerLine:!0},st.displayName=A.A.componentNames.Dialog;const lt=st;var ct={error:"okds-fail-circle",alert:"okds-strong-alert",warn:"okds-warning-circle",prompt:"okds-bell",info:"okds-information-circle",success:"okds-success-circle"};const ut=function(e){var t=e.infoType;return(0,P.jsx)("div",{className:"".concat(te,"-tip-icon-bg"),children:(0,P.jsx)(tt.A,{className:"tip-icon ".concat(ct[t]," ").concat(te,"-").concat(t,"-icon")})})};n(504);var dt=["dialogType","infoType","title","titleList","text","textList","noContent","className","children","confirmBtnProps","cancelBtnProps"];var ft=pe.A.SIZE,ht=function(e){function t(){var e,n,r,o;(0,G.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=this,r=t,o=[].concat(a),r=(0,X.A)(r),(e=(0,Y.A)(n,(0,Z.A)()?Reflect.construct(r,o||[],(0,X.A)(n).constructor):r.apply(n,o))).state={isMobile:ie.media===ae},e.onConfirm=function(){var t=e.props,n=t.onConfirm,r=t.operation;return n&&n(r)},e.onCancel=function(){var t=e.props,n=t.onCancel,r=t.onClose;return n?n():(r&&r(),null)},e.onMediaChange=function(t){var n=t.media,r=t.isMobile,o=e.props.onMediaChange;o&&o({media:n,isMobile:r}),e.setState({isMobile:r})},e}return(0,J.A)(t,e),(0,q.A)(t,[{key:"render",value:function(){var e=this.props,t=(e.dialogType,e.infoType),n=e.title,o=e.titleList,i=e.text,a=e.textList,s=e.noContent,l=e.className,c=e.children,u=e.confirmBtnProps,f=e.cancelBtnProps,h=(0,C.A)(e,dt),p=this.state.isMobile,v=n&&0!==n.length?[n]:o||[],g=i&&0!==i.length?[i]:a||[],m=d()((0,T.A)({},l,!!l),"".concat(x.H3,"-tip-dialog")),y=d()("".concat(te,"-tip-content"),{"two-btn":h.cancelText&&h.confirmText}),b=p?ft.lg:ft.sm;return(0,P.jsxs)(lt,(0,r.A)((0,r.A)({confirmBtnProps:(0,r.A)({size:b},u),cancelBtnProps:(0,r.A)({size:b},f),btnLayout:lt.BTN_LAYOUT.full,alignBottom:!0},h),{},{className:m,onConfirm:this.onConfirm,onCancel:this.onCancel,onMediaChange:this.onMediaChange,footerLine:!1,showWindowBorder:!1,children:[!s&&(0,P.jsxs)("div",{className:y,children:[t&&(0,P.jsx)(ut,{infoType:t}),(0!==v.length||0!==g.length)&&(0,P.jsxs)("div",{className:"tip-title-box",children:[v.map((function(e,t){return(0,P.jsx)("div",{className:"tip-title",children:e},"tip_title".concat(t))})),g.map((function(e,t){return(0,P.jsx)("div",{className:"tip-detail",children:e},"tip_text".concat(t))}))]})]}),c]}))}}])}(c().PureComponent);ht.defaultProps={infoType:oe.prompt,title:"",titleList:[],text:"",textList:[]},ht.INFO_TYPE=oe,ht.LAYOUT=re,ht.infoType=oe,ht.dialogType={confirm:"confirm",prompt:"prompt"},ht.Icon=ut,ht.create=function(e){var t=null;return t=fe(ht,(0,r.A)((0,r.A)({},e),{},{onCancel:function(){t.destroy(),e.onCancel&&e.onCancel(),e.onClose&&e.onClose()}}))};const pt=ht;var vt={error:"okds-fail-circle-fill",warn:"okds-warning-circle-fill",info:"okds-information-circle-fill",success:"okds-success-circle-fill"};const gt=function(e){var t=e.infoType;return vt[t]?(0,P.jsx)(tt.A,{className:"".concat(te,"-tip-icon ").concat(vt[t]," ").concat(te,"-").concat(t,"-tip-icon")}):null};var mt=["dialogType","infoType","title","titleList","text","textList","noContent","className","children","confirmBtnProps","cancelBtnProps","btnFull","confirmText","cancelText"];var yt=function(e){function t(){var e,n,r,o;(0,G.A)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=this,r=t,o=[].concat(a),r=(0,X.A)(r),(e=(0,Y.A)(n,(0,Z.A)()?Reflect.construct(r,o||[],(0,X.A)(n).constructor):r.apply(n,o))).state={isMobile:ie.media===ae},e.onConfirm=function(){var t=e.props,n=t.onConfirm,r=t.operation;return n&&n(r)},e.onCancel=function(){var t=e.props,n=t.onCancel,r=t.onClose;return n?n():(r&&r(),null)},e.onMediaChange=function(t){var n=t.media,r=t.isMobile,o=e.props.onMediaChange;o&&o({media:n,isMobile:r}),e.setState({isMobile:r})},e}return(0,J.A)(t,e),(0,q.A)(t,[{key:"render",value:function(){var e=this.props,t=(e.dialogType,e.infoType),n=e.title,o=(e.titleList,e.text,e.textList,e.noContent,e.className),i=e.children,a=e.confirmBtnProps,s=e.cancelBtnProps,l=e.btnFull,c=void 0===l||l,u=e.confirmText,f=e.cancelText,h=(0,C.A)(e,mt),p=this.state.isMobile,v=d()(o,"".concat(x.H3,"-new-tip-dialog")),g=n&&(0,P.jsxs)(P.Fragment,{children:[t&&!p&&(0,P.jsx)(gt,{infoType:t}),n]}),m=null!==u&&void 0!==u,y=null!==f&&void 0!==f,b=p?{category:pe.A.CATEGORY.text,type:pe.A.TYPE.primary,className:d()("".concat(te,"-tip-button"),(0,T.A)((0,T.A)((0,T.A)({},"".concat(te,"-tip-border-left"),!c&&m&&y&&p),"".concat(te,"-tip-border-top"),c&&m&&y&&p),"".concat(te,"-tip-only-one"),!(m&&y)&&p)),block:!0}:{},A=d()("".concat(te,"-new-tip-footer")),w=d()("".concat(te,"-new-tip-top")),_=d()("".concat(te,"-new-tip-container"),(0,T.A)({},"".concat(te,"-no-title"),p&&!n)),S="".concat(te,"-window-tip");return(0,P.jsx)(lt,(0,r.A)((0,r.A)({confirmBtnProps:(0,r.A)((0,r.A)((0,r.A)({},b),{className:d()(b.className,(0,T.A)((0,T.A)({},"".concat(te,"-tip-button-color"),!a&&p),"".concat(te,"-tip-button-confirm"),p))}),a),btnFull:c,cancelBtnProps:(0,r.A)((0,r.A)((0,r.A)({},b),s),{className:d()(b.className,(0,T.A)((0,T.A)({},"".concat(te,"-tip-button-color"),!(null!==s&&void 0!==s&&s.type)&&!(null!==s&&void 0!==s&&s.category)&&p),"".concat(te,"-tip-button-cancel"),p),null===s||void 0===s?void 0:s.className)}),hideCloseBtn:!0,width:420,confirmText:u,cancelText:f},h),{},{className:v,onConfirm:this.onConfirm,onCancel:this.onCancel,onMediaChange:this.onMediaChange,title:g,footerLine:!1,headerLine:!1,topClassName:w,footerClassName:A,containerClassName:_,windowClass:d()(S,null===h||void 0===h?void 0:h.windowClass),showWindowBorder:!1,children:i}))}}])}(c().PureComponent);yt.defaultProps={infoType:oe.default,title:""},yt.INFO_TYPE=oe,yt.LAYOUT=re,yt.Icon=gt,yt.create=function(e){var t=null;return t=fe(yt,(0,r.A)((0,r.A)({},e),{},{onCancel:function(){t.destroy(),e.onCancel&&e.onCancel(),e.onClose&&e.onClose()}}))};const bt=yt;var At=["children","title","className","confirmText","cancelText"],wt="".concat(x.H3,"-dialog-confirmation");function _t(e){var t=e.children,n=e.title,o=e.className,i=e.confirmText,a=e.cancelText,s=(0,C.A)(e,At),c=d()(o,wt),u=(0,p.A)().isSm,f=(0,l.useId)();if(u)return(0,P.jsx)(lt,(0,r.A)({noMargin:!0,alignBottom:!0},e));var h=null!==i&&void 0!==i||null!==a&&void 0!==a,v=d()("".concat(wt,"-container"),(0,T.A)((0,T.A)({},"".concat(wt,"-container-no-header"),!n),"".concat(wt,"-container-no-footer"),!h)),g=d()("".concat(wt,"-header"),(0,T.A)({},"".concat(wt,"-header-margin"),!1===s.hideCloseBtn)),m="".concat(wt,"-window");return(0,P.jsx)(lt,(0,r.A)((0,r.A)({className:c,width:420,topContent:n?(0,P.jsx)("div",{id:f,role:"heading","aria-level":"1",className:g,children:n}):null,hideCloseBtn:!0,renderContent:function(){return(0,P.jsx)("div",{className:v,children:t})},confirmText:i,cancelText:a,customRenderFooter:function(e){return h?(0,P.jsx)("div",{className:"".concat(wt,"-footer"),children:(0,P.jsx)(e,{})}):null}},s),{},{windowClass:d()(m,null===s||void 0===s?void 0:s.windowClass),"aria-labelledby":s["aria-labelledby"]||f,showWindowBorder:!1}))}_t.create=function(e){var t=null;return t=fe(_t,(0,r.A)((0,r.A)({},e),{},{onCancel:function(){t.destroy(),e.onCancel&&e.onCancel(),e.onClose&&e.onClose()}}))};const Ct=_t;var St=["onMediaChange","className","closeBtn","windowClass","children","noTopRadius"];function kt(e){var t=A.A.mergeProps(kt.defaultPropsValue,e,A.A.componentNames.Dialog),n=t.onMediaChange,o=t.className,i=(t.closeBtn,t.windowClass),a=t.children,s=t.noTopRadius,c=(0,C.A)(t,St),u=(0,l.useState)(ie.media===ae),f=(0,v.A)(u,2),h=f[0],p=f[1],g={className:o,windowClass:i};if(h||c.mobileMode){var m=d()((0,T.A)({},i,!!i),{"no-radius":s});g={className:"".concat(o||""," ").concat(x.H3,"-action-dialog"),windowClass:m,alignBottom:!0,noMargin:!0,maskClosable:!0,noContentPadding:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300}}}return(0,P.jsx)(lt,(0,r.A)((0,r.A)((0,r.A)({},g),c),{},{onMediaChange:function(e){var t=e.media,r=e.isMobile;n&&n({media:t,isMobile:r}),p(r)},children:a}))}kt.defaultPropsValue={title:"",noTopRadius:!1},kt.create=function(e){return fe(kt,e)};const Tt=kt;var xt=["children","windowClass"];const Pt=function(e){var t=e.children,n=e.windowClass,o=(0,C.A)(e,xt);return(0,P.jsx)(lt,(0,r.A)((0,r.A)({windowClass:"".concat(x.H3,"-dialog-group ").concat(n||"")},o),{},{whiteboard:!0,children:c().Children.map(t,(function(e){var t=e.props.className,n=t;return e.type.elementType===lt.Window.elementType&&(n="".concat(x.H3,"-dialog-group-window ").concat(t)),c().cloneElement(e,{className:n})}))}))};function Et(e){return function(t){var n=(0,r.A)({dialogType:pt.dialogType.prompt,infoType:pt.infoType[e],hideCloseBtn:!0},t);return pt.create(n)}}lt.success=Et(pt.infoType.success),lt.info=Et(pt.infoType.info),lt.prompt=Et(pt.infoType.prompt),lt.warn=Et(pt.infoType.warn),lt.alert=Et(pt.infoType.alert),lt.error=Et(pt.infoType.error),lt.confirm=lt.warn,lt.tip=function(e){var t=(0,r.A)({hideCloseBtn:!0},e);return bt.create(t)},lt.confirmation=function(e){var t=(0,r.A)({},e);return Ct.create(t)},lt.action=function(e){return Tt.create(e)},lt.show=function(e){return lt.create(e)},lt.destroyAll=fe.destroyAll,lt.LAYOUT=pt.LAYOUT,lt.Prompt=pt,lt.Action=Tt,lt.Tip=bt,lt.Confirmation=Ct,lt.Group=Pt;const Lt=lt},7964:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(9379),o=n(4883),i=n(9719),a=n(4199),s=n(9508),l=n(8032),c={width:0,height:0,overflow:"hidden",outline:"none"},u={tabIndex:0};const d=(0,o.forwardRef)((function(e,t){var n=e.children,d=e.autoFocus,f=void 0===d||d,h=e.getContainer,p=void 0===h?function(){}:h,v=e.whenReturnFocus,g=void 0===v?"unmount":v,m=e.whenAutoFocus,y=void 0===m?"didMount":m,b=e.focusTrapping,A=void 0===b||b,w=e.afterReturnFocus,_=e.onFocusEnd,C=(0,o.useRef)(),S=(0,o.useRef)(),k=(0,o.useRef)(),T=(0,o.useRef)(!0),x=(0,o.useRef)(),P=function(e){var t=e.getContainer,n=e.whenReturnFocus,r=void 0===n||n,i=e.afterReturnFocus,a=(0,o.useRef)(s.A.document.activeElement);function l(){var e,n=t();null!==n&&void 0!==n&&null!==(e=n.contains)&&void 0!==e&&e.call(n,s.A.document.activeElement)||(a.current=s.A.document.activeElement)}function c(){var e,t;a.current&&(null===(e=a.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e,{preventScroll:!0}),null===i||void 0===i||i(a.current))}return(0,o.useEffect)((function(){"boolean"===typeof r&&(r?c():l())}),[r]),(0,o.useEffect)((function(){return l(),function(){"unmount"===r&&c(),a.current=null}}),[]),{returnFocus:c}}({getContainer:p,whenReturnFocus:g,afterReturnFocus:w}),E=P.returnFocus,L=(0,o.useCallback)((function(){var e,t,n,r;T.current=!1,null===(e=x.current)||void 0===e||null===(t=e.setAttribute)||void 0===t||t.call(e,"tabindex","0"),null===(n=x.current)||void 0===n||null===(r=n.setAttribute)||void 0===r||r.call(n,"role","dialog"),x.current&&x.current.style&&(x.current.style.outline="none"),S.current=x.current,k.current=C.current}),[]),I=function(){var e,t;null===(e=S.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e,{preventScroll:!0})},O=function(e){var t=s.A.document.activeElement;if(e&&t===C.current){if(_&&_(),A)return void I();"never"!==g&&E()}if(!e&&t===S.current){if(A)return void function(){var e,t;null===(e=k.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e,{preventScroll:!0})}();"never"!==g&&E()}};return(0,o.useEffect)((function(){x.current=p(),S.current=x.current}),[p]),(0,o.useEffect)((function(){"didMount"!==y&&!0!==y||(L(),f&&I())}),[f,y]),(0,a.A)(i.OC.TAB,(function(e){e.stopPropagation(),O(!e.shiftKey)}),{target:p(),eventName:"keydown"}),(0,o.useImperativeHandle)(t,(function(){return{focus:I,changeActive:O,returnFocus:E}})),(0,l.jsxs)(l.Fragment,{children:[n,(0,l.jsx)("div",(0,r.A)({ref:C,"data-focus-end":"true",style:c,onFocus:_},u))]})}))},7769:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(9379),o=n(3986),i=n(4883),a=n(792),s=n.n(a),l=n(4195),c=n(777),u=n(8794),d=n(5857),f=n(9719),h=n(8032),p=["className","style","isColor","onClick","filterClassName","rtlIconName","iconName","withContainerFontFamily","a11yText","fontSize","forceAriaButton"],v=function(e){var t=l.A.useMergeProps(v.defaultPropsValue,e,l.A.componentNames.Icon),n=t.className,a=t.style,f=(t.isColor,t.onClick),g=t.filterClassName,m=t.rtlIconName,y=t.iconName,b=t.withContainerFontFamily,A=t.a11yText,w=t.fontSize,_=t.forceAriaButton,C=(0,o.A)(t,p),S=s()((0,c.DY)()&&m||y,n)||"",k=(0,i.useMemo)((function(){var e;return b&&(null===(e=S)||void 0===e?void 0:e.split(" ").some((function(e){return e.startsWith("ok")})))}),[S,b]);l.A.data.okdsIconNamespace&&(S=S.replace(/okds-/g,(function(){return"".concat(l.A.data.okdsIconNamespace,"-okds-")})));var T="function"===typeof g?g("icon","iconfont",S):"icon iconfont ".concat(S),x={style:(0,r.A)({fontSize:w},a),onClick:f};return(0,h.jsx)(u.A,{forceAriaButton:_,children:(0,h.jsx)("i",(0,r.A)((0,r.A)({className:s()(k&&"".concat(d.H3,"-icon"),T)},x),{},{role:f||_?"button":"img","aria-label":A},C))})};v.defaultPropsValue={className:"",style:{},onClick:null,iconName:void 0,rtlIconName:void 0,withContainerFontFamily:!1,a11yText:void 0,fontSize:void 0},v.displayName=f.w$.Icon;const g=v},2751:(e,t,n)=>{"use strict";n.d(t,{A:()=>H});var r=n(9379),o=n(3986),i=n(296),a=n(3029),s=n(2901),l=n(388),c=n(2176),u=n(3954),d=n(5501),f=n(4883),h=n.n(f),p=n(792),v=n.n(p),g=n(9719),m=n(9203),y=n(7769),b=n(4822),A=n(721),w=n(4467),_=n(2195),C=n(6795),S=n(4195),k=n(777),T=n(4156),x=n(5703),P=n(8685),E=n(4264),L=n(6828),I=n(8032),O=["prefixCls","placeholder","placeholderClassName"];function R(e,t){var n=e.prefixCls,i=e.placeholder,a=e.placeholderClassName,s=(0,o.A)(e,O);return(0,I.jsxs)("div",{className:"".concat(n,"-custom-placeholder"),children:[(0,I.jsx)("input",(0,r.A)({ref:t,type:"text"},s)),!s.value&&i&&(0,I.jsx)("div",{className:v()("".concat(n,"-placeholder"),"".concat(n,"-ellipsis"),a),children:i})]})}const M=(0,f.forwardRef)(R),N={always:"always",blur:"blur"};var D=["onRef","inputClassName","inputStyle","originTitle","originSize","virtualPlaceholder","ellipsis","autoFill","avoidFillByPassword","placeholderClassName"];function B(e){var t=S.A.mergeProps(B.defaultPropsValue,e),n=t.onChange,a=t.useReactTransition,s=t.onFocus,l=t.onBlur,c=t.onPressEnter,u=t.onKeyDown,d=t.forceError,h=t.error,p=t.errorType,m=t.label,b=t.title,O=t.action,R=t.size,F=t.titlePlaceMode,j=t.styleType,V=t.style,H=t.disabled,z=t.className,U=t.placeMode,W=t.children,K=t.autoHeight,G=t.noSuffixPadding,q=t.noPrefixPadding,Y=t.isTextarea,Z=t.innerClassName,X=t.noStyle,J=t.prefix,Q=t.boxIsFocus,$=t.circle,ee=void 0!==$&&$,te=t.autoResize,ne=t.getBoxRef,re=void 0===ne?function(){}:ne,oe=t.customRender,ie=void 0===oe?function(){}:oe,ae=t.innerStyle,se=t.tipsAlwaysShow,le=t.innerFocusable,ce=t.readOnly,ue=t.a11yLabel,de=t.preserveFocusOnAffix,fe=t.prefixRef,he=(0,f.useState)(),pe=(0,i.A)(he,2),ve=pe[0],ge=pe[1],me=(0,f.useState)(),ye=(0,i.A)(me,2),be=ye[0],Ae=ye[1],we=(0,f.useRef)(),_e=(0,f.useRef)(),Ce=(0,f.useRef)(),Se=(0,f.useId)(),ke=(0,f.useCallback)((function(e){null===re||void 0===re||re(e),_e.current=e}),[]),Te=(0,f.useRef)(),xe=t.id||Se,Pe={errorId:(0,f.useId)(),helpTextId:(0,f.useId)(),tipsId:(0,f.useId)()};(0,f.useEffect)((function(){Ce.current="okd_input_".concat(Se,"_").concat((new Date).getTime()+Math.floor(1e3*_.o.mathRandom())),Ae(!0)}),[]);var Ee=function(e){(0,T.A)((function(){null===n||void 0===n||n(e,e.target.value)}),a)},Le=function(e){ge(!0),null===s||void 0===s||s(e)},Ie=function(e){de&&_e.current.contains(e.relatedTarget)||ge(!1),null===l||void 0===l||l(e)},Oe=function(e){null===u||void 0===u||u(e),e.key===g.OC.ENTER&&(null===c||void 0===c||c(e))},Re=(0,L.uy)(h),Me=function(e){var t=Re&&!0!==Re?(0,I.jsx)("span",{id:Pe.errorId,className:"".concat(E.Lu,"-error"),children:Re}):Re;return(p===N.always||!e)&&t},Ne=function(e){return!!d||Me(null!==e&&void 0!==e?e:ve)},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onRef,i=t.inputClassName,a=t.inputStyle,s=t.originTitle,l=t.originSize,c=t.virtualPlaceholder,u=t.ellipsis,d=t.autoFill,f=t.avoidFillByPassword,h=t.placeholderClassName,p=(0,o.A)(t,D),g=(0,A.VP)(p,["autoResize","noStyle","className","isTextarea","prefix","prefixIcon","suffix","suffixIcon","error","theme","cleanable","style","children","autoHeight","onPressEnter","label","title","tips","action","showErrorIcon","errorType","placeMode","titlePlaceMode","forceError","noPrefixPadding","noSuffixPadding","innerClassName","noOperation","helpText","boxIsFocus","circle","showErrorOutline","onClear","getBoxRef","innerStyle","customRender","tipsAlwaysShow","styleType","withPercent","tipInnerClassName","innerFocusable","useReactTransition","customPlaceholder","a11yLabel","prefixIconA11yText","suffixIconA11yText","preserveFocusOnAffix","prefixRef"]),m=(0,r.A)((0,r.A)({},g),{},{ref:function(e){we.current=e,n(e)},id:xe,className:X?v()("".concat(E.Lu,"-caret-color"),z):v()("".concat(E.Lu,"-input"),u&&"".concat(E.Lu,"-ellipsis"),Y&&"input-textarea",{ta:Y&&!te},Y&&te&&"textarea-auto-resize",i),style:a,onFocus:Le,onChange:Ee,onBlur:Ie,onKeyDown:Oe}),y=s?{title:s}:{},b=l?{size:l}:{},w=!d&&be?{autoComplete:"off",name:Ce.current}:{},_=(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},w),m),{},{autoCapitalize:"off",autoCorrect:"off"},y),b);(0,k.DY)()&&"tel"===_.type&&(_.dir=_.dir||"rtl");var S=t["aria-describedby"],T=Pe.errorId,x=Pe.helpTextId,P=Pe.tipsId,L=e.helpText,O=e.tipsText;_["aria-describedby"]=v()(Re&&T,S,O&&P,L&&x)||void 0,_["aria-invalid"]=!!Re||void 0;var R=c?(0,I.jsx)(M,(0,r.A)((0,r.A)({},_),{},{placeholderClassName:h,prefixCls:E.Lu})):(0,I.jsxs)(I.Fragment,{children:[d||!be||(0,C.nr)()?null:(0,I.jsx)("input",{type:"hidden",autoComplete:"off",readOnly:"readonly",style:{display:"none"}}),(0,I.jsx)("input",(0,r.A)({type:"text"},_)),!d&&be&&((0,C.nr)()||f)?(0,I.jsx)("div",{style:{position:"absolute",height:0,opacity:0,overflow:"hidden"},children:(0,I.jsx)("input",{style:{position:"absolute",backgroundColor:"transparent",caretColor:"transparent",border:"none",outline:"none",top:"-10000px",left:"-10000px",zIndex:-100},tabIndex:"-1",type:"text",autoComplete:"off"})}):null]});return Y?(0,I.jsx)("textarea",(0,r.A)((0,r.A)({},m),{},{"aria-describedby":_["aria-describedby"]})):R};if(X)return De();var Be=Q||ve,Fe=!!Ne(Be),je=Me(Be),Ve=function(){var e=t.tips,n=t.tipInnerClassName,r=(0,L.uy)(e);return r?(0,I.jsx)("span",{className:v()("".concat(E.Lu,"-tips"),n),id:Pe.tipsId,children:r}):null}(),He=function(){var e=t.helpText,n=(0,L.uy)(e);return n?(0,I.jsx)("span",{"aria-hidden":!!Y||void 0,className:"".concat(E.Lu,"-help-text"),id:Pe.helpTextId,children:n}):null}(),ze=v()(S.A.data.okdNamespace,"".concat(E.Lu),j===E.ZE.reversed&&"".concat(E.Lu,"-reversed"),"".concat(E.Lu,"-").concat(R),(0,w.A)((0,w.A)((0,w.A)((0,w.A)((0,w.A)({},"".concat(E.Lu,"-place-mode"),U),"readonly",ce&&!le&&j!==E.ZE.reversed),"focus",Be),"disabled",H),"error",Fe),z),Ue=v()("".concat(E.Lu,"-box"),{"auto-size":K,"no-padding-left":q,"no-padding-right":G,"input-circle":ee,ta:Y&&!te},Z),We=De({errorText:je,tipsText:Ve,helpText:He}),Ke=function(){var e=t.suffix,n=null;return t.showErrorIcon&&Ne(Re)&&(n=(0,I.jsx)(y.A,{className:"okds-warning-circle-fill suffix-icon error-icon"})),n||e?(0,I.jsxs)("div",{ref:Te,className:"".concat(E.Lu,"-suffix"),children:[n,e]}):null}(),Ge=ie({prefix:J,inputComponent:We,suffix:Ke,children:W});return(0,I.jsxs)("div",{className:ze,style:V,children:[function(){var e=b||m||F,t=(0,L.uy)(O);return e||t||ue?(0,I.jsx)(P.A,{size:R,title:e,a11yLabel:ue,action:t,placeMode:F,styleType:j,htmlFor:xe}):null}(),(0,I.jsx)("div",{className:Ue,ref:ke,style:ae,role:"none",onClick:function(e){var t,n,r=(null===fe||void 0===fe?void 0:fe.current)&&fe.current.contains(e.target)||Te.current&&Te.current.contains(e.target);W||Ge||!1===de&&r||(null===(t=we.current)||void 0===t||null===(n=t.focus)||void 0===n||n.call(t))},children:Ge||(0,I.jsxs)(f.Fragment,{children:[J,W||We,Ke]})}),(je||Ve||He||U||d)&&(0,I.jsxs)("div",{className:"".concat(E.Lu,"-tips-box"),children:[je||Ve,He]}),!Fe&&Re?(0,I.jsx)(x.A,{id:Pe.errorId,children:Re}):null,se&&Ve&&je?(0,I.jsx)("div",{className:"".concat(E.Lu,"-tips-box"),children:Ve}):null]})}B.defaultPropsValue={prefix:"",suffix:"",disabled:!1,error:"",size:E.US.md,tips:"",helpText:"",value:"",title:"",action:"",cleanable:!1,onChange:null,errorType:N.blur,className:"",inputClassName:"",inputStyle:null,circle:!1,placeMode:!1,titlePlaceMode:!1,autoHeight:!1,noPrefixPadding:!1,noSuffixPadding:!1,noStyle:!1,boxIsFocus:!1,onRef:function(){},onClear:function(){},customRender:function(){},getBoxRef:function(){},innerClassName:"",onBlur:null,onFocus:null,onPressEnter:null,tipsAlwaysShow:!1,styleType:void 0,originTitle:"",originSize:"",virtualPlaceholder:!1,ellipsis:!1,autoFill:!1,avoidFillByPassword:!1,placeholderClassName:void 0,tipInnerClassName:"",preserveFocusOnAffix:void 0},B.TIP_TYPE=N,B.SIZE=E.US,B.STYLE_TYPE=E.ZE;const F=B;n(504);var j=["noSuffixPadding","noPrefixPadding","prefix","suffix","children"];var V=function(e){function t(e){var n,r,o,s;return(0,a.A)(this,t),r=this,o=t,s=[e],o=(0,u.A)(o),(n=(0,l.A)(r,(0,c.A)()?Reflect.construct(o,s||[],(0,u.A)(r).constructor):o.apply(r,s))).onClear=function(e){var t=n.props,r=t.onChange,o=t.onClear;r&&r({target:{value:""}}),o&&o(e),n.inputRef.current&&n.inputRef.current.focus()},n.getSelect=function(e,t){var n=(0,L.HB)(e,t),r=null;return n&&(r=h().cloneElement(e,{isInline:!0,align:t?b.M8.left:b.M8.right})),[n,r]},n.renderPrefix=function(){var e=n.props,t=e.prefix,r=e.prefixIcon,o=e.onPrefixIconClick,a=e.prefixIconA11yText,s=(0,L.uy)(t);r&&(s=(0,I.jsx)(y.A,{onClick:o,className:"".concat(r," prefix-icon"),a11yText:a}));var l=n.getSelect(t,!0),c=(0,i.A)(l,2),u=c[0],d=c[1];return u&&(s=(0,I.jsx)("span",{className:"select",children:d})),s?(0,I.jsx)("span",{ref:n.prefixRef,className:"".concat(E.Lu,"-prefix"),children:s}):null},n.renderSuffix=function(){var e=n.props,t=e.suffix,r=e.suffixIcon,o=e.cleanable,a=e.value,s=e.clearIcon,l=e.onSuffixIconClick,c=e.onlyOneIcon,u=void 0!==c&&c,d=e.suffixIconA11yText,f=null,p=(0,L.uy)(t),g=n.getSelect(t,!1),b=(0,i.A)(g,2),A=b[0],w=b[1],_=!u||!(o&&a);return o&&a&&(f=s?(0,I.jsx)("span",{onClick:n.onClear,children:s}):(0,I.jsx)(m.A,{localeKey:"a11y_web_input_btn_universal_clear",children:(0,I.jsx)(y.A,{onClick:n.onClear,className:v()("okds-clear-fill suffix-icon clean-icon")})})),r&&_&&(p=(0,I.jsx)(y.A,{onClick:l,a11yText:d,className:"".concat(r," suffix-icon")})),A&&(p=(0,I.jsx)("span",{className:"select",children:w})),f||p?(0,I.jsxs)(h().Fragment,{children:[f,p]}):null},n.inputRef=h().createRef(),n.prefixRef=h().createRef(),n}return(0,d.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.noSuffixPadding,i=t.noPrefixPadding,a=t.prefix,s=t.suffix,l=t.children,c=(0,o.A)(t,j),u=(0,A.VP)(c,["onPrefixIconClick","onSuffixIconClick","prefixIcon","suffixIcon","clearIcon","onClear","onlyOneIcon"]),d=(0,L.HB)(a)||i,f=(0,L.HB)(s)||n;return(0,I.jsx)(F,(0,r.A)((0,r.A)({},u),{},{noSuffixPadding:f,noPrefixPadding:d,prefix:this.renderPrefix(),suffix:this.renderSuffix(),prefixRef:this.prefixRef,onRef:function(t){e.inputRef.current=t,e.props.onRef&&e.props.onRef(t)},children:l}))}}])}(h().Component);V.defaultProps={prefixIcon:null,suffixIcon:null,showErrorIcon:!1,clearIcon:null,onClear:function(){}},V.elementType=g.rk.Input,V.TIP_TYPE=F.TIP_TYPE,V.STYLE_TYPE=F.STYLE_TYPE;const H=V},2715:(e,t,n)=>{"use strict";n.d(t,{A:()=>$});var r=n(9719),o=n(3986),i=n(9379),a=n(3029),s=n(2901),l=n(388),c=n(2176),u=n(3954),d=n(5501),f=n(4883),h=n.n(f),p=n(792),v=n.n(p),g=n(4156),m=n(721),y=n(2751),b=n(4467),A=n(296),w=n(4199),_=n(9203),C=n(7769),S=n(4820),k=n(4264),T=n(3631),x=n(519),P=n(439),E=function(e,t){var n=T._u.BigNumber,r=new n(t);return n(e).gt(r)},L=function(e,t){return new(0,T._u.BigNumber)(e).plus(t).toFormat({groupSeparator:"",decimalSeparator:"."})},I=function(e,t){return new(0,T._u.BigNumber)(e).minus(t).toFormat({groupSeparator:"",decimalSeparator:"."})},O=function(){var e=x.A.locale||"en_us",t=(0,P.O3)(e);return{locale:e,smallDigitalSymbol:t.smallDigitalSymbol,micrometerSymbol:t.micrometerSymbol}},R=function(e,t){var n="",r="",o=String(e).replace(/(-)(\1)+/g,"$2");return o.indexOf("-")>-1&&o.length>0&&(r="-",o=o.split("-")[1]),t&&1===t.length&&(o.indexOf(t)>-1?(n=t,o=o.replace(t,"")):n=t),{unit:n,minus:r,valueWithoutSymbol:o}},M=function(e){var t="".concat(e);return/e/i.test(t)&&(t=(+t).toFixed(18).replace(/\.?0+$/,"")),t},N=function(e){var t=O().smallDigitalSymbol;return String(e).replace(/,$|\.$/,t)},D=function(e){var t;switch(e){case".":t=new RegExp("^\\".concat(e,"|^-\\").concat(e));break;case",":t=new RegExp("^".concat(e,"|^-").concat(e));break;default:t=/^\\s|^-\\s/}return t},B=function(e,t){var n=O().micrometerSymbol,r=t?/([^-,.\u3002\d])/g:/([^,.\u3002\d])/g,o=M(String(e));return o=o.replace(r,"").replace(D(n),o.includes("-")?"-":"").replace(/\u3002/g,".").replace(/(,)(\1)+/g,"$2").replace(/(\.)(\1)+/g,"$2"),/,\./.test(o)&&(o=o.replace(".","")),/\.,/.test(o)&&(o=o.replace(",","")),o},F=function(e){return null===e||void 0===e?void 0:e.replace(/[\u200F\u200E]/g,"")},j=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=O().locale,o=B(e,n),i=R(o,t),a=i.minus,s=i.valueWithoutSymbol,l=function(e){var t=e,n=/-/.test(t),r=O(),o=r.smallDigitalSymbol,i=r.micrometerSymbol,a=D(o),s=D(i);if(s.test(t))return t.replace(s,"");if(a.test(t)){var l=t.split(a),c=(0,A.A)(l,2)[1].replaceAll(i,"");return n?"-0".concat(o).concat(c):"0".concat(o).concat(c)}return t}(s);if(/[,.]/.test(l)){var c=N(l),u=(0,P.vE)(F(c),{locale:r,handleInput:!0});return"".concat(a).concat(u)}return"".concat(a).concat(s)},V=function(e){var t=e.value,n=e.max,r=e.min,o=O().smallDigitalSymbol,i=t;return E(i,n)&&(i=function(e){return new(0,T._u.BigNumber)(e).toFormat({groupSeparator:"",decimalSeparator:"."})}(n)),E(r,i)&&(i=r),String(i).replace(/\./,o)},H=function(e){var t=e.value,n=e.precision,r=e.symbol,o=e.enableMinus,i=e.withSymbol,a=void 0===i||i,s=B(t,o),l=R(String(s),r),c=l.unit,u=l.minus,d=function(e,t){var n=e.split("."),r=n[0];if(n.length>1){var o=n[1];return t>0?"".concat(r,".").concat(o.slice(0,t)):0===t?"".concat(r):"".concat(r,".").concat(o)}return r}(l.valueWithoutSymbol,n);return c&&a?"".concat(u).concat(d).concat(c):"".concat(u).concat(d)},z=function(e,t,n){if(""===e||"number"!=typeof e&&"string"!=typeof e)return e;if(!t)return e;var r=R(e,n),o=r.unit,i=r.minus,a=r.valueWithoutSymbol,s=function(e){var t,n=e.value,r=e.unit,o=e.minus,i=O().smallDigitalSymbol,a=/[.,]/,s=a.test(n),l=(null===n||void 0===n||null===(t=n.split)||void 0===t?void 0:t.call(n,a))||[],c=(0,A.A)(l,2),u=c[0],d=void 0===u?"":u,f=c[1],h=void 0===f?"":f;if(r===k.yH){var p=d?(0,P.ZV)(d,{style:"percent"}):"".concat(d).concat(r);if(p.startsWith(k.yH))return s?"".concat(o).concat(p).concat(i).concat(h):"".concat(o).concat(p);var v=d?(0,P.ZV)(d):d;return s?"".concat(o).concat(v).concat(i).concat(h).concat(r):"".concat(o).concat(v).concat(r)}var g=d?(0,P.ZV)(d):d;return s?"".concat(o).concat(g).concat(i).concat(h).concat(r):"".concat(o).concat(g).concat(r)}({value:N(a),unit:o,minus:i});return F(s)},U=n(8032);function W(e){var t=(0,f.useState)(!1),n=(0,A.A)(t,2),o=n[0],i=n[1],a=(0,f.useState)(!1),s=(0,A.A)(a,2),l=s[0],c=s[1],u=e.suffix,d=e.precision,h=e.symbol,p=e.value,g=e.step,m=e.max,y=e.min,T=e.onSub,x=e.onAfterSub,P=e.withOperation,E=e.alwaysOperation,R=e.onAdd,N=e.onAfterAdd,D=e.onChange,B=e.enableMinus,F=e.disabled,j=e.size,V=void 0===j?k.US.md:j,z=e.getInputRef,W=v()("".concat(k.Lu,"-number-suffix-part up"),(0,b.A)({},"".concat(k.Lu,"-number-suffix-part-disabled"),F||o)),K=v()("".concat(k.Lu,"-number-suffix-part"),(0,b.A)({},"".concat(k.Lu,"-number-suffix-part-disabled"),F||l)),G=v()("".concat(k.Lu,"-number-suffix"),"".concat(V),{"operation-always":E},F&&"".concat(k.Lu,"-number-suffix-part-disabled")),q=function(e,t){var n=H({value:p,precision:d,symbol:h,enableMinus:B,withSymbol:!1});n&&""!==n&&!Number.isNaN(Number(n))||(n=y);var r=M(e(n,g));r<=y?(c(!0),r=y):r>=m?(i(!0),r=m):(i(!1),c(!1));var o={target:{value:"".concat(String(r).replace(".",O().smallDigitalSymbol)).concat(h)}};D(o),t(r)},Y=function(){R()&&!F&&q(L,N)},Z=function(){T()&&!F&&q(I,x)};(0,w.A)([r.OC.UP,r.OC.DOWN],(function(e,t){t===r.OC.UP&&(e.preventDefault(),e.stopPropagation(),Y()),t===r.OC.DOWN&&(e.preventDefault(),e.stopPropagation(),Z())}),{eventName:"keydown",target:z(),enable:P});var X=function(e){e.preventDefault()};return(0,U.jsxs)(U.Fragment,{children:[u,P&&(0,U.jsxs)("div",{className:G,children:[(0,U.jsx)(_.A,{localeKey:"a11y_web_input_btn_universal_increase",children:(0,U.jsx)(S.A,{onClick:Y,className:W,tabIndex:-1,onMouseDown:X,children:(0,U.jsx)(C.A,{className:"okds-arrow-chevron-down-sm"})})}),(0,U.jsx)("div",{className:"".concat(k.Lu,"-number-suffix-line")}),(0,U.jsx)(_.A,{localeKey:"a11y_web_input_btn_universal_decrease",children:(0,U.jsx)(S.A,{onClick:Z,className:K,tabIndex:-1,onMouseDown:X,children:(0,U.jsx)(C.A,{className:"okds-arrow-chevron-down-sm"})})})]})]})}var K=["value","enableThousands","enableMultiple","multipleDigit","suffix","withOperation","alwaysOperation","symbol","localSwitch","onRef","precision","enableMinus"];var G=function(){return!0},q=function(){},Y=function(e){function t(e){var n,o,s,d;(0,a.A)(this,t),o=this,s=t,d=[e],s=(0,u.A)(s),(n=(0,l.A)(o,(0,c.A)()?Reflect.construct(s,d||[],(0,u.A)(o).constructor):s.apply(o,d))).moveCursor=function(){switch(n.lastKeyCode){case r.OC.BACKSPACE:n.fixCaret(n.cursorStart-1,n.cursorStart-1);break;case r.OC.DELETE:n.fixCaret(n.cursorStart+1,n.cursorStart+1)}},n.onBlur=function(e){n.focused=!1;var t=e,r=!1;!n.props.onChangeTriggerValidate&&n.handleValueRange((function(e){t=e,r=!0})),n.executeCallback(t,(function(o){var i,a,s=o;/\D$/.test(o)&&(r=!0,s=function(e){return null===e||void 0===e?void 0:e.replace(/\D$/,"")}(o),t.target.value=s),r&&n.onChange(t),null===(i=n.props)||void 0===i||null===(a=i.onBlur)||void 0===a||a.call(i,s,e)})),n.setState({updateValueFlag:!0})},n.onClick=function(e){n.executeCallback(e,n.props.onClick)},n.onCut=function(e){n.executeCallback(e,n.props.onCut)},n.onCopy=function(e){n.executeCallback(e,n.props.onCopy)},n.onDoubleClick=function(e){n.executeCallback(e,n.props.onDoubleClick)},n.onFocus=function(e){n.focused=!0,n.setState({updateValueFlag:!1}),n.executeCallback(e,n.props.onFocus)},n.onKeyDown=function(e){n.lastKeyCode=e.key,n.recordCursorPosition(),n.executeCallback(e,n.props.onKeyDown);var t=O().micrometerSymbol;n.lastKeyCode===r.OC.BACKSPACE&&t===n.currentValue[n.cursorStart-1]&&n.moveCursor(),n.lastKeyCode===r.OC.DELETE&&t===n.currentValue[n.cursorStart]&&n.moveCursor()},n.onChange=function(e){n.executeCallback(e,(function(e,t){var r,o,a=e;n.props.onChangeTriggerValidate&&n.handleValueRange((function(e){var t=e.target;a=t.value}),(0,i.A)((0,i.A)({},n.props),{},{value:e})),null===(r=(o=n.props).onChange)||void 0===r||r.call(o,a,t)}))},n.onKeyUp=function(e){n.recordCursorPosition(),n.executeCallback(e,n.props.onKeyUp)},n.onMouseUp=function(){var e=n.props.onMouseUp;n.recordCursorPosition(),e&&e.apply(void 0,arguments)},n.onKeyPress=function(e){n.executeCallback(e,n.props.onKeyPress)},n.handleValueRange=function(e,t){var r=t||n.props,o=r.value,i=r.max,a=r.min;(E(a,o)||E(o,i))&&e({target:{value:V({value:o,max:i,min:a})}})},n.executeCallback=function(e,t){(0,g.A)((function(){var r=n.props,o=r.precision,i=r.symbol,a=r.enableMinus,s=H({value:j(e.target.value.replace(i,""),i,a),precision:o,symbol:i,enableMinus:a,withSymbol:!1});"undefined"!==typeof t&&t(s,e)}),n.props.useReactTransition)},n.recordCursorPosition=function(){try{n.cursorStart=n.input.selectionStart,n.cursorEnd=n.input.selectionEnd,n.currentValue=n.input.value,n.cursorAfter=n.input.value.substring(n.cursorEnd)}catch(d){}},n.restoreByAfter=function(e){if(void 0===e)return!1;var t=n.input.value,r=t.lastIndexOf(e);return-1!==r&&(r+e.length===t.length&&(n.fixCaret(r,r),!0))},n.partRestoreByAfter=function(e){return void 0!==e&&Array.prototype.some.call(e,(function(t,r){var o=e.substring(r);return n.restoreByAfter(o)}))},n.getInputRef=function(){return n.input};var f=e.value;return n.state={value:f,updateValueFlag:!0},n.handleValueRange(n.onChange,e),n}return(0,d.A)(t,e),(0,s.A)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.value,n=e.precision,o=e.symbol,i=e.enableMinus;this.state.updateValueFlag&&this.handleValueRange(this.onChange);try{if(void 0!==this.cursorStart&&this.focused)if(this.currentValue===this.input.value)switch(this.lastKeyCode){case r.OC.BACKSPACE:this.fixCaret(this.cursorStart-1,this.cursorStart-1);break;case r.OC.DELETE:this.fixCaret(this.cursorStart+1,this.cursorStart+1)}else if(!this.partRestoreByAfter(this.cursorAfter)&&H({value:String(this.state.value),precision:n,symbol:o,enableMinus:i})!==t){var a=this.cursorStart+1;this.cursorAfter?this.lastKeyCode===r.OC.BACKSPACE?a=this.cursorStart-1:this.lastKeyCode===r.OC.DELETE&&(a=this.cursorStart):a=this.input.value.length,this.fixCaret(a,a)}}catch(s){}this.lastKeyCode=null}},{key:"fixCaret",value:function(e,t){if(void 0!==e&&void 0!==t&&this.input&&this.input.value)try{var n=this.input.selectionStart,r=this.input.selectionEnd;e===n&&t===r||this.input.setSelectionRange(e,t)}catch(o){}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.enableThousands,a=t.enableMultiple,s=t.multipleDigit,l=(t.suffix,t.withOperation),c=(t.alwaysOperation,t.symbol),u=(t.localSwitch,t.onRef),d=t.precision,f=t.enableMinus,h=(0,o.A)(t,K),p=H({value:n,precision:d,symbol:c,enableMinus:f});p=a?function(e,t,n,r){var o=O().micrometerSymbol,i=String(e);if(3===t)i=z(i,n,r);else if(2===t){if(i.length>=2){var a=i.substring(0,i.length-1),s=i.substring(i.length-1,i.length);a=z(a,n,r),i="".concat(a).concat(o).concat(s)}}else if(1===t&&i.length>=3){var l=i.substring(0,i.length-2),c=i.substring(i.length-2,i.length);l=z(l,n,r),i="".concat(l).concat(o).concat(c)}return i}(p,s,r,c):z(p,r,c);var g=(0,m.VP)(h,["onAdd","onSub","onAfterAdd","onAfterSub","onChangeTriggerValidate","useReactTransition"]),b=p;return(0,U.jsx)(y.A,(0,i.A)((0,i.A)({inputMode:"decimal",noSuffixPadding:l,enable_thousands:String(r)},g),{},{innerClassName:v()(g.innerClassName),suffix:(0,U.jsx)(W,(0,i.A)((0,i.A)({},this.props),{},{onChange:this.onChange,getInputRef:this.getInputRef})),type:"text",onCopy:this.onCopy,onBlur:this.onBlur,onClick:this.onClick,onChange:this.onChange,onCut:this.onCut,onDoubleClick:this.onDoubleClick,onFocus:this.onFocus,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onKeyPress:this.onKeyPress,onRef:function(t){e.input=t,u&&u(t)},value:b}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.value;return"value"in e&&n!==t.value?{value:n}:null}}])}(h().Component);Y.defaultProps={value:"",precision:void 0,autoComplete:"off",symbol:"",enableThousands:!0,step:1,onAdd:G,onSub:G,onAfterAdd:q,onAfterSub:q,withOperation:!1,alwaysOperation:!1,max:Number.MAX_SAFE_INTEGER,min:0,enableMinus:!0,withPercent:!1,onChangeTriggerValidate:!1};const Z=Y;var X=n(777),J=["withPercent"];var Q=function(e){function t(t,n){var r=t.withPercent,a=(0,o.A)(t,J),s=a.suffix,l=a.prefix,c=a.value,u=a.placeholderClassName,d={};return!(0,P.ZV)(100,{style:"percent"}).startsWith(k.yH)&&!(0,X.DY)()||s!==k.yH&&!r||(d=l?{virtualPlaceholder:!0,placeholder:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:"".concat(k.Lu,"-number-localization-percent"),children:s}),(0,U.jsx)("span",{children:t.placeholder})]}),placeholderClassName:v()("".concat(k.Lu,"-number-localization"),u),suffix:"",symbol:c?k.yH:"",inputClassName:"".concat(k.Lu,"-number-localization")}:{prefix:s,suffix:"",inputClassName:"".concat(k.Lu,"-number-localization")}),(0,U.jsx)(e,(0,i.A)((0,i.A)({ref:n},a),d))}return(0,f.forwardRef)(t)}(Z);Q.elementType=r.rk.InputNumber;const $=Q},2011:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(9379),o=(n(4883),n(792)),i=n.n(o),a=n(9719),s=n(2751),l=n(4264),c=n(8032);function u(e){var t=e.className;return(0,c.jsx)(s.A,(0,r.A)((0,r.A)({type:"search",cleanable:!0,prefixIcon:"okds-search ".concat(l.Lu,"-search-prefix-icon")},e),{},{className:i()("".concat(l.Lu,"-search"),t)}))}u.elementType=a.rk.InputSearch},8685:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});n(4883);var r=n(792),o=n.n(r),i=n(4195),a=n(5703),s=n(5857),l=n(4264),c=n(8032),u="".concat(s.H3,"-label");function d(e){var t=i.A.mergeProps(d.defaultPropsValue,e),n=t.title,r=t.action,s=t.className,l=t.size,f=t.placeMode,h=t.onClick,p=t.styleType,v=t.htmlFor,g=t.id,m=t.a11yLabel,y="function"===typeof r?r():r;y=y?(0,c.jsx)("span",{className:"".concat(u,"-action"),children:y}):null;var b=f?"".concat(u,"-place"):"",A=n||m||f?(0,c.jsxs)("label",{htmlFor:v,className:"".concat(u,"-text ").concat(b),children:[n,m&&(0,c.jsx)(a.A,{children:" ".concat(m)})]}):null;if(!y&&!A)return null;var w=o()("".concat(u),p&&"".concat(u,"-").concat(p),"label-".concat(l),{"top-right":y&&!A},{"top-between":y&&A},s);return(0,c.jsxs)("div",{className:n||f||y?w:void 0,onClick:h,id:g,children:[A,y]})}d.defaultPropsValue={title:"",action:"",size:l.US.md,placeMode:!1,className:"",onClick:void 0,styleType:void 0,a11yLabel:""},d.sizeMap=l.US;const f=d},4264:(e,t,n)=>{"use strict";n.d(t,{Lu:()=>a,US:()=>s,ZE:()=>c,yH:()=>l});var r=n(4467),o=n(5857),i=n(5526),a="".concat(o.H3,"-input"),s=(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},i.A.xs,i.A.xs),i.A.sm,i.A.sm),i.A.md,i.A.md),i.A.lg,i.A.lg),i.A.xl,i.A.xl),l="%",c={reversed:"reversed"}},4752:(e,t,n)=>{"use strict";n.d(t,{A:()=>ee});var r=n(2751),o=n(2715),i=n(9379),a=n(3986),s=n(296),l=n(4467),c=n(4883),u=n(9719),d=n(4195),f=n(9203),h=n(5703),p=n(9643),v=n(5386),g=n(5618),m=n(8032),y=(0,c.forwardRef)((function(e,t){return(0,m.jsx)(p.A,(0,i.A)((0,i.A)({},e),{},{category:v.XJ.outline,type:v.ZE.primary,ref:t}))}));(0,g.C)(y);const b=y;var A=n(3430),w=n(5526),_=n(4264),C=["btnText","sendDisabled","maxSeconds","currentSecond","size","onSendClick","onTimerFinished"],S=(0,l.A)((0,l.A)((0,l.A)((0,l.A)((0,l.A)({},w.A.xs,w.A.xxs),w.A.sm,w.A.xxs),w.A.md,w.A.xxs),w.A.lg,w.A.xs),w.A.xl,w.A.xs);function k(e){var t=d.A.mergeProps(k.defaultPropsValue,e),n=(0,c.useState)(0),o=(0,s.A)(n,2),l=o[0],u=o[1],p=(0,c.useId)(),v=(0,c.useRef)(),g=(0,c.useRef)(),y=(0,c.useRef)(!1),w=(0,c.useState)(""),T=(0,s.A)(w,2),x=T[0],P=T[1],E=t.btnText,L=t.sendDisabled,I=t.maxSeconds,O=t.currentSecond,R=t.size,M=void 0===R?"md":R,N=t.onSendClick,D=t.onTimerFinished,B=(0,a.A)(t,C);(0,c.useEffect)((function(){return function(){g.current&&clearInterval(g.current)}}),[]);var F=function(){g.current&&(clearInterval(g.current),g.current=null,y.current=!1,P((0,A.kW)("a11y_web_input_status_universal_codeexpired")),u(0),D&&D())};(0,c.useEffect)((function(){l<=0&&F(),l>=I&&(P((0,A.kW)("a11y_web_input_status_universal_codesent",{timeLeft:l})),g.current=setInterval((function(){u((function(e){return e-1}))}),1e3)),30!==l&&10!==l||P((0,A.kW)("a11y_web_input_status_universal_codesecondsleft",{timeLeft:l}))}),[l]);var j=function(){if(N&&!L&&!y.current){y.current=!0;var e=N({clearTimer:F});e&&e.then?e.then((function(){u(I),v.current&&v.current.focus()}),(function(){y.current=!1})).catch((function(){})):u(I)}};return(0,m.jsx)(A.Ay,{children:(0,m.jsx)(r.A,(0,i.A)((0,i.A)({},B),{},{suffix:function(){var e;e=void 0!==O&&null!==O?O:l;var t=E?(0,m.jsx)(b,{onClick:j,className:"".concat(_.Lu,"-code-btn"),disabled:L,size:S[M],children:E}):null;return 0!==e&&(t=(0,m.jsx)(f.A,{localeKey:"a11y_web_input_label_universal_codetimer",children:(0,m.jsxs)("div",{role:"timer",className:"".concat(_.Lu,"-count-down"),children:[(0,m.jsx)(h.A,{children:(0,A.kW)("a11y_web_input_count_universal_codeseconds",{timeLeft:e})}),(0,A.kW)("okd_inputcode_countdown_seconds",{timeLeft:e})]})})),(0,m.jsxs)(m.Fragment,{children:[t,(0,m.jsx)(h.A,{id:p,children:0===l?(0,A.kW)("a11y_web_input_label_universal_codeclicktosend"):(0,A.kW)("a11y_web_input_label_universal_codeenter")}),(0,m.jsx)(h.A,{"aria-live":"polite",role:"region",children:x})]})}(),"aria-describedby":p,onRef:function(e){v.current=e,t.onRef&&t.onRef(e)}}))})}k.defaultPropsValue={btnText:"",maxSeconds:60,currentSecond:void 0,maxLength:6,sendDisabled:!1,onTimerFinished:null},k.elementType=u.rk.InputCode;const T=k;var x=n(5458),P=n(792),E=n.n(P),L=n(4563),I=["onChange","length","onFinish","size","className","style","disabled","defaultValue","value","inputClassName","inputStyle","width","autoFocus","stopInsertCompositionText","validator","error"],O=(0,c.forwardRef)((function(e,t){var n=d.A.mergeProps(O.defaultPropsValue,e),r=n.onChange,o=n.length,l=n.onFinish,u=n.size,h=n.className,p=n.style,v=n.disabled,g=n.defaultValue,y=n.value,b=n.inputClassName,A=n.inputStyle,w=n.width,C=n.autoFocus,S=n.stopInsertCompositionText,k=n.validator,T=n.error,P=(0,a.A)(n,I),R=(0,c.useState)(!1),M=(0,s.A)(R,2),N=M[0],D=M[1],B=T&&!N,F=(0,c.useCallback)((function(e){return new Array(o).fill("").map((function(t,n){var r;return null!==(r=e[n])&&void 0!==r?r:""}))}),[o]),j=(0,L.A)({value:y?F(y):void 0,defaultValue:F(g),onChange:r?function(e){return r(e.join(""))}:void 0},{defaultValue:F(""),valuePropName:"value",trigger:"onChange"}),V=(0,s.A)(j,2),H=V[0],z=V[1],U=(0,c.useState)(-1),W=(0,s.A)(U,2),K=W[0],G=W[1],q=(0,c.useMemo)((function(){return new Array(o).fill(null).map((function(){return(0,c.createRef)()}))}),[o]),Y=function(e){return k?k(e):/^\d/.test(e)},Z=function(e){var t=q[e].current;t&&requestAnimationFrame((function(){t.select()}))},X=function(e,t){var n=(0,x.A)(H);n[t]=e,z(n);var r=n.join("");r.length===o&&l(r)},J=(0,c.useCallback)((function(e){var t,n=null===(t=q[e])||void 0===t?void 0:t.current;n&&requestAnimationFrame((function(){n.focus()}))}),[q]);(0,c.useImperativeHandle)(t,(function(){return{setValues:z,focusInput:J}}));var Q=function(e){var t,n=null===(t=q[e])||void 0===t?void 0:t.current;n&&requestAnimationFrame((function(){n.blur()}))},$=(0,c.useCallback)((function(){D(!1)}),[]),ee=E()(d.A.data.okdNamespace,"".concat(_.Lu,"-verify"),h),te=E()("".concat(_.Lu,"-verify-input"),"input-".concat(u),b,{disabled:v,error:B}),ne=(0,i.A)((0,i.A)({},A),{},{width:w}),re=P.maxLength?{maxLength:P.maxLength}:{},oe=(0,i.A)((0,i.A)((0,i.A)({},P),{},{autoCapitalize:"off",autoCorrect:"off"},re),{},{disabled:v});return e.type||k||(oe.inputMode="numeric",oe.pattern="[0-9]*",oe.type="text"),(0,c.useEffect)((function(){C&&setTimeout((function(){J(0)}))}),[]),(0,m.jsx)(f.A,{localeKey:"a11y_web_input_label_universal_verificationcode",children:(0,m.jsx)("div",{"aria-label":e["aria-label"],className:ee,role:"group",style:p,children:q.map((function(e,t){return(0,m.jsx)("input",(0,i.A)({autoComplete:"one-time-code",className:te,style:ne,onChange:function(e){return function(e,t){if(!S||"insertCompositionText"!==e.nativeEvent.inputType){var n=e.target.value,r=n.replace(H[t],"");if(Y(r)){var i=t>=H.length||!H[t+1];if(r.length>1){var a=F(n);return z(a),n.length===o?(l(n),void Q(t)):void(i&&J(t+r.length))}X(r,t),t!==o-1?i&&J(t+1):Q(t)}else Z(t)}}(e,t)},onFocus:function(){return function(e){var t;D(!0),(null===(t=q[e])||void 0===t?void 0:t.current)&&(G(e),Z(e))}(t)},onKeyDown:function(e){return function(e,t){var n=e.key;if("Backspace"===n||"Delete"===n)return e.preventDefault(),X("",K),void(""===H[K]&&J(t-1));n===H[t]&&J(t+1)}(e,t)},onPaste:function(e){return function(e,t){e.preventDefault();var n=e.clipboardData.getData("text").slice(0,o);if(Y(n)){var r=F(n);if(z(r),n.length===o)return l(n),void Q(t);J(n.length)}}(e,t)},ref:e,value:H[t],onBlur:$},oe),t)}))})})}));O.elementType=u.rk.InputVerify,O.defaultPropsValue={length:6,onChange:function(){},onFinish:function(){},size:w.A.md,disabled:!1,className:"",style:{},inputClassName:"",inputStyle:{},width:void 0,defaultValue:"",value:void 0,autoFocus:!1,validator:null,error:!1};const R=O;var M=n(7769),N=["target"],D=["defaultCipher","filterReg","autoFill"];function B(e){var t=d.A.mergeProps(B.defaultPropsValue,e),n=t.defaultCipher,o=t.onChange,l=t.filterReg,u=(0,c.useState)(n),p=(0,s.A)(u,2),v=p[0],g=p[1],y=(0,c.useRef)(),b=(0,c.useRef)(!1),w=(0,c.useId)(),C=function(){g(!v)},S=(t.defaultCipher,t.filterReg,t.autoFill),k=(0,a.A)(t,D);return(0,m.jsxs)(A.Ay,{children:[!S&&(0,m.jsx)("input",{type:"password",autoComplete:"new-password",readOnly:"readonly",style:{display:"none"}}),(0,m.jsx)(r.A,(0,i.A)((0,i.A)({},k),{},{onChange:function(e){var t=e.target.value;b.current||(t=t.replace(l,""));var n=function(e,t){e.target;var n=(0,a.A)(e,N);return(0,i.A)({target:(0,i.A)((0,i.A)({},e.target),{},{value:t})},n)}(e,t);o&&o(n,t)},type:v?"password":"text",suffix:function(){var e=v?"okds-eye-hide-filled":"okds-eye-show-filled",t=v?"a11y_web_input_btn_universal_showpassword":"a11y_web_input_btn_universal_hidepassword";return(0,m.jsx)(f.A,{localeKey:t,children:(0,m.jsx)(M.A,{className:"".concat(_.Lu,"-switch-icon suffix-icon ").concat(e),onClick:C})})}(),onRef:function(e){y.current=e,t.onRef&&t.onRef(e)},autoFill:!0,preserveFocusOnAffix:!0,"aria-describedby":w})),(0,m.jsx)(h.A,{id:w,localeKey:v?"a11y_web_input_status_universal_passwordhidden":"a11y_web_input_status_universal_passwordvisible"})]})}B.defaultPropsValue={defaultCipher:!0,filterReg:"",autoFill:!0},B.elementType=u.rk.InputPassword;const F=B;var j=n(2011),V=n(3631),H=n(1742),z=n(9991),U=n(9508),W=n(5857),K=Object.prototype.toString;function G(e){return"[object Number]"===K.call(e)&&!Number.isNaN(e)}var q=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","width"],Y=null;const Z=function(e,t){if(e&&!(0,H.f)()){var n=function(){var t,n,r;return r=e,"[object Object]"===K.call(r)&&(t=e.minRows,n=e.maxRows),{minRows:t,maxRows:n}}(),r=n.minRows,o=n.maxRows,i=t,a=function(e){if((0,H.f)())return{paddingSize:0,boxSizing:"border-box",borderSize:0};var t,n;Y||(null===(t=Y=U.A.document.createElement("textarea"))||void 0===t||null===(n=t.classList)||void 0===n||n.add("".concat(W.H3,"-input-textarea-resize-virtual-dom")),U.A.document.body.appendChild(Y));var r=U.A.getComputedStyle(e),o="\n    ".concat(q.map((function(e){return"".concat(e,":").concat(null===r||void 0===r?void 0:r.getPropertyValue(e))})).join(";"),"\n  ");return Y.setAttribute("style",(0,z.Nb)("".concat("\n  position: absolute;\n  min-height: 0 !important;\n  max-height: none;\n  height:0;\n  visibility: hidden;\n  z-index: -100;\n  top: 0;\n  right: 0;\n","line-height: ").concat(r.getPropertyValue("font-size"),";").concat(o,";"))),{paddingSize:parseFloat(null===r||void 0===r?void 0:r.getPropertyValue("padding-top"))+parseFloat(null===r||void 0===r?void 0:r.getPropertyValue("padding-bottom")),boxSizing:null===r||void 0===r?void 0:r.getPropertyValue("box-sizing"),borderSize:parseFloat(null===r||void 0===r?void 0:r.getPropertyValue("border-top-width"))+parseFloat(null===r||void 0===r?void 0:r.getPropertyValue("border-bottom-width"))}}(i),s=a.paddingSize,l=a.boxSizing,c=a.borderSize;Y.value=i.value||i.placeholder||"";var u,d,f,h=Y.scrollHeight+c;if(r||o){Y.value="";var p=Y.scrollHeight-s;G(r)&&(u=p*r,"border-box"===l&&(u+=s,u+=c),h=Math.max(h,u)),G(o)&&(d=p*o,"border-box"===l&&(d+=s,d+=c),f=h>d?"auto":"",d=Math.min(h,d))}var v={};return v.height=h,u&&(v.minHeight=u),d&&(v.maxHeight=d),f&&(v.overflowY=f),v}return{}};var X=["onChange","maxLength","showCount","cleanable","cleanText","helpText","value","innerClassName","autoResize","onRef"],J=function(e){var t=d.A.mergeProps(J.defaultPropsValue,e),n=t.onChange,o=t.maxLength,l=t.showCount,u=(t.cleanable,t.cleanText),f=(t.helpText,t.value),p=void 0===f?"":f,v=t.innerClassName,g=void 0===v?"":v,y=t.autoResize,b=t.onRef,w=void 0===b?function(){}:b,_=(0,a.A)(t,X),C=(0,c.useState)(0),S=(0,s.A)(C,2),k=S[0],T=S[1],x=(0,c.useRef)(null),P=(0,c.useRef)(null),L=(0,c.useState)({}),I=(0,s.A)(L,2),O=I[0],R=I[1];(0,c.useEffect)((function(){var e=String(p).length;T(e)}),[p]);(0,c.useEffect)((function(){y&&function(){var e=Z(y,x.current);e&&R(e)}()}),[y,p]);var M,N,D;l&&(M=N=V._u.thousandFormat(k),o&&(D=V._u.thousandFormat(o),M+=" / ".concat(D)));var B=!!u&&(0,m.jsx)("span",{onClick:function(){n&&n({target:{value:""}})},children:u}),F=(0,c.useId)();return(0,m.jsxs)(A.Ay,{children:[(0,m.jsx)(r.A,(0,i.A)((0,i.A)({},_),{},{value:p,isTextarea:!0,maxLength:o,helpText:M,action:B,cleanable:!1,onChange:n,onRef:function(e){x.current=e,w(e)},getBoxRef:function(e){P.current||(P.current=null===e||void 0===e?void 0:e.offsetHeight)},autoResize:y,"aria-describedby":l&&o?F:void 0,innerClassName:E()(g,y&&"auto-resize-auto-height"),inputStyle:(0,i.A)((0,i.A)({},O),_.inputStyle)})),l&&o&&(0,m.jsx)(h.A,{id:F,localeKey:"a11y_web_input_count_universal_characters",localeValues:{num:N,total:D}})]})};J.defaultPropsValue={maxLength:void 0,showCount:!1,cleanable:!1,cleanText:"",autoResize:!1},J.elementType=u.rk.TextArea;const Q=J;var $=n(8685);r.A.Number=o.A,r.A.Code=T,r.A.Verify=R,r.A.Password=F,r.A.TextArea=Q,r.A.Search=j.A,r.A.Label=$.A,r.A.SIZE=_.US,r.A.STYLE_TYPE=_.ZE;const ee=r.A},6828:(e,t,n)=>{"use strict";n.d(t,{CM:()=>c,HB:()=>l,uy:()=>s});var r=n(4883),o=n.n(r),i=n(9719),a=n(4264),s=function(e){return"function"===typeof e?e():e},l=function(e){return e&&o().isValidElement(e)&&e.type.elementType===i.rk.Select};function c(e){return Object.assign(e,{SIZE:a.US,STYLE_TYPE:a.ZE}),e}},3430:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>P,kW:()=>L,ok:()=>x});var r=n(675),o=n(467),i=n(3986),a=n(9379),s=n(296),l=n(4883),c=n.n(l),u=n(519),d=n(3357),f=n(5938),h=n(1230),p=n(5473),v=n(8462);function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{project:"",site:""},t=(0,d.E)();t.envSign&&"prod"!==t.envSign&&(0,v.B)({fetchBaseUrl:(0,f.A)().BASE_URL_PREVIEW});var n=(0,a.A)((0,a.A)({},e),{},{project:(0,p.eg)(null===e||void 0===e?void 0:e.project)});return new Promise((function(e){n.resolveFn=e,(0,h.Fq)(n,!0)}))}var m=n(3029),y=n(2901),b=n(5624),A=n(1742),w=function(){return(0,y.A)((function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,m.A)(this,e),this.project="".concat("i18n-T").concat(null!==(t=r.project)&&void 0!==t?t:""),this.site=r.site,this.okGlobal=(0,d.E)(),this.i18nData=r.i18nData||{},this.locale=this.okGlobal.locale||p.cQ,(0,b.Ts)(this.i18nData,{locale:null===(n=this.locale)||void 0===n?void 0:n.toLowerCase(),project:this.project})}),[{key:"t",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if((0,A.f)())return"";var o=n||{},i=o.withJSX,a=o.useBr,s=void 0===a||a;try{var l=this.i18nData&&this.i18nData[e]||"",c={key:e,moduleName:this.project,handler:r,content:l,useBr:s,withJSX:i,values:t,currLocale:this.locale,from:"i18n-T"};return(0,p.KB)(c)}catch(u){return""}}},{key:"tJSX",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if((0,A.f)())return"";var r=this.t(e,{},(0,a.A)((0,a.A)({},n),{},{withJSX:!0}),{hasBr:!0});return(0,p.eI)(r,t)}}])}(),_=n(4195),C=n(9508),S=n(8032),k=["fetchConfig"],T=c().createContext({toLocale:function(){}}),x=function(){var e=(0,l.useState)(!!C.A._okdI18n),t=(0,s.A)(e,2),n=t[0],r=t[1];return(0,l.useEffect)((function(){var e=function(){r(!0)};return C.A.addEventListener("okdI18nLoaded",e),function(){C.A.removeEventListener("okdI18nLoaded",e)}}),[]),(0,a.A)((0,a.A)({},c().useContext(T)),{},{loaded:n})};function P(e){var t=_.A.mergeProps(P.defaultPropsValue,e),n=t.localeProps,s=void 0===n?{}:n,c=t.children,d=t.locale,f=s.fetchConfig,h=(0,i.A)(s,k),p=(0,a.A)((0,a.A)((0,a.A)({},_.A.data.localeProviderProps),h),{},{fetchConfig:(0,a.A)((0,a.A)({},_.A.data.localeProviderProps.fetchConfig),{},{locale:u.A.locale},f)});d&&(p.fetchConfig.locale=d);var v=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var t,n,o;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.keys(p.localeData||{}).length>0,C.A._okdI18nPromise||t||(C.A._okdI18nPromise=g(p.fetchConfig)),!t){e.next=6;break}e.t0=p.localeData,e.next=9;break;case 6:return e.next=8,C.A._okdI18nPromise;case 8:e.t0=e.sent;case 9:n=e.t0,C.A._okdI18n||(o=new w((0,a.A)({i18nData:n},p.fetchConfig)),C.A._okdI18n=o,C.A.dispatchEvent(new Event("okdI18nLoaded")));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){v()}),[]);var m=(0,l.useMemo)((function(){return{toLocale:function(e,t,n,r){var o,i;return null===(o=C.A._okdI18n)||void 0===o||null===(i=o.t)||void 0===i?void 0:i.call(o,e,t,n,r)}}}),[]);return(0,S.jsx)(T.Provider,{value:m,children:c})}function E(e){var t,n,r=e.localeKey,o=e.values,i=void 0===o?{}:o,a=e.extra,s=void 0===a?{}:a,l=e.handler,c=void 0===l?{}:l;return x(),(0,S.jsx)(S.Fragment,{children:null===(t=C.A._okdI18n)||void 0===t||null===(n=t.t)||void 0===n?void 0:n.call(t,r,i,s,c)})}P.defaultPropsValue={localeProps:{}};var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,S.jsx)(E,{localeKey:e,values:t,extra:n,handler:r})};P.toLocale=L},4393:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(9379),o=n(4467),i=n(4883),a=n.n(i),s=n(4195),l=n(3986),c=n(3430),u=n(5526),d=n(792),f=n.n(d),h=n(5703),p=n(5857),v=n(296),g=n(8032),m=["right","left"];function y(e){var t=e.loaderPrefix,n=e.loaderClassName,r=e.size,o=e.type,a=e.percent,s=void 0===a?25:a,l=e.style,c=e.coverClassName,u=e.coverStyle,d=(0,i.useState)({left:0,right:0}),h=(0,v.A)(d,2),p=h[0],y=h[1];(0,i.useEffect)((function(){var e=3.6*s;y(e>180?{left:180,right:e-180}:{right:0,left:e})}),[s]);var b=f()(t,"".concat(t,"-spin"),"".concat(t,"-inner-circle"),"".concat(t,"-inner-").concat(r),n);return(0,g.jsxs)("div",{className:b,style:l,children:[m.map((function(e){return(0,g.jsx)("div",{className:f()("".concat(t,"-inner-track-").concat(e),"".concat(t,"-inner-track-").concat(r),"".concat(t,"-inner-fill-").concat(o)),children:(0,g.jsx)("div",{className:f()("".concat(t,"-inner-track-").concat(e,"-content"),"".concat(t,"-inner-track-").concat(o)),style:{transform:"rotate(".concat(p[e],"deg)")}})},e)})),(0,g.jsx)("div",{className:f()("".concat(t,"-inner-").concat(r,"-cover"),c),style:u})]})}var b="".concat(p.H3,"-loader"),A=function(e,t){return{borderColor:e,borderTopColor:t}};const w=function(e){var t=!e.children,n=e.loading,i=void 0===n?t:n,l=e.size,c=e.type,u=e.className,d=e.style,p=e.trackColor,v=e.markColor,m=e.hasMask,w=e.loaderStyle,_=e.loaderClassName,C=e.percent,S=e.zIndex,k=e.loadingText,T=e.maskColor,x=e.id,P=e.a11yText,E=e.children,L=e.a11yContentTitle,I=e.maskClassName,O=e.boxClassName,R=e.defaultA11yTextLocaleKey,M=f()(s.A.data.okdNamespace,b,(0,o.A)({},"".concat(b,"-mask"),m),I),N=f()(s.A.data.okdNamespace,b,u),D=f()("".concat(b,"-spin"),"".concat(b,"-spin-").concat(l),"".concat(b,"-spin-").concat(c),_),B=(0,g.jsxs)("div",{className:N,style:d,role:"region","aria-live":"polite",id:x,children:[void 0!==C?(0,g.jsx)(y,(0,r.A)((0,r.A)({loaderPrefix:b},e),{},{style:(0,r.A)((0,r.A)({},A(p,v)),w)})):(0,g.jsx)("div",{className:D,style:(0,r.A)((0,r.A)({},A(p,v)),w)}),!k&&(0,g.jsx)(h.A,{localeKey:R||"a11y_web_loader_loading_universal_default",children:P})]}),F=T?{backgroundColor:T,zIndex:S}:{zIndex:S},j=m?(0,g.jsxs)("div",{className:M,style:F,children:[B,k&&(0,g.jsx)("div",{className:"".concat(b,"-mask-text"),children:k})]}):B,V=E&&m,H=V?"div":a().Fragment,z=i?{"aria-label":L,"aria-busy":"true"}:{},U=V?(0,r.A)({className:f()("".concat(b,"-box"),O)},z):void 0;return(0,g.jsxs)(H,(0,r.A)((0,r.A)({},U),{},{children:[V?(0,g.jsx)("div",{style:{display:"contents"},inert:i?"true":void 0,children:E}):null,i&&j]}))};var _=["size"],C=(0,r.A)({l:u.A.lg,m:u.A.md,s:u.A.sm},u.A),S={primary:"primary",neutral:"neutral"};function k(e){var t=s.A.mergeProps(k.defaultPropsValue,e),n=t.size,o=(0,l.A)(t,_),i=C[n]||u.A.md;return(0,g.jsx)(c.Ay,{children:(0,g.jsx)(w,(0,r.A)((0,r.A)({},o),{},{size:i}))})}k.defaultPropsValue={size:u.A.md,type:S.primary,trackColor:void 0,markColor:void 0,className:"",loaderClassName:"",style:{},loaderStyle:{},hasMask:!1,zIndex:1,loadingText:null,maskColor:void 0,a11yText:void 0,a11yContentTitle:void 0,id:void 0,maskClassName:void 0},k.SIZE=C,k.TYPE=S;const T=k;var x="".concat(p.H3,"-loader");function P(e){var t=s.A.mergeProps(P.defaultPropsValue,e),n=t.className,a=t.percent,l=t.loading,u=void 0===l||l,d=t.trackColor,p=t.markColor,m=t.style,y=t.a11yText,b=t.id,A=f()(s.A.data.okdNamespace,x,"".concat(x,"-line"),(0,o.A)({},"".concat(x,"-loading"),"number"!==typeof a&&u),n),w=(0,i.useState)(a),_=(0,v.A)(w,2),C=_[0],S=_[1],k=(0,i.useRef)();(0,i.useEffect)((function(){if("number"===typeof a){k.current&&clearInterval(k.current);k.current=setInterval((function(){C>a?(clearInterval(k.current),S(a)):C<a?S(C+10>a?a:C+10):clearInterval(k.current)}),50)}else S(a)}),[a,C]);var T=(0,i.useCallback)((function(){var e=25;return"number"===typeof C&&(e=C,C>100?e=100:C<0&&(e=0)),"".concat(e,"%")}),[C]);return(0,g.jsx)(c.Ay,{children:(0,g.jsxs)("div",{className:A,style:(0,r.A)({backgroundColor:d},m),role:"region","aria-live":"polite",id:b,children:[(0,g.jsx)("div",{className:"".concat(x,"-mark"),style:{backgroundColor:p,width:T()}}),(0,g.jsx)(h.A,{localeKey:"a11y_web_loader_loading_universal_default",children:y})]})})}P.defaultPropsValue={className:"",trackColor:void 0,markColor:void 0,style:{},id:void 0,a11yText:void 0};const E=P;var L={line:"line",circle:"circle"},I=(0,o.A)((0,o.A)({},L.line,E),L.circle,T);function O(e){var t=s.A.mergeProps(O.defaultPropsValue,e),n=I[t.shape];return n?(0,g.jsx)(n,(0,r.A)({},t)):null}O.defaultPropsValue={shape:L.circle},O.SHAPE=L,O.SIZE=T.SIZE,O.TYPE=T.TYPE,O.Circle=T,O.Line=E;const R=O},4646:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(9379),o=(n(4883),n(1289)),i=n(6830),a=n(5147),s=n(4195),l=n(3151),c=n(1075),u=n(8032),d={top:100,duration:3,placement:l.A.DIRECTION.top};function f(e){var t=s.A.mergeProps(f.defaultPropsValue,e);return(0,u.jsx)(l.A,(0,r.A)({},t))}function h(e){return function(t){var n="string"===typeof t||(0,i.vq)(t)?{title:t}:t,s=(0,r.A)((0,r.A)({showClose:!1,autoWidth:!0,type:l.A.TYPE[e]},d),n),c=(0,o.A)();if("sm"===(null===c||void 0===c?void 0:c.media)){var u=Number((0,a.sd)("--global-header-height").replace("px",""))||88;s.top=u+12}return l.A.create(s)}}f.success=h(l.A.TYPE.success),f.info=h(l.A.TYPE.info),f.warn=h(l.A.TYPE.warn),f.error=h(l.A.TYPE.error),f.config=function(e){d=Object.assign(d,e)},f.destroyAll=l.A.destroyAll,f.TYPE=l.A.TYPE,f.DIRECTION=l.A.DIRECTION,f.defaultPropsValue={title:"",desc:"",showIcon:!0,type:c.A.info,duration:3,onClose:null,containerClassName:"",className:"",id:void 0}},3151:(e,t,n)=>{"use strict";n.d(t,{A:()=>V});var r=n(9379),o=n(4467),i=n(4883),a=n(792),s=n.n(a),l=n(4195),c=n(9203),u=n(7769),d=n(5857),f=n(1075),h=n(4822),p=n(5458),v=n(296),g=n(2901),m=n(3029),y=n(1845),b=n(1742),A=n(9508),w=n(1093),_=(0,g.A)((function e(){var t=this;(0,m.A)(this,e),this.init=function(e){return t.result=e,t},this.push=function(e){return t.list.push(e),t},this.run=function(){var e=t.list.reduce((function(e,t){return t(e)}),t.result);return t.list=[],t.result=void 0,e},this.list=[],this.result=void 0})),C=function(e){var t,n,r=e.selector,o=e.attributes,i=void 0===o?{}:o,a=e.partentEle;if((0,b.f)())return{resultDom:null,isExist:!1};var s=a?null===a||void 0===a?void 0:a.querySelector(r):null===(t=A.A.document)||void 0===t?void 0:t.querySelector(r),l=r?s:null,c=null===(n=A.A.document)||void 0===n?void 0:n.createElement("div"),u=!1;return l?(c=l,u=!0):Object.entries(i).forEach((function(e){var t=(0,v.A)(e,2),n=t[0],r=t[1];"object"===typeof r&&r?Object.assign(c[n],r):""!==r&&null!==r&&void 0!==r&&(c[n]=r)})),{resultDom:c,isExist:u}},S=function(e,t){var n=[],r=null;return t.forEach((function(t){t.notificationId===e?(r=t,clearTimeout(r.destroyClockId)):n.push(t)})),{targetNotification:r,newList:n}};function k(e){return"string"!==typeof e?e:e.replace(/([A-Z])/g,"-$1").toLowerCase()}var T=n(8032),x="".concat(d.H3,"-notification"),P=function(e,t){return(0,b.f)()?e:(0,y.createPortal)(e,t)},E=(0,g.A)((function e(){var t=this;(0,m.A)(this,e),this.create=function(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.pipe.init((0,r.A)((0,r.A)({},t.globalConfig),n)).push(t.setupDomTree).push((function(n){return t.render(n,e),n})).push(t.addDelayTask).push(t.pushStashList).push(t.checkOverflow).run();return{destroy:function(){t.destroy(o)},update:function(n){t.render((0,r.A)((0,r.A)({},o),{},{currentConfig:(0,r.A)((0,r.A)({},o.currentConfig),n)}),e)}}}},this.setupDomTree=function(e){var n,o,i,a,c,u=e.top,d=e.left,f=e.right,h=e.bottom,p=e.placement,v=e.containerClassName,g=void 0===v?"":v,m=e.key,y=e.id,b=e.getContainer,_=y||m,S=C({selector:b?".".concat(x,"-wrap.").concat(x,"-").concat(k(p)):".".concat(x,"-default.").concat(x,"-").concat(k(p)),partentEle:b?null===b||void 0===b?void 0:b():null,attributes:{className:s()(l.A.data.popupClassName,l.A.data.okdNamespace,b?"".concat(x," ").concat(x,"-wrap ").concat(x,"-").concat(k(p)):"".concat(x," ").concat(x,"-default ").concat(x,"-").concat(k(p))),dir:l.A.data.popupDir,style:{padding:"".concat(u,"px ").concat(f,"px ").concat(h,"px ").concat(d,"px"),zIndex:w.cb.next(!0).value}}}),T=S.resultDom,P=S.isExist,E=null,L=T;L&&(L.setAttribute("data-testid","okd-notification-container"),b?(!P&&(null===b||void 0===b||null===(n=b())||void 0===n||n.appendChild(L)),E=C({selector:".".concat(x,"-palceholder"),attributes:{className:"".concat(x,"-palceholder")}}).resultDom,null===A.A||void 0===A.A||null===(o=A.A.document)||void 0===o||null===(i=o.body)||void 0===i||i.appendChild(E)):!P&&(null===A.A||void 0===A.A||null===(a=A.A.document)||void 0===a||null===(c=a.body)||void 0===c||c.appendChild(L)));var I={attributes:{className:"".concat(x,"-container ").concat(g)}},O=_||++t.notificationCount;_&&(I.selector="#".concat(_),I.attributes.id=_);var R=C(I),M=R.resultDom,N=R.isExist,D=M;return D&&!N&&L.appendChild(D),{parentContainer:L,container:D,currentConfig:(0,r.A)((0,r.A)({},e),{},{uniqueKey:_}),notificationId:O,app:E}},this.render=function(e,n){var o=e.currentConfig,i=e.container,a=e.notificationId,s=e.root,l=e.containerRoot,c=e.app,u=o.uniqueKey,d=o.getContainer;delete o.key;var f=(0,T.jsx)(n,(0,r.A)((0,r.A)({},o),{},{destroy:function(){return t.destroy((0,r.A)((0,r.A)({},e),{},{triggerClick:!0}))}})),h=d?t.containerRoot:t.roots;if(i)if(h[a])h[a].render(d?P(f,i):f);else{var p=null;(p=d?l||y.createRoot(c):s||y.createRoot(i)).render(d?P(f,i):f),d?Object.assign(e,{containerRoot:p}):Object.assign(e,{root:p}),u&&(d?t.containerRoot[a]=p:t.roots[a]=p)}},this.addDelayTask=function(e){var n=e.currentConfig.duration,o=null;return 0!==n&&(o=setTimeout((function(){t.destroy(e)}),1e3*Number(n))),(0,r.A)({destroyClockId:o},e)},this.pushStashList=function(e){var n=e.currentConfig,r=e.destroyClockId,o=e.notificationId,i=n.key,a=n.id||i;if(function(e,t){return!!t.find((function(t){return t.notificationId===e}))}(a,t.notificationList)){var s=t.notificationList.find((function(e){return e.notificationId===a}));clearTimeout(s.destroyClockId),s.destroyClockId=r}else t.notificationList.push({notificationId:o,destroyClockId:r,destroy:function(){t.destroy(e)}});return e},this.checkOverflow=function(e){if(t.notificationList.length>t.globalConfig.maxCount){var n=(0,v.A)(t.notificationList,1)[0],r=S(n.notificationId,t.notificationList),o=r.targetNotification,i=r.newList;t.notificationList=i,o.destroy()}return e},this.destroy=function(e){var n=e.container,r=e.notificationId,o=e.currentConfig,i=e.getContainer,a=e.triggerClick,s=S(r,t.notificationList).newList;t.notificationList=s,n&&(n.className+=" ".concat("container-remove")),setTimeout((function(){var s;n&&(((null===(s=(i?t.containerRoot:t.roots)[r])||void 0===s?void 0:s.unmount())||!0)&&n&&null!==n&&void 0!==n&&n.parentNode&&n.parentNode.removeChild(n),o.onClose&&o.onClose({triggerClick:a}),i?(Object.assign(e,{containerRoot:null}),delete t.containerRoot[r]):(Object.assign(e,{root:null}),delete t.roots[r]))}),500)},this.destroyAll=function(){var e,n=null===A.A||void 0===A.A||null===(e=A.A.document)||void 0===e?void 0:e.getElementsByClassName(x);n&&(0,p.A)(n).forEach((function(e){e&&e.remove()})),t.notificationList.forEach((function(e){clearTimeout(e.destroyClockId)})),t.notificationList=[],t.roots={}},this.config=function(e){Object.assign(t.globalConfig,(0,r.A)({},e))},this.notificationList=[],this.notificationCount=0,this.globalConfig={top:24,left:24,right:24,bottom:24,placement:h.M8.topRight,duration:5,maxCount:10},this.pipe=new _,this.roots={},this.containerRoot={}}));const L=new E;n(504);var I="".concat(d.H3,"-notification"),O=(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},f.A.success,"okds-success-circle-fill"),f.A.info,"okds-information-circle-fill"),f.A.warn,"okds-warning-circle-fill"),f.A.error,"okds-fail-circle-fill"),f.A.pending,"okds-clock-outline"),R=(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},f.A.success,"a11y_web_icon_success_universal_default"),f.A.info,"a11y_web_icon_info_universal_default"),f.A.warn,"a11y_web_icon_warning_universal_default"),f.A.error,"a11y_web_icon_error_universal_default"),f.A.pending,"a11y_web_icon_pending_universal_default"),M=L.destroyAll,N=L.config,D=L.create,B=L.globalConfig;function F(e){var t=l.A.mergeProps(F.defaultPropsValue,e),n=t.showIcon,r=t.icon,o=t.type,a=t.showClose,d=t.autoWidth,f=t.destroy,h=t.customRender,p=t.className,v=t.title,g=t.content,m=t.desc,y=t.isInline,b=t.confirmText,A=t.cancelText,w=t.onConfirm,_=t.onCancel,C=t.onUndo,S=t.onDismiss,k=n?r&&"string"!==typeof r?r:(0,T.jsx)("span",{className:"".concat(I,"-icon-circle-container"),children:(0,T.jsx)(c.A,{localeKey:R[o],children:(0,T.jsx)(u.A,{className:"".concat(I,"-icon-new ").concat(r||O[o])})})}):null,x=function(){var e=w||C,t=_||S,n=v||g,r=y?"".concat(I,"-inline"):"";return n?(0,T.jsxs)("div",{className:s()("".concat(I,"-content ").concat(r)),children:[(0,T.jsxs)("div",{className:"".concat(I,"-title-box"),children:[(0,T.jsx)("span",{className:"".concat(I,"-title"),children:n}),m&&(0,T.jsx)("span",{className:"".concat(I,"-desc"),children:m})]}),(e||t)&&(0,T.jsxs)("div",{className:"".concat(I,"-action"),children:["function"===typeof e&&(0,T.jsx)("span",{className:"action-undo",onClick:e,children:b}),"function"===typeof t&&(0,T.jsx)("span",{className:"action-dismiss",onClick:t,children:A})]})]}):null}(),P=a?(0,T.jsx)(c.A,{localeKey:"a11y_web_btn_close_universal_default",children:(0,T.jsx)(u.A,{className:"okds-close ".concat(I,"-close"),onClick:f})}):null,E=h({icon:k,content:x,close:P});return(0,T.jsx)("div",{className:s()("".concat(I,"-box ").concat(o),d&&"auto-width",p),role:"alert","aria-live":"polite",children:E||(0,T.jsxs)(i.Fragment,{children:[k,x,P]})})}function j(e){return function(t){var n=(0,r.A)({type:F.TYPE[e]},t);return F.create(n)}}F.config=N,F.create=D(F),F.destroyAll=M,F.TYPE=f.A,F.DIRECTION=h.M8,F.Icon=function(e){var t=e.type,n=e.icon;return(0,T.jsx)("span",{className:"".concat(I,"-icon-circle-container"),children:(0,T.jsx)(c.A,{localeKey:R[t],children:(0,T.jsx)(u.A,{className:"".concat(I,"-icon-new ").concat(n||O[t])})})})},F.defaultPropsValue={title:"",desc:"",showIcon:!0,icon:"",showClose:!0,type:f.A.info,placement:B.placement,duration:B.duration,isInline:!1,autoWidth:!1,onClose:null,confirmText:"",onConfirm:void 0,cancelText:"",onCancel:void 0,id:void 0,containerClassName:"",className:"",customRender:function(){},getContainer:null},F.success=j(F.TYPE.success),F.info=j(F.TYPE.info),F.warn=j(F.TYPE.warn),F.error=j(F.TYPE.error),F.pending=j(F.TYPE.pending);const V=F},4820:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(9379),o=n(3986),i=n(4883),a=n(792),s=n.n(a),l=n(4195),c=n(5857),u=n(9719),d=n(8032),f=["children","className","display","style","width","displayAsDiv"],h=(0,i.forwardRef)((function(e,t){var n=l.A.useMergeProps(h.defaultPropsValue,e,l.A.componentNames.PlainButton),i=n.children,a=n.className,u=n.display,p=n.style,v=n.width,g=n.displayAsDiv,m=(0,o.A)(n,f),y=(0,r.A)({display:u,width:v},p);return(0,d.jsx)("button",(0,r.A)((0,r.A)({type:"button"},m),{},{className:s()(l.A.data.okdNamespace,"".concat(c.H3,"-plain-button"),g&&"".concat(c.H3,"-plain-button-as-div"),a),style:y,ref:t,children:i}))}));h.defaultPropsValue={className:""},h.elementType=u.rk.Button;const p=h},9422:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var r=n(9379),o=n(3986),i=n(4883),a=n(792),s=n.n(a),l=n(4195),c=n(8001),u=n(5857),d=n(5526),f=n(4822),h=n(7375),p=n(8794),v=n(8739),g=n(8032),m=["isLink","linkLabel","linkFunc","linkStyle","linkClassName","prefix"];function y(e){var t=e.isLink,n=e.linkLabel,i=e.linkFunc,a=e.linkStyle,l=e.linkClassName,c=e.prefix,u=(0,o.A)(e,m);return t?(0,g.jsx)(v.A,(0,r.A)((0,r.A)({handleStyle:!1},u),{},{className:s()("".concat(c,"-content-desc-link"),l),onClick:i,style:a,children:n})):(0,g.jsx)(p.A,{children:(0,g.jsx)("div",{className:s()("".concat(c,"-content-desc-button"),l),onClick:i,style:a,children:n})})}var b={name:"applyArrowHide",enabled:!0,phase:"write",fn:function(e){var t,n=e.state,r=n.elements.arrow;r&&((null===(t=n.modifiersData.arrow)||void 0===t?void 0:t.y)<=26?r.setAttribute("change-color",""):r.removeAttribute("change-color"))}};var A=["size","title","description","linkLabel","linkType","linkFunc","prefixClassName","popperClassName","popupStyle","width","popupRef","popupProps","maxWidth","descClassName","descStyle","linkStyle","linkClassName","powerLinkProps","focusManagerProps","applyA11y"],w="".concat(u.H3,"-popover"),_={sm:d.A.sm,md:d.A.md},C={a:"a",button:"button"};function S(e){var t=l.A.mergeProps(S.defaultPropsValue,e,l.A.componentNames.Popover),n=t.size,a=t.title,u=t.description,d=t.linkLabel,f=t.linkType,h=t.linkFunc,p=t.prefixClassName,v=t.popperClassName,m=t.popupStyle,_=t.width,k=t.popupRef,T=t.popupProps,x=t.maxWidth,P=t.descClassName,E=t.descStyle,L=t.linkStyle,I=t.linkClassName,O=t.powerLinkProps,R=t.focusManagerProps,M=t.applyA11y,N=(0,o.A)(t,A),D=function(e){var t=e.hasTitle,n=e.prefix;return(0,i.useMemo)((function(){var e=[],r="";return t&&(e=[b],r="".concat(n,"-arrow-special")),{modifiers:e,arrowSpecialColorCls:r}}),[t,n])}({hasTitle:!!a,prefix:w}),B=D.modifiers,F=D.arrowSpecialColorCls,j=(0,r.A)((0,r.A)({},m),{},{width:_,maxWidth:x||_}),V=(0,i.useId)();return(0,g.jsx)(c.A,(0,r.A)((0,r.A)((0,r.A)({"aria-labelledby":a?V:void 0},N),T),{},{ref:k,arrowSize:c.A.SIZE.lg,prefixClassName:s()("".concat(w," ").concat(w,"-").concat(n," ").concat(F),p),content:(0,g.jsxs)("div",{className:"".concat(w,"-content ").concat(v),style:j,children:[a&&(0,g.jsx)("div",{className:"".concat(w,"-content-title"),id:V,children:a}),(0,g.jsxs)("div",{className:s()("".concat(w,"-content-desc"),!a&&"".concat(w,"-content-desc-radius"),P),style:E,children:[(0,g.jsx)("span",{children:u}),d&&(0,g.jsx)(y,(0,r.A)((0,r.A)({linkFunc:h,linkLabel:d,linkStyle:L,linkClassName:I},O),{},{isLink:f===C.a,prefix:w}))]})]}),modifiers:B,applyA11y:M,focusManagerProps:R}))}S.defaultPropsValue={size:_.md,linkType:C.a,linkLabel:"",title:"",description:"",popperClassName:"",descClassName:"",linkFunc:function(){},width:void 0,popupRef:function(){},maxWidth:void 0,descStyle:{},linkStyle:{},linkClassName:"",powerLinkProps:{},applyA11y:!0},S.SIZE=_,S.DIRECTION=f.M8,S.TRIGGER_TYPES=h.A,S.TRIGGER=h.A,S.LINK_TYPES=C,S.Simple=S},8001:(e,t,n)=>{"use strict";n.d(t,{A:()=>ht});var r=n(9379),o=n(4467),i=n(296),a=n(4883),s=n.n(a),l=n(1845),c=n(792),u=n.n(c),d=n(1742),f=n(4195),h=n(9508),p=n(777),v=n(1093),g=n(5857),m=n(4822),y=n(7375),b=n(5526),A=n(7964),w=n(8032);function _(e){var t=e.popupLayerClassName,n=e.setPopupLayerRef,o=e.layerStyle,i=e.layerProp,s=e.eventConfig,l=e.hideArrow,c=e.prefix,u=e.borderColor,d=e.backgroundColor,h=e.popperUpdate,p=e.ResizeObserver,v=e.contentClassName,g=e.popupStyle,m=e.content,y=e.finalVisible,b=e.needFocusManager,_=e.focusManagerProps,C=void 0===_?{}:_,S=e.setVisible,k=e.a11yProps,T=(0,a.useRef)(null),x=(0,w.jsxs)(w.Fragment,{children:[!l&&(0,w.jsx)("div",{"data-popper-arrow":!0,className:"".concat(c,"-layer-arrow"),children:(0,w.jsx)("div",{className:"".concat(c,"-layer-arrow-inner"),style:{borderColor:u,backgroundColor:d}})}),(0,w.jsx)(p,{onResize:h,children:(0,w.jsx)("div",{className:"".concat(c,"-layer-content ").concat(v),style:g,children:m})})]}),P=function(){S(!1)};return(0,w.jsx)("div",(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({className:t,ref:function(e){T.current=e,n(e)}},{onClick:function(e){e.stopPropagation()}}),{},{style:o},i),s.popupHoverConfig),{},{dir:f.A.data.popupDir},k),{},{children:b?(0,w.jsx)(A.A,(0,r.A)((0,r.A)({getContainer:function(){return T.current},whenReturnFocus:!y,whenAutoFocus:y,focusTrapping:!1,afterReturnFocus:P,onFocusEnd:null!==C&&void 0!==C&&C.focusTrapping?void 0:P},C),{},{children:x})):x}))}var C=n(3986),S=n(6043),k=n(8794),T=["noWrapper","a11yProps","children","id","visible","applyA11y","trigger","graspBaseDom"],x=(0,a.forwardRef)((function(e,t){var n=e.noWrapper,o=e.a11yProps,l=e.children,c=e.id,u=e.visible,d=e.applyA11y,f=(e.trigger,e.graspBaseDom),h=(0,C.A)(e,T);return(0,a.useMemo)((function(){var e=(0,i.A)(l,2),a=e[0],c=e[1],u=(0,w.jsx)("div",(0,r.A)((0,r.A)({},h),{},{ref:t,children:l}));if(!a)return u;if(!d)return n?l:u;var p=a;!(0,S.FP)(a)&&null!==a&&void 0!==a&&a.props&&n&&(p=(0,w.jsx)(k.A,{children:a})),(0,S.If)(a)&&!n&&(p=s().cloneElement(a,{forceAriaButton:!0}));var v=(0,w.jsxs)(w.Fragment,{children:[s().cloneElement(p,(0,r.A)({},o)),c]});return n?v:(0,S.FP)(a)?(0,w.jsx)("div",(0,r.A)((0,r.A)({},h),{},{ref:t,children:v})):f?(0,w.jsxs)("div",(0,r.A)((0,r.A)({},h),{},{ref:t,children:[(0,w.jsx)(k.A,(0,r.A)((0,r.A)({forceAriaButton:!0},o),{},{children:a})),c]})):(0,w.jsx)(k.A,(0,r.A)((0,r.A)({forceAriaButton:!0},o),{},{children:(0,w.jsx)("div",(0,r.A)((0,r.A)({},h),{},{ref:t,children:l}))}))}),[n,o,l,c,u,d,h,t])}));const P=x,E=function(e){var t=e.children;return(0,w.jsx)(w.Fragment,{children:t})};var L=n(9991);const I=function(e){var t=e.realRef,n=e.text,r=e.alwaysUpdateTextOverflow,o=e.visible,s=(0,a.useState)(!1),l=(0,i.A)(s,2),c=l[0],u=l[1],d=(0,a.useState)(0),f=(0,i.A)(d,2),p=f[0],v=f[1],g=(0,a.useRef)();(0,a.useEffect)((function(){if(t&&n&&r&&h.A.ResizeObserver){var e=new ResizeObserver((function(e){e.forEach((function(e){v(e.contentRect.width)}))}));return e.observe(t),function(){e.disconnect()}}return function(){}}),[t,n,r]);var m=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","width"];return(0,a.useEffect)((function(){t&&n&&n!==g.current&&o&&setTimeout((function(){!function(){var e=document.createElement("div"),r=h.A.getComputedStyle(t),o="\n        ".concat(m.map((function(e){return"".concat(e,":").concat(null===r||void 0===r?void 0:r.getPropertyValue(e))})).join(";"),"\n      ");e.setAttribute("style",(0,L.Nb)("".concat(o,";\n        overflow-x: auto;\n        overflow-y: hidden;\n        white-space: nowrap;\n        visibility: hidden;\n        position: absolute;\n        z-index: -100;\n        top: 0;\n        right: 0;\n        "))),e.innerText=(0,L.YW)(n),h.A.document.body.appendChild(e),u(e.scrollWidth>e.clientWidth),h.A.document.body.removeChild(e)}(),g.current=n}),0)}),[t,n,p,o]),{isOverflow:c}};var O=n(9719);const R=function(e){if(e&&s().isValidElement(e)&&e.type.elementType===O.rk.Button&&e.props.disabled){var t,n,o={display:"inline-block",cursor:"not-allowed"};return null!==e&&void 0!==e&&null!==(t=e.props)&&void 0!==t&&t.block&&(o.width="100%"),(0,w.jsx)("span",{style:o,children:s().cloneElement(e,{style:(0,r.A)((0,r.A)({},null===e||void 0===e||null===(n=e.props)||void 0===n?void 0:n.style),{},{pointerEvents:"none"})})})}return null};var M=n(6103);var N=n(5458);function D(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function B(e){return e instanceof D(e).Element||e instanceof Element}function F(e){return e instanceof D(e).HTMLElement||e instanceof HTMLElement}function j(e){return"undefined"!==typeof ShadowRoot&&(e instanceof D(e).ShadowRoot||e instanceof ShadowRoot)}var V=Math.round;function H(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(F(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=n.width/a||1),i>0&&(o=n.height/i||1)}return{width:V(n.width/r),height:V(n.height/o),top:V(n.top/o),right:V(n.right/r),bottom:V(n.bottom/o),left:V(n.left/r),x:V(n.left/r),y:V(n.top/o)}}function z(e){var t=D(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function U(e){return e?(e.nodeName||"").toLowerCase():null}function W(e){return((B(e)?e.ownerDocument:e.document)||window.document).documentElement}function K(e){return H(W(e)).left+z(e).scrollLeft}function G(e){return D(e).getComputedStyle(e)}function q(e){var t=G(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Y(e,t,n){void 0===n&&(n=!1);var r=F(t),o=F(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),i=W(t),a=H(e,o),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==U(t)||q(i))&&(s=function(e){return e!==D(e)&&F(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:z(e);var t}(t)),F(t)?((l=H(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=K(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Z(e){var t=H(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function X(e){return"html"===U(e)?e:e.assignedSlot||e.parentNode||(j(e)?e.host:null)||W(e)}function J(e){return["html","body","#document"].indexOf(U(e))>=0?e.ownerDocument.body:F(e)&&q(e)?e:J(X(e))}function Q(e,t){var n;void 0===t&&(t=[]);var r=J(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=D(r),a=o?[i].concat(i.visualViewport||[],q(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Q(X(a)))}function $(e){return["table","td","th"].indexOf(U(e))>=0}function ee(e){return F(e)&&"fixed"!==G(e).position?e.offsetParent:null}function te(e){for(var t=D(e),n=ee(e);n&&$(n)&&"static"===G(n).position;)n=ee(n);return n&&("html"===U(n)||"body"===U(n)&&"static"===G(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&F(e)&&"fixed"===G(e).position)return null;for(var n=X(e);F(n)&&["html","body"].indexOf(U(n))<0;){var r=G(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var ne="top",re="bottom",oe="right",ie="left",ae="auto",se=[ne,re,oe,ie],le="start",ce="end",ue="viewport",de="popper",fe=se.reduce((function(e,t){return e.concat([t+"-"+le,t+"-"+ce])}),[]),he=[].concat(se,[ae]).reduce((function(e,t){return e.concat([t,t+"-"+le,t+"-"+ce])}),[]),pe=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ve(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function ge(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var me={placement:"bottom",modifiers:[],strategy:"absolute"};function ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function be(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?me:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},me,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:B(e)?Q(e):e.contextElement?Q(e.contextElement):[],popper:Q(t)};var u=function(e){var t=ve(e);return pe.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(ye(t,n)){o.rects={reference:Y(t,te(n),"fixed"===o.options.strategy),popper:Z(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof a&&(o=a({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:ge((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!ye(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Ae={passive:!0};const we={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=D(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,Ae)})),s&&l.addEventListener("resize",n.update,Ae),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Ae)})),s&&l.removeEventListener("resize",n.update,Ae)}},data:{}};function _e(e){return e.split("-")[0]}function Ce(e){return e.split("-")[1]}function Se(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ke(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?_e(o):null,a=o?Ce(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case ne:t={x:s,y:n.y-r.height};break;case re:t={x:s,y:n.y+n.height};break;case oe:t={x:n.x+n.width,y:l};break;case ie:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?Se(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case le:t[c]=t[c]-(n[u]/2-r[u]/2);break;case ce:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}const Te={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ke({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var xe=Math.max,Pe=Math.min,Ee=Math.round,Le={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ie(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Ee(Ee(t*r)/r)||0,y:Ee(Ee(n*r)/r)||0}}(a):"function"===typeof u?u(a):a,f=d.x,h=void 0===f?0:f,p=d.y,v=void 0===p?0:p,g=a.hasOwnProperty("x"),m=a.hasOwnProperty("y"),y=ie,b=ne,A=window;if(c){var w=te(n),_="clientHeight",C="clientWidth";w===D(n)&&"static"!==G(w=W(n)).position&&"absolute"===s&&(_="scrollHeight",C="scrollWidth"),o!==ne&&(o!==ie&&o!==oe||i!==ce)||(b=re,v-=w[_]-r.height,v*=l?1:-1),o!==ie&&(o!==ne&&o!==re||i!==ce)||(y=oe,h-=w[C]-r.width,h*=l?1:-1)}var S,k=Object.assign({position:s},c&&Le);return l?Object.assign({},k,((S={})[b]=m?"0":"",S[y]=g?"0":"",S.transform=(A.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",S)):Object.assign({},k,((t={})[b]=m?v+"px":"",t[y]=g?h+"px":"",t.transform="",t))}const Oe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=he.reduce((function(e,n){return e[n]=function(e,t,n){var r=_e(e),o=[ie,ne].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[ie,oe].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var Re={left:"right",right:"left",bottom:"top",top:"bottom"};function Me(e){return e.replace(/left|right|bottom|top/g,(function(e){return Re[e]}))}var Ne={start:"end",end:"start"};function De(e){return e.replace(/start|end/g,(function(e){return Ne[e]}))}function Be(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&j(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function je(e,t){return t===ue?Fe(function(e){var t=D(e),n=W(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,s=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:o,height:i,x:a+K(e),y:s}}(e)):F(t)?function(e){var t=H(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Fe(function(e){var t,n=W(e),r=z(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=xe(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=xe(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+K(e),l=-r.scrollTop;return"rtl"===G(o||n).direction&&(s+=xe(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(W(e)))}function Ve(e,t,n){var r="clippingParents"===t?function(e){var t=Q(X(e)),n=["absolute","fixed"].indexOf(G(e).position)>=0&&F(e)?te(e):e;return B(n)?t.filter((function(e){return B(e)&&Be(e,n)&&"body"!==U(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=je(e,n);return t.top=xe(r.top,t.top),t.right=Pe(r.right,t.right),t.bottom=Pe(r.bottom,t.bottom),t.left=xe(r.left,t.left),t}),je(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function He(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ze(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Ue(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.boundary,a=void 0===i?"clippingParents":i,s=n.rootBoundary,l=void 0===s?ue:s,c=n.elementContext,u=void 0===c?de:c,d=n.altBoundary,f=void 0!==d&&d,h=n.padding,p=void 0===h?0:h,v=He("number"!==typeof p?p:ze(p,se)),g=u===de?"reference":de,m=e.rects.popper,y=e.elements[f?g:u],b=Ve(B(y)?y:y.contextElement||W(e.elements.popper),a,l),A=H(e.elements.reference),w=ke({reference:A,element:m,strategy:"absolute",placement:o}),_=Fe(Object.assign({},m,w)),C=u===de?_:A,S={top:b.top-C.top+v.top,bottom:C.bottom-b.bottom+v.bottom,left:b.left-C.left+v.left,right:C.right-b.right+v.right},k=e.modifiersData.offset;if(u===de&&k){var T=k[o];Object.keys(S).forEach((function(e){var t=[oe,re].indexOf(e)>=0?1:-1,n=[ne,re].indexOf(e)>=0?"y":"x";S[e]+=T[n]*t}))}return S}function We(e,t,n){return xe(e,Pe(t,n))}const Ke={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,g=Ue(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),m=_e(t.placement),y=Ce(t.placement),b=!y,A=Se(m),w="x"===A?"y":"x",_=t.modifiersData.popperOffsets,C=t.rects.reference,S=t.rects.popper,k="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,T={x:0,y:0};if(_){if(i||s){var x="y"===A?ne:ie,P="y"===A?re:oe,E="y"===A?"height":"width",L=_[A],I=_[A]+g[x],O=_[A]-g[P],R=h?-S[E]/2:0,M=y===le?C[E]:S[E],N=y===le?-S[E]:-C[E],D=t.elements.arrow,B=h&&D?Z(D):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=F[x],V=F[P],H=We(0,C[E],B[E]),z=b?C[E]/2-R-H-j-k:M-H-j-k,U=b?-C[E]/2+R+H+V+k:N+H+V+k,W=t.elements.arrow&&te(t.elements.arrow),K=W?"y"===A?W.clientTop||0:W.clientLeft||0:0,G=t.modifiersData.offset?t.modifiersData.offset[t.placement][A]:0,q=_[A]+z-G-K,Y=_[A]+U-G;if(i){var X=We(h?Pe(I,q):I,L,h?xe(O,Y):O);_[A]=X,T[A]=X-L}if(s){var J="x"===A?ne:ie,Q="x"===A?re:oe,$=_[w],ee=$+g[J],ae=$-g[Q],se=We(h?Pe(ee,q):ee,$,h?xe(ae,Y):ae);_[w]=se,T[w]=se-$}}t.modifiersData[r]=T}},requiresIfExists:["offset"]};const Ge={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=_e(n.placement),l=Se(s),c=[ie,oe].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return He("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ze(e,se))}(o.padding,n),d=Z(i),f="y"===l?ne:ie,h="y"===l?re:oe,p=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],v=a[l]-n.rects.reference[l],g=te(i),m=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-v/2,b=u[f],A=m-d[c]-u[h],w=m/2-d[c]/2+y,_=We(b,w,A),C=l;n.modifiersData[r]=((t={})[C]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Be(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ye(e){return[ne,oe,re,ie].some((function(t){return e[t]>=0}))}var Ze=be({defaultModifiers:[we,Te,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:_e(t.placement),variation:Ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ie(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ie(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];F(o)&&U(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});F(r)&&U(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},Oe,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,g=t.options.placement,m=_e(g),y=l||(m===g||!p?[Me(g)]:function(e){if(_e(e)===ae)return[];var t=Me(e);return[De(e),t,De(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(_e(n)===ae?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?he:l,u=Ce(r),d=u?s?fe:fe.filter((function(e){return Ce(e)===u})):se,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var h=f.reduce((function(t,n){return t[n]=Ue(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[_e(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),A=t.rects.reference,w=t.rects.popper,_=new Map,C=!0,S=b[0],k=0;k<b.length;k++){var T=b[k],x=_e(T),P=Ce(T)===le,E=[ne,re].indexOf(x)>=0,L=E?"width":"height",I=Ue(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),O=E?P?oe:ie:P?re:ne;A[L]>w[L]&&(O=Me(O));var R=Me(O),M=[];if(i&&M.push(I[x]<=0),s&&M.push(I[O]<=0,I[R]<=0),M.every((function(e){return e}))){S=T,C=!1;break}_.set(T,M)}if(C)for(var N=function(e){var t=b.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},D=p?3:1;D>0;D--){if("break"===N(D))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Ke,Ge,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Ue(t,{elementContext:"reference"}),s=Ue(t,{altBoundary:!0}),l=qe(a,r),c=qe(s,o,i),u=Ye(l),d=Ye(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),Xe={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(){},effect:function(e){var t=e.state,n=t.elements.reference.offsetWidth;(0,r.A)({},t).elements.popper.style.width="".concat(n,"px")}},Je=[m.hE.topLeft,m.hE.topRight,m.hE.bottomRight,m.hE.bottomLeft],Qe=[m.hE.rightTop,m.hE.rightBottom,m.hE.leftTop,m.hE.leftBottom],$e={name:"arrowCenterModifier",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=t.elements.arrow,o=t.placement,i=t.rects,a=i.popper,s=i.reference,l=(0,r.A)({},t);if(n){var c=t.modifiersData.arrow.centerOffset;if(0===+c)return;Je.includes(o)&&a.width>s.width&&(l.elements.popper.style.left="".concat(-c,"px")),Qe.includes(o)&&a.height>s.height&&(l.elements.popper.style.top="".concat(-c,"px"))}}};var et=n(6795);function tt(e){var t=e.referenceRef,n=e.smartMode,o=e.scrollContainerDom,s=e.placement,l=e.modifiers,c=e.gutter,u=e.gpuAcceleration,d=e.alwaysUpdatePopper,f=e.offset,p=e.sameWidth,v=e.preventOverflowOptions,g=e.flipOptions,y=e.arrowPointAtCenter,b=e.autoHeight,A=e.arrowPadding,w=e.sideBoundary,_=e.setVisible,C=e.arrowAlignBoundary,S=e.autoEdgeSpacing,k=e.rebirthPopper,T=e.finalVisible,x=e.enabledPreventOverflow,P=e.enabledFlip,E=(0,a.useRef)(null),L=(0,a.useState)(null),I=(0,i.A)(L,2),O=I[0],R=I[1],M=(0,a.useMemo)((function(){return o?{rootBoundary:o}:{}}),[o]),D=function(e){var t=e.marginBottom,n=void 0===t?30:t,r=(0,a.useRef)(0),o=(0,a.useRef)({name:"closeToBoundaryAutoHeight",enabled:!0,phase:"afterWrite",requires:["computeStyles"],fn:function(e){var t=e.state,o=t.rects.popper.height,i=(Ue(t)||{}).bottom;r.current||(r.current=o);var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e<n?n:e>t?t:e}(o-i-n,r.current);if(i>=0){var s={height:"".concat(a,"px")};Object.assign(t.elements.popper.style,s)}else{if(i<0&&o<r.current){var l={height:"".concat(a,"px")};Object.assign(t.elements.popper.style,l)}o===r.current&&Object.assign(t.elements.popper.style,{})}},effect:function(){return function(){r.current=0}}});return o.current}({marginBottom:null===b||void 0===b?void 0:b.marginBottom}),B=function(e){var t=e.boundary,n=e.setVisible;return(0,a.useRef)({name:"closeToBoundaryShowOrHide",enabled:!0,phase:"beforeRead",requires:["computeStyles","offset"],fn:function(e){var r,o=e.state,i=(null===(r=t())||void 0===r?void 0:r.getBoundingClientRect())||{},a=i.top,s=i.height,l=o.elements.popper.getBoundingClientRect().top;t&&l>0&&l<a+s&&n(!1)}}).current}({boundary:w,setVisible:_}),F=function(e){var t="number"===typeof e?e:10,n=(0,a.useRef)({name:"safeMargin",enabled:!0,phase:"afterWrite",requires:["computeStyles"],fn:function(e){var n=e.state,r=n.elements.popper.getBoundingClientRect(),o=r.left,i=r.right,a=r.width,s=(0,et.bx)(n.elements.popper),l=(0,et.bx)(n.elements.arrow);if(s){var c=s.x,u=s.y,d=s.z;o<t&&Object.assign(n.elements.popper.style,{transform:"translate3d(".concat(c+t,"px,").concat(u,"px,").concat(d,"px)")}),i===h.A.document.documentElement.clientWidth&&Object.assign(n.elements.popper.style,{transform:"translate3d(".concat(c-t,"px,").concat(u,"px,").concat(d,"px)")})}if(l){var f=l.x,p=l.y,v=l.z;if(0===o&&Object.assign(n.elements.arrow.style,{transform:"translate3d(".concat((0,et.Ju)(f-t,4),"px,").concat(p,"px,").concat(v,"px)")}),i===h.A.document.documentElement.clientWidth){var g=a-f-14;Object.assign(n.elements.arrow.style,{transform:"translate3d(".concat(f+(0,et.Ju)(t,4,g),"px,").concat(p,"px,").concat(v,"px)")})}}}});return n.current}(S),j=function(e){return{name:"arrowPositionModifier",enabled:!0,phase:"write",fn:function(t){var n=t.state,o=n.elements.arrow,i=n.placement,a=n.rects,s=a.popper,l=a.reference,c=(0,r.A)({},n);if(o&&e){var u=o.getBoundingClientRect();if("function"===typeof e){var d=e({arrow:u,popper:s,reference:l});c.elements.arrow.style.left=d.left,c.elements.arrow.style.right=d.right,c.elements.arrow.style.top=d.top,c.elements.arrow.style.bottom=d.bottom,c.elements.arrow.style.transform=d.transform}if("boolean"===typeof e){if([m.hE.topLeft,m.hE.bottomLeft].includes(i)&&(c.elements.arrow.style.transform="translate3d(".concat(4,"px, 0px, 0px)")),[m.hE.topRight,m.hE.bottomRight].includes(i)){var f=s.width-u.width-2-4;c.elements.arrow.style.transform="translate3d(".concat(f,"px, 0px, 0px)")}if([m.hE.rightTop,m.hE.leftTop].includes(i)&&(c.elements.arrow.style.transform="translate3d(0px, ".concat(4,"px, 0px)")),[m.hE.rightBottom,m.hE.leftBottom].includes(i)){var h=s.height-u.width-2;c.elements.arrow.style.transform="translate3d(0px, ".concat(h,"px, 0px)")}}}}}}(C),V=function(e){var t=e.setVisible,n=e.rebirthPopper;return(0,a.useRef)({name:"destroyWhenScrollToHide",enabled:!0,phase:"beforeRead",requires:["computeStyles","offset"],fn:function(e){var r,o,i=e.state;null!==i&&void 0!==i&&null!==(r=i.attributes)&&void 0!==r&&null!==(o=r.popper)&&void 0!==o&&o["data-popper-reference-hidden"]&&n&&t(!1)}}).current}({setVisible:_,rebirthPopper:k}),H=(0,a.useMemo)((function(){var e,t={modifiers:[{name:"preventOverflow",enabled:x&&n,options:(0,r.A)((0,r.A)({},M),v)},{name:"flip",enabled:P&&n,options:(0,r.A)((0,r.A)({},M),g)},{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:u}},{name:"hide",enabled:!0},{name:"arrow",options:{padding:A}},{name:"offset",options:{offset:f||[0,+c]}}],placement:s};return o&&t.modifiers.push(V),b&&t.modifiers.push(D),w&&t.modifiers.push(B),p&&t.modifiers.push(Xe),y&&t.modifiers.push($e),C&&t.modifiers.push(j),S&&t.modifiers.push(F),(e=t.modifiers).push.apply(e,(0,N.A)(l)),t}),[n,M,s,l,c,u,p,b,C,S]);(0,a.useEffect)((function(){var e=null;return O&&t&&(E.current=Ze(t,O,H),e=E.current),function(){var t,n;e&&(null===(t=e)||void 0===t||null===(n=t.destroy)||void 0===n||n.call(t))}}),[O,t,s]),(0,a.useEffect)((function(){var e;null===(e=E.current)||void 0===e||e.update()}),[H]),(0,a.useEffect)((function(){var e;null===(e=E.current)||void 0===e||e.setOptions((function(e){return(0,r.A)((0,r.A)({},e),{},{modifiers:[].concat((0,N.A)(e.modifiers),[{name:"eventListeners",enabled:T}])})}))}),[T]);var z=function(){var e;null===(e=E.current)||void 0===e||e.update()};return d&&T&&setTimeout((function(){z()}),0),{setPopupLayerRef:R,popperInstance:E,popperUpdate:z,popupLayerRef:O}}var nt=n(4199),rt=n(4156),ot=n(3029),it=n(2901);const at=new(function(){return(0,it.A)((function e(){(0,ot.A)(this,e),this.clickHandlers=new Map,this.isListening=!1,this.globalClickHandler=this.globalClickHandler.bind(this)}),[{key:"globalClickHandler",value:function(e){this.clickHandlers.forEach((function(t,n){try{t(e)}catch(r){console.error("Error in click handler ".concat(n,":"),r)}}))}},{key:"registerClickHandler",value:function(e,t){this.clickHandlers.set(e,t),this.isListening||this.startListening()}},{key:"unregisterClickHandler",value:function(e){this.clickHandlers.delete(e),0===this.clickHandlers.size&&this.isListening&&this.stopListening()}},{key:"startListening",value:function(){this.isListening||(h.A.addEventListener("click",this.globalClickHandler),this.isListening=!0)}},{key:"stopListening",value:function(){this.isListening&&(h.A.removeEventListener("click",this.globalClickHandler),this.isListening=!1)}},{key:"getHandlerCount",value:function(){return this.clickHandlers.size}},{key:"destroy",value:function(){this.clickHandlers.clear(),this.stopListening()}}])}());function st(e){var t=e.trigger,n=e.setVisible,o=e.referenceRef,i=e.isControlled,s=e.onVisibleChange,l=e.stopPropagation,c=e.finalVisible,u=e.delayShow,d=e.delayHide,f=e.popupHoverStay,p=e.useReactTransition,v=e.popupLayerRef,g=e.applyA11y,m=e.id,b=e.beforeClose,A=(0,a.useRef)(c);A.current=c,(0,a.useRef)(v).current=v;var w=(0,a.useRef)(null),_=(0,M.A)();!function(e){var t=e.setVisible,n=e.referenceRef,r=e.trigger,o=e.applyA11y,i=e.isControlled,s=e.useReactTransition,l=e.stopPropagation,c=e.id,u=e.beforeClose,d=e.visibleRef,f=(0,a.useRef)(u);f.current=u,(0,a.useEffect)((function(){var e=o||r===y.A.click||r===y.A.hover&&(0,et.Fr)();if(i||!n||!e)return function(){};var a=function(r){var i,a;if(f.current&&d.current){var l,c=null===(l=f.current)||void 0===l?void 0:l.call(f);if(!1===(null===c||void 0===c?void 0:c.close))return}(o?null===n||void 0===n||null===(i=n.contains)||void 0===i||!i.call(n,r.target):e&&(null===n||void 0===n||null===(a=n.contains)||void 0===a||!a.call(n,r.target)))&&(0,rt.A)((function(){t(!1)}),s)};return l?h.A.addEventListener("click",a,l):at.registerClickHandler(c,a),function(){l?h.A.removeEventListener("click",a):at.unregisterClickHandler(c)}}),[n,r,o,i,s,l])}({setVisible:n,referenceRef:o,trigger:t,applyA11y:g,isControlled:i,useReactTransition:p,stopPropagation:l,id:m,beforeClose:b,visibleRef:A}),(0,nt.A)(O.OC.ESC,(function(e){e.stopPropagation(),n(!1)}),{target:[o,v],enable:g&&o&&v}),(0,a.useEffect)((function(){c&&(w.current=!0),w.current&&s(c),_.cancel()}),[c]);var C=function(){_.cancel(),_.task((function(){n(!0)}),u)},k=(0,a.useMemo)((function(){var e={onMouseEnter:C,onMouseLeave:function(){var e;_.task((function(){n(!1)}),e||d)}},o={onClick:function(e){l&&e.stopPropagation(),(0,rt.A)((function(){n((function(e){return!e}))}),p)}},a={hoverConfig:{},popupHoverConfig:{},clickConfig:{}};return i?{}:t!==y.A.hover||(0,et.Fr)()?(0,r.A)((0,r.A)({},a),{},{clickConfig:o}):(0,r.A)((0,r.A)({},a),{},{hoverConfig:e,popupHoverConfig:f?{}:{onMouseEnter:function(){n(!1)}}})}),[t,i,l,f,u,d,p]);return(0,nt.A)([O.OC.ENTER],(function(e){C()}),{eventName:"keydown",target:o,enable:g&&o&&t===y.A.hover&&!(0,et.Fr)()}),(0,nt.A)([O.OC.SPACE],(function(e){(0,S.Bm)(e)||e.preventDefault(),C()}),{eventName:"keyup",target:o,enable:g&&o&&t===y.A.hover&&!(0,et.Fr)()}),{eventConfig:k}}var lt=n(4932);const ct=function(e){var t=e.noWrapper,n=e.children,i=e.eventConfig,l=e.setReferenceRef,c=i.clickConfig,u=i.hoverConfig,d=(0,a.useCallback)((function(e){var t=(0,lt.A9)(n);(0,lt.Xf)(t,e),l(e)}),[]);if(t){var f=(0,S.E$)(n)?"getBoxRef":"ref",h=n.props;return{realChild:s().cloneElement(n,(0,r.A)((0,r.A)({},h),{},(0,o.A)({onClick:function(e){var t,r,o;null===c||void 0===c||null===(t=c.onClick)||void 0===t||t.call(c,e),null===n||void 0===n||null===(r=n.props)||void 0===r||null===(o=r.onClick)||void 0===o||o.call(r,e)},onMouseEnter:function(e){var t,r,o;null===u||void 0===u||null===(t=u.onMouseEnter)||void 0===t||t.call(u,e),null===n||void 0===n||null===(r=n.props)||void 0===r||null===(o=r.onMouseEnter)||void 0===o||o.call(r,e)},onMouseLeave:function(e){var t,r,o;null===u||void 0===u||null===(t=u.onMouseLeave)||void 0===t||t.call(u,e),null===n||void 0===n||null===(r=n.props)||void 0===r||null===(o=r.onMouseLeave)||void 0===o||o.call(r,e)}},f,d)))}}return{realChild:n}};var ut={};var dt="".concat(g.H3,"-popup"),ft=(0,a.forwardRef)((function(e,t){var n=f.A.useMergeProps(ft.defaultPropsValue,e,f.A.componentNames.Popup),s=n.className,c=n.prefixClassName,g=n.style,y=n.popupStyle,b=n.arrowStyle,A=n.popupLayerStyle,C=n.contentClassName,S=n.layerClassName,k=n.getContainer,T=n.content,x=n.getScrollContainer,L=n.children,O=n.referenceRef,N=n.renderDom,D=n.placement,B=n.smartMode,F=n.trigger,j=n.arrowSize,V=n.hideArrow,H=n.show,z=n.modifiers,U=n.gutter,W=n.gpuAcceleration,K=n.graspBaseDom,G=n.alwaysUpdatePopper,q=n.rebirthPopper,Y=n.offset,Z=n.sameWidth,X=n.preventOverflowOptions,J=n.flipOptions,Q=n.arrowPointAtCenter,$=n.onVisibleChange,ee=n.defaultShow,te=n.stopPropagation,ne=n.zIndex,re=n.disabled,oe=n.autoHeight,ie=n.arrowPadding,ae=n.sideBoundary,se=n.delayShow,le=n.delayHide,ce=n.popupHoverStay,ue=n.arrowAlignBoundary,de=n.delayDefaultShow,fe=n.autoEdgeSpacing,he=n.noWrapper,pe=n.textOverflow,ve=n.enabledFlip,ge=n.enabledPreventOverflow,me=n.useReactTransition,ye=n.ResizeObserver,be=void 0===ye?E:ye,Ae=n.alwaysUpdateTextOverflow,we=n.focusManagerProps,_e=n.applyA11y,Ce=n.needFocusManager,Se=n.beforeClose,ke=pe.text,Te=pe.textElement,xe=m.hE[(0,p.mo)(D)],Pe=(0,a.useId)(),Ee=!re&&_e,Le=x(),Ie=(0,a.useState)(O),Oe=(0,i.A)(Ie,2),Re=Oe[0],Me=Oe[1],Ne=(0,a.useState)(!1),De=(0,i.A)(Ne,2),Be=De[0],Fe=De[1];(0,a.useMemo)((function(){Me(O)}),[O]);var je="boolean"===typeof H,Ve=je&&H||Be,He=I({realRef:Te||Re,text:ke,alwaysUpdateTextOverflow:Ae,visible:Ve}).isOverflow,ze=!(re||ke&&!He)&&Ve,Ue=xe.match(/[a-z]+/)[0],We=u()(f.A.data.okdNamespace,dt,c,s),Ke=u()(f.A.data.popupClassName,f.A.data.okdNamespace,c,(0,o.A)({},"".concat(dt,"-arrow-").concat(j," ").concat(dt,"-placement-").concat(j,"-").concat(Ue),!V),"".concat(dt,"-layer"),(0,o.A)({},"".concat(dt,"-overflow"),!!Le),(0,o.A)({},"".concat(dt,"-layer-visible"),ze),S),Ge=b.borderColor,qe=b.backgroundColor,Ye=(0,a.useMemo)((function(){var e=-99;return ze&&(e=null!==ne&&void 0!==ne?ne:v.cb.next().value),(0,r.A)({zIndex:e},A)}),[ze,A,ne]),Ze=R(L);!function(e){var t=e.defaultShow,n=e.setVisible,r=e.delayDefaultShow,o=(0,M.A)();(0,a.useEffect)((function(){t&&(o.cancel(),o.task((function(){n(t)}),r))}),[t])}({defaultShow:ee,setVisible:Fe,delayDefaultShow:de});var Xe=tt({referenceRef:Re,smartMode:B,scrollContainerDom:Le,placement:xe,modifiers:z,gutter:U,gpuAcceleration:W,alwaysUpdatePopper:G,offset:Y,sameWidth:Z,preventOverflowOptions:X,flipOptions:J,arrowPointAtCenter:Q,autoHeight:oe,arrowPadding:ie,sideBoundary:ae,setVisible:Fe,arrowAlignBoundary:ue,autoEdgeSpacing:fe,finalVisible:ze,rebirthPopper:q,enabledFlip:ve,enabledPreventOverflow:ge}),Je=Xe.setPopupLayerRef,Qe=Xe.popperUpdate,$e=Xe.popupLayerRef,et=function(e){var t=e.rebirthPopper,n=e.finalVisible,r=(0,a.useState)(!1),o=(0,i.A)(r,2),s=o[0],l=o[1];return(0,a.useEffect)((function(){t&&!n&&l(!1)}),[t,n]),(0,a.useEffect)((function(){n&&l(!0)}),[n]),{renderLayer:s}}({rebirthPopper:q,finalVisible:ze}),nt=et.renderLayer,rt=st({trigger:F,setVisible:Fe,referenceRef:Re,isControlled:je,onVisibleChange:$,stopPropagation:te,finalVisible:ze,delayShow:se,delayHide:le,popupHoverStay:ce,useReactTransition:me,popupLayerRef:$e,graspBaseDom:K,applyA11y:Ee,needFocusManager:Ce,id:Pe,beforeClose:Se}).eventConfig,ot=ct({noWrapper:he,children:null!==Ze&&void 0!==Ze?Ze:L,eventConfig:rt,setReferenceRef:Me}).realChild,it=he?{}:(0,r.A)((0,r.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},"data-testid","okd-popup"),"style",g),"className",We),"ref",(function(e){!n.referenceRef&&e&&Me(e)})),rt.hoverConfig),rt.clickConfig),at=he&&ce?(0,r.A)({},rt.hoverConfig):{};(0,a.useImperativeHandle)(t,(function(){return{setVisible:Fe,popperUpdate:Qe,popupLayerRef:$e,popupRef:Re}}));var lt={popupLayerClassName:Ke,setPopupLayerRef:Je,layerStyle:Ye,layerProp:at,eventConfig:rt,hideArrow:V,prefix:dt,borderColor:Ge,backgroundColor:qe,popperUpdate:Qe,ResizeObserver:be,contentClassName:C,popupStyle:y,content:T,finalVisible:ze,trigger:F,focusManagerProps:we,setVisible:Fe,graspBaseDom:K},ht=function(e){var t=e.visible,n=e.layerId,o=e.applyA11y,i=e["aria-label"],s=e["aria-labelledby"],l=e["aria-describedby"],c=(0,a.useId)(),u=(0,a.useRef)({referenceDomA11yProps:{},layerDomA11yProps:{}});return Object.assign(u.current.referenceDomA11yProps,{"aria-controls":"".concat(c,"-layer"),"aria-haspopup":"true","aria-expanded":"".concat(t),id:"".concat(c,"-reference")}),Object.assign(u.current.layerDomA11yProps,{"aria-label":i,"aria-labelledby":i?void 0:s||"".concat(c,"-reference"),"aria-describedby":l,id:n||"".concat(c,"-layer"),role:"dialog"}),o?(0,r.A)({},u.current):ut}((0,r.A)((0,r.A)({},n),{},{visible:ze})),pt=ht.referenceDomA11yProps,vt=ht.layerDomA11yProps;return(0,w.jsxs)(P,(0,r.A)((0,r.A)({noWrapper:he},it),{},{id:Pe,visible:ze,a11yProps:pt,applyA11y:Ee,trigger:F,graspBaseDom:K,children:[ot,function(e){return K||(0,d.f)()?e:(0,l.createPortal)(e,(null===k||void 0===k?void 0:k())||h.A.document.body)}((N||nt)&&T?(0,w.jsx)(_,(0,r.A)((0,r.A)({},lt),{},{a11yProps:vt,needFocusManager:Ee||Ce})):null)]}))}));ft.defaultPropsValue={className:"",getScrollContainer:function(){},alwaysUpdatePopper:!1,placement:m.M8.top,trigger:y.A.hover,smartMode:!0,content:null,contentClassName:"",layerClassName:"",arrowSize:b.A.md,arrowStyle:{},modifiers:[],show:void 0,hideArrow:!1,style:{},popupStyle:{},popupLayerStyle:{},gutter:2,gpuAcceleration:!0,graspBaseDom:!1,rebirthPopper:!1,offset:void 0,referenceRef:null,sameWidth:!1,preventOverflowOptions:{},flipOptions:{},arrowPointAtCenter:!0,onVisibleChange:function(){},defaultShow:!1,stopPropagation:!1,zIndex:null,disabled:!1,arrowPadding:2,sideBoundary:void 0,delayShow:100,delayHide:100,popupHoverStay:!0,renderDom:!1,arrowAlignBoundary:!1,delayDefaultShow:100,autoEdgeSpacing:!1,noWrapper:!1,textOverflow:{},enabledPreventOverflow:!0,enabledFlip:!0,ResizeObserver:void 0,getContainer:function(){return h.A.document.body},alwaysUpdateTextOverflow:!1,applyA11y:!1,needFocusManager:!1,beforeClose:void 0},ft.SIZE={md:b.A.md,lg:b.A.lg},ft.DIRECTION=m.M8,ft.TRIGGER=y.A,ft.WhiteBoard=function(e){var t=e.popupRef;return(0,w.jsx)(ft,(0,r.A)((0,r.A)({hideArrow:!0},e),{},{ref:t,prefixClassName:u()(e.prefixClassName,"".concat(dt,"-white-board")),contentClassName:u()("".concat(dt,"-white-board-content"),e.contentClassName)}))};const ht=ft},8739:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var r=n(9379),o=n(3986),i=n(4883),a=n(792),s=n.n(a),l=n(519),c=["/support/","/docs/","/docs-v5/","/academy/"],u=["http","//","\\/","/\\","\\","okx:","chrome-extension:"],d=/^\/[a-z]{2}(-[a-z]{2,4})?(-[a-z]{2})?(?=\/|$|[?#])/i;function f(e){return!(e&&"string"===typeof e&&(t=e,!u.some((function(e){return t.startsWith(e)})))&&e.startsWith("/")&&!e.startsWith("/\\"));var t}function h(e){return"/"===new URL(e,"https://tempurl.com").pathname?e:e.replace(/\/(?=[\\?#]|$)/,"")}function p(e){if(!e||"string"!==typeof e)return e;try{var t,n,r=e,o=l.A,i=o.langPath,a=void 0===i?"":i,s=o.localeMap,u=void 0===s?{}:s,p=o.locale,v=void 0===p?"":p,g=null===v||void 0===v||null===(t=v.toLowerCase())||void 0===t?void 0:t.replace("-","_"),m=function(e){var t="";return Object.keys(e).forEach((function(n){e[n]||(t=n)})),t}(u),y=null===(n=e.match(d))||void 0===n?void 0:n[0];if(y){var b=r.split("/").length-1;r=r.replace(y,1===b?"/":"")}return function(e){if(f(e))return!0;var t=l.A.okUtilsConfig;return((void 0===t?{}:t).prefixLangPathFilter||c).some((function(t){return e.startsWith(t)}))}(r)||!a&&g!==m?h(e):h(r.startsWith("".concat(a,"/"))?r:"".concat(a).concat(r))}catch(A){return e}}var v=n(4195),g=n(5857),m=n(8032),y=["children","href","className","withLangPath","handleStyle","onClick","preventDefault"],b="".concat(g.H3,"-powerLink"),A=(0,i.forwardRef)((function(e,t){var n=v.A.mergeProps(A.defaultPropsValue,e,v.A.componentNames.PowerLink),i=n.children,a=n.href,l=n.className,c=n.withLangPath,u=n.handleStyle,d=n.onClick,f=n.preventDefault,h=(0,o.A)(n,y),g="string"===typeof a?a:void 0,w=c?p(g):g;return(0,m.jsx)("a",(0,r.A)((0,r.A)({href:w||void 0,rel:"noopener"},h),{},{onClick:function(e){f&&e.preventDefault(),d&&d(e)},ref:t,className:s()(v.A.data.okdNamespace,"".concat(b,"-a11y"),u&&b,l),children:i}))}));A.defaultPropsValue={href:void 0,className:"",withLangPath:!0,handleStyle:!0};const w=A},1099:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(9379),o=n(4883),i=n.n(o),a=n(7040),s=n.n(a),l=n(4195),c=n(8032),u=o.createContext(null);function d(e){var t=l.A.mergeProps(d.defaultPropsValue,e),n=t.children,r=t.onBatchResize,i=o.useRef(0),a=o.useRef([]),s=o.useContext(u),f=o.useCallback((function(e,t,n){i.current+=1;var o=i.current;a.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){o===i.current&&(null===r||void 0===r||r(a.current),a.current=[])})).catch((function(){})),null===s||void 0===s||s(e,t,n)}),[r,s]);return(0,c.jsx)(u.Provider,{value:f,children:n})}d.defaultPropsValue={onBatchResize:void 0};var f=n(6830);function h(e){return e instanceof HTMLElement||e instanceof SVGElement}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){!function(e,t){"function"===typeof e?e(t):"object"===typeof e&&e&&"current"in e&&(e.current=t)}(t,e)}))}}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,n){var r=i().useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}((function(){return p.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))}function g(e,t){var n=[];return i().Children.forEach(e,(function(e){(void 0!==e&&null!==e||null!==t&&void 0!==t&&t.keepEmpty)&&(Array.isArray(e)?n=n.concat(g(e)):(0,f.zv)(e)&&e.props?n=n.concat(g(e.props.children,t)):n.push(e))})),n}var m,y=n(9508),b=new Map;function A(e){e.forEach((function(e){var t,n=e.target;null===(t=b.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}function w(){return!m&&y.A.ResizeObserver&&(m=new ResizeObserver(A)),m}var _=n(3029),C=n(2901),S=n(388),k=n(2176),T=n(3954),x=n(5501);var P=function(e){function t(){return(0,_.A)(this,t),e=this,n=t,r=arguments,n=(0,T.A)(n),(0,S.A)(e,(0,k.A)()?Reflect.construct(n,r||[],(0,T.A)(e).constructor):n.apply(e,r));var e,n,r}return(0,x.A)(t,e),(0,C.A)(t,[{key:"render",value:function(){return this.props.children}}])}(i().Component);function E(e,t){var n=e.children,a=e.disabled,s=i().useRef(null),l=i().useRef(null),d=i().useContext(u),p="function"===typeof n,g=p?n(s):n,m=i().useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),y=!p&&i().isValidElement(g)&&function(e){var t,n,r=(0,f.Rf)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render)}(g),A=v(y?function(e){if(e&&(0,o.isValidElement)(e)&&!(0,f.zv)(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null}(g):null,s),_=function(){return(e=s.current)&&"object"===typeof e&&h(e.nativeElement)?e.nativeElement:h(e)?e:null;var e};i().useImperativeHandle(t,(function(){return _()})),(0,o.useImperativeHandle)(t,(function(){return _()}));var C=i().useRef(e);C.current=e;var S=i().useCallback((function(e){var t=C.current,n=t.onResize,o=t.data,i=e.getBoundingClientRect(),a=i.width,s=i.height,l=e.offsetWidth,c=e.offsetHeight,u=Math.floor(a),f=Math.floor(s);if(m.current.width!==u||m.current.height!==f||m.current.offsetWidth!==l||m.current.offsetHeight!==c){var h={width:u,height:f,offsetWidth:l,offsetHeight:c};m.current=h;var p=l===Math.round(a)?a:l,v=c===Math.round(s)?s:c,g=(0,r.A)((0,r.A)({},h),{},{offsetWidth:p,offsetHeight:v});null===d||void 0===d||d(g,e,o),n&&Promise.resolve().then((function(){n(g,e)})).catch((function(){}))}}),[]);return i().useEffect((function(){var e=_();return e&&!a&&function(e,t){var n;b.has(e)||(b.set(e,new Set),null===(n=w())||void 0===n||n.observe(e)),b.get(e).add(t)}(e,S),function(){return function(e,t){var n;b.has(e)&&(b.get(e).delete(t),b.get(e).size||(null===(n=w())||void 0===n||n.unobserve(e),b.delete(e)))}(e,S)}}),[s.current,a]),(0,c.jsx)(P,{ref:l,children:y?i().cloneElement(g,{ref:A}):g})}const L=i().forwardRef(E);function I(e,t){var n=l.A.mergeProps(I.defaultPropsValue,e).children;return("function"===typeof n?[n]:g(n)).map((function(n,i){var a=(null===n||void 0===n?void 0:n.key)||"".concat("okd-observer-key","-").concat(i);return(0,o.createElement)(L,(0,r.A)((0,r.A)({},e),{},{key:a,ref:0===i?t:void 0}),n)}))}var O=o.forwardRef(I);O.defaultPropsValue={disabled:!1,onResize:function(){}},O.propTypes={disabled:s().bool,onResize:s().func,data:s().any},O.Collection=d;const R=O},1330:(e,t,n)=>{"use strict";n.d(t,{A:()=>gt});var r=n(296),o=n(9379),i=n(4883),a=n.n(i),s=n(792),l=n.n(s),c=n(7844),u=n(9719),d=n(6706),f=n(651),h=n(4195),p=n(3430),v=n(5526),g=n(4822),m=n(8032);function y(e){var t=e.searchComponent,n=e.slotComponent,r=e.optionsComponent,o=e.customRenderListBox;return"function"===typeof o?o({searchComponent:t,optionsComponent:r}):(0,m.jsxs)(m.Fragment,{children:[t,n,r]})}var b=n(8174),A=n(5857);const w=a().createContext({});var _=a().createContext({}),C="".concat(A.H3,"-select-footer");function S(e){var t=e.setVisible,n=e.optionFooter;return"function"===typeof n?n({hide:function(){t(!1)},show:function(){t(!0)}}):n}function k(e){var t=e.setVisible,n=e.optionFooter,r=e.noFooterButtonsOnSm,o=(0,i.useContext)(w),a=o.onReset,s=o.onConfirm,l=(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)(b.A,{category:b.A.CATEGORY.outline,block:!0,className:"".concat(C,"-cancel"),type:b.A.TYPE.primary,onClick:a,children:(0,p.kW)("okd_select_btn_reset")}),(0,m.jsx)(b.A,{block:!0,category:b.A.CATEGORY.fill,type:b.A.TYPE.highlight,className:"".concat(C,"-confirm"),onClick:s,children:(0,p.kW)("okd_select_btn_confirm")})]});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(S,{setVisible:t,optionFooter:n}),!r&&l]})}function T(e){var t=e.optionFooter,n=e.optionFooterClosable,r=e.setVisible;return t&&(0,m.jsx)("div",{className:"pc-option-footer",onClick:function(){n&&r(!1)},children:(0,m.jsx)(S,{setVisible:r,optionFooter:t})})}var x=n(4467),P="".concat(A.H3,"-select-empty");function E(e){var t=e.showEmpty,n=e.searchEmptyText,r=e.searchEmpty,o=e.size,i=(0,c.A)().isSm?"empty-text-mobile":"empty-text-".concat(o),a=null;if(t){if(r)return r;a=(0,m.jsx)("div",{className:P,children:(0,m.jsx)("span",{className:"empty-text ".concat(i),children:n||(0,p.kW)("okd_select_text_noresult")})})}return a}var L=n(5458),I={button:"button",input:"input",text:"text"},O={default:"1",title:"2",line:"3",custom:"4",all:"5"},R=(0,x.A)((0,x.A)((0,x.A)((0,x.A)((0,x.A)({},O.default,!0),O.title,!1),O.line,!1),O.custom,!0),O.all,!1),M=(0,x.A)((0,x.A)((0,x.A)((0,x.A)((0,x.A)({},v.A.xs,v.A.xs),v.A.sm,v.A.xs),v.A.md,v.A.sm),v.A.lg,v.A.sm),v.A.xl,v.A.md),N="".concat(A.H3,"-select"),D=function(e,t){return t.map((function(t){return e.find((function(e){return e.value===t}))})).filter(Boolean)},B=function(e,t,n){return[].concat(e).filter((function(e){return 0===e||""===e||!1===e||!t&&!n&&null===e||Boolean(e)}))},F=function(e){var t=e.options,n=e.search,r=e.searchFilter;if(!t.length)return t;var i=function(e){return e.map((function(e){if(e.options)return(0,o.A)((0,o.A)({},e),{},{options:i(e.options).filter(Boolean)});var t=!0;if(n&&e){var a=e.type,s=void 0===a?O.default:a,l=e.searchable,c=e.searchKeyword,u=e.label,d=function(e,t){return void 0!==t?t:R[e]}(s,l);if(!d)return null;t="function"===typeof r?r(e,n):c?"".concat(c).toLowerCase().includes(n.toLowerCase()):"string"===typeof u&&u.toLowerCase().includes(n.toLowerCase())}return t&&e}))};return i(t).filter(Boolean)},j=function(e){return 0===e.length||e.every((function(e){return!!e.options&&j(e.options)}))},V=n(6698),H=null;function z(e){var t=(0,i.useRef)(),n=(0,i.useRef)(!1);return(0,i.useEffect)((function(){return function(){n.current=!0,H&&V.A.cancel(H)}}),[]),function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n.current||(V.A.cancel(t.current),t.current=(0,V.A)((function(){e.apply(void 0,o)})),H=t.current)}}var U=n(1099),W=n(9053),K=n(3986),G=n(7769),q=["isActive","showSelectedIcon","index","optionAlign","optionItemClassName","renderOption","option","optionsSameWidthReference"],Y=(0,i.forwardRef)((function(e,t){var n=e.isActive,r=e.showSelectedIcon,a=e.index,s=e.optionAlign,c=e.optionItemClassName,u=e.renderOption,d=e.option,f=void 0===d?{}:d,h=e.optionsSameWidthReference,p=(0,K.A)(e,q),v=f.disabled,g=f.label,y=f.value,b=f.type,C=f.__hover,S=f.className,k=(0,i.useContext)(w),T=k.dropMode,x=k.dialogMode,P=k.isSm,E=k.onSelectAll,L=k.values,I=k.options,R=k.selectId,M=k.getOptionRefs,N=(0,i.useContext)(_).highlightValue,D=function(){b!==O.all?e.onClick():E()},B=l()("".concat(A.H3,"-select-item"),h&&"".concat(A.H3,"-select-item-border-box"),n&&"".concat(A.H3,"-select-item-active"),s&&"align-".concat(s),v&&"disabled",C&&"hover",N===String(y)&&"hover",c),F=P&&!T||x?"okds-success-circle-fill":"okds-checkmark",j=n&&r&&(0,m.jsx)(G.A,{className:"".concat(A.H3,"-select-item-check"),iconName:F}),V=u?u({option:f,value:y,isActive:n,activeIcon:j,indeterminate:b===O.all&&L.length>0&&L.length<I.length}):(0,m.jsxs)(m.Fragment,{children:[g,j]});return b===O.line?(0,m.jsx)("div",{className:l()("".concat(A.H3,"-select-item-line"),S),ref:t}):b===O.title?(0,m.jsx)("div",{className:l()("".concat(A.H3,"-select-item-title"),S),ref:t,children:g}):b===O.custom?(0,m.jsx)("div",{className:"".concat(B," custom"),onClick:v?null:D,"data-index":a,ref:t,children:V}):(0,m.jsx)("div",(0,o.A)((0,o.A)({},p),{},{className:B,onClick:v?null:D,"aria-disabled":v,"data-index":a,role:"option","aria-selected":n,id:"".concat(R,"-").concat(y),ref:function(e){var n=M(y);"function"===typeof n?n(e):n&&"object"===typeof n&&(n.current=e),"function"===typeof t?t(e):t&&"object"===typeof t&&(t.current=e)},children:V}))}));Y.displayName="Option";const Z=Y;var X=n(816),J=(0,i.memo)((0,i.forwardRef)((function(e,t){var n=e.title,r=e.value,i=e.type,a=e.className,s=e.vItemIndex,l=e.showSelectedIcon,c=e.values,u=e.onSelect,d=e.optionItemClassName,f=e.renderOption,h=e.optionAlign,p=e.optionsSameWidthReference,v=e.options,g={"aria-setsize":v.length,"aria-posinset":s+1};if(e[W.A.EXPAND_VAR.expand])return(0,m.jsx)(Z,(0,o.A)((0,o.A)({ref:t},g),{},{option:(0,o.A)((0,o.A)({},e),{},{label:n,type:O.title})}));var y=null===c||void 0===c?void 0:c.includes(r);return i===O.all&&(y=c.length===v.length-1),(0,m.jsx)(Z,(0,o.A)({ref:t,isActive:y,showSelectedIcon:l,onClick:function(){var t=W.A.EXPAND_VAR.id,n=(e[t],(0,K.A)(e,[t].map(X.A)));u({option:n})},optionItemClassName:a||d,renderOption:f,optionAlign:h,optionsSameWidthReference:p,option:e},g))})));J.displayName="VItem";const Q=J;var $=n(3346);var ee="".concat(A.H3,"-select-item-container"),te="".concat(A.H3,"-select-item-container-real");function ne(e){var t=e.virtual,n=e.showSelectedIcon,s=e.onSelect,c=e.optionItemClassName,u=e.renderOption,d=e.optionAlign,f=e.optionsSameWidthReference,h=e.options,p=e.searchEmptyText,v=e.searchEmpty,g=e.scrollBoundary,y=e.virtualProps,b=e.virtualRef,A=e.a11yData,_=e.currentHighlightOptionIndex,C=e.scrollToSelectedOption,S=function(e){var t=e.scrollBoundary,n=a().useRef(null),r=(0,$.A)((0,o.A)({listDom:n},t));return(0,i.useEffect)((function(){var e;(null===t||void 0===t?void 0:t.safeDistance)&&(null===(e=n.current)||void 0===e||e.addEventListener("scroll",r));var o=n.current;return function(){(null===t||void 0===t?void 0:t.safeDistance)&&(null===o||void 0===o||o.removeEventListener("scroll",r))}}),[]),{listRef:n}}({scrollBoundary:g}),k=S.listRef,T=(0,i.useContext)(w),P=T.search,L=T.values,I=T.size,R=P&&j(h),M=t?function(e){var t=e.showSelectedIcon,n=e.values,a=e.onSelect,s=e.optionItemClassName,l=e.renderOption,c=e.optionAlign,u=e.optionsSameWidthReference,d=e.options,f=e.showEmpty,h=e.virtualProps,p=e.virtualRef,v=e.currentHighlightOptionIndex,g=e.scrollToSelectedOption,y=(0,i.useState)(null),b=(0,r.A)(y,2),A=b[0],w=b[1],_=z((function(e){var t=e.offsetHeight;A||w(t)})),C=g?{scrollToIndex:v}:{};return{Wrapper:(0,i.useCallback)((function(e){var t=e.children;return(0,m.jsx)(U.A,{onResize:_,children:t})}),[]),listComponent:(0,m.jsx)(W.A,(0,o.A)((0,o.A)((0,o.A)({height:f?0:A,data:d,ref:p},C),h),{},{children:function(e,r){return(0,m.jsx)(Q,(0,o.A)((0,o.A)({},e),{},{vItemIndex:r,showSelectedIcon:t,values:n,onSelect:a,optionItemClassName:s,renderOption:l,optionAlign:c,optionsSameWidthReference:u,options:d}))}}))}}({showSelectedIcon:n,values:L,onSelect:s,optionItemClassName:c,renderOption:u,optionAlign:d,optionsSameWidthReference:f,options:h,showEmpty:R,virtualProps:y,virtualRef:b,currentHighlightOptionIndex:_,scrollToSelectedOption:C}):function(e){var t=e.showSelectedIcon,n=e.values,r=e.onSelect,s=e.optionItemClassName,l=e.renderOption,c=e.optionAlign,u=e.optionsSameWidthReference,d=e.options,f=(0,i.useContext)(w).validList,h=function(e){return e.map((function(e,i){var d;if(null!==e&&void 0!==e&&e.options)return null!==e&&void 0!==e&&null!==(d=e.options)&&void 0!==d&&d.length?(0,m.jsxs)(a().Fragment,{children:[(0,m.jsx)(Z,{option:(0,o.A)((0,o.A)({},e),{},{label:e.title,type:O.title})}),h(e.options)]},i):null;var p=null===n||void 0===n?void 0:n.includes(e.value);return e.type===O.all&&(p=n.length===f.length),(0,m.jsx)(Z,{isActive:p,showSelectedIcon:t,onClick:function(){r({option:e})},optionItemClassName:e.className||s,renderOption:l,optionAlign:c,optionsSameWidthReference:u,option:e},i)}))};return{Wrapper:(0,i.useCallback)((function(e){return e.children}),[]),listComponent:h(d)}}({showSelectedIcon:n,values:L,onSelect:s,optionItemClassName:c,renderOption:u,optionAlign:d,optionsSameWidthReference:f,options:h}),N=M.Wrapper,D=M.listComponent;return(0,m.jsx)(N,{children:(0,m.jsxs)("div",(0,o.A)((0,o.A)({ref:k,className:l()(ee,(0,x.A)({},te,!t))},t?{}:A),{},{children:[D,(0,m.jsx)(E,{showEmpty:R,searchEmptyText:p,searchEmpty:v,size:I})]}))})}var re=n(4519),oe=n(519),ie=n(4156),ae=n(2561),se=n(8001),le=["isView","hideOptions","showOptions","dropMode","dialogMode","className","align","graspBaseDom","footer","pcFooter"],ce="".concat(A.H3,"-select-option"),ue="".concat(ce,"-pc"),de="".concat(A.H3,"-select-footer-dialog"),fe="fixed-height",he={autoFocus:!1},pe=function(e){var t=e.optionTitle,n=e.setVisible,r=e.visible,a=e.children,s=e.className,c=e.footer,u=e.searchable,d=e.size,f=e.dialogProps,h=e.virtual,p=e.multiple,v=e.bottomSafeSpace,g=e.dialogMode,y=e.onReset,b=e.idFieldAndValueForE2e,A=e.useReactTransition,w=e.fitToHeight,_=l()(ce,!t&&"".concat(ce,"-dialog-container"),w&&"".concat(ce,"-fit-to-height"),s,u||h?fe:"","option-".concat(d)),C=oe.A.isApp||g?void 0:v,S=(0,i.useMemo)((function(){return(0,o.A)({paddingBottom:C},f.windowStyle)}),[C,f.windowStyle]),k=(0,i.useMemo)((function(){return(0,o.A)((0,o.A)({},b),{},{"data-testid":"okd-select-popup"})}),[b]);return(0,m.jsx)(ae.A.Action,(0,o.A)((0,o.A)({windowClass:_,visible:r,title:t,onClose:function(){(0,ie.A)((function(){p&&y(),n(!1)}),A)},footer:c,hideCloseBtn:!t,noTopRadius:!1,footerClassName:p?de:"",onBack:function(){n(!1)}},f),{},{windowStyle:S,windowProps:k,focusManagerProps:he,children:a}))};function ve(e,t){return{name:"sameWidth",enabled:!0,phase:"afterWrite",requires:["computeStyles"],fn:function(e){var t=e.state;(0,o.A)({},t).elements.popper.style.visibility="visible"},effect:function(n){var r=n.state,i=(0,o.A)({},r);i.elements.popper.style.visibility="visible";var a=r.elements.reference.offsetWidth,s=r.elements.popper.getBoundingClientRect().width;(!(0===s||s>a)||e!==se.A.DIRECTION.bottomLeft&&e!==se.A.DIRECTION.bottomRight)&&(i.elements.popper.style.width="".concat(a,"px"),t(!0))}}}var ge={mainAxis:!1},me=function(e){var t=e.visible,n=e.children,r=e.className,a=e.footer,s=e.placement,c=e.graspBaseDom,u=e.searchable,d=e.size,f=e.referenceRef,h=e.rootClass,p=e.popperRef,v=e.popupProps,g=e.setSameWidth,y=e.scrollStyle,b=e.contentBoxClassName,A=e.virtual,w=e.sameWidth,_=e.dropMode,C=e.fitToHeight,S=e.idFieldAndValueForE2e,k=l()(h,ce,ue,r,u||A?fe:"",_&&"drop-mode","option-".concat(d)),T=(0,i.useMemo)((function(){return[w&&ve(s,g)].filter(Boolean)}),[s,w]),x=(0,i.useMemo)((function(){return w?{visibility:"hidden"}:{}}),[w]);return(0,m.jsx)(se.A,(0,o.A)({className:"select-popup-reference",referenceRef:f,placement:s,show:t,hideArrow:!0,rebirthPopper:!0,graspBaseDom:c,modifiers:T,popupLayerStyle:x,preventOverflowOptions:ge,ResizeObserver:C?U.A:void 0,content:(0,m.jsx)("div",(0,o.A)((0,o.A)({className:k,ref:p},S),{},{children:(0,m.jsxs)("div",{className:l()("".concat(ce,"-box"),b),children:[(0,m.jsx)("div",{className:l()("pc-option-scroll",C&&"".concat(ue,"-fit-to-height")),style:y,children:n}),a]})})),gutter:0},v))};const ye=function(e){var t=e.isView,n=e.hideOptions,r=(e.showOptions,e.dropMode),a=e.dialogMode,s=e.className,c=e.align,u=e.graspBaseDom,d=e.footer,f=e.pcFooter,h=(0,K.A)(e,le),p=(0,i.useContext)(w).idFieldAndValueForE2e;if(t)return null;var v=(0,o.A)((0,o.A)({},h),{},{dropMode:r,dialogMode:a,hideOptions:n}),y=se.A.DIRECTION.bottom;c===g.M8.left&&(y=se.A.DIRECTION.bottomLeft),c===g.M8.right&&(y=se.A.DIRECTION.bottomRight);var b=l()(s,{"align-left":c===g.M8.left,"align-right":c===g.M8.right}),A=(0,m.jsx)(me,(0,o.A)((0,o.A)({idFieldAndValueForE2e:p},v),{},{placement:y,graspBaseDom:u,className:b,footer:f})),_=(0,m.jsx)(pe,(0,o.A)((0,o.A)({idFieldAndValueForE2e:p},v),{},{className:b,footer:d}));return r?A:a?_:(0,m.jsx)(re.A,{sm:_,md:A})};var be=n(8685),Ae=["invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],we=void 0;function _e(e,t){var n=e.invalidate,r=e.item,a=e.renderItem,s=e.responsive,c=e.responsiveDisabled,u=e.registerSize,d=e.itemKey,f=e.className,h=e.style,p=e.children,v=e.display,g=(e.order,e.component),y=void 0===g?"div":g,b=(0,K.A)(e,Ae),w=s&&!v;function _(e){u(d,e)}i.useEffect((function(){return function(){_(null)}}),[]);var C,S=a&&r!==we?a(r):p;n||(C=w?"".concat(A.H3,"-overflow-hidden"):we);var k={};w&&(k["aria-hidden"]=!0);var T=(0,m.jsx)(y,(0,o.A)((0,o.A)((0,o.A)({className:l()(C,f)||we,style:(0,o.A)((0,o.A)({},undefined),h)},k),b),{},{ref:t,children:S}));return s&&(T=(0,m.jsx)(U.A,{onResize:function(e){_(e.offsetWidth)},disabled:c,children:T})),T}const Ce=i.forwardRef(_e);var Se=a().createContext(null),ke=["component"],Te=["className"],xe=["className"],Pe=function(e,t){var n=i.useContext(Se);if(!n){var r=e.component,a=void 0===r?"div":r,s=(0,K.A)(e,ke);return(0,m.jsx)(a,(0,o.A)((0,o.A)({},s),{},{ref:t}))}var c=n.className,u=(0,K.A)(n,Te),d=e.className,f=(0,K.A)(e,xe);return(0,m.jsx)(Se.Provider,{value:null,children:(0,m.jsx)(Ce,(0,o.A)((0,o.A)({ref:t,className:l()(c,d)},u),f))})},Ee=i.forwardRef(Pe);Ee.displayName="RawItem";const Le=Ee;function Ie(){var e=i.useRef(null);return function(t){e.current||(e.current=[],function(e){(0,V.A)(e)}((function(){e.current.forEach((function(e){e()})),e.current=null}))),e.current.push(t)}}function Oe(e,t){var n=i.useState(t),o=(0,r.A)(n,2),a=o[0],s=o[1],l=function(e){var t=i.useRef();t.current=e;var n=i.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}((function(t){e((function(){s(t)}))}));return[a,l]}var Re=["renderItem","renderRawItem","itemKey","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange","data"],Me="".concat(A.H3,"-overflow");function Ne(e){return"+ ".concat(e.length," ...")}var De=a().forwardRef((function(e,t){var n=h.A.mergeProps(De.defaultPropsValue,e),s=(n.renderItem,n.renderRawItem),c=(n.itemKey,n.ssr,n.style),u=n.className,d=n.maxCount,f=n.renderRest,p=n.renderRawRest,v=n.suffix,g=n.component,y=void 0===g?"div":g,b=n.itemComponent,A=(n.onVisibleChange,n.data,(0,K.A)(n,Re)),w=function(e){var t=e.data,n=e.renderItem,o=e.itemKey,s=e.itemWidth,l=void 0===s?10:s,c=e.maxCount,u=e.suffix,d=e.onVisibleChange,f=e.itemSpacing,h=void 0===f?0:f,p=Ie(),v=Oe(p,null),g=(0,r.A)(v,2),m=g[0],y=g[1],b=m||0,A=Oe(p,new Map),w=(0,r.A)(A,2),_=w[0],C=w[1],S=Oe(p,0),k=(0,r.A)(S,2),T=k[0],x=k[1],P=Oe(p,0),E=(0,r.A)(P,2),L=E[0],I=E[1],O=Oe(p,0),R=(0,r.A)(O,2),M=R[0],N=R[1],D=(0,i.useState)(null),B=(0,r.A)(D,2),F=B[0],j=B[1],V=Oe(p,t),H=(0,r.A)(V,2),z=H[0],U=H[1],W=(0,i.useState)(t.length),K=(0,r.A)(W,2),G=K[0],q=K[1],Y=a().useMemo((function(){return G||0}),[G,m]),Z=(0,i.useState)(!1),X=(0,r.A)(Z,2),J=X[0],Q=X[1],$=Math.max(T,L),ee="responsive"===c,te=t.length&&ee,ne=te||"number"===typeof c&&t.length>c;(0,i.useEffect)((function(){var e=t;te&&b>0?e=t.slice(0,Math.min(t.length,b/l)):"number"===typeof c&&(e=t.slice(0,c)),U(e)}),[t,l,m,c,te]);var re=(0,i.useMemo)((function(){return te?t.slice(Y+1):t.slice(z.length)}),[t,z,te,Y]),oe=(0,i.useCallback)((function(e,t){var n;return"function"===typeof o?o(e):null!==(n=o&&(null===e||void 0===e?void 0:e[o]))&&void 0!==n?n:t}),[o]),ie=(0,i.useCallback)(n||function(e){return e},[n]);function ae(e,n,r){(G!==e||void 0!==n&&n!==F)&&(q(e),r||(Q(e<t.length-1),null===d||void 0===d||d(e)),void 0!==n&&j(n))}function se(e){return _.get(oe(z[e],e))}return a().useEffect((function(){if(b&&"number"===typeof $&&z){var e=M,t=z.length,n=t-1;if(!t)return void ae(0,null);for(var r=0;r<t;r+=1){var o=se(r);if(void 0===o){ae(r-1,void 0,!0);break}if(e+=o+h,0===n&&e<=b||r===n-1&&e+se(n)<=b){ae(n,null);break}if(e+$>b){ae(r-1,e-o-M+L);break}}u&&se(0)+M>b&&j(null)}}),[b,_,L,M,oe,z]),{restReady:J,omittedItems:re,showRest:ne,onOverflowResize:function(e,t){y(t.clientWidth)},registerSize:function(e,t){C((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))},registerOverflowSize:function(e,t){I(t),x(L)},registerSuffixSize:function(e,t){N(t)},mergedRenderItem:ie,suffixFixedStart:F,shouldResponsive:te,getKey:oe,mergedDisplayCount:Y,mergedData:z,isResponsive:ee}}(n),_=w.restReady,C=w.omittedItems,S=w.showRest,k=w.onOverflowResize,T=w.registerSize,x=w.registerOverflowSize,P=w.registerSuffixSize,E=w.mergedRenderItem,L=w.suffixFixedStart,I=w.shouldResponsive,O=w.getKey,R=w.mergedDisplayCount,M=w.mergedData,N=w.isResponsive,D="invalidate"===d,B=_&&!!C.length,F={};null!==L&&I&&(F={position:"absolute",left:L,top:0});var j=(0,i.useMemo)((function(){return{responsive:I,component:b,invalidate:D}}),[I,b,D]),V=s?function(e,t){var n=O(e,t);return(0,m.jsx)(Se.Provider,{value:(0,o.A)((0,o.A)({},j),{},{order:t,item:e,itemKey:n,registerSize:T,display:t<=R}),children:s(e,t)},n)}:function(e,t){var n=O(e,t);return(0,i.createElement)(Ce,(0,o.A)((0,o.A)({},j),{},{order:t,key:n,item:e,renderItem:E,itemKey:n,registerSize:T,display:t<=R}))},H=(0,i.useMemo)((function(){return{registerSize:x,display:B}}),[x,B]),z=(0,i.useMemo)((function(){return(0,o.A)((0,o.A)({},j),H)}),[j,H]),W=f||Ne,G=p?(0,m.jsx)(Se.Provider,{value:z,children:p(C)}):(0,m.jsx)(Ce,(0,o.A)((0,o.A)((0,o.A)({},j),H),{},{children:"function"===typeof W?W(C):W})),q=(0,m.jsxs)(y,(0,o.A)((0,o.A)({className:l()(Me,u),style:c,ref:t},A),{},{children:[M.map(V),S?G:null,v&&(0,m.jsx)(Ce,(0,o.A)((0,o.A)({},j),{},{responsive:N,responsiveDisabled:!I,order:R,registerSize:P,display:!0,style:F,children:v}))]}));return N?(0,m.jsx)(U.A,{onResize:k,disabled:!I,children:q}):q}));De.defaultPropsValue={maxCount:"responsive",data:[],itemKey:"value",component:"div",itemComponent:"div",className:void 0,style:void 0,renderItem:void 0,renderRest:void 0},De.Item=Le;const Be=De;const Fe=(0,i.forwardRef)((function(e,t){var n,r=e.label,o=e.onClose,i=e.size,s=e.disabled,c=e.needIcon,u=void 0===c||c,d=e.className,f=e.style,h=e.readOnly;return(0,m.jsxs)("div",{className:l()("".concat(A.H3,"-select-tag"),i&&"".concat(A.H3,"-select-tag-").concat(i),s&&"disabled",d),style:f,ref:t,children:[a().isValidElement(r)?a().cloneElement(r,{className:l()("".concat(A.H3,"-select-tag-inner"),null===r||void 0===r||null===(n=r.props)||void 0===n?void 0:n.className)}):(0,m.jsx)("span",{className:"".concat(A.H3,"-select-tag-inner"),children:r}),!h&&!s&&u&&(0,m.jsx)(G.A,{className:"okds-close ".concat(A.H3,"-select-tag-icon"),onClick:o,tabIndex:-1})]})}));function je(e){var t=e.rootClass,n=e.selectedOptions,r=e.disabled,a=e.size,s=e.onSelect,c=e.maxTagCount,u=e.readOnly;return c?(0,m.jsx)(Be,{className:l()("".concat(t,"-tag-container-responsive")),data:n,renderRawItem:function(e){return(0,i.createElement)(Be.Item,(0,o.A)((0,o.A)({component:Fe,disabled:r},e),{},{size:a,key:e.value,readOnly:u,onClose:function(t){t.stopPropagation(),s({option:e,remove:!0})}}))},renderRest:function(e){return(0,m.jsx)(Fe,{disabled:r,label:"+ ".concat(e.length," ..."),size:a,needIcon:!1,readOnly:u})},maxCount:c,itemSpacing:4}):(0,m.jsx)("div",{className:l()("".concat(t,"-tag-container")),children:n.map((function(e){return(0,i.createElement)(Fe,(0,o.A)((0,o.A)({disabled:r},e),{},{size:a,key:e.value,readOnly:u,onClose:function(t){t.stopPropagation(),s({option:e,remove:!0})}}))}))})}var Ve="".concat(A.H3,"-select");function He(e){var t=e.placeholder,n=e.selectedOptions,o=e.multiple,a=e.label,s=e.renderLabel,c=e.renderSelectedLabel,u=e.size,d=e.disabled,f=e.labelClassName,h=e.labelWrapperClassName,p=e.readOnly,v=(0,r.A)(n,1)[0],g=void 0===v?{}:v,y=(0,i.useContext)(w),b=y.onSelect,A=y.maxTagCount,_="function"===typeof a?a(o?n:g):a;return _?(null===s||void 0===s?void 0:s(_))||(0,m.jsx)("span",{className:l()(f,h),children:_}):n.length?o?(0,m.jsx)(je,{rootClass:Ve,selectedOptions:n,disabled:d,size:u,onSelect:b,maxTagCount:A,readOnly:p}):(null===c||void 0===c?void 0:c(g.label))||(0,m.jsx)("span",{className:l()(h),children:g.label}):o?t||(0,m.jsx)("div",{style:{width:"100%"}}):t}var ze=n(9203);const Ue=function(e){var t=e.size,n=e.suffixIconStyle,r=e.suffixIcon,o=void 0===r?function(){}:r,a=e.visible,s=e.isView,c=e.disabled,u=(0,i.useContext)(w),d=u.values,f=u.clearValues,h=u.onClear,p=u.cleanable,v=u.prefix,g=d.length>0&&!c&&p,y=(0,x.A)((0,x.A)({},"".concat(N,"-reference-icon"),!0),"".concat(N,"-reference-icon-").concat(t),t),b=l()("okds-chevron-down","icon-sign","select-up",{"select-up-active":a},y),A=l()("okds-clear-fill",y,"".concat(v,"-reference-icon-clear"),c&&"disabled"),_=g?A:b;return s?null:o(a)||(0,m.jsx)(ze.A,{localeKey:g?"a11y_web_input_btn_universal_clear":void 0,children:(0,m.jsx)(G.A,{className:_,style:n,onClick:g?function(){(0,ie.A)((function(){f(),null===h||void 0===h||h()}),!0)}:void 0})})};function We(e){var t=e.size,n=e.disabled,r=e.suffixIconStyle,o=(0,i.useContext)(w),a=o.values,s=o.clearValues,c=o.prefix,u=o.visible,d=o.onClear;return a.length>0&&!n?(0,m.jsx)(ze.A,{localeKey:"a11y_web_input_btn_universal_clear",children:(0,m.jsx)(G.A,{className:l()("okds-clear-fill","".concat(c,"-reference-icon"),"".concat(c,"-reference-icon-clear"),t&&"".concat(c,"-reference-icon-").concat(t),n&&"disabled"),onClick:function(e){e.stopPropagation(),s(),null===d||void 0===d||d()}})}):(0,m.jsx)(G.A,{className:l()("icon-sign",u&&"select-up-active","okds-arrow-chevron-down-md","".concat(c,"-reference-icon"),t&&"".concat(c,"-reference-icon-").concat(t)),style:r})}var Ke=(0,x.A)((0,x.A)((0,x.A)({},v.A.md,v.A.md),v.A.sm,v.A.xs),v.A.xs,v.A.xs);const Ge=function(e){var t=e.selectedOptions,n=e.className,r=e.isView,i=e.label,a=e.labelClassName,s=e.placeholder,c=e.size,u=e.disabled,d=e.displayProps,f=e.suffixIconStyle,h=e.multiple,p=e.focusStatus,g=(0,m.jsx)(Ue,(0,o.A)({},e));return(0,m.jsx)(b.A,(0,o.A)((0,o.A)({disabled:u,size:Ke[c]||Ke[v.A.md],category:b.A.CATEGORY.fill,type:b.A.TYPE.gray,color:b.A.COLOR.gray,icon:r?"":g,iconType:b.A.ICON_POSITION.tailing,iconStyle:f,className:l()("".concat(N,"-value"),p&&"".concat(N,"-a11y-ring"),n),tabIndex:"-1","aria-disabled":r||u},d),{},{children:(0,m.jsx)(He,{placeholder:(0,m.jsx)("span",{children:s}),selectedOptions:t,multiple:h,label:i,labelClassName:a})}))};var qe=n(4752);const Ye=function(e){var t=e.label,n=e.labelClassName,r=void 0===n?"":n,i=e.placeholder,a=e.size,s=e.disabled,c=e.suffix,u=e.className,d=e.innerClassName,f=e.displayProps,h=e.selectedOptions,p=e.multiple,v=e.error,g=e.suffixIconStyle,y=e.labelWrapperClassName,b=e.readOnly,A=e.focusStatus,w=l()(d,A&&"".concat(N,"-a11y-ring"),{disabled:s});return(0,m.jsxs)(qe.A,(0,o.A)((0,o.A)({autoHeight:!0,className:u,innerClassName:w,size:a,suffix:c,error:v,disabled:s,readOnly:b,innerFocusable:!b},f),{},{tabIndex:-1,children:[(0,m.jsx)(He,{size:a,disabled:s,placeholder:i&&(0,m.jsx)("div",{className:"value placeholder",children:i}),selectedOptions:h,multiple:p,readOnly:b,label:t,renderLabel:function(e){return(0,m.jsx)("span",{className:l()("value",r,y),children:e})},renderSelectedLabel:function(e){return(0,m.jsx)("div",{className:l()("value",y),children:e})}}),p&&!b&&(0,m.jsx)("div",{className:"reference-suffix",children:(0,m.jsx)(We,{size:a,suffixIconStyle:g,disabled:h.some((function(e){return e.disabled}))||s})})]}))};var Ze="".concat(A.H3,"-select"),Xe=function(e){return["number","string"].includes(typeof e)||[null,void 0].includes(e)};const Je=function(e){var t=e.label,n=e.disabled,i=e.selectedOptions,a=e.visible,s=e.className,c=e.placeholder,u=e.isInline,d=e.size,f=e.displayProps,h=e.inputProps,p=void 0===h?{}:h,v=e.error,g=e.multiple,y=e.readOnly,b=e.focusStatus,A=l()("".concat(Ze,"-value"),s,{"no-border":u&&!a,focus:a}),w=(0,m.jsx)(Ue,(0,o.A)({},e)),_=(0,r.A)(i,1)[0],C=void 0===_?{}:_;return!t&&!g&&Xe(C.label)&&Xe(c)?(0,m.jsx)(qe.A,(0,o.A)((0,o.A)((0,o.A)({disabled:n,size:d,className:A,innerClassName:l()("".concat(Ze,"-inner-box"),b&&"".concat(Ze,"-a11y-ring"),n&&"disabled"),readOnly:!0,innerFocusable:!y,placeholder:c,value:C.label,suffix:!y&&w,error:v,errorType:qe.A.TIP_TYPE.always},f),p),{},{tabIndex:-1})):(0,m.jsx)(Ye,(0,o.A)((0,o.A)({},e),{},{className:A,innerClassName:"".concat(Ze,"-inner-box"),suffix:!y&&!g&&w,displayProps:(0,o.A)((0,o.A)({},f),p)}))};var Qe="".concat(A.H3,"-select");const $e=function(e){var t=e.isShowOptions,n=e.align,r=e.disabled,i=e.className,a=e.label,s=e.labelClassName,c=e.placeholder,u=e.size,d=e.selectedOptions,f=e.multiple,h=e.labelWrapperClassName,p=e.focusStatus,v=l()("".concat(Qe,"-text-value"),i,(0,x.A)((0,x.A)((0,x.A)({focus:t,disabled:r},"input-".concat(u),u),"align-left",n===g.M8.left),"align-right",n===g.M8.right));return(0,m.jsxs)("div",{className:l()(v,p&&"".concat(Qe,"-a11y-ring-text")),children:[(0,m.jsx)(He,{placeholder:c&&(0,m.jsx)("div",{className:"value placeholder",children:c}),selectedOptions:d,multiple:f,label:a,renderLabel:function(e){return(0,m.jsx)("span",{className:l()(s,h),children:e})},renderSelectedLabel:function(e){return(0,m.jsx)("div",{className:l()("value",h),children:e})}}),(0,m.jsx)(Ue,(0,o.A)({},e))]})};function et(e){var t=e.type,n=e.titleClass,r=e.title,a=e.size,s=e.valueBoxClassName,c=e.disabled,u=e.referenceRef,d=e.align,f=e.selectedOptions,h=e.visible,p=e.valueContClassName,v=e.isView,g=e.label,y=e.isInline,b=e.labelClassName,A=e.placeholder,C=e.displayProps,S=e.inputProps,k=e.error,T=e.suffixIconStyle,x=e.suffixIcon,P=e.displayArea,E=e.multiple,L=e.eventConfig,O=e.labelWrapperClassName,R=e.idFieldAndValueForE2e,M=(e.values,e.readOnly),D=(0,i.useContext)(w).selectId,B=(0,i.useContext)(_),F=B.referenceA11yData,j=B.focusStatus,V=Je;t===I.button&&(V=Ge),t===I.text&&(V=$e),P&&(V=P);var H=f[0]||{};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(be.A,{className:n,title:r,size:a,id:"".concat(D,"-label")}),(0,m.jsx)("div",(0,o.A)((0,o.A)((0,o.A)((0,o.A)({className:l()("".concat(N,"-value-box"),!!P&&"display-area",s),ref:u},L.clickConfig),R),F),{},{children:(0,m.jsx)(V,{multiple:E,disabled:c,readOnly:M,type:t,size:a,align:d,selectedOptions:f,visible:h,className:p,isView:v,label:g,isInline:y,labelClassName:b,placeholder:A,displayProps:C,inputProps:S,error:k,suffixIconStyle:T,suffixIcon:x,suffixIconComp:(0,m.jsx)(Ue,(0,o.A)({},e)),isShowOptions:h,selectedOption:H,selectedOptionToLabel:null===H||void 0===H?void 0:H.label,labelWrapperClassName:O,focusStatus:j})}))]})}var tt=n(1289),nt=n(2011);const rt=(0,i.forwardRef)((function(e,t){var n=e.__search,a=e.onChangeSearch,s=e.searchPlaceholder,c=e.visible,u=e.searchInputProps,d=e.searchFocus,f=e.size,h=e.optionsSameWidthReference,p=(0,i.useRef)(null),v=(0,i.useContext)(_).referenceA11yData;(0,i.useImperativeHandle)(t,(function(){return p.current}));var g=(0,i.useRef)(!0),y=(0,i.useState)(null!==n&&void 0!==n?n:""),b=(0,r.A)(y,2),w=b[0],C=b[1];(0,i.useEffect)((function(){if(c){if("sm"===(0,tt.A)().media||!p.current)return;d&&setTimeout((function(){var e;null===(e=p.current)||void 0===e||e.focus()}),0)}else!g.current&&(null===a||void 0===a||a(""));g.current=!1}),[c]);var S=(0,o.A)((0,o.A)({},v),{},{onFocus:null,onBlur:null,"aria-haspopup":void 0,"aria-autocomplete":void 0});return(0,m.jsx)(nt.A,(0,o.A)((0,o.A)({size:M[f],innerClassName:"".concat(A.H3,"-select-search-box"),inputClassName:l()("".concat(A.H3,"-select-search-ellipsis"),!h&&"".concat(A.H3,"-select-search-default-width"),null===u||void 0===u?void 0:u.className),onClick:function(e){e.stopPropagation()}},u),{},{onChange:function(e){C(e.target.value),null===a||void 0===a||a(e.target.value)},className:l()("".concat(A.H3,"-select-search")),placeholder:s,onPressEnter:function(e){e.preventDefault()},onRef:function(e){p.current=e},value:w},S))}));var ot=n(6103),it=n(4199),at=n(6795);function st(e){var t=e.selectId,n=e.visible,o=e.values,a=e.validListMap,s=e.title,l=e.referenceRef,c=e.setVisible,d=e.searchBoxRef,f=e.getOptionRefs,h=e.searchable,p=e.isView,v=e.filteredOptions,g=e.search,m=e.labelId,y=e.disabled,b=e.readOnly,A=e.activeFirstOption,w=e.enabled,_=void 0===w||w,C=e.virtualRef,S=e.scrollToSelectedOption,k=(0,i.useState)(),T=(0,r.A)(k,2),x=T[0],P=T[1],E=(0,i.useState)(),L=(0,r.A)(E,2),I=L[0],R=L[1],M=(0,i.useRef)(0),N=(0,i.useRef)();N.current=o[0];var D=(0,i.useRef)(!1),B=(0,i.useRef)(!1);B.current=(0,i.useMemo)((function(){return v.filter((function(e){return void 0!==e.value&&e.type!==O.all&&e.type!==O.line&&e.type!==O.title}))}),[v]);var F=(0,ot.A)(),j=y||p||b||!_,V=(0,i.useRef)({tabIndex:"0",role:"combobox","aria-haspopup":"listbox","aria-activedescendant":"","aria-disabled":j,onFocus:function(){F.cancel(),F.task((function(){R(!0)}))},onBlur:function(){F.cancel(),F.task((function(){R(!1)}))}}),H=(0,i.useCallback)((function(e){var n,r=null===(n=B.current[M.current])||void 0===n?void 0:n.value,o=(a.current.get(String(r))||{}).id;V.current["aria-activedescendant"]="".concat(t,"-").concat(r),P(String(r)),setTimeout((function(){var t,n=document.getElementById(o);null===n||void 0===n||null===(t=n.scrollIntoView)||void 0===t||t.call(n,{block:"nearest",behavior:e?void 0:"smooth"})}),0)}),[]),z=m||(s?"".concat(t,"-label"):void 0);Object.assign(V.current,{"aria-labelledby":z,"aria-expanded":n,"aria-controls":"".concat(t,"-list"),"aria-disabled":j});var U={role:"listbox",id:"".concat(t,"-list"),"aria-labelledby":z,"aria-disabled":j},W=function(){var e,t,n=(0,r.A)(B.current,1)[0],o=B.current.find((function(e,t){return e.value===N.current&&(M.current=t,!0)})),i=o||(A?n:null);o||(M.current=0);var s=String(null===i||void 0===i?void 0:i.value),l=a.current.get(s);l&&(V.current["aria-activedescendant"]=l.id),P(s);var c=null===(e=f(s))||void 0===e?void 0:e.current;null===c||void 0===c||null===(t=c.scrollIntoView)||void 0===t||t.call(c,{block:"nearest",behavior:"smooth"})};(0,i.useEffect)((function(){j||W()}),[g,n,j]);var K=(0,i.useCallback)((function(){C.current&&C.current.scrollTo({index:M.current}),H()}),[]),G=(0,i.useMemo)((function(){return j?{}:{open:function(e){(e.key===u.OC.ENTER&&!n||e.key===u.OC.DOWN&&!n||e.key===u.OC.UP&&!n)&&(e.preventDefault(),e.stopPropagation(),c(!0),W())},close:function(e){e.key!==u.OC.ESC&&e.key!==u.OC.TAB||(e.stopPropagation(),c(!1),D.current=!0)},switchOption:function(e){if(n&&(e.key===u.OC.DOWN&&(e.preventDefault(),e.stopPropagation(),M.current=(0,at.Ju)(M.current+1,0,B.current.length-1),K()),e.key===u.OC.UP&&(e.preventDefault(),e.stopPropagation(),M.current=(0,at.Ju)(M.current-1,0),K()),e.key===u.OC.ENTER)){var t,r=null===(t=B.current[M.current])||void 0===t?void 0:t.value,o=(a.current.get(String(r))||{}).id,i=document.getElementById(o);e.preventDefault(),e.stopPropagation(),null===i||void 0===i||i.click(),D.current=!0}}}}),[n,j]);return(0,i.useEffect)((function(){j||(n&&S&&H(!0),!n&&D.current&&h&&(l.current.focus(),D.current=!1),n||P())}),[n,j]),(0,it.A)("all",(function(e){G.open(e),G.close(e),G.switchOption(e)}),{target:[d.current,l.current].filter(Boolean),eventName:"keydown",enable:!j&&_}),_?{referenceA11yData:V.current,listA11yData:U,highlightValue:x,focusStatus:I,currentHighlightOptionIndex:M.current}:{referenceA11yData:{},listA11yData:{},highlightValue:void 0,focusStatus:!1}}var lt=n(9508);const ct=function(e){var t=e.setVisible,n=e.needListener,r=e.detect,o=e.useReactTransition,i=e.stopPropagation,s=e.referenceRef,l=e.popperRef,c=function(e){var n,r;null!==(n=l.current)&&void 0!==n&&n.contains(e.target)||null!==(r=s.current)&&void 0!==r&&r.contains(e.target)||(0,ie.A)((function(){t(!1)}),o)};a().useEffect((function(){return n&&lt.A.addEventListener("click",c,i),function(){lt.A.removeEventListener("click",c)}}),[r])};var ut=n(1727),dt=n(4962);var ft=n(675),ht=n(467);function pt(e){var t=e.options,n=e.multiple,a=e.onChange,s=e.value,l=e.onToggleShow,u=e.dropMode,d=e.dialogMode,f=e.limitMaxNum,h=e.onLimitMaxNumCallback,v=e.cleanable,g=e.immediatelyHide,m=e.onSelect,y=e.showSelectAll,b=e.onSelectAll,A=e.selectId,w=e.referenceRef,_=(0,c.A)().isSm,C=(0,i.useMemo)((function(){var e=t;return y&&(e=[(0,o.A)({label:(0,p.kW)("okd_cascader_option_all"),value:"all",type:O.all},"boolean"===typeof y?{}:y)].concat((0,L.A)(e))),function(e){var t=[];return e.forEach((function(e){var n=(0,o.A)({},e),r=e.options;if(null!==r&&void 0!==r&&r.length)return n.options=r.filter((function(e){var t=e.visible;return void 0===t||t})),void t.push(n);var i=n.visible;(void 0===i||i)&&t.push(n)})),t}(e)}),[t,y]),S=(0,i.useRef)(new Map),k=(0,i.useRef)(!1),T=(0,i.useMemo)((function(){return function(e){var t=[];return e.forEach((function(e){e.options?t.push.apply(t,(0,L.A)(e.options)):t.push(e)})),t}(C).filter((function(e,t){return S.current.set(String(e.value),{value:e.value,id:"".concat(A,"-").concat(e.value),index:t}),void 0!==e.value&&e.type!==O.all&&e.type!==O.line&&e.type!==O.title}))}),[C]),x=(0,i.useState)(!1),P=(0,r.A)(x,2),E=P[0],I=P[1],R=(0,i.useState)(B(s,n)),M=(0,r.A)(R,2),N=M[0],F=M[1],j=(0,i.useState)(!1),V=(0,r.A)(j,2),H=V[0],z=V[1],U=(0,i.useRef)(N),W=(0,i.useRef)(!1),K=(0,i.useRef)(N);(0,i.useEffect)((function(){F(B(s,n,v))}),[s]),(0,i.useEffect)((function(){U.current=N}),[N]);var G=function(e,t){if(k.current=!1,t)return U.current=[],void F(U.current);n?U.current.includes(e)?U.current=U.current.filter((function(t){return t!==e})):null!==f?U.current.length+1<=f?U.current=U.current.concat(e):(k.current=!0,null===h||void 0===h||h()):U.current=U.current.concat(e):U.current=[e],F(U.current)};(0,i.useEffect)((function(){E&&(K.current=N),W.current&&l(E),W.current=!0}),[E]);var q=function(){var e=(0,ht.A)((0,ft.A)().mark((function e(t,r){var o;return(0,ft.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.option,e.next=3,a(n?U.current:o,n?D(T,U.current):void 0);case 3:(!e.sent&&!n||r)&&I(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(e){var t=e.option,r=e.clear,o=e.remove;Array.isArray(t)||(n&&G(null===t||void 0===t?void 0:t.value,r),n&&_&&(null===m||void 0===m||m(t))),!k.current&&(!n||n&&!_&&!d||n&&_&&u||r||o)&&q({option:t},g&&!_)};return{options:C,visible:E,setVisible:I,onSelect:Y,selectedOptions:D(T,N),validList:T,optionsSameWidthReference:H,setSameWidth:z,values:N,updateValue:G,clearValues:function(){Y({clear:!0}),w.current.focus()},onConfirm:function(){K.current=U.current,q({},!0)},onReset:function(){U.current=K.current,F(U.current)},onSelectAll:function(){var e=T.map((function(e){return e.value}));if(U.current.length===e.length)return U.current=[],F(U.current),Y({option:[]}),void(null===b||void 0===b||b([]));U.current=e,F(e),Y({option:e}),null===b||void 0===b||b(T)},validListMap:S}}var vt=(0,i.forwardRef)((function(e,t){var n=h.A.mergeProps(vt.defaultPropsValue,e,h.A.componentNames.Select),s=n.className,u=n.style,v=n.searchable,g=n.optionFooter,b=n.optionFooterClosable,A=n.isPcShowCheck,C=n.showSelectedIcon,x=n.renderListSlot,P=n.customRenderListBox,E=n.onFilter,L=n.multiple,O=n.optionContClassName,R=n.type,M=n.dialogMode,D=n.localeProps,B=void 0===D?{}:D,j=n.locale,V=n.dropMode,H=n.delayShow,z=n.useReactTransition,U=n.__alwaysShow,W=n.onClear,K=n.cleanable,G=n.maxTagCount,q=n.stopPropagation,Y=n.noFooterButtonsOnSm,Z=n.showSelectedIconForMultiple,X=n.readOnly,J=n.size,Q=n.title,$=n.isView,ee=n.labelId,te=n.disabled,re=n.activeFirstOption,oe=n.displayArea,ae=n.scrollToSelectedOption,se=n.applyA11y,le=(0,c.A)().isSm,ce=(0,i.useRef)(null),ue=a().useRef(null),de=a().useRef(null),fe=(0,i.useRef)(null),he=(0,i.useId)(),pe=pt((0,o.A)((0,o.A)({},n),{},{selectId:he,referenceRef:de})),ve=pe.options,ge=pe.onSelect,me=pe.setVisible,be=pe.selectedOptions,Ae=pe.visible,we=pe.optionsSameWidthReference,_e=pe.setSameWidth,Ce=pe.values,Se=pe.updateValue,ke=pe.clearValues,Te=pe.onReset,xe=pe.onConfirm,Pe=pe.onSelectAll,Ee=pe.validList,Le=pe.validListMap,Ie=(0,d.A)({componentName:"select"}),Oe=(0,f.A)(),Re=(0,r.A)(Oe,1)[0];ct({setVisible:me,needListener:(!le||n.dropMode)&&!M,detect:le,useReactTransition:z,stopPropagation:q,referenceRef:de,popperRef:ue});var Me=function(e){var t=e.options,n=e.searchFilter,o=e.onSearch,a=e.searchable,s=e.__search,l=e.virtualRef,c=e.searchDebounce,u=e.useReactTransition,d=(0,i.useState)(null!==s&&void 0!==s?s:""),f=(0,r.A)(d,2),h=f[0],p=f[1],v=(0,i.useRef)((0,ut.A)((function(){var e,t;null===(e=l.current)||void 0===e||null===(t=e.scrollTo)||void 0===t||t.call(e,0)}),100)),g=function(e){o(e.search),p(e.search)},m=(0,dt.A)(g,c||100),y=(0,i.useMemo)((function(){return a?F({options:t,search:h,searchFilter:n}):null}),[a,h,t]);return a?{filteredOptions:y,search:h,setSearch:p,onChangeSearch:function(e){c>0?m({options:t,search:e,searchFilter:n}):(0,ie.A)((function(){g({options:t,search:e,searchFilter:n})}),u),l.current&&v.current()}}:{filteredOptions:t}}((0,o.A)((0,o.A)({},n),{},{options:ve,virtualRef:ce})),Ne=Me.filteredOptions,De=Me.search,Be=Me.onChangeSearch,Fe=(null===E||void 0===E?void 0:E(Ne,De))||Ne,je=l()(h.A.data.okdNamespace,N,R===I.text&&"select-text",s),Ve=(0,i.useMemo)((function(){return{options:ve,onSelect:ge,setVisible:me,selectedOptions:be,visible:Ae,optionsSameWidthReference:we,setSameWidth:_e,values:Ce,updateValue:Se,clearValues:ke,prefix:N,search:De,onReset:Te,onConfirm:xe,dropMode:V,dialogMode:M,isSm:le,idFieldAndValueForE2e:Ie,onClear:W,cleanable:K,maxTagCount:G,onSelectAll:Pe,size:J,validList:Ee,selectId:he,validListMap:Le,title:Q,referenceRef:de,searchBoxRef:fe,searchable:v,getOptionRefs:Re,isView:$}}),[Ae,Ce,ve,we,be,De,V,M,le,Ie,K,G,Pe,J,Ee,he,Le,Q,v,$]),He=st((0,o.A)((0,o.A)({},Ve),{},{filteredOptions:Fe,labelId:ee,disabled:te,readOnly:X,activeFirstOption:re,enabled:!1!==se&&(!0===se||!oe&&!P),virtualRef:ce,scrollToSelectedOption:ae}));(0,i.useImperativeHandle)(t,(function(){return{setVisible:me,toggleOptions:function(){me((function(e){return!e}))}}}));var ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,n=e.hoverMode,r=e.setVisible,o=e.delayShow,a=e.useReactTransition,s=e.stopPropagation,l=e.readOnly,c=e.isView,u=(0,i.useRef)(null),d=function(){u.current&&(clearTimeout(u.current),u.current=null)},f={onMouseEnter:function(){o?(d(),u.current=setTimeout((function(){r(!0)}),o)):r(!0)},onMouseLeave:function(){d(),r(!1)}},h={onClick:function(e){s&&e.stopPropagation(),(0,ie.A)((function(){r((function(e){return o&&!e?(d(),u.current=setTimeout((function(){(0,ie.A)((function(){r(!0)}),a)}),o),e):!e}))}),a)}};return(0,i.useEffect)((function(){return function(){d()}}),[]),t||l||c?{}:n&&!(0,at.Fr)()?{hoverConfig:f,clickConfig:{}}:{clickConfig:h,hoverConfig:{}}}({disabled:n.disabled,hoverMode:n.hoverMode,setVisible:me,delayShow:H,useReactTransition:z,stopPropagation:q,readOnly:X,isView:$});return(0,m.jsx)(w.Provider,{value:Ve,children:(0,m.jsx)(_.Provider,{value:He,children:(0,m.jsxs)("div",(0,o.A)((0,o.A)({className:je,style:u},ze.hoverConfig),{},{children:[(0,m.jsx)(et,(0,o.A)((0,o.A)({},n),{},{eventConfig:ze,referenceRef:de,selectedOptions:be,setVisible:me,visible:Ae,optionsSameWidthReference:we,idFieldAndValueForE2e:Ie,values:Ce})),(0,m.jsx)(p.Ay,{localeProps:B,locale:j,children:(0,m.jsx)(ye,(0,o.A)((0,o.A)({},n),{},{className:O,referenceRef:de.current,popperRef:ue,visible:null!==U&&void 0!==U?U:Ae,setVisible:me,setSameWidth:_e,onReset:Te,footer:L?(0,m.jsx)(k,{optionFooter:g,setVisible:me,noFooterButtonsOnSm:Y}):g&&(0,m.jsx)(S,{optionFooter:g,setVisible:me}),pcFooter:(0,m.jsx)(T,{optionFooterClosable:b,optionFooter:g,setVisible:me}),children:(0,m.jsx)(y,{searchComponent:v&&(0,m.jsx)(rt,(0,o.A)((0,o.A)({},n),{},{visible:Ae,search:De,optionsSameWidthReference:we,onChangeSearch:Be,ref:fe})),optionsComponent:(0,m.jsx)(ne,(0,o.A)((0,o.A)({},n),{},{showSelectedIcon:A||C||L&&Z,values:Ce,options:Fe,onSelect:ge,virtualRef:ce,a11yData:He.listA11yData,currentHighlightOptionIndex:He.currentHighlightOptionIndex,scrollToSelectedOption:ae})),slotComponent:x()||null,customRenderListBox:P})}))})]}))})})}));vt.defaultPropsValue={className:"",searchable:!0,searchEmptyText:null,value:null,size:v.A.md,type:I.input,searchEmpty:null,optionTitle:"",label:null,optionContClassName:"",align:"",optionAlign:"",valueContClassName:"",optionItemClassName:"",isView:!1,placeholder:null,optionFooter:null,searchPlaceholder:"",renderOption:null,optionFooterClosable:!1,showSelectedIcon:!1,showSelectedIconForMultiple:!0,title:"",titleClass:"",isInline:!1,optionCenter:!1,displayArea:void 0,dropMode:!1,disabled:!1,hoverMode:!1,style:{},graspBaseDom:!0,searchFilter:null,popupProps:{},dialogProps:{},displayProps:{},onToggleShow:function(){},onSearch:function(){},onChange:function(){},renderListSlot:function(){},scrollStyle:void 0,error:"",inputProps:{},contentBoxClassName:"",valueBoxClassName:"",virtual:!1,sameWidth:!0,suffixIconStyle:{},suffixIcon:function(){},scrollBoundary:{},searchInputProps:{},searchFocus:!0,onFilter:null,customRenderListBox:void 0,dialogMode:!1,multiple:!1,bottomSafeSpace:48,limitMaxNum:null,labelWrapperClassName:void 0,onLimitMaxNumCallback:null,virtualProps:null,fitToHeight:!1,delayShow:null,onClear:function(){},cleanable:!1,maxTagCount:void 0,stopPropagation:!1,immediatelyHide:!1,noFooterButtonsOnSm:!1,showSelectAll:!1,readOnly:!1,activeFirstOption:!0,scrollToSelectedOption:!1},vt.OPTION_TYPE=O,vt.TYPE=I,vt.SIZE=v.A,vt.ALIGN=g.Ec,vt.elementType=u.rk.Select,vt.SIZE=v.A,vt.DIRECTION=(0,o.A)((0,o.A)({},g.M8),g.Ec);const gt=vt},1484:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(675),o=n(467),i=n(4467),a=n(296),s=n(9379),l=n(4883),c=n(792),u=n.n(c),d=n(9719),f=n(4195),h=n(4393),p=n(5857),v=n(5526),g=n(8032),m="".concat(p.H3,"-switch"),y=(0,s.A)({default:v.A.md,small:v.A.sm},v.A);function b(e){var t=f.A.mergeProps(b.defaultPropsValue,e),n=t.label,s=t.checked,c=t.size,d=t.disabled,p=t.loading,A=t.onChange,w=t.onClick,_=t.async,C=t.className,S=t.labelStyle,k=t.labelClassName,T=t.handlerChildren,x=t.defaultChecked,P=t.id,E=(0,l.useState)(x),L=(0,a.A)(E,2),I=L[0],O=L[1],R=(0,l.useState)(!1),M=(0,a.A)(R,2),N=M[0],D=M[1],B=(0,l.useState)(!1),F=(0,a.A)(B,2),j=F[0],V=F[1],H="boolean"===typeof s,z=y[c],U=u()(f.A.data.okdNamespace,m,(0,i.A)({},"".concat(m,"-small"),z===v.A.sm),(0,i.A)({},"".concat(m,"-select"),H?s:I),(0,i.A)({},"".concat(m,"-disabled"),d),(0,i.A)({},"".concat(m,"-active"),N),(0,i.A)({},"".concat(m,"-loading"),p||j),C),W=(0,l.useId)();return(0,g.jsxs)(l.Fragment,{children:[(0,g.jsx)("button",{className:U,type:"button",onClick:function(e){e.preventDefault(),w(e),d||p||j||(V(!0),Promise.resolve(_(I)).then((0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H){e.next=5;break}return e.next=3,A(!s);case 3:e.next=9;break;case 5:O((function(e){return!e})),A(!I),D(!0),setTimeout((function(){D(!1)}),600);case 9:case"end":return e.stop()}}),e)})))).catch((function(){})).finally((function(){V(!1)})))},role:"switch","aria-checked":H?s:I,id:P||W,"aria-disabled":d||p||void 0,children:(0,g.jsxs)("div",{className:"".concat(m,"-handler"),children:[T,(p||j)&&(0,g.jsx)(h.A.Circle,{loaderClassName:"switch-handler-loader switch-".concat(I?"on":"off","-loader")})]})}),n&&(0,g.jsx)("label",{htmlFor:P||W,className:"".concat(m,"-label ").concat(k),style:S,children:n})]})}b.defaultPropsValue={label:"",checked:void 0,defaultChecked:!1,size:v.A.default,disabled:!1,loading:!1,onChange:function(){},onClick:function(){},async:function(){},className:"",labelStyle:{},labelClassName:""},b.elementType=d.rk.Switch,b.SIZE=y;const A=b;var w=n(7769);n(504);A.ThemeSwitch=function(e){var t=e.checked,n=e.defaultChecked,r=e.onChange,o=(0,l.useState)(n),i=(0,a.A)(o,2),c=i[0],u=i[1],d=void 0!==t?t:c;return(0,g.jsx)(A,(0,s.A)((0,s.A)({},e),{},{onChange:function(e){u(e),null===r||void 0===r||r(e)},checked:d,handlerChildren:(0,g.jsx)(w.A,{iconName:d?"okds-moon":"okds-sun",className:"".concat(p.H3,"-switch-theme-icon add-weight")})}))};const _=A},7001:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(9379),o=n(3986),i=n(4883),a=n(4195),s=n(8001),l=n(5857),c=n(4822),u=n(7375),d=n(8032),f=["type","title","prefixClassName","popupStyle","width","maxWidth","popupRef","popupProps","focusManagerProps","applyA11y"],h="".concat(l.H3,"-tooltip");function p(e){var t=a.A.useMergeProps(p.defaultPropsValue,e,a.A.componentNames.Tooltip),n=t.type,l=t.title,c=t.prefixClassName,u=t.popupStyle,v=t.width,g=t.maxWidth,m=t.popupRef,y=t.popupProps,b=t.focusManagerProps,A=t.applyA11y,w=(0,o.A)(t,f),_=(0,i.useMemo)((function(){return(0,r.A)((0,r.A)({},u),{},{width:v,maxWidth:g||(null===u||void 0===u?void 0:u.maxWidth)||v})}),[g,u,v]);return(0,d.jsx)(s.A,(0,r.A)((0,r.A)((0,r.A)({},w),{},{popupStyle:_},y),{},{ref:m,prefixClassName:"".concat(h," ").concat(h,"-").concat(n," ").concat(c," "),content:l,focusManagerProps:b,applyA11y:A}))}var v={neutral:"neutral",negative:"negative",positive:"positive",informative:"informative"};p.defaultPropsValue={type:v.neutral,title:"",prefixClassName:"",width:void 0,maxWidth:void 0,popupRef:function(){},applyA11y:!1},p.DIRECTION=c.M8,p.TYPES=v,p.TRIGGER_TYPES=u.A,p.TRIGGER=u.A,p.Simple=p},9053:(e,t,n)=>{"use strict";n.d(t,{A:()=>F});var r=n(9379),o=n(296),i=n(3986),a=n(4883),s=n.n(a),l=n(792),c=n.n(l),u=n(4195),d=n(4393),f=n(4467),h=n(1099),p=n(8032);const v=s().forwardRef((function(e,t){var n=e.height,o=e.offset,i=e.children,a=e.prefixCls,s=e.collectHeight,l=e.className,u=e.style,d={},v={display:"flex",flexDirection:"column"};return void 0!==o&&(d=(0,r.A)({height:n,position:"relative",overflow:"hidden"},u),v=(0,r.A)((0,r.A)({},v),{},{position:"absolute",left:0,right:0,transform:"translateY(".concat(o,"px)")})),(0,p.jsx)("div",{style:d,children:(0,p.jsx)(h.A,{onResize:function(e){e.offsetHeight&&s&&s()},children:(0,p.jsx)("div",{style:v,className:c()(l,(0,f.A)({},"".concat(a,"-holder-inner"),a)),ref:t,role:"listbox",children:i})})})}));var g=n(5857),m={id:"okd_v_id",expand:"okd_v_expand"},y="".concat(g.H3,"-virtual-list"),b=function(e){var t=e.con,n=e.setInstanceRef,r=e.item,o=e.eleIndex,i=t(r,o),l=(0,a.useCallback)((function(e){n(r,e)}),[]);return s().cloneElement(i,{ref:l})};const A=s().memo(b);const w=function(e){var t=e.mergedData,n=e.start,o=e.end,i=e.children,s=e.getKey,l=e.setInstanceRef,c=e.fixedItemHeight,u=e.ignoreIndex;return t.slice(n,o+1).map((function(e,t){var o=s(e),d=i(e),f=n+t;if(c)return(0,p.jsx)(a.Fragment,{children:d},o);var h=u?{}:{eleIndex:f},v=(0,r.A)({setInstanceRef:l,item:e,con:i},h);return(0,p.jsx)(A,(0,r.A)({},v),o)}))};var _=n(6698),C=n(3029),S=n(2901);const k=function(){return(0,S.A)((function e(){(0,C.A)(this,e),this.maps=Object.create(null)}),[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}])}();const T=function(e){return e instanceof HTMLElement?e:null};var x=n(5458),P=n(6795),E=["options","list","virExpandList"],L=function(e,t){if(!Array.isArray(e))throw Error('An invalid "data" prop has been specified. Value should be a array. ');if(!e.length)return e;var n=e[0];if(!(null!==n&&void 0!==n&&n.options||null!==n&&void 0!==n&&n.list))return t===m.id?e.map((function(e){return(0,r.A)((0,r.A)({},e),{},(0,f.A)({},t,(0,P.zE)()))})):e;var o=[];return e.forEach((function(e){var n=e.options,a=e.list,s=e.virExpandList,l=(0,i.A)(e,E);if(s?n||a:(null===n||void 0===n?void 0:n.length)||(null===a||void 0===a?void 0:a.length)){o.push((0,r.A)((0,f.A)((0,f.A)({},m.expand,!0),t,(0,P.zE)()),l));var c=L(n||a,t);o.push.apply(o,(0,x.A)(c))}})),o},I=function(){return document.documentElement.scrollTop||document.body.scrollTop},O=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n,right:t.right+n,bottom:t.bottom+r,width:t.width,height:t.height}};const R=function(e){var t=e.onScrollEnd,n=e.safeDistance,r=e.pageMode,i=e.maxScrollHeight,s=e.componentRef,l=(0,a.useState)(!1),c=(0,o.A)(l,2),u=c[0],d=c[1],f=(0,a.useCallback)((function(e){var o=e.currentTarget,a=r?function(e){var t=e.componentRef,n=e.maxScrollHeight,r=e.safeDistance;return I()-O(null===t||void 0===t?void 0:t.current).top-100-n>=r}({componentRef:s,maxScrollHeight:i,safeDistance:n}):function(e,t){return!!e&&e.scrollTop+e.clientHeight+t>=e.scrollHeight}(o,n),l=r?function(e){var t=e.componentRef,n=e.maxScrollHeight;return I()+O(null===t||void 0===t?void 0:t.current).top+100<n}({componentRef:s,maxScrollHeight:i}):function(e){return e.scrollTop+e.clientHeight<e.scrollHeight}(o);t&&(a&&!u&&t?(t(),d(!0)):l&&d(!1))}),[t,u]);return f};function M(e,t,n,r,o,i,s,l){var c,u,d=a.useRef(),f=l?document.documentElement||document.body:e.current,h=0;e.current&&l&&(h=null===(c=e.current)||void 0===c||null===(u=c.getBoundingClientRect())||void 0===u?void 0:u.top);return function(e){if(_.A.cancel(d.current),"number"===typeof e)s(e,!0);else if(e&&"object"===typeof e){var a,c=e.align;a="index"in e?e.index:t.findIndex((function(t){return o(t)===e.key}));var u=e.offset,p=void 0===u?0:u,v=function(e,u){if(!(e<0)&&f){var g=l?window.innerHeight:f.clientHeight,m=!1,y=u;if(g){for(var b=u||c,A=0,w=0,C=0,S=Math.min(t.length,a),k=0;k<=S;k+=1){var T=o(t[k]);w=A;var x=n.get(T);A=C=w+(void 0===x?r:x),k===a&&void 0===x&&(m=!0)}var P=null;switch(b){case"top":P=w-p;break;case"bottom":P=C-g+p+h,l&&function(e){document.body.scrollTop=e,document.documentElement.scrollTop=e}(P);break;default:var E=f.scrollTop;w<E?y="top":C>E+g&&(y="bottom")}null!==P&&P!==f.scrollTop&&s(P,!0)}d.current=(0,_.A)((function(){m&&i(),v(e-1,y)}),2)}};v(3)}}}var N=["className","style","onScroll","itemKey","data","height","virtual","itemHeight","children","pageMode","classNameInner","onScrollEnd","getContainer","outerStyle","loading","emptyText","emptyClassName","isWrapper","safeDistance","fixedItemHeight","ignoreIndex","scrollToIndex","resetScrollOnHeightChange"],D=["children"],B=(0,a.forwardRef)((function(e,t){var n,s,l=u.A.mergeProps(B.defaultPropsValue,e),f=l.className,h=l.style,g=l.onScroll,m=l.itemKey,b=l.data,A=l.height,C=l.virtual,S=l.itemHeight,x=l.children,P=l.pageMode,E=l.classNameInner,D=l.onScrollEnd,F=l.getContainer,j=l.outerStyle,V=l.loading,H=l.emptyText,z=l.emptyClassName,U=l.isWrapper,W=l.safeDistance,K=l.fixedItemHeight,G=l.ignoreIndex,q=l.scrollToIndex,Y=l.resetScrollOnHeightChange,Z=(0,i.A)(l,N),X=F||P?window.innerHeight+100:A,J={};"object"===typeof V&&(J=V);var Q=(0,a.useRef)(0),$=c()(y,f),ee=function(e){var t=e.data,n=e.itemKey;return{getKey:(0,a.useCallback)((function(e){return"function"===typeof n?n(e):null===e||void 0===e?void 0:e[n]}),[n]),mergedData:(0,a.useMemo)((function(){return L(t,n)}),[t,n])}}({data:b,itemKey:m}),te=ee.getKey,ne=ee.mergedData,re=(0,a.useState)(0),oe=(0,o.A)(re,2),ie=oe[0],ae=oe[1],se=(0,a.useRef)(),le=(0,a.useRef)(),ce=(0,a.useRef)(),ue=!(!X||!C),de=ue&&ne&&S*ne.length>X,fe=function(e){var t=(0,a.useState)(0),n=(0,o.A)(t,2),r=n[0],i=n[1],s=(0,a.useRef)(new Map),l=(0,a.useRef)(new k),c=(0,a.useRef)();function u(){_.A.cancel(c.current)}function d(){u(),c.current=(0,_.A)((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=T(e),r=n.offsetHeight;l.current.get(t)!==r&&l.current.set(t,n.offsetHeight)}})),i((function(e){return e+1}))}))}var f=(0,a.useCallback)((function(t,n){var r=e(t);n?(s.current.set(r,n),d()):s.current.delete(r)}),[]);return(0,a.useEffect)((function(){return u}),[]),[f,d,l.current,r]}(te),he=(0,o.A)(fe,4),pe=he[0],ve=he[1],ge=he[2],me=he[3],ye=function(e){var t=e.inVirtual,n=e.useVirtual,r=e.scrollTop,o=e.heightUpdatedMark,i=e.height,s=e.mergedData,l=e.fillerInnerRef,c=e.heights,u=e.itemHeight,d=e.getKey,f=e.fixedItemHeight;return(0,a.useMemo)((function(){if(!n)return{scrollHeight:void 0,start:0,end:s.length-1,offset:void 0};var e;if(!t)return{scrollHeight:(null===(e=l.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:s.length-1,offset:void 0};for(var o,a,h,p=0,v=s.length,g=0;g<v;g+=1){var m,y=s[g],b=d(y),A=c.get(b);f&&null!==y&&void 0!==y&&null!==(m=y.record)&&void 0!==m&&m.okuiMeasure&&(A=0);var w=p+(void 0===A?u:A);w>=r&&void 0===o&&(o=g,a=p),w>r+i&&void 0===h&&(h=g),p=w}return void 0===o&&(o=0,a=0,h=Math.ceil(i/u)),void 0===h&&(h=s.length-1),{scrollHeight:p,start:o,end:h=Math.min(h+1,s.length),offset:a}}),[t,n,r,o,i,s])}((0,r.A)((0,r.A)({},l),{},{inVirtual:de,mergedData:ne,fillerInnerRef:le,useVirtual:ue,scrollTop:ie,getKey:te,heights:ge,heightUpdatedMark:me,height:X,fixedItemHeight:K})),be=ye.scrollHeight,Ae=ye.start,we=ye.end,_e=ye.offset,Ce=be-X;ce.current=Ce;var Se=R({onScrollEnd:D,safeDistance:W,pageMode:P,maxScrollHeight:Ce,componentRef:se}),ke=(0,a.useRef)(X);function Te(e,t){ae((function(n){var r=function(e,t){var n=e;return Number.isNaN(t)||(n=Math.min(n,t)),Math.max(n,0)}("function"===typeof e?e(n):e,ce.current);return t&&!P&&se.current&&(se.current.scrollTop=r),r}))}(0,a.useEffect)((function(){var e=ke.current;Y&&!e&&X&&X>0&&ae(0),ke.current=X}),[X,Y]),(0,a.useEffect)((function(){if(se.current){var e=se.current.getBoundingClientRect().top;Q.current=e}}),[se.current]);var xe=M(se,ne,ge,S,te,ve,Te,P);function Pe(e){if(D&&Se(e),P){var t=I(),n=O(se.current).top;Te(Math.max(0,t-n))}else if(F){var r=e.currentTarget.scrollTop;Te(Math.max(0,r-Q.current))}else{var o=e.currentTarget.scrollTop;o!==ie&&Te(o)}null===g||void 0===g||g(e)}(0,a.useEffect)((function(){void 0!==q&&se.current&&xe({index:q})}),[q,se.current]),(0,a.useImperativeHandle)(t,(function(){return{scrollTo:xe,getListRef:function(){return se.current}}})),(0,a.useEffect)((function(){var e=null===F||void 0===F?void 0:F();return e?(e.addEventListener("scroll",Pe),function(){e.removeEventListener("scroll",Pe)}):P?(document.addEventListener("scroll",Pe),function(){document.removeEventListener("scroll",Pe)}):function(){}}),[P]);var Ee=w({mergedData:ne,start:Ae,end:we,setInstanceRef:pe,children:x,getKey:te,fixedItemHeight:K,ignoreIndex:G}),Le=P||F?{overflow:"auto"}:be>=X?{overflow:"auto"}:{},Ie=(0,r.A)((0,r.A)({},Le),{},{position:"relative",overflowAnchor:"none",height:X}),Oe=P||F?{}:(0,r.A)((0,r.A)({style:(0,r.A)((0,r.A)({},Ie),h)},Z),{},{onScroll:Pe});if(!X&&!P&&!F)return null;var Re=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",(0,r.A)((0,r.A)({className:$,ref:se},Oe),{},{children:[(0,p.jsx)(v,{prefixCls:y,height:be,offset:_e,collectHeight:ve,ref:le,className:E,style:j,children:Ee}),((null===(n=ne[0])||void 0===n||null===(s=n.record)||void 0===s?void 0:s.okuiMeasure)&&1===(null===ne||void 0===ne?void 0:ne.length)||!ne.length)&&H&&(0,p.jsx)("div",{className:c()("".concat(y,"-empty"),z),children:H})]})),!!V&&(0,p.jsx)(d.A.Circle,(0,r.A)({hasMask:!0,zIndex:10,type:d.A.TYPE.primary},J))]});return U?(0,p.jsx)("div",{style:{position:"relative"},children:Re}):Re}));B.defaultPropsValue={style:{},className:"",data:[],height:null,itemHeight:50,itemKey:"okd_v_id",onScroll:null,virtual:!0,classNameInner:"",pageMode:!1,onScrollEnd:void 0,getContainer:null,outerStyle:{},emptyText:"",loading:!1,emptyClassName:"",isWrapper:!1,safeDistance:0,fixedItemHeight:!1,ignoreIndex:!1,resetScrollOnHeightChange:!1},B.EXPAND_VAR=m,B.Item=s().memo((0,a.forwardRef)((function(e,t){var n=e.children,o=(0,i.A)(e,D);return(0,p.jsx)("div",(0,r.A)((0,r.A)({ref:t},o),{},{children:n}))}))),B.Item.displayName="Item";const F=B},4822:(e,t,n)=>{"use strict";n.d(t,{Ec:()=>i,M8:()=>r,hE:()=>o});var r={top:"top",topLeft:"topLeft",topRight:"topRight",right:"right",rightTop:"rightTop",rightBottom:"rightBottom",left:"left",leftTop:"leftTop",leftBottom:"leftBottom",bottom:"bottom",bottomLeft:"bottomLeft",bottomRight:"bottomRight"},o={top:"top",left:"left",right:"right",bottom:"bottom",topLeft:"top-start",topRight:"top-end",bottomLeft:"bottom-start",bottomRight:"bottom-end",leftTop:"left-start",leftBottom:"left-end",rightTop:"right-start",rightBottom:"right-end"},i={right:"right",left:"left",center:"center"}},5526:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r={xxs:"xxs",xs:"xs",s:"s",sm:"sm",md:"md",lg:"lg",xl:"xl",xxl:"xxl",xxxl:"xxxl"};r.default=r.md;const o=r},7375:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={hover:"hover",click:"click"}},1075:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={primary:"primary",secondary:"secondary",default:"default",basic:"basic",plain:"plain",red:"red",green:"green",gray:"grey",success:"success",info:"info",prompt:"prompt",warn:"warn",alert:"alert",error:"error",normal:"normal",pending:"pending"}},5857:(e,t,n)=>{"use strict";n.d(t,{H3:()=>r});var r="cc"},721:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>h,Tn:()=>f,VP:()=>d});var r=n(1742),o=n(9991),i=n(1289),a=n(4195),s=n(9508),l=n(777),c=function(e){var t,n,o=0,i=s.A.document.body,a=s.A.document.querySelector("html");(0,r.f)()||(e?(o=s.A.scrollY,i.style.top="".concat(-o,"px"),i.style.position="fixed",a.style.height="100vh",a.style.height="".concat(s.A.innerHeight,"px"),i.style.width="100%"):(o=Math.abs(parseFloat(null===i||void 0===i||null===(t=i.style)||void 0===t||null===(n=t.top)||void 0===n?void 0:n.replace(/-?(\w+)px$/i,"$1"))),i.style.position="",i.style.top="",i.style.width="",a.style.height="",s.A.scrollTo(0,o)))},u=function(e){var t=s.A.document.body,n=s.A.document.documentElement;if(!(0,r.f)()){var o,i,a={},c=s.A.innerWidth-((null===s.A||void 0===s.A||null===(o=s.A.document)||void 0===o||null===(i=o.body)||void 0===i?void 0:i.clientWidth)||0);if(e){var u,d,f="".concat(c<0?0:c,"px");a={overflow:"hidden",height:"100vh"},(0,l.DY)()?a.marginRight=f:a.width="calc(100vw - ".concat(f,")"),n.style.backgroundColor=null===s.A||void 0===s.A||null===(u=s.A.getComputedStyle)||void 0===u||null===(d=u.call(s.A,t))||void 0===d?void 0:d.backgroundColor}else a={overflow:"",height:"",width:"",marginRight:""},n.style.backgroundColor=null;Object.assign(t.style||{},a)}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if("[object Object]"!==Object.prototype.toString.call(e))throw new Error("withoutProps Error: The first param of withoutProps function must be a pure object!");if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("withoutProps Error: The first param of propsToRemove function must be an array!");return Object.keys(e).reduce((function(n,r){return t.includes(r)||(n[r]=e[r]),n}),{})}var f=function(e){return"function"===typeof e};const h={frozenScroll:function(e){if(a.A.data.frozenScroll){var t=s.A.document.body;if(!(0,r.f)()){var n,l,d,f,h=Number(t.getAttribute("data-frozen-count")||0),p="fixed"===(null===t||void 0===t||null===(n=t.style)||void 0===n?void 0:n.position)&&"100%"===(null===t||void 0===t||null===(l=t.style)||void 0===l?void 0:l.width),v="hidden"===(null===t||void 0===t||null===(d=t.style)||void 0===d?void 0:d.overflowY)&&"100vh"===(null===t||void 0===t||null===(f=t.style)||void 0===f?void 0:f.height),g=p||v,m="sm"===(0,i.A)().media?c:u;g&&(m=p?c:u),e?(g?h++:m(!0),t.setAttribute("data-frozen-count",(0,o.Nb)(String(h)))):(g&&h<=0?(m(!1),h=0):h=h<=0?0:h-1,t.setAttribute("data-frozen-count",(0,o.Nb)(String(h))))}}},withoutProps:d}},9719:(e,t,n)=>{"use strict";n.d(t,{OC:()=>o,rk:()=>a,w$:()=>r,zG:()=>i});var r={Accordion:"Accordion",Alert:"Alert",Animation:"Animation",Avatar:"Avatar",Badge:"Badge",Breadcrumbs:"Breadcrumbs",Button:"Button",Carousel:"Carousel",Cascader:"Cascader",Checkbox:"Checkbox",CoachMark:"CoachMark",DatePicker:"DatePicker",Dialog:"Dialog",DragDrop:"DragDrop",Drawer:"Drawer",Dropdown:"Dropdown",Empty:"Empty",Form:"Form",HyperLink:"HyperLink",Icon:"Icon",IconButton:"IconButton",Input:"Input",LoadableLoading:"LoadableLoading",Loader:"Loader",Mask:"Mask",Message:"Message",Notification:"Notification",OverflowScroll:"OverflowScroll",Pagination:"Pagination",PickerView:"PickerView",Picture:"Picture",Popover:"Popover",Popup:"Popup",PowerLink:"PowerLink",PlainButton:"PlainButton",QRCode:"QRCode",Radio:"Radio",Select:"Select",Skeleton:"Skeleton",Slider:"Slider",Steps:"Steps",Switch:"Switch",Table:"Table",Tabs:"Tabs",Tooltip:"Tooltip",Upload:"Upload",VideoAnimation:"VideoAnimation",VirtualList:"VirtualList",PureForm:"PureForm",SvgAnimation:"SvgAnimation",CanvasAnimation:"CanvasAnimation",ImageViewer:"ImageViewer",SelectionChips:"SelectionChips",SuggestionChips:"SuggestionChips",Waterfall:"Waterfall"},o={ESC:"Escape",ENTER:"Enter",SPACE:"Space",LEFT:"ArrowLeft",RIGHT:"ArrowRight",TAB:"Tab",UP:"ArrowUp",DOWN:"ArrowDown",HOME:"Home",END:"End",BACKSPACE:"Backspace",DELETE:"Delete"},i={dark:"dark",light:"light",oklink:"oklink",oklinkDark:"oklink-dark",okcoin:"okcoin",okjp:"okjp",okjpDark:"okjp-dark"},a={Input:"Input",InputCode:"InputCode",InputVerify:"InputVerify",InputPassword:"InputPassword",InputNumber:"InputNumber",InputSearch:"InputSearch",TextArea:"TextArea",Button:"Button",Select:"Select",Checkbox:"Checkbox",CheckboxGroup:"CheckboxGroup",Radio:"Radio",RadioGroup:"RadioGroup",Switch:"Switch",Slider:"Slider",DatePicker:"DatePicker",Upload:"Upload",Custom:"Custom",FormLine:"FormLine"}},3909:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(296),o=n(4883);const i=function(){var e=(0,o.useState)(!1),t=(0,r.A)(e,2),n=t[0],i=t[1];return(0,o.useEffect)((function(){i(!0)}),[]),n}},4962:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4883),o=n(1727);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((function(){return o.A.apply(void 0,t)}),[])}},6103:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(2901),o=n(3029),i=n(4473),a=n(8341),s=n(4883),l=(0,a.A)("timer"),c=(0,r.A)((function e(){var t=this;(0,o.A)(this,e),Object.defineProperty(this,l,{writable:!0,value:null}),this.task=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return t.cancel(),(0,i.A)(t,l)[l]=setTimeout((function(){e(),t.cancel()}),n),(0,i.A)(t,l)[l]},this.cancel=function(){(0,i.A)(t,l)[l]&&clearTimeout((0,i.A)(t,l)[l])}}));function u(){return(0,s.useRef)(new c).current}},6706:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(4467),o=n(296),i=n(4883);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.node,e.componentName),n=(e.id,(0,i.useState)()),a=(0,o.A)(n,2),s=a[0],l=(a[1],"data-e2e-okd-".concat(t,"-id"));return(0,i.useEffect)((function(){}),[]),(0,r.A)({},l,s)}},4199:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(4883),o=n(6043),i=n(9508);function a(e,t,n){var a=n||{},s=a.target,l=void 0===s?[i.A]:s,c=a.eventName,u=void 0===c?"keyup":c,d=a.capture,f=a.once,h=a.passive,p=a.enable,v=void 0===p||p,g=(0,r.useRef)(t);g.current=t,(0,r.useEffect)((function(){if(!v||!e||!t)return function(){};var n=[].concat(l).map((function(t){var n,r=(0,o.eZ)(t,i.A),a=function(t){var n,r=t.key;(Array.isArray(e)&&e.includes(r)||r===e||"all"===e)&&(null===(n=g.current)||void 0===n||n.call(g,t,r))};return null===r||void 0===r||null===(n=r.addEventListener)||void 0===n||n.call(r,u,a,{capture:d,once:f,passive:h}),{targetElement:r,eventListener:a}}));return function(){n.forEach((function(e){var t,n=e.targetElement,r=e.eventListener;null===n||void 0===n||null===(t=n.removeEventListener)||void 0===t||t.call(n,u,r,{passive:h})}))}}),[v,u,d,f,h,l])}},651:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5458),o=n(4883),i=n.n(o);function a(){var e=(0,o.useRef)(new Map);function t(t){return e.current.has(String(t))||e.current.set(String(t),i().createRef()),e.current.get(String(t))}return t.cacheRefs=e,t.refs=(0,o.useMemo)((function(){return new Proxy({},{get:function(t,n){return"keys"===n?(0,r.A)(e.current.keys()):(0,r.A)(e.current.values()).filter((function(e){return e.current}))}})}),[]),[t,function(t){e.current.delete(t)}]}},3346:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4883);function o(e){var t=e.listDom,n=e.onScrollToBottom,o=e.onScrollToTop,i=e.safeDistance,a=e.triggerOnce,s=void 0===a||a,l=(0,r.useRef)(0),c=(0,r.useRef)({top:!1,bottom:!1});return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if(r){var a=e.target.scrollTop,u=e.target.offsetHeight,d=a-l.current>0;l.current=a;var f=a>t.current.scrollHeight-u-r,h=a<r;d?(h||(c.current.top=!1),f&&!c.current.bottom&&(null===n||void 0===n||n(),s&&(c.current.bottom=!0))):(f||(c.current.bottom=!1),h&&!c.current.top&&(null===o||void 0===o||o(),s&&(c.current.top=!0)))}}}},6301:(e,t,n)=>{"use strict";n.d(t,{Am:()=>a,KS:()=>s});var r=n(296),o=n(4883),i=n(5147);function a(e){var t=(0,o.useState)((0,i.j1)(e)),n=(0,r.A)(t,2),a=n[0],s=n[1];return(0,o.useEffect)((function(){var e=(0,i.j8)((function(e){s(e)}));return function(){e()}}),[]),a}function s(){var e=(0,o.useState)(""),t=(0,r.A)(e,2)[1];(0,o.useEffect)((function(){var e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t(n)};return(0,i.Zr)(e),function(){(0,i.o)(e)}}),[])}},5147:(e,t,n)=>{"use strict";n.d(t,{Zr:()=>x,KN:()=>C,j1:()=>y,sd:()=>S,xK:()=>k,j8:()=>w,o:()=>P});var r=n(296),o=n(5458),i=n(5761),a=n(1742),s=n(519),l=n(9719),c=n(9508),u=n(1656).A.g,d="okd-theme-change",f="theme-",h={1:"light",2:"dark",3:"oklink",4:"oklink-dark",5:"okjp",6:"okjp-dark",7:"okcoin",light:1,dark:2,oklink:3,"oklink-dark":4,okjp:5,"okjp-dark":6,okcoin:7},p=[],v=l.zG,g=function(e){if(e){var t="".concat(e,"-okd-theme"),n=i.A.g.get(t);return null===n||void 0===n?void 0:n.replace("theme-","")}return""},m=function(){var e=i.A.g.get("g_t");return e||(0,a.f)()||(e=u.get("g_t")),h[e]};function y(e){var t=m();if(!s.A.isApp&&t)return t;if((0,a.f)()&&e){var n=g(e);if(n)return n}if((0,a.f)()&&s.A.isThemeDark)return v.dark;var r="";if(!(0,a.f)()){var o=c.A.document.body.classList,i=/^theme-([a-z-]{2})/i;o.forEach((function(e){i.test(e)&&(r=e.replace(i,"$1"))}))}return r}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.biz){var t="".concat(e.biz,"-okd-theme");i.A.g.set(t,"theme-".concat(e.themeName))}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e;if("string"===typeof e)t={biz:"",themeName:e};else if(!e.biz)throw new Error("biz is required");return t};function w(e){var t=function(t){e(t.detail.currentTheme)};return c.A.addEventListener(d,t),function(){c.A.removeEventListener(d,t)}}function _(e){if(e){var t=e.classList,n=new RegExp("^".concat(f,".*"));(0,o.A)(t).forEach((function(e){n.test(e)&&t.remove(e)}))}}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&!m()){var n=A(e),r=n.biz,o=n.themeName,i=y();if((o!==i||t)&&(b({biz:r,themeName:o}),!(0,a.f)())){var s="".concat(f).concat(o);_(c.A.document.body),o&&c.A.document.body.classList.add(s),c.A.cssVars&&c.A.cssVars({watch:!1,onComplete:function(){c.A.cssVars({watch:!0})}}),p.forEach((function(e){e(o,i)})),function(e){window.dispatchEvent(new CustomEvent(d,{detail:{currentTheme:e}}))}(o)}}}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.A.document.body;return(0,a.f)()?"":c.A.getComputedStyle(t).getPropertyValue(e).trim()}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.length<=4?/\w/g:/\w\w/g,o=e.match(n).map((function(e){var t=e.length<2?"".concat(e).concat(e):e;return parseInt(t,16)})),i=(0,r.A)(o,3),a=i[0],s=i[1],l=i[2];return"rgba(".concat(a,",").concat(s,",").concat(l,",").concat(t,")")}var T=[];function x(e){T.push(e)}function P(e){T=T.filter((function(t){return t!==e}))}},2737:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,h:()=>f});var r=n(3986),o=n(9379),i=(n(4883),n(9508)),a=n(6301),s=n(5147),l=n(8032),c=["keyChain","isMobile","OriginComponent","defaultProps"];function u(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}const d=function(e){var t=e.OriginComponent,n=e.keyChain,r=void 0===n?"":n,c=e.defaultProps,d=void 0===c?{}:c,f=e.isMobile;return function(e){(0,a.KS)();var n=(0,a.Am)(),c=e,h={},p=r.split("."),v=(i.A.okdThemes||{})[u(n)]||{};return p.forEach((function(e){v=v[e]||{}})),0===Object.keys(v).length?c=(0,o.A)((0,o.A)({},c),d):Object.keys(v).forEach((function(e){var t=f&&"size"===e?null:v[e];h[e]=c[e]||t||d[e]})),(0,l.jsx)(t,(0,o.A)((0,o.A)((0,o.A)({currentTheme:n,changeTheme:s.KN},c),v),h))}};function f(e){var t=e.keyChain,n=void 0===t?"":t,d=e.isMobile,f=e.OriginComponent,h=e.defaultProps,p=(0,r.A)(e,c);(0,a.KS)();var v=(0,a.Am)(),g=p,m={},y=n.split("."),b=(i.A.okdThemes||{})[u(v)]||{};return y.forEach((function(e){b=b[e]||{}})),0===Object.keys(b).length?g=(0,o.A)((0,o.A)({},h),g):Object.keys(b).forEach((function(e){var t=d&&"size"===e?null:b[e];m[e]=g[e]||t||h[e]})),(0,l.jsx)(f,(0,o.A)((0,o.A)({currentTheme:v,changeTheme:s.KN},g),m))}},6043:(e,t,n)=>{"use strict";n.d(t,{Bm:()=>s,E$:()=>o,FP:()=>l,If:()=>a,eZ:()=>i});var r=n(9719),o=function(e){var t,n,o,i;return(null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.elementType)===r.rk.InputSearch||(null===e||void 0===e||null===(n=e.type)||void 0===n?void 0:n.elementType)===r.rk.InputCode||(null===e||void 0===e||null===(o=e.type)||void 0===o?void 0:o.elementType)===r.rk.InputPassword||(null===e||void 0===e||null===(i=e.type)||void 0===i?void 0:i.elementType)===r.rk.InputNumber};function i(e,t){if(!e)return t;return"function"===typeof e?e():"current"in e?e.current:e}var a=function(e){var t;return(null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.displayName)===r.w$.Icon},s=function(e){var t,n;return(null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.displayName)===r.w$.Button||"button"===(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.type)},l=function(e){var t;return function(e){var t;return r.rk[null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.elementType]}(e)||a(e)||"0"===String(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.tabIndex)}},4195:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(3029),o=n(2901),i=n(4473),a=n(8341),s=n(9379),l=n(4883),c=n(9719);const u=JSON.parse('{"D":{"site":"common","project":"web_common"}}');var d=n(6795),f=(0,s.A)((0,s.A)({},u.D),{},{version:Date.now()}),h={isDev:!1,fetchConfig:f},p=(0,a.A)("data"),v=new(function(){return(0,o.A)((function e(){var t=this;(0,r.A)(this,e),Object.defineProperty(this,p,{writable:!0,value:{okdNamespace:"cc",okdsIconNamespace:"",okdVersion:"6.10.2",popupClassName:"",popupDir:void 0,frozenScroll:!0,localeProviderProps:(0,s.A)((0,s.A)({},h),{},{fetchConfig:(0,s.A)({},f)}),loaderConfig:{themeOptions:{bothDefaultThemeNamespaceAndRoot:!0,themes:["light","dark"],styleIsolation:{namespace:"cc"}},styleIsolation:{namespace:"cc",enable:!0,enableBasicVarPrefix:!0}}}}),this.setConfig=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.A)({},n);n.isRTL&&(r.popupDir="rtl"),Object.assign((0,i.A)(t,p)[p],(0,s.A)((0,s.A)((0,s.A)({},r),n),{},{localeProviderProps:(0,s.A)((0,s.A)((0,s.A)({},h),(null===n||void 0===n?void 0:n.localeProviderProps)||{}),{},{fetchConfig:(0,s.A)((0,s.A)({},f),(null===n||void 0===n||null===(e=n.localeProviderProps)||void 0===e?void 0:e.fetchConfig)||{})})}))},this.getConfig=function(){return(0,i.A)(t,p)[p]},this.mergeProps=function(e,n,r){var o=(0,i.A)(t,p)[p][r];return(0,d.Ac)(e,n,o)}}),[{key:"data",get:function(){return(0,i.A)(this,p)[p]}}])}());v.componentNames=c.w$,v.fetchConfig=f;v.useMergeProps=function(e,t,n){return(0,l.useMemo)((function(){return v.mergeProps(e,t,n)}),[e,t,n])};const g=v},9508:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9379),o=n(1742);const i=function(){var e;if("undefined"!==typeof globalThis)e=globalThis;else if("undefined"!==typeof window)e=window;else{if("undefined"===typeof n.g)throw new Error("unable to locate global object");e=n.g}var t={};return(0,o.f)()&&function(e){for(var t=["addEventListener","removeEventListener","IntersectionObserver","getComputedStyle","scrollTo"],n=["location","event","navigator"],r=["devicePixelRatio"],o=["devicePixelRatio","scrollY","scrollX","innerWidth","innerHeight"],i=0;i<t.length;i++)e[t[i]]||(e[t[i]]=function(){return null});for(var a=0;a<n.length;a++)e[n[a]]||(e[n[a]]={});for(var s=0;s<r.length;s++)e[r[s]]||(e[r[s]]="");for(var l=0;l<o.length;l++)e[o[l]]||(e[o[l]]=0)}(t),(0,o.f)()&&function(e){var t=["addEventListener","removeEventListener","appendChild","getComputedStyle"],n=t.concat(["createElement","getElementById","getElementsByTagName","getElementsByClassName","removeChild","querySelector"]);if(!e.document){for(var r={},o={},i=0;i<t.length;i++)r[t[i]]||(r[t[i]]=function(){return null});for(var a=0;a<n.length;a++)o[n[a]]||(o[n[a]]=function(){return null});o.body=r,e.document=o}}(t),(0,o.f)()?(0,r.A)((0,r.A)({},e),t):e}()},4932:(e,t,n)=>{"use strict";n.d(t,{A9:()=>i,Xf:()=>a});var r=n(4883),o=n(6830);var i=function(e){if(e&&(0,r.isValidElement)(e)&&!(0,o.zv)(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function a(e,t){if("function"===typeof e)e(t);else if("object"===typeof e&&e&&"current"in e){e.current=t}}},6795:(e,t,n)=>{"use strict";n.d(t,{Ac:()=>c,Fr:()=>a,Ju:()=>d,bx:()=>f,nr:()=>l,un:()=>s,zE:()=>u});var r=n(9379),o=n(2195),i=n(9508);function a(){var e;return/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(null===i.A||void 0===i.A||null===(e=i.A.navigator)||void 0===e?void 0:e.userAgent)}function s(){var e,t;return!(null===i.A||void 0===i.A||null===(e=i.A.navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))}function l(){var e;return/^((?!chrome|android).)*safari/i.test(null===i.A||void 0===i.A||null===(e=i.A.navigator)||void 0===e?void 0:e.userAgent)}function c(e,t,n){var o=(0,r.A)((0,r.A)({},e),n);return(t.invalidGlobalConfig||t.overrideGlobalConfig)&&(o=(0,r.A)({},e)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r.A)({},t);return Object.keys(e).forEach((function(r){var o=null===e||void 0===e?void 0:e[r];void 0===(null===t||void 0===t?void 0:t[r])&&(n[r]=o)})),n}(o,t)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(o.o.mathRandom()*t.length));for(var n="",r=0;r<e;r++)n+=t[Math.floor(o.o.mathRandom()*t.length)];return"okd".concat(n)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return"number"===typeof t&&e<t?t:"number"===typeof n&&e>n?n:e}function f(e){if(!e)return null;var t=i.A.getComputedStyle(e),n=null===t||void 0===t?void 0:t.transform,r=/matrix\(([^)]+)\)/.exec(n);if(r){var o=r[1].split(", ");return{x:parseFloat(o[4]),y:parseFloat(o[5]),z:parseFloat(o[2])}}return null}},6698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(9508),o=function(e){return+setTimeout(e,16)},i=function(e){return clearTimeout(e)};"undefined"!==typeof r.A&&"requestAnimationFrame"in r.A&&(o=function(e){return r.A.requestAnimationFrame((function(){e()}))},i=function(e){return r.A.cancelAnimationFrame(e)});var a=0,s=new Map;function l(e){s.delete(e)}function c(e){var t=a+=1;return function n(r){if(0===r)l(t),e();else{var i=o((function(){n(r-1)}));s.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t}c.cancel=function(e){var t=s.get(e);return l(t),i(t)}},777:(e,t,n)=>{"use strict";n.d(t,{DY:()=>s,GX:()=>d,OY:()=>u,U:()=>l,mo:()=>c});var r=n(4467),o=n(519),i=n(4195),a={left:"right",right:"left",Right:"Left",Left:"Right"};function s(){var e;return null!==(e=i.A.data.isRTL)&&void 0!==e?e:o.A.isRTL}function l(e){return s()&&a[e]||e}function c(e){return s()&&"string"===typeof e?e.replace(/left|right|Left|Right/g,(function(e){return a[e]||e})):e}function u(e,t){return(0,r.A)({width:e.width,height:e.height,top:e.top,left:e.left,right:e.right,bottom:e.bottom,x:e.x,y:e.y},t,e[l(t)])}function d(e){return s()?-e:e}},7860:(e,t,n)=>{"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n&&!r&&e.apply(void 0,i),null!==r&&clearTimeout(r),r=setTimeout((function(){r=null,e.apply(void 0,i)}),t)}}n.d(t,{s:()=>r})},4156:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(9379),o=n(4883),i=n.n(o);function a(e,t){t?i().startTransition((function(){e()})):e()}a.propsInfo={useReactTransition:{defaultValue:{value:"false",computed:!0},description:"Whether use the react transition api wrapping the event callback.\n(v6.0.8)",required:!1,type:{name:"bool"}}},a.getPropsInfo=function(e){return{propsInfo:{useReactTransition:(0,r.A)((0,r.A)({},a.propsInfo.useReactTransition),{},{description:"Whether use the react transition api wrapping the event callback.(v".concat(e,")")})}}}},1093:(e,t,n)=>{"use strict";n.d(t,{cb:()=>a});var r=n(9508);function o(){r.A.okd||(r.A.okd={})}var i="zIndexFlag",a={next:function(e){var t,n=(t=i,o(),r.A.okd[t]||1e4);return e&&(n=3e4),e||function(e,t){o(),r.A.okd[e]=t}(i,n+1),{value:n}}}},8250:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(3029),o=n(2901),i=n(4473),a=n(8341),s=n(1742),l=n(6944),c=n(5761),u=(0,a.A)("setMediaInfoToCookie");const d=new((0,o.A)((function e(){var t=this;(0,r.A)(this,e),Object.defineProperty(this,u,{writable:!0,value:function(e){return c.A.set("okg.currentMedia",e.media,{expires:365})}}),this.watch=function(){(new b).watch((function(e){(0,i.A)(t,u)[u](e)}),{runNow:!0})}})));var f=!1;(0,s.f)()||(f=window.matchMedia("").addEventListener);var h=(0,a.A)("createWatchers"),p=(0,a.A)("createListener"),v=(0,a.A)("addEventListeners");function g(){var e=this,t={};return Object.keys(this.mediaSet).forEach((function(n){t[n]=window.matchMedia(e.mediaSet[n].query)})),t}function m(e){var t=this;return function(n){n.matches&&t.fn(t.mediaSet[e])}}function y(){var e=this;Object.keys(this.watchers).forEach((function(t){var n=(0,i.A)(e,p)[p](t);f?e.watchers[t].addEventListener("change",n):e.watchers[t].addListener(n)}))}const b=function(){return(0,o.A)((function e(){(0,r.A)(this,e),Object.defineProperty(this,v,{value:y}),Object.defineProperty(this,p,{value:m}),Object.defineProperty(this,h,{value:g}),(0,s.f)()||(this.fn=null,this.mediaSet=l.A.mediaSet,this.watchers=(0,i.A)(this,h)[h]())}),[{key:"watch",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).runNow,r=void 0===n||n;(0,s.f)()||(this.fn=e,(0,i.A)(this,v)[v](),r&&Object.keys(this.watchers).forEach((function(n){t.watchers[n].matches&&e(t.mediaSet[n])})),window.__okgWatchedForCookie||(window.__okgWatchedForCookie=1,d.watch()))}},{key:"destroy",value:function(){(0,s.f)()||(this.watchers=null)}}])}()},1289:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(519),o=n(1742),i=n(6944);const a=function(){if((0,o.f)())return function(){var e=i.A.mediaSet,t=r.A.media||"_xl";return t.indexOf("_")<0&&(t="_".concat(t)),e[t]?i.A.isBiggerThanXL?e[t]:"2xl"===r.A.media||"3xl"===r.A.media?e._xl:e[t]:e._xl}();var e=i.A.mediaSet,t=e._sm;return Object.values(e).reverse().some((function(e){return!!window.matchMedia(e.query).matches&&(t=e,!0)})),t}},6944:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(3029),o=n(2901);const i={_sm:{index:1,media:"sm",query:"(max-width: 767px)",gutter:16,colCount:4,bodyPadding:8},_md:{index:2,media:"md",query:"(min-width: 768px) and (max-width: 1023px)",gutter:24,colCount:12,bodyPadding:12},_lg:{index:3,media:"lg",query:"(min-width: 1024px) and (max-width: 1269px)",gutter:24,colCount:12,bodyPadding:12,contentWidth:960},_xl:{index:4,media:"xl",query:"(min-width: 1270px)",gutter:24,colCount:12,bodyPadding:12,contentWidth:1248}};var a=n(9379);const s=(0,a.A)((0,a.A)({},i),{},{_xl:(0,a.A)((0,a.A)({},i._xl),{},{query:"(min-width: 1270px) and (max-width: 1859px)"}),_2xl:(0,a.A)((0,a.A)({},i._xl),{},{index:5,media:"2xl",query:"(min-width: 1860px) and (max-width: 2036px)",colCount:12,contentWidth:1728}),_3xl:(0,a.A)((0,a.A)({},i._xl),{},{index:6,media:"3xl",query:"(min-width: 2037px)",colCount:12,contentWidth:1728})});const l=new(function(){return(0,o.A)((function e(){(0,r.A)(this,e),this.mediaSet=i}),[{key:"add2xl",value:function(){this.mediaSet=s}},{key:"remove2xl",value:function(){this.mediaSet=i}},{key:"isBiggerThanXL",get:function(){return Object.keys(this.mediaSet).length>4}}])}())},712:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2901),o=n(3029),i=n(8250);const a=new((0,r.A)((function e(){var t=this;(0,o.A)(this,e),this.callbacks=new Map,this.addCallback=function(e){var n=t.callbacks.get(e);return n?t.callbacks.set(e,n+1):t.callbacks.set(e,1)},this.removeCallback=function(e){var n=t.callbacks.get(e);n&&(t.callbacks.set(e,n-1),0===t.callbacks.get(e)&&t.callbacks.delete(e))},this.watcher=new i.A,this.watcher.watch((function(e){t.callbacks.forEach((function(t,n){n(e)}))}),{runNow:!0})})))},4519:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(3029),o=n(2901),i=n(388),a=n(2176),s=n(3954),l=n(5501),c=n(4883),u=n(1742),d=n(1289),f=n(712);var h=function(e){function t(e){var n,o,l,c;(0,r.A)(this,t),o=this,l=t,c=[e],l=(0,s.A)(l),(n=(0,i.A)(o,(0,a.A)()?Reflect.construct(l,c||[],(0,s.A)(o).constructor):l.apply(o,c))).mediaChangeCallback=function(e){n.setState({media:e.media})},n.getCurrentComponent=function(){var e=n.props,t=e.sm,r=e.md,o=e.lg,i=e.xl,a=e._2xl,s=e._3xl;n.components={sm:t,md:r,lg:o,xl:i,"2xl":a,"3xl":s},"undefined"===typeof r&&(n.components.md=n.components.sm),"undefined"===typeof o&&(n.components.lg=n.components.md),"undefined"===typeof i&&(n.components.xl=n.components.lg),"undefined"===typeof a&&(n.components["2xl"]=n.components.xl),"undefined"===typeof s&&(n.components["3xl"]=n.components["2xl"]);var l=n.state.media;return n.components[l]};var u=(0,d.A)().media;return n.state={media:u},n}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){(0,u.f)()||f.A.addCallback(this.mediaChangeCallback)}},{key:"componentWillUnmount",value:function(){f.A.removeCallback(this.mediaChangeCallback)}},{key:"render",value:function(){return this.getCurrentComponent()}}])}(c.PureComponent);h.defaultProps={sm:void 0,md:void 0,lg:void 0,xl:void 0,_2xl:void 0,_3xl:void 0};const p=h},7844:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(296),o=n(9379),i=n(4883),a=n(1289),s=n(712),l=function(e){var t=e.index;return(0,o.A)((0,o.A)({},e),{},{isSm:1===t,isMd:2===t,isLg:3===t,isXl:4===t,is2Xl:5===t,is2xl:5===t,is3Xl:6===t,is3xl:6===t,isMobile:1===t||2===t,isSmallerThanMd:t<2,isSmallerThanLg:t<3,isSmallerThanXl:t<4,isSmallerThan2xl:t<5,isSmallerThan3xl:t<6,isLargerThanSm:t>1,isLargerThanMd:t>2,isLargerThanLg:t>3,isLargerThanXl:t>4,isLargerThan2xl:t>5})},c=function(){return l((0,a.A)())};const u=function(){var e=function(){var e=(0,i.useRef)(c),t=e.current();return(0,i.useEffect)((function(){e.current=function(){return t}}),[]),t}(),t=(0,i.useState)(e),n=(0,r.A)(t,2),o=n[0],a=n[1],u=function(e){a(l(e))};return(0,i.useEffect)((function(){return s.A.addCallback(u),function(){s.A.removeCallback(u)}}),[]),o}},4354:(e,t,n)=>{"use strict";n.d(t,{JF:()=>r,eV:()=>o});var r=function(e,t){var n=t||{highPriority:!1},r=n.highPriority,o=n.runTimeout;return new Promise((function(t){var n=function(){t(e())};return r?function(e){"function"===typeof queueMicrotask?queueMicrotask(e):setTimeout(e,1)}(n):function(e,t){"function"===typeof requestIdleCallback?requestIdleCallback(e,{timeout:t}):setTimeout(e,1)}(n,o||300)}))},o=function(){return new Promise((function(e){setTimeout(e,1)}))};n(4883)},1237:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(){var e;if("undefined"!==typeof globalThis)e=globalThis;else if("undefined"!==typeof window)e=window;else{if("undefined"===typeof n.g)throw new Error("unable to locate global object");e=n.g}return e}()},995:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(){var e;if("undefined"!==typeof globalThis)e=globalThis;else if("undefined"!==typeof window)e=window;else{if("undefined"===typeof n.g)throw new Error("unable to locate global object");e=n.g}return e}()},1482:(e,t,n)=>{"use strict";n.d(t,{q:()=>P,A:()=>O});var r=n(9379),o=n(4467),i=n(296),a=n(3986),s=n(4883),l=n.n(s),c=n(792),u=n.n(c),d=n(5314),f=n(5061),h=n(3631),p=n(8174),v=n(7001),g=n(4752),m=n(4820),y=n(3023),b=n(7009),A=n(4316),w=n(8887),_=n(9022),C=n(8437),S=n(6960),k=n(8845);var T=n(8032),x=["fastMode","bidPrice","askPrice","precision","price","limitOrderSide","visible","onClose","onPlaceOrder","className","unit","getQtyMetaInfo","getBuySellLimit","buySellLimitCounter","fullscreen","dragRef"],P={FLOAT:"float",FAST:"fast"},E=[10,20,50,100];function L(e,t){var n=e*parseFloat(t)/100;return Number.isNaN(n)?null:n}var I=l().forwardRef((function(e,t){var n=e.fastMode,l=e.bidPrice,c=e.askPrice,f=e.precision,I=e.price,O=e.limitOrderSide,M=e.visible,N=e.onClose,D=e.onPlaceOrder,B=e.className,F=e.unit,j=e.getQtyMetaInfo,V=e.getBuySellLimit,H=e.buySellLimitCounter,z=(e.fullscreen,e.dragRef),U=(0,a.A)(e,x),W=(0,C.iK)(),K=W.reverseColor,G=W.enablePercentageMarketOrder,q=W.enablePercentageLimitOrder,Y=W.enableDisplayOrderQuantityHint,Z=W.longShortMode,X=W.chartType,J=(0,C.Bv)(),Q=J.activeArea,$=J.orderInputStore,ee=(0,C.OY)(null===Q||void 0===Q?void 0:Q.tickerSymbol),te=ee.symbol,ne=ee.type,re=(0,s.useState)(""),oe=(0,i.A)(re,2),ie=oe[0],ae=oe[1],se=(0,s.useState)(!1),le=(0,i.A)(se,2),ce=le[0],ue=le[1],de=(0,s.useState)(!1),fe=(0,i.A)(de,2),he=fe[0],pe=fe[1],ve=(0,s.useState)(""),ge=(0,i.A)(ve,2),me=ge[0],ye=ge[1],be=(0,s.useState)(!1),Ae=(0,i.A)(be,2),we=Ae[0],_e=Ae[1],Ce=(0,s.useState)(!1),Se=(0,i.A)(Ce,2),ke=Se[0],Te=Se[1],xe=(0,s.useState)(!1),Pe=(0,i.A)(xe,2),Ee=Pe[0],Le=Pe[1],Ie=(0,s.useState)(void 0),Oe=(0,i.A)(Ie,2),Re=Oe[0],Me=Oe[1],Ne=(0,s.useState)(null),De=(0,i.A)(Ne,2),Be=De[0],Fe=De[1],je=(0,s.useState)(null),Ve=(0,i.A)(je,2),He=Ve[0],ze=Ve[1],Ue=(0,s.useState)(null),We=(0,i.A)(Ue,2),Ke=We[0],Ge=We[1],qe=(0,s.useState)(null),Ye=(0,i.A)(qe,2),Ze=Ye[0],Xe=Ye[1],Je=(0,s.useState)(null),Qe=(0,i.A)(Je,2),$e=Qe[0],et=Qe[1],tt=(0,s.useState)(!1),nt=(0,i.A)(tt,2),rt=nt[0],ot=nt[1],it=(0,s.useState)(0),at=(0,i.A)(it,2),st=at[0],lt=at[1],ct=(0,s.useState)(!1),ut=(0,i.A)(ct,2),dt=ut[0],ft=ut[1],ht=(0,s.useRef)(0),pt=n?q:G,vt=pt||Y,gt=pt||Y?F:"",mt=pt&&Ee&&(n?O===S.mn.Buy&&(0,_.Et)(Be)||O===S.mn.Sell&&(0,_.Et)(He):(0,_.Et)(Be)&&(0,_.Et)(He));(0,s.useEffect)((function(){if(!ke){var e=$.buySize||$.sellSize,t=$.buySizePercent||$.sellSizePercent;null!=e?(ue(!1),ae(e.toString())):t&&(ue(!0),ae(t.toString()))}}),[ke,$.sellSize,$.buySize,$.sellSizePercent,$.buySizePercent]),(0,s.useEffect)((function(){var e=!1;if(Ee){ht.current+=1;var t=ht.current;ft(!0),n?setTimeout((function(){e||V(I).then((function(t){var n,r,o,i;!e&&t&&(Fe(t.maxBuyQty),ze(t.maxSellQty),Ge(null!==(n=t.minBuyQty)&&void 0!==n?n:0),Xe(null!==(r=t.minSellQty)&&void 0!==r?r:0),et(Math.min(null!==(o=t.minBuyQty)&&void 0!==o?o:0,null!==(i=t.minSellQty)&&void 0!==i?i:0)))})).catch((function(){})).finally((function(){t===ht.current&&ft(!1)}))}),333):V().then((function(t){var n,r,o,i;!e&&t&&(Fe(t.maxBuyQty),ze(t.maxSellQty),Ge(null!==(n=t.minBuyQty)&&void 0!==n?n:0),Xe(null!==(r=t.minSellQty)&&void 0!==r?r:0),et(Math.min(null!==(o=t.minBuyQty)&&void 0!==o?o:0,null!==(i=t.minSellQty)&&void 0!==i?i:0)))})).catch((function(){})).finally((function(){t===ht.current&&ft(!1)}))}return function(){e=!0}}),[V,H,n,O,I,Ee]);var yt=ce?L(Be,ie):null,bt=ce?L(He,ie):null,At=(0,s.useRef)();(0,s.useLayoutEffect)((function(){ue(!1),ae(""),pe(!1),Te(!1),Me(void 0),Fe(null),ze(null),(0,d.runInAction)((function(){$.sellSize=void 0,$.buySize=void 0,$.sellSizePercent=void 0,$.buySizePercent=void 0}))}),[$,te,M,gt,st]);var wt=function(e,t){var n,r;return e?(n=t?(0,w.tl)("ok_component_okline_trade_input_limit_long"):(0,w.tl)("ok_component_okline_trade_input_market_long"),r=t?(0,w.tl)("ok_component_okline_trade_input_limit_short"):(0,w.tl)("ok_component_okline_trade_input_market_short")):(n=t?(0,w.tl)("ok_component_okline_trade_input_limit_buy"):(0,w.tl)("ok_component_okline_trade_input_market_buy"),r=t?(0,w.tl)("ok_component_okline_trade_input_limit_sell"):(0,w.tl)("ok_component_okline_trade_input_market_sell")),{textBuy:n,textSell:r}}(Z,n),_t=wt.textBuy,Ct=wt.textSell,St=R(l,f),kt=R(c,f),Tt=R(I,f),xt=ie;ce&&(xt=n?O===S.mn.Buy?yt:bt:Math.min(yt,bt)),(0,s.useEffect)((function(){j(te).then((function(e){var t=null===e||void 0===e?void 0:e.step,n=(0,_.Et)(t)?h._u.digitLength(t):void 0;Me(n)})).catch((function(){}))}),[te,j]),(0,s.useEffect)((function(){var e="",t=$e;n&&(O===S.mn.Buy?t=Ke:O===S.mn.Sell&&(t=Ze)),vt&&(0,_.Et)(t)&&(!xt||parseFloat(xt)<parseFloat(t))&&(e=(0,w.tl)("ok_component_okline_trade_input_min_amount_ccy",{minAmt:h._u.thousandFormat(t),ccy:gt})),ye(e)}),[xt,$e,gt,vt,n,O,Ke,Ze]),(0,s.useEffect)((function(){if(ke){var e=!1;if(ce){var t=parseFloat(ie);e||(e=t>100)}pe(e),(0,d.runInAction)((function(){e?($.sellSize=void 0,$.buySize=void 0,$.sellSizePercent=void 0,$.buySizePercent=void 0):ce?($.sellSize=void 0,$.buySize=void 0,$.sellSizePercent=ie,$.buySizePercent=ie):($.sellSize=ie,$.buySize=ie,$.sellSizePercent=void 0,$.buySizePercent=void 0)}))}}),[$,ke,ce,ie]);var Pt=[(0,w.tl)("ok_component_okline_trade_input_amount"),gt?"(".concat(gt,")"):""].filter(Boolean).join(" "),Et=(0,w.tl)("ok_component_okline_trade_input_amount_tip"),Lt=(0,w.tl)("ok_component_okline_trade_input_amount_input"),It=(0,T.jsx)(p.A,{type:K?p.A.TYPE.red:p.A.TYPE.green,className:u()(k.A.orderInputButton,k.A.override),onClick:function(){Bt(S.mn.Buy)},children:(0,T.jsxs)("div",{className:k.A.orderInputButtonContent,children:[(0,T.jsx)("span",{children:_t}),(0,T.jsx)("span",{children:n?Tt:kt})]})}),Ot=ce?3:Re,Rt=(0,T.jsx)(v.A,{rebirthPopper:!0,alwaysUpdatePopper:!0,placement:v.A.DIRECTION.top,maxWidth:"210px",show:(!!me&&!he&&Ee&&!dt||he&&ke)&&!rt&&!we&&M,title:(0,T.jsx)("span",{children:he?Et:me}),className:k.A.orderInputAmount,children:(0,T.jsx)("label",{tabIndex:-1,onFocus:function(){Te(!0)},onBlur:function(){Te(!1)},onWheelCapture:function(e){ke&&e.stopPropagation()},children:(0,T.jsx)(g.A.Number,{className:u()(k.A.orderInputAmountInput,k.A.override,(0,o.A)((0,o.A)({},k.A.focus,ke),k.A.error,ke&&he)),prefix:(0,T.jsx)("div",{className:k.A.orderInputAmountLabel,children:Pt}),innerClassName:u()(k.A.orderInputAmountInputContent,k.A.override),onRef:function(e){At.current=e},tabIndex:0,boxIsFocus:ke,originSize:Lt.length,placeholder:Lt,symbol:ce?"%":void 0,precision:Ot,value:ie,onChange:function(e,t){var n=t.target.value.includes("%"),r=pt&&n,o=e.replace("-","");if(r){var i=Math.min(Math.max(0,parseInt(o,10)),100);o="".concat(i,"%")}ue(r),ae(o)}})})}),Mt=(0,T.jsx)(p.A,{type:K?p.A.TYPE.green:p.A.TYPE.red,className:u()(k.A.orderInputButton,k.A.override),onClick:function(){Bt(S.mn.Sell)},children:(0,T.jsxs)("div",{className:k.A.orderInputButtonContent,children:[(0,T.jsx)("span",{children:Ct}),(0,T.jsx)("span",{children:n?Tt:St})]})}),Nt=null!=yt&&(0,T.jsx)("div",{className:k.A.buySellLabel,children:"\u2248".concat(h._u.roundShort(yt,null!==Re&&void 0!==Re?Re:4,!1)," ").concat(gt)}),Dt=null!=bt&&(0,T.jsx)("div",{className:k.A.buySellLabel,children:"\u2248".concat(h._u.roundShort(bt,null!==Re&&void 0!==Re?Re:4,!1)," ").concat(gt)});return(0,T.jsxs)("div",(0,r.A)((0,r.A)({role:"presentation"},U),{},{ref:t,tabIndex:-1,onFocus:function(e){var t;n&&(e.currentTarget.contains(e.relatedTarget)&&e.relatedTarget!==At.current||setTimeout((function(){var e;null===(e=At.current)||void 0===e||e.focus({preventScroll:!0})}))),e.currentTarget.contains(e.relatedTarget)||Le(!0),null===(t=U.onFocus)||void 0===t||t.call(U,e)},onBlur:function(e){var t;e.currentTarget.contains(e.relatedTarget)||Le(!1),null===(t=U.onBlur)||void 0===t||t.call(U,e)},onKeyUp:function(e){"Escape"===e.key&&(e.target.blur(),lt((function(e){return e+1})))},className:u()(B,k.A.orderInput,(0,o.A)((0,o.A)({},k.A.visible,M),k.A.fastMode,n)),onContextMenu:function(e){e.preventDefault()},onSubmit:function(e){e.preventDefault(),n&&Bt(O)},children:[(0,T.jsxs)("div",{className:k.A.orderInputMain,children:[(0,T.jsx)("div",{role:"presentation",ref:z,className:u()(k.A.orderInputControl,k.A.orderInputDrag),onMouseDown:function(){ot(!0)},onMouseUp:function(){ot(!1)},onTouchStart:function(){ot(!0)},onTouchEnd:function(){ot(!1)},children:(0,T.jsx)("i",{className:u()("iconfont","okx-candle-chart-icon-drag")})}),!n&&It,Rt,n&&O===S.mn.Buy&&It,(!n||O===S.mn.Sell)&&Mt,(0,T.jsx)(m.A,{className:u()(k.A.orderInputControl,k.A.orderInputClose),onClick:function(){null===N||void 0===N||N()},onMouseDown:function(){_e(!0);var e=function(){document.removeEventListener("mouseup",e),_e(!1)};document.addEventListener("mouseup",e)},children:(0,T.jsx)("i",{className:u()("iconfont","okds-close")})})]}),(0,T.jsx)("div",{className:u()(k.A.orderInputPanel,(0,o.A)((0,o.A)({},k.A.visible,mt&&!we),k.A.disableAnimation,n&&!Ee)),children:(0,T.jsxs)("div",{className:k.A.orderInputPanelContent,children:[!n&&(0,T.jsx)("div",{className:k.A.buySellLabels,children:Nt}),(0,T.jsx)("div",{className:k.A.amountLabels,children:E.map((function(e){var t=function(){var t;ue(!0),ae(e),null===(t=At.current)||void 0===t||t.focus({preventScroll:!0})};return(0,T.jsx)(m.A,{tabIndex:0,className:k.A.amountLabel,onKeyUp:function(e){"Enter"===e.key&&t()},onClick:function(){t()},children:h._u.showTruncation(e,0,{style:"percent"})},e)}))}),(0,T.jsxs)("div",{className:k.A.buySellLabels,children:[n&&O===S.mn.Buy&&Nt,(!n||O===S.mn.Sell)&&Dt]})]})})]}));function Bt(e){var t;if(ie&&!he){if((!n||I)&&(e===S.mn.Buy?(0,b.SdR)({chart_type:X.toLowerCase(),terminal:"web",order_type:void 0,position_type:void 0,biz_type:void 0,switch_status:void 0,tool_type:n?A.nP.orderInputQuickOrder:A.nP.orderInputFloatingWindow,button_name:n?A.qo.QUICK_ORDER_BUY:A.qo.FLOATING_MARKET_BUY}):(0,b.SdR)({chart_type:X.toLowerCase(),terminal:"web",order_type:void 0,position_type:void 0,biz_type:void 0,switch_status:void 0,tool_type:n?A.nP.orderInputQuickOrder:A.nP.orderInputFloatingWindow,button_name:n?A.qo.QUICK_ORDER_SELL:A.qo.FLOATING_MARKET_SELL}),D)){te&&ne&&(0,y.Hd)({crypto:te,instrument:A.jb[ne]});var r=n?P.FAST:P.FLOAT,o=n?S.ZN.Limit:S.ZN.Market,i=n?Number(h._u.truncate(I,f)):void 0,a=Number(ie),s=null;ce&&(a=e===S.mn.Buy?yt:bt,s=parseFloat(ie)),D({type:r,params:{symbol:te,type:o,side:e,qty:a,qtyRatio:s,limitPrice:i}})}}else null===(t=At.current)||void 0===t||t.focus({preventScroll:!0})}}));const O=(0,f.observer)(I);function R(e,t){return"number"!==typeof e||Number.isNaN(e)?"--":"number"===typeof t?h._u.showTruncation(e,t):h._u.thousandFormat(e)}},5851:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(9379),o=n(4467),i=n(3986),a=n(3029),s=n(2901),l=n(388),c=n(2176),u=n(3954),d=n(5501),f=n(4883),h=n.n(f),p=n(1845),v=n.n(p),g=n(792),m=n.n(g),y=n(519),b=n(4820),A=n(8656);const w="scroll-Lw3Ck",_="scrollContent-jyi38",C="vertical-XxU3q",S="horizontal-T25ic",k="arrowButton-zsxFQ",T="alwaysShowArrow-lCyNy",x="arrowButtonLeft-Lb9Xe",P="arrowButtonRight-c6LEd",E="arrowButtonTop-mnVTN",L="arrowButtonBottom-AjtYI";var I=n(8032),O=["vertical","threshold","alwaysShowArrow","scrollableClassName","scrollableRef","onResize"];var R=function(e){function t(){var e,n,r,o;(0,a.A)(this,t);for(var i=arguments.length,s=new Array(i),d=0;d<i;d++)s[d]=arguments[d];return n=this,r=t,o=[].concat(s),r=(0,u.A)(r),(e=(0,l.A)(n,(0,c.A)()?Reflect.construct(r,o||[],(0,u.A)(n).constructor):r.apply(n,o))).scrollableRef=h().createRef(),e.resizeObserver=void 0,e.mutationObserver=void 0,e.state={leftButton:!1,rightButton:!1,topButton:!1,bottomButton:!1},e.updateScroll=function(){if(e.scrollableRef.current){var t=e.props,n=t.vertical,r=t.threshold,o=void 0===r?0:r,i=e.scrollableRef.current,a=i.clientWidth,s=i.clientHeight,l=i.scrollTop,c=i.scrollLeft,u=i.scrollWidth,d=i.scrollHeight,f=l>o,h=d-(l+s)>o,p=c>o,g=u-(c+a)>o;f&&(f=!!n),h&&(h=!!n),p&&(p=!n),g&&(g=!n),e.state.topButton===f&&e.state.bottomButton===h&&e.state.leftButton===p&&e.state.rightButton===g||v().flushSync((function(){e.setState({topButton:f,bottomButton:h,leftButton:p,rightButton:g})}))}},e.scrollTo=function(t,n){var r;null===(r=e.scrollableRef.current)||void 0===r||r.scrollTo({behavior:"smooth",top:n,left:t})},e}return(0,d.A)(t,e),(0,s.A)(t,[{key:"componentDidMount",value:function(){var e=this;window.ResizeObserver&&(this.resizeObserver=new window.ResizeObserver((function(){var t,n;null===(t=(n=e.props).onResize)||void 0===t||t.call(n),e.updateScroll()}))),window.MutationObserver&&(this.mutationObserver=new window.MutationObserver((function(t){var n,r,o=!0;(t.forEach((function(t){"childList"===t.type&&(Array.from(t.addedNodes).forEach((function(t){var n;t.nodeType===t.ELEMENT_NODE&&(null===(n=e.resizeObserver)||void 0===n||n.observe(t))})),Array.from(t.removedNodes).forEach((function(t){var n;t.nodeType===t.ELEMENT_NODE&&(null===(n=e.resizeObserver)||void 0===n||n.unobserve(t))})),o&&(o=0===t.addedNodes.length))})),o)&&(null===(n=(r=e.props).onResize)||void 0===n||n.call(r),e.updateScroll())})));var t,n,r=this.scrollableRef.current;r&&(null===(t=this.resizeObserver)||void 0===t||t.observe(r),Array.from(r.children).forEach((function(t){var n;null===(n=e.resizeObserver)||void 0===n||n.observe(t)})),null===(n=this.mutationObserver)||void 0===n||n.observe(r,{childList:!0}))}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(t=this.mutationObserver)||void 0===t||t.disconnect()}},{key:"render",value:function(){var e=this,t=this.props,n=t.vertical,a=(t.threshold,t.alwaysShowArrow),s=t.scrollableClassName,l=t.scrollableRef,c=(t.onResize,(0,i.A)(t,O)),u=this.state,d=u.leftButton,f=u.rightButton,h=u.topButton,p=u.bottomButton;return(0,I.jsxs)("div",(0,r.A)((0,r.A)({},c),{},{className:m()(c.className,w,(0,o.A)((0,o.A)((0,o.A)({},T,A.Fr||a),C,n),S,!n)),children:[(0,I.jsx)("div",{ref:function(t){e.scrollableRef.current=t,"function"==typeof l?l(t):null!=l&&(l.current=t)},className:m()(_,s),onScroll:this.updateScroll,children:this.props.children}),(d||h)&&(0,I.jsx)(b.A,{className:m()(k,(0,o.A)((0,o.A)({},x,d),E,h)),onClick:function(){e.scrollTo(0,0)},children:(0,I.jsx)("i",{className:m()("iconfont",{"okds-arrow-chevron-right-centered-sm":y.A.isRTL&&d,"okds-arrow-chevron-left-centered-sm":!y.A.isRTL&&d,"okds-arrow-chevron-up-sm":h})})}),(f||p)&&(0,I.jsx)(b.A,{className:m()(k,(0,o.A)((0,o.A)({},P,f),L,p)),onClick:function(){f?e.scrollTo(9999,0):e.scrollTo(0,9999)},children:(0,I.jsx)("i",{className:m()("iconfont",{"okds-arrow-chevron-left-centered-sm":y.A.isRTL&&f,"okds-arrow-chevron-right-centered-sm":!y.A.isRTL&&f,"okds-arrow-chevron-down-sm":p})})})]}))}}])}(h().Component)},4687:(e,t,n)=>{"use strict";n.d(t,{HF:()=>k,MD:()=>E,Tn:()=>_,gj:()=>T,rI:()=>S,uQ:()=>L});var r=n(9379),o=n(9719),i=n(1742),a=n(1357),s=n(2658),l=n(8656),c=n(7544),u=n(1029),d=n(3891),f=n(946),h=n(6687),p=n(2006),v=n(1350);function g(e,t){var n=t;return(0,i.f)()||(n=localStorage.getItem(e)||t),n}var m=g("default_chart_type",l.Fr?u.N.Original:u.N.TradingView),y=g("default_layout",d.P.Layout1A),b=g("default_symbol_type",f.r3.Spot),A=g("default_symbol","BTC-USDT"),w=g("default_ticker_symbol","SPOT:BTC-USDT"),_=g("default_resolution","15m"),C=g("default_price_type",f.SJ.LastPrice);function S(){return[{stretchFactor:1e3,isMain:!0,indicators:[]}]}function k(){return{symbolType:b,symbol:A,tickerSymbol:w,resolution:_,period:_,priceType:C,chartStyle:c.K.Candles,barSpacing:v.X.barSpacing,mainLegendFold:!1,panes:[{stretchFactor:1e3,isMain:!0,indicators:[]}]}}var T=function(){return{symbol:{candle:{body:{checked:!0,upColor:null,downColor:null},border:{checked:!0,upColor:null,downColor:null},wicks:{checked:!0,upColor:null,downColor:null}}},scales:{countdown:{checked:!0},depthChart:{checked:!0},crosshairPriceChange:{checked:!0},lastPriceLine:{checked:!0,color:null,lineStyle:a.S.Dashed}},appearance:{focusOnClick:!1,bgColor:{type:h.vz.solid,colors:[null,null]},gridLines:{type:h.b9.cross,colors:[null,null]},crosshair:{checked:!0,color:null,lineStyle:a.S.Dashed}},events:{futureEvents:{checked:!0},pastEvents:{checked:!1}}}};var x=function(){return{mainIndics:{VOLUME:{VOL:{color:"#656565"},MA1:{color:"#E64C7D"},MA2:{color:"#F7B715"}},MA:{MA1:{color:"#E64C7D"},MA2:{color:"#F7B715"},MA3:{color:"#D051DA"},MA4:{color:"#38BCAF"},MA5:{color:"#CB7554"},MA6:{color:"#9BD75A"}},EMA:{EMA1:{color:"#E64C7D"},EMA2:{color:"#F7B715"},EMA3:{color:"#D051DA"},EMA4:{color:"#38BCAF"},EMA5:{color:"#CB7554"},EMA6:{color:"#9BD75A"}},BOLL:{BOLL:{color:"#000000"},UB:{color:"#F7B715"},LB:{color:"#F7B715"},Background:{color:"rgba(247, 183, 21, 0.08)"}},SAR:{SAR:{color:"#38BCAF"}},Index:{Index:{color:"#9BD75A"}}},deputyIndics:{BOLL:{BOLL:{color:"#000000"},UB:{color:"#F7B715"},LB:{color:"#F7B715"},Background:{color:"rgba(247, 183, 21, 0.08)"}},SAR:{SAR:{color:"#38BCAF"}},OI:{OI:{color:"#39A0FC"}},TopLSAcc:{Ratio:{color:"#F5AD26"},NetLong:{color:"#4FBA25"},NetShort:{color:"#C64DD3"}},TopLSPos:{Ratio:{color:"#F5AD26"},NetLong:{color:"#4FBA25"},NetShort:{color:"#C64DD3"}},LSAcc:{Ratio:{color:"#F5AD26"},NetLong:{color:"#4FBA25"},NetShort:{color:"#C64DD3"}},TakerBS:{TakerBuyVol:{color:"#4FBA25"},TakerSellVol:{color:"#C64DD3"}},VOLUME:{VOL:{color:"#656565"},MA1:{color:"#E64C7D"},MA2:{color:"#F7B715"}},MACD:{DIF:{color:"#E64C7D"},DEA:{color:"#F7B715"},MACD:{color:"#656565"}},KDJ:{K:{color:"#E64C7D"},D:{color:"#F7B715"},J:{color:"#D051DA"}},SKDJ:{K:{color:"#E64C7D"},D:{color:"#F7B715"}},StochRSI:{STOCHRSI:{color:"#E64C7D"},MASTOCHRSI:{color:"#F7B715"}},RSI:{RSI1:{color:"#E64C7D"},RSI2:{color:"#F7B715"},RSI3:{color:"#D051DA"},UB:{color:"#2962FF"},LB:{color:"#2962FF"},Background:{color:"rgba(41, 98, 255, 0.08)"}},DMI:{PDI:{color:"#E64C7D"},MDI:{color:"#F7B715"},ADX:{color:"#D051DA"},ADXR:{color:"#38BCAF"}},OBV:{OBV:{color:"#E64C7D"},MAOBV:{color:"#F7B715"}},DMA:{DIF:{color:"#E64C7D"},DIFMA:{color:"#F7B715"}},TRIX:{TRIX:{color:"#E64C7D"},MATRIX:{color:"#F7B715"}},BRAR:{BR:{color:"#E64C7D"},AR:{color:"#F7B715"}},VR:{VR:{color:"#E64C7D"},MAVR:{color:"#F7B715"}},EMV:{EMV:{color:"#E64C7D"},MAEMV:{color:"#F7B715"}},WR:{WR1:{color:"#E64C7D"},WR2:{color:"#F7B715"}},ROC:{ROC:{color:"#E64C7D"},MAROC:{color:"#F7B715"}},MTM:{MTM:{color:"#E64C7D"},MAMTM:{color:"#F7B715"}},PSY:{PSY:{color:"#E64C7D"},MAPSY:{color:"#F7B715"}},CCI:{CCI:{color:"#E64C7D"},MACCI:{color:"#F7B715"}}}}},P=function(){return{mainIndics:{VOLUME:{VOL:{color:"#FFFFFF"},MA1:{color:"#FFFFFF"},MA2:{color:"#F7B715"}},MA:{MA1:{color:"#FFFFFF"},MA2:{color:"#F7B715"},MA3:{color:"#D051DA"},MA4:{color:"#38BCAF"},MA5:{color:"#CB7554"},MA6:{color:"#9BD75A"}},EMA:{EMA1:{color:"#FFFFFF"},EMA2:{color:"#F7B715"},EMA3:{color:"#D051DA"},EMA4:{color:"#38BCAF"},EMA5:{color:"#CB7554"},EMA6:{color:"#9BD75A"}},BOLL:{BOLL:{color:"#FFFFFF"},UB:{color:"#F7B715"},LB:{color:"#F7B715"},Background:{color:(0,p.fO)("#F7B715",.08)}},SAR:{SAR:{color:"#38BCAF"}},Index:{Index:{color:"#9BD75A"}}},deputyIndics:{BOLL:{BOLL:{color:"#FFFFFF"},UB:{color:"#F7B715"},LB:{color:"#F7B715"},Background:{color:(0,p.fO)("#F7B715",.08)}},SAR:{SAR:{color:"#38BCAF"}},OI:{OI:{color:"#39A0FC"}},TopLSAcc:{Ratio:{color:"#F5AD26"},NetLong:{color:"#4FBA25"},NetShort:{color:"#C64DD3"}},TopLSPos:{Ratio:{color:"#F5AD26"},NetLong:{color:"#4FBA25"},NetShort:{color:"#C64DD3"}},LSAcc:{Ratio:{color:"#F5AD26"},NetLong:{color:"#4FBA25"},NetShort:{color:"#C64DD3"}},TakerBS:{TakerBuyVol:{color:"#4FBA25"},TakerSellVol:{color:"#C64DD3"}},VOLUME:{VOL:{color:"#FFFFFF"},MA1:{color:"#FFFFFF"},MA2:{color:"#F7B715"}},MACD:{DIF:{color:"#FFFFFF"},DEA:{color:"#F7B715"},MACD:{color:"#FFFFFF"}},KDJ:{K:{color:"#FFFFFF"},D:{color:"#F7B715"},J:{color:"#D051DA"}},SKDJ:{K:{color:"#FFFFFF"},D:{color:"#F7B715"}},StochRSI:{STOCHRSI:{color:"#FFFFFF"},MASTOCHRSI:{color:"#F7B715"}},RSI:{RSI1:{color:"#FFFFFF"},RSI2:{color:"#F7B715"},RSI3:{color:"#D051DA"},UB:{color:"#2962FF"},LB:{color:"#2962FF"},Background:{color:"rgba(41, 98, 255, 0.08)"}},DMI:{PDI:{color:"#FFFFFF"},MDI:{color:"#F7B715"},ADX:{color:"#D051DA"},ADXR:{color:"#38BCAF"}},OBV:{OBV:{color:"#FFFFFF"},MAOBV:{color:"#F7B715"}},DMA:{DIF:{color:"#FFFFFF"},DIFMA:{color:"#F7B715"}},TRIX:{TRIX:{color:"#FFFFFF"},MATRIX:{color:"#F7B715"}},BRAR:{BR:{color:"#FFFFFF"},AR:{color:"#F7B715"}},VR:{VR:{color:"#FFFFFF"},MAVR:{color:"#F7B715"}},EMV:{EMV:{color:"#FFFFFF"},MAEMV:{color:"#F7B715"}},WR:{WR1:{color:"#FFFFFF"},WR2:{color:"#F7B715"}},ROC:{ROC:{color:"#FFFFFF"},MAROC:{color:"#F7B715"}},MTM:{MTM:{color:"#FFFFFF"},MAMTM:{color:"#F7B715"}},PSY:{PSY:{color:"#FFFFFF"},MAPSY:{color:"#F7B715"}},CCI:{CCI:{color:"#FFFFFF"},MACCI:{color:"#F7B715"}}}}};function E(e){return e===o.zG.light?x():P()}function L(e){return(0,r.A)((0,r.A)({},{theme:o.zG.dark,chartType:m,layout:y,collectPeriods:["line","1s","1m","5m","15m","1H","4H"],trade:{floatOrderInputEnabled:!0,crosshairOrderBtnEnabled:!0,showOrderLine:!0,orderLineQuickAttachTpSl:!0,orderLineValueDisplayType:s.B.Pnl,orderLinePosition:"right",orderHorzLineVisible:!0,orderLineQuicklyChange:!1,showPositionLine:!0,positionLinePosition:"left",positionHorzLineVisible:!0,positionLineQuicklyTPSL:!1,positionLineCloseAll:!1,showOrderRecord:!0},chartSetting:T(),drawing:{toolbarSwitch:!1},areas:[k()]}),{},{theme:e})}},1350:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r={rightOffset:10,barSpacing:6}},2332:(e,t,n)=>{"use strict";n.d(t,{Nt:()=>a,Rh:()=>i,yc:()=>o});var r=n(519);function o(){return"zh_CN"===(r.A.locale||"")}function i(){return r.A.simulatedTrading}function a(){return r.A.cdnBaseUrl||""}},1529:(e,t,n)=>{"use strict";n.d(t,{GLk:()=>w,IGF:()=>p,IMR:()=>P,KBR:()=>v,LI4:()=>l,LgA:()=>x,Oz2:()=>I,RTk:()=>S,UUx:()=>u,Uq8:()=>m,VKP:()=>T,Vlc:()=>R,WT8:()=>N,_4n:()=>O,_DV:()=>k,_Nb:()=>L,cbX:()=>f,fh_:()=>E,g9b:()=>d,gsY:()=>y,jPA:()=>b,jgR:()=>A,juA:()=>i,kSZ:()=>s,ku_:()=>h,pDS:()=>a,rzH:()=>c,so2:()=>C,uzW:()=>_,wPD:()=>D,x$2:()=>M,xoF:()=>g});var r={act:function(e){console.error("[monitor.js][act][".concat(null===e||void 0===e?void 0:e.action,"] monitor not init yet "))},triggerReportDuration:function(){}};if("undefined"!==typeof window)try{r=window.utils.monitor.newInstance({product:"basic_trading",commonParams:{}})}catch(B){console.error("[monitor.js][newInstance] monitor error",B)}var o=r,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plus,n=e.minus,r=e.multiply,i=e.divide,a=e.pair;o.act({action:"Chart_CustomFormula_OperationStatus_Click",anchor:"Chart_CustomFormula_OperationStatus_Click",params:{plus:t,minus:n,multiply:r,divide:i,pair:a},actionType:"",elementType:"",ampProject:"okx"})},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.biz_type,n=e.button_name;o.act({action:"Trade_AlertSetting_FullPage_Click",anchor:"Trade_AlertSetting_FullPage_Click",params:{biz_type:t,button_name:n},actionType:"",elementType:"",ampProject:"okx"})},s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).biz_type;o.act({action:"Trade_Top_Alert_Click",anchor:"Trade_Top_Alert_Click",params:{biz_type:e},actionType:"",elementType:"",ampProject:"okx"})},l=function(){o.act({action:"MultiChart_Diversion_Line_Drag",anchor:"MultiChart_Diversion_Line_Drag",params:{},actionType:"",elementType:"",ampProject:"okx"})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chart_type,n=e.loading_time,r=e.button_click,i=e.progress;o.act({action:"KLine_Banner_LoadingTime_Click",anchor:"KLine_Banner_LoadingTime_Click",params:{chart_type:t,loading_time:n,button_click:r,progress:i},actionType:"",elementType:"",ampProject:"okx"})},u=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).advanced_functions;o.act({action:"Chart_AdvancedFunctions_EntryButton_Click",anchor:"Chart_AdvancedFunctions_EntryButton_Click",params:{advanced_functions:e},actionType:"",elementType:"",ampProject:"okx"})},d=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).entry_point;o.act({action:"PriceAlert_Top_Manage_Click",anchor:"PriceAlert_Top_Manage_Click",params:{entry_point:e},actionType:"",elementType:"",ampProject:"okx"})},f=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).button_name;o.act({action:"ChartTrade_SidePanel_FunctionalButtons_Click",anchor:"ChartTrade_SidePanel_FunctionalButtons_Click",params:{button_name:e},actionType:"",elementType:"",ampProject:"okx"})},h=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).chart_type;o.act({action:"PlaceOrder_Chart_DateRedirection_Click",anchor:"PlaceOrder_Chart_DateRedirection_Click",params:{chart_type:e},actionType:"",elementType:"",ampProject:"okx"})},p=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).action;o.act({action:"KLine_UndoRedo_Button_Click",anchor:"KLine_UndoRedo_Button_Click",params:{action:e},actionType:"",elementType:"",ampProject:"okx"})},v=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).button_name;o.act({action:"Trade_Chart_RightClickMenu_Click",anchor:"Trade_Chart_RightClickMenu_Click",params:{button_name:e},actionType:"",elementType:"",ampProject:"okx"})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.button_type,n=e.chart_type;o.act({action:"PlaceOrder_Chart_PaneControlButton_Click",anchor:"PlaceOrder_Chart_PaneControlButton_Click",params:{button_type:t,chart_type:n},actionType:"",elementType:"",ampProject:"okx"})},m=function(){o.act({action:"PriceAlert_AllAlerts_Page_View",anchor:"PriceAlert_AllAlerts_Page_View",params:{},actionType:"",elementType:"",ampProject:"okx"})},y=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).button_name;o.act({action:"Trade_Chart_Header_Click",anchor:"Trade_Chart_Header_Click",params:{button_name:e},actionType:"",elementType:"",ampProject:"okx"})},b=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).function_shortcut;o.act({action:"PlaceOrder_Full_KeyboardShortcuts_Click",anchor:"PlaceOrder_Full_KeyboardShortcuts_Click",params:{function_shortcut:e},actionType:"",elementType:"",ampProject:"okx"})},A=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sound_name;o.act({action:"PriceAlert_Settings_Sounds_Click",anchor:"PriceAlert_Settings_Sounds_Click",params:{sound_name:e},actionType:"",elementType:"",ampProject:"okx"})},w=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).timeframe_selected;o.act({action:"Chart_CustomTimeframe_Button_Click",anchor:"Chart_CustomTimeframe_Button_Click",params:{timeframe_selected:e},actionType:"",elementType:"",ampProject:"okx"})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chart_type,n=e.tab_type,r=e.platform;o.act({action:"KLine_TimeTool_Popup_View",anchor:"KLine_TimeTool_Popup_View",params:{chart_type:t,tab_type:n,platform:r},actionType:"",elementType:"",ampProject:"okx"})},C=function(){o.act({action:"Chart_CustomTimeframe_EntryButton_Click",anchor:"Chart_CustomTimeframe_EntryButton_Click",params:{},actionType:"",elementType:"",ampProject:"okx"})},S=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pair;o.act({action:"Chart_Comparison_OperationStatus_Click",anchor:"Chart_Comparison_OperationStatus_Click",params:{pair:e},actionType:"",elementType:"",ampProject:"okx"})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.synchronization_option,n=e.chart_type;o.act({action:"Chart_MultiLayout_Synchronization_Click",anchor:"Chart_MultiLayout_Synchronization_Click",params:{synchronization_option:t,chart_type:n},actionType:"",elementType:"",ampProject:"okx"})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chart_type,n=e.tab_type,r=e.button_click,i=e.platform;o.act({action:"KLine_TimeTool_Popup_Click",anchor:"KLine_TimeTool_Popup_Click",params:{chart_type:t,tab_type:n,button_click:r,platform:i},actionType:"",elementType:"",ampProject:"okx"})},x=function(){o.act({action:"KLineSettings_Colour_Button_Click",anchor:"KLineSettings_Colour_Button_Click",params:{},actionType:"",elementType:"",ampProject:"okx"})},P=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layout_type;o.act({action:"PlaceOrder_Chart_Layout_Click",anchor:"PlaceOrder_Chart_Layout_Click",params:{layout_type:e},actionType:"",elementType:"",ampProject:"okx"})},E=function(){o.act({action:"Chart_MarketCap_Chart_Click",anchor:"Chart_MarketCap_Chart_Click",params:{},actionType:"",elementType:"",ampProject:"okx"})},L=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).button_name;o.act({action:"Chart_Pop_RiskReward_Click",anchor:"Chart_Pop_RiskReward_Click",params:{button_name:e},actionType:"",elementType:"",ampProject:"okx"})},I=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).entry_point;o.act({action:"PriceAlert_EditSheet_Save_Click",anchor:"PriceAlert_EditSheet_Save_Click",params:{entry_point:e},actionType:"",elementType:"",ampProject:"okx"})},O=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).economic_events;o.act({action:"Chart_Calendar_Icon_Click",anchor:"Chart_Calendar_Icon_Click",params:{economic_events:e},actionType:"",elementType:"",ampProject:"okx"})},R=function(){o.act({action:"AssetTrading_Chart_Webhook_Click",anchor:"AssetTrading_Chart_Webhook_Click",params:{},actionType:"",elementType:"",ampProject:"okx"})},M=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).click_type;o.act({action:"KLine_Chart_PriceAmount_Click",anchor:"KLine_Chart_PriceAmount_Click",params:{click_type:e},actionType:"",elementType:"",ampProject:"okx"})},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.button_name,n=e.terminal;o.act({action:"Chart_DrawingTool_TemplatePop_Click",anchor:"Chart_DrawingTool_TemplatePop_Click",params:{button_name:t,terminal:n},actionType:"",elementType:"",ampProject:"okx"})},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chart_type,n=e.button_click;o.act({action:"KLine_Banner_LoadingError_Click",anchor:"KLine_Banner_LoadingError_Click",params:{chart_type:t,button_click:n},actionType:"",elementType:"",ampProject:"okx"})}},3023:(e,t,n)=>{"use strict";n.d(t,{Hd:()=>l,LO:()=>h,Ql:()=>f,R0:()=>c,VM:()=>v,XE:()=>d,cc:()=>y,dD:()=>g,eA:()=>p,o2:()=>m,t:()=>u,vb:()=>b});var r={act:function(){}};if("undefined"!==typeof window){var o=window.utils.monitor,i=(window._okGlobal||window.okGlobal).site,a=(void 0===i?{}:i).sign,s=void 0===a?"okex":a;r=o.newInstance({site:s.toLocaleLowerCase(),product:"kln",commonParams:{}})}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.crypto,n=e.instrument;r.act({action:"web_trade_chart_trade_button_click",anchor:"web_trade_chart_trade_button_click",params:{crypto:t,instrument:n},actionType:"Click",elementType:"Click",extras:{isSyncAMP:!1}})},c=function(){r.act({action:"web_trade_kline_timeframe_dropdown_edit_click",anchor:"web_trade_kline_timeframe_dropdown_edit_click",params:{},actionType:"Click",elementType:"Click",extras:{isSyncAMP:!1}})},u=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).chart_type;r.act({action:"web_trade_kline_chart_type_show",anchor:"web_trade_kline_chart_type_show",params:{chart_type:e},actionType:"",elementType:"",extras:{isSyncAMP:!1}})},d=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).price_type;r.act({action:"web_trade_kline_price_type_click",anchor:"web_trade_kline_price_type_click",params:{price_type:e},actionType:"Click",elementType:"Click",extras:{isSyncAMP:!1}})},f=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).price_type;r.act({action:"web_trade_kline_price_type_show",anchor:"web_trade_kline_price_type_show",params:{price_type:e},actionType:"Show",elementType:"Show",extras:{isSyncAMP:!1}})},h=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).button;r.act({action:"web_trade_kline_indicator_button_click",anchor:"web_trade_kline_indicator_button_click",params:{button:e},actionType:"Click",elementType:"Click",extras:{isSyncAMP:!1}})},p=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).indicator_option;r.act({action:"web_trade_kline_indicator_option_click",anchor:"web_trade_kline_indicator_option_click",params:{indicator_option:e},actionType:"Click",elementType:"Click",extras:{isSyncAMP:!1}})},v=function(){r.act({action:"web_trade_kline_indicator_option_show",anchor:"web_trade_kline_indicator_option_show",params:{},actionType:"Show",elementType:"Show",extras:{isSyncAMP:!1}})},g=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).chart_form;r.act({action:"web_trade_kline_chart_form_type_show",anchor:"web_trade_kline_chart_form_type_show",params:{chart_form:e},actionType:"Show",elementType:"Show",extras:{isSyncAMP:!1}})},m=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).chart_form;r.act({action:"web_trade_kline_chart_form_type_click",anchor:"web_trade_kline_chart_form_type_click",params:{chart_form:e},actionType:"Click",elementType:"Click",extras:{isSyncAMP:!1}})},y=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).timeframe;r.act({action:"web_trade_kline_timeframe_option_show",anchor:"web_trade_kline_timeframe_option_show",params:{timeframe:e},actionType:"Show",elementType:"Show",extras:{isSyncAMP:!1}})},b=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).timeframe;r.act({action:"web_trade_kline_timeframe_option_click",anchor:"web_trade_kline_timeframe_option_click",params:{timeframe:e},actionType:"Click",elementType:"Click",extras:{isSyncAMP:!1}})}},7009:(e,t,n)=>{"use strict";n.d(t,{A61:()=>g,Bfd:()=>b,G4W:()=>v,Hcx:()=>m,HkO:()=>s,SdR:()=>d,bgG:()=>h,bpI:()=>u,e2V:()=>c,jQ2:()=>y,kLh:()=>p,o_0:()=>l,rst:()=>a,sMf:()=>i,wtL:()=>f});var r={act:function(e){console.error("[monitor.js][act][".concat(null===e||void 0===e?void 0:e.action,"] monitor not init yet "))},triggerReportDuration:function(){}};if("undefined"!==typeof window)try{r=window.utils.monitor.newInstance({product:"market_nfo",commonParams:{}})}catch(A){console.error("[monitor.js][newInstance] monitor error",A)}var o=r,i=function(){o.act({action:"KLine_Chart_DeletePriceAlert_Click",anchor:"KLine_Chart_DeletePriceAlert_Click",params:{},actionType:"",elementType:"",ampProject:"okx"})},a=function(){o.act({action:"KLine_Chart_CreatePriceAlert_Click",anchor:"KLine_Chart_CreatePriceAlert_Click",params:{},actionType:"",elementType:"",ampProject:"okx"})},s=function(){o.act({action:"PriceAlert_AddAlert_PositiveSlider_Click",anchor:"PriceAlert_AddAlert_PositiveSlider_Click",params:{},actionType:"",elementType:"",ampProject:"okx"})},l=function(){o.act({action:"PriceAlert_AddAlert_PositiveNegativeSlider_Click",anchor:"PriceAlert_AddAlert_PositiveNegativeSlider_Click",params:{},actionType:"",elementType:"",ampProject:"okx"})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_indicator_type,n=e.status,r=e.web_indicator_type,i=e.chart_type,a=e.terminal,s=e.chart_layout;o.act({action:"KLine_IndicatorPop_Button_Click",anchor:"KLine_IndicatorPop_Button_Click",params:{app_indicator_type:t,status:n,web_indicator_type:r,chart_type:i,terminal:a,chart_layout:s},actionType:"",elementType:"",ampProject:"okx"})},u=function(){o.act({action:"KLine_Chart_PriceAlertLine_Drag",anchor:"KLine_Chart_PriceAlertLine_Drag",params:{},actionType:"",elementType:"",ampProject:"okx"})},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tool_type,n=e.button_name,r=e.chart_type,i=e.order_type,a=e.position_type,s=e.biz_type,l=e.switch_status,c=e.terminal;o.act({action:"PlaceOrder_Kline_TradeTools_Click",anchor:"PlaceOrder_Kline_TradeTools_Click",params:{tool_type:t,button_name:n,chart_type:r,order_type:i,position_type:a,biz_type:s,switch_status:l,terminal:c},actionType:"",elementType:"",ampProject:"okx"})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_drawing_tool_type,n=e.terminal,r=e.chart_type,i=e.web_drawing_tool_type,a=e.chart_layout;o.act({action:"KLine_DrawingToolSidebar_Button_Click",anchor:"KLine_DrawingToolSidebar_Button_Click",params:{app_drawing_tool_type:t,terminal:n,chart_type:r,web_drawing_tool_type:i,chart_layout:a},actionType:"",elementType:"",ampProject:"okx"})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.indicator_type,n=e.parameter_type,r=e.checkbox_status,i=e.parameter_value,a=e.line_width,s=e.color_type,l=e.indicator_position;o.act({action:"Chart_IndicatorSettingPop_Edit_Submit",anchor:"Chart_IndicatorSettingPop_Edit_Submit",params:{indicator_type:t,parameter_type:n,checkbox_status:r,parameter_value:i,line_width:a,color_type:s,indicator_position:l},actionType:"",elementType:"",ampProject:"okx"})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=e.chart_location,r=e.chart_type,i=e.terminal,a=e.action_area,s=e.chart_layout;o.act({action:"KLine_Mid_Chart_Interact",anchor:"KLine_Mid_Chart_Interact",params:{action:t,chart_location:n,chart_type:r,terminal:i,action_area:a,chart_layout:s},actionType:"",elementType:"",ampProject:"okx"})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chart_layout,n=e.setting_option,r=e.button_name,i=e.chart_type,a=e.terminal,s=e.status,l=e.chart_settings,c=e.function_switch,u=e.switch_status;o.act({action:"KLine_ChartSetting_Button_Click",anchor:"KLine_ChartSetting_Button_Click",params:{chart_layout:t,setting_option:n,button_name:r,chart_type:i,terminal:a,status:s,chart_settings:l,function_switch:c,switch_status:u},actionType:"",elementType:"",ampProject:"okx"})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_indicator_type,n=e.web_indicator_type,r=e.chart_type,i=e.terminal;o.act({action:"KLine_Mid_Indicator_View",anchor:"KLine_Mid_Indicator_View",params:{app_indicator_type:t,web_indicator_type:n,chart_type:r,terminal:i},actionType:"",elementType:"",ampProject:"okx"})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tool_name,n=e.button_name,r=e.chart_type,i=e.terminal,a=e.chart_layout;o.act({action:"Chart_DrawingTool_Button_Click",anchor:"Chart_DrawingTool_Button_Click",params:{tool_name:t,button_name:n,chart_type:r,terminal:i,chart_layout:a},actionType:"",elementType:"",ampProject:"okx"})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_drawing_tool_type,n=e.web_drawing_tool_type,r=e.terminal,i=e.chart_type;o.act({action:"KLine_Mid_DrawingTool_View",anchor:"KLine_Mid_DrawingTool_View",params:{app_drawing_tool_type:t,web_drawing_tool_type:n,terminal:r,chart_type:i},actionType:"",elementType:"",ampProject:"okx"})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tool_type,n=e.chart_type,r=e.terminal,i=e.order_type,a=e.position_type,s=e.biz_type,l=e.status;o.act({action:"PlaceOrder_Kline_TradeTools_View",anchor:"PlaceOrder_Kline_TradeTools_View",params:{tool_type:t,chart_type:n,terminal:r,order_type:i,position_type:a,biz_type:s,status:l},actionType:"",elementType:"",ampProject:"okx"})}},4316:(e,t,n)=>{"use strict";n.d(t,{Qn:()=>d,Qp:()=>a,SC:()=>u,c_:()=>f,jb:()=>s,nP:()=>l,qo:()=>c});var r,o=n(4467),i=n(7394),a=(r={},(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)(r,i.Ju.DefaultCursor,"cursor"),i.Ju.CrossCursor,"cross"),i.Wh.LineToolTrendLine,"trend_line"),i.Wh.LineToolExtended,"extended"),i.Wh.LineToolRay,"ray"),i.Wh.LineToolArrow,"arrow"),i.Wh.LineToolHorzLine,"horizontal_line"),i.Wh.LineToolHorzTrendLine,"horizontal_extended"),i.Wh.LineToolHorzRay,"horizontal_ray"),i.Wh.LineToolVertLine,"vertical_extended"),(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)(r,i.yl.MarkToolPriceLine,"price_line"),i.WC.ChannelToolPriceChannel,"parallel_channel"),i.WC.ChannelToolParallelLine,"parallel_line"),i.WC.ChannelToolParallelRayLine,"parallel_ray"),i.WC.ChannelToolParallelHorizontalLine,"parallel_horizontal_line"),i.co.LineToolFibRetracement,"fib_retrace"),i.co.LineToolFibSpeedResistanceFan,"fib_fans"),i.I8.LineToolRiskRewardLong,"risk_reward_long"),i.I8.LineToolRiskRewardShort,"risk_reward_short"),i.H5.LineToolMeasurement,"measurement_tool"),(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)(r,i.cJ.LineToolText,"text_tool"),i.Kt.LineToolRectangle,"geometric_rectangle"),i.Kt.LineToolCircle,"geometric_circle"),i.Kt.LineToolTriangle,"geometric_triangle"),i.O3.WeakMagnet,"weak_magnet"),i.O3.StrongMagnet,"strong_magnet"),i.on.HideAll,"hide_all"),i.on.HideDrawings,"hide_drawings"),i.on.HideIndicators,"hide_indicators"),"STAY_IN_DRAWING_MODE","stay_in_drawing_mode"),(0,o.A)((0,o.A)((0,o.A)(r,"FROZEN_ALL_DRAWINGS","frozen_all_drawings"),"FAVORITE_DRAWINGS","favorite_drawings"),"DELETE_ALL","delete")),s={SPOT:"spot",MARGIN:"margin",SWAP:"swap",OPTION:"options",FUTURES:"futures"},l={showPositionLine:"position_line",showOrderLine:"order_line",showOrderRecord:"trade_history_pin",orderInputFloatingWindow:"floating_window",orderInputQuickOrder:"quick_order",autoScale:"auto_scale"},c={POSITION_TP:"position_tl",POSITION_SL:"position_sl",POSITION_CLOSE:"position_close",FLOATING_MARKET_BUY:"floating_market_buy",FLOATING_MARKET_SELL:"floating_market_sell",TRADE_HISTORY_VIEW_MORE:"trade_history_view_more",ORDER_CANCEL:"order_cancel",ORDER_PRICE_CHANGE:"order_price_change",QUICK_ORDER_BUY:"quick_order_buy",QUICK_ORDER_SELL:"quick_order_sell",AUTO_SCALE_ON:"auto_scale_on",AUTO_SCALE_OFF:"auto_scale_off",POSITION_REVERSE:"position_reverse"},u={APP:"app",WEB:"web"},d=["tpsl_est_pnl","tpsl_est_pnl_percentage","tpsl_order_quantity"],f={left:"display_left",center:"display_center",right:"display_right"}},7605:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,i){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,i),l=o?o+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0===--e._eventsCount?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=n.length,i=new Array(r),a=0;a<r;a++)i[a]=n[a].fn;return i},c.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,i,a){var s=o?o+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,r);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||l(this,i);else{for(var s=[],c=0,u=a.length;c<u;c++)(a[c].fn!==t||r&&!a[c].once||n&&a[c].context!==n)&&s.push(a[c]);s.length?this._events[i]=1===s.length?s[0]:s:l(this,i)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c;const u=new c},3907:(e,t,n)=>{"use strict";n.d(t,{y7:()=>h,mI:()=>L,CI:()=>P,mA:()=>C,ks:()=>y,wo:()=>A,mn:()=>w,HT:()=>R,n8:()=>b,x6:()=>m,RV:()=>S,ze:()=>_,BQ:()=>g,yg:()=>T,GX:()=>k,o9:()=>E,cC:()=>O,rm:()=>x,dl:()=>v,G7:()=>p});var r=n(4765),o=n(9719),i=n(5147),a=n(519),s=n(1357),l=n(3029),c=n(2901),u=n(7344);const d=new(function(){return(0,c.A)((function e(){(0,l.A)(this,e),this.options={customConfig:{project:{id:69,token:"ad8c06d24d7743d087173c3fff709fce"}}}}),[{key:"buildLoggerOptions",value:function(e){var t=Object.assign({},this.options);return null!=e&&(e instanceof Error?t.error=e:Object.assign(t,e)),t}},{key:"debug",value:function(e,t){u.v.debug(e,this.buildLoggerOptions(t))}},{key:"error",value:function(e,t){u.v.error(e,this.buildLoggerOptions(t))}},{key:"info",value:function(e,t){u.v.info(e,this.buildLoggerOptions(t))}},{key:"warn",value:function(e,t){u.v.warn(e,this.buildLoggerOptions(t))}}])}());var f,h=4;function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return f||(f=window.getComputedStyle(document.body).fontFamily),[n,"".concat(e,"px"),t||f].filter(Boolean).join(" ")}function v(){return p(12,void 0,"500")}function g(e,t,n){try{e.save(),e.scale(t,t),n()}catch(r){d.error("[draw] drawScaled error:",r)}finally{null===e||void 0===e||e.restore()}}function m(e,t){var n,r;e.beginPath();var o=t.length;for(r=0;r<o;r++)n=t[r],e.rect(n.x,n.y,n.w,n.h)}function y(e,t,n,r,o){e.beginPath(),e.moveTo(Math.ceil(t)+.5,Math.ceil(n)+.5),e.lineTo(Math.ceil(r)+.5,Math.ceil(o)+.5),e.stroke()}function b(e,t,n,r,o){e.beginPath(),e.fillRect(Math.ceil(t)+.5,Math.ceil(n)+.5,Math.ceil(r-t)-.5,Math.ceil(o-n)-.5),e.stroke()}function A(e,t){var n=t.length;e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<n;r++)e.lineTo(t[r].x,t[r].y);e.stroke()}function w(e,t){var n=t.length;e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<n;r++)e.lineTo(t[r].x,t[r].y);e.fill()}function _(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=Math.max(0,i),l=Math.abs(r),c=Math.abs(o);l<2*s&&(s=l/2),c<2*s&&(s=c/2),e.beginPath(),e.moveTo(t+s,n),e.arcTo(t+l,n,t+l,n+c,s),e.arcTo(t+l,n+c,t,n+c,s),e.arcTo(t,n+c,t,n,s),e.arcTo(t,n,t+l,n,s),e.closePath(),a&&e.stroke(),e.fill()}function C(e,t,n,r,o,i,a){var s=Math.max(0,i);r<2*s&&(s=r/2),o<2*s&&(s=o/2),e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+r,n),e.lineTo(t+r,n+o),e.arcTo(t,n+o,t,n,s),e.arcTo(t,n,t+r,n,s),e.closePath(),a&&e.stroke(),e.fill()}function S(e,t,n,r,o,i,a){var s=i;r<2*s&&(s=r/2),o<2*s&&(s=o/2),e.beginPath(),e.moveTo(t,n),e.arcTo(t+r,n,t+r,n+o,s),e.arcTo(t+r,n+o,t,n+o,s),e.lineTo(t,n+o),e.lineTo(t,n),e.closePath(),a&&e.stroke(),e.fill()}function k(e){var t=e.ctx,n=e.width,a=e.pixelRatio,s=e.x,l=e.y,c=e.text,u=e.invertY,d=e.bgColor,f=void 0===d?"":d,p=e.fontSize,m=void 0===p?12:p,y=e.center,b=void 0!==y&&y,A=e.needArrow,w=void 0===A||A,C=e.radius,S=void 0===C?4:C,k=e.dir,T=void 0===k?"top":k,x=e.half,P=void 0!==x&&x,E=e.adjustment,L=void 0===E||E,I=("string"===typeof c?[c]:c).filter(Boolean).map((function(e){return e.split("\n")})).flat();if(0!==I.length){t.save(),t.font=v();var O,R=2*h,M=h,N=(0,r.A)(I);try{for(N.s();!(O=N.n()).done;){var D=O.value,B=2*h+t.measureText(D).width;R=Math.max(R,B),M+=m+h}}catch(Q){N.e(Q)}finally{N.f()}var F=Math.round(R*a),j=Math.round(M*a),V="number"===typeof u&&l-j<66||"bottom"===T,H="number"===typeof u&&V?u:l;P&&(H=V?l-j/2:l+j/2),t.fillStyle=f||((0,i.j1)()===o.zG.dark?"#404040":"#1A1A1A");var z=s-F/2,U=z;if(L){var W=10*a;if(z<W)U=W;else if(n){var K=(n-R-10)*a;z>K&&(U=K)}}var G=w?4:0,q=Math.round(G*a);_(t,U,V?H+q:H-q-j,F,j,S*a),w&&(t.moveTo(s,H),V?(t.lineTo(s-q,H+q),t.lineTo(s+q,H+q)):(t.lineTo(s-q,H-q),t.lineTo(s+q,H-q)),t.lineTo(s,H),t.fill()),t.beginPath(),t.fillStyle=(0,i.j1)()===o.zG.dark?"#FAFAFA":"#FFFFFF";var Y,Z=b?U+F/2:U,X=Math.round(Z/a),J=b?X:X+h;Y=V?Math.round((H+G*a)/a)+h:Math.round((H-j-G*a)/a)+h,g(t,a,(function(){t.textAlign=b?"center":"left",t.textBaseline="top";var e,n=(0,r.A)(I);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.fillText(o,J,Y),Y+=m+h}}catch(Q){n.e(Q)}finally{n.f()}})),t.restore()}}function T(e,t,n,r,o,i,a){var l=Math.round(2*t),c=Math.round(4*t);e.save(),e.beginPath(),o!==s.T.ShadowHollowCircle&&o!==s.T.ShadowSolidCircle||(e.fillStyle="".concat(i,"64"),e.lineWidth=Math.round(1*t),e.arc(n,r,c,0,2*Math.PI),e.fill()),e.beginPath(),e.strokeStyle=i,e.arc(n,r,l,0,2*Math.PI),e.stroke(),o===s.T.HollowCircle||o===s.T.ShadowHollowCircle?(e.fillStyle=a,e.fill()):o!==s.T.SolidCircle&&o!==s.T.ShadowSolidCircle||(e.fillStyle=i,e.fill()),e.restore()}function x(e){var t=e.canvas,n=e.pixelRatio,r=e.x,o=e.y,i=t.getContext("2d",{willReadFrequently:!0}).getImageData(r*n,o*n,1,1).data;return"rgb(".concat(i[0],",").concat(i[1],",").concat(i[2],")")}function P(e,t,n){if(e&&t&&n){var r=n.points,o=n.lineCap,i=n.lineWidth,a=n.lineColor,s=n.lineLength,l=n.arrowTheta,c=n.needArrow;g(e,t,(function(){if(i&&(e.lineWidth=i),a&&(e.strokeStyle=a),o&&(e.lineCap=o),e.beginPath(),Array.isArray(r)&&2===r.length){var t=r[0],n=r[1];e.moveTo(t.x,t.y),e.lineTo(n.x,n.y);var u,d,f=s||10+5*i,h=l||30,p=180*Math.atan2(t.y-n.y,t.x-n.x)/Math.PI,v=(p+h)*Math.PI/180,g=(p-h)*Math.PI/180,m=f*Math.cos(v),y=f*Math.sin(v),b=f*Math.cos(g),A=f*Math.sin(g);c&&(u=n.x+m,d=n.y+y,e.moveTo(u,d),e.lineTo(n.x,n.y),u=n.x+b,d=n.y+A,e.moveTo(n.x,n.y),e.lineTo(u,d))}e.stroke()}))}}function E(e,t,n,r,o,i){e.fillRect(t+i,n,r-2*i,i),e.fillRect(t+i,n+o-i,r-2*i,i),e.fillRect(t,n,i,o),e.fillRect(t+r-i,n,i,o)}function L(e,t,n,r,o,i,a){e.save(),e.globalCompositeOperation="copy";var s=e.createLinearGradient(0,0,0,o);s.addColorStop(0,i),s.addColorStop(1,a),e.fillStyle=s,e.fillRect(t,n,r,o),e.restore()}var I=new Map;function O(e,t,n,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,s="".concat(t,"-").concat(n,"-").concat(o),l=I.get(s);if(l)return l;e.font=n;var c=n.match(/(\d+)px/),u=parseInt(c[1],10),d=u+a;if(o){var f,h=t.split("\n").map((function(e){return e.match(/([a-zA-Z'"]+|.)/g)||[]})),p=[],v=(0,r.A)(h);try{for(v.s();!(f=v.n()).done;){var g=f.value,m=0;p.push("");var y,b=(0,r.A)(g);try{for(b.s();!(y=b.n()).done;){var A=y.value,w=e.measureText(A);if(w.width>o){var _,C=(0,r.A)(A);try{for(C.s();!(_=C.n()).done;){var S=_.value,k=e.measureText(S);(m+=k.width)<o?p[p.length-1]+=S:(m=k.width,p.push(S))}}catch(T){C.e(T)}finally{C.f()}}else(m+=w.width)<o?p[p.length-1]+=A:" "!=A&&(m=w.width,p.push(A))}}catch(T){b.e(T)}finally{b.f()}}}catch(T){v.e(T)}finally{v.f()}i={texts:p,width:o,height:d*p.length-a}}else i={texts:[t],width:e.measureText(t).width,height:u};return I.set(s,i),I.size>100&&I.delete(I.keys().next().value),i}function R(e,t,n,r,o){for(var i=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:12)+(arguments.length>6&&void 0!==arguments[6]?arguments[6]:4),s=0;s<t.length;s++){var l=t[s];if(a.A.isRTL){var c=e.measureText(l).width;e.fillText(l,n+o-c-2,r+i*s)}else e.fillText(l,n,r+i*s)}}},8656:(e,t,n)=>{"use strict";n.d(t,{Fr:()=>i,iT:()=>l,nr:()=>s});var r=n(1289),o="undefined"!==typeof navigator?navigator.userAgent:"",i="sm"===(0,r.A)().media,a=/chrome/i.test(o),s=(/ucbrowser/i.test(o),/safari/i.test(o)&&!a),l=/(Mac|iPhone|iPod|iPad)/i.test(o)},8887:(e,t,n)=>{"use strict";n.d(t,{$A:()=>m,Lz:()=>c,Py:()=>A,QB:()=>p,Rr:()=>f,fU:()=>g,oi:()=>b,qE:()=>u,tl:()=>l,u7:()=>d,vd:()=>y,zt:()=>v});var r=n(2195),o=n(3631),i=n(1143),a=n(946),s=n(3451);function l(e,t){return(0,s.tt)(e,t)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Number(r.o.get().toString().substr(3,e)+Date.now()).toString(36)}function u(e,t,n){return Math.min(Math.max(e,t),n)}function d(e){var t=Number(e),n=t.toString();if(-1!==n.indexOf(".")){var r=n.split(".")[1].length;return o._u.showTruncation(t,r)}return o._u.showTruncation(n,0)}function f(e){var t="string"===typeof e?e:"".concat(Math.abs(e));if(!t.includes("."))return 1;var n=t.split(".")[1].length;return 1/Math.pow(10,n)}function h(e){return e<=9?"0".concat(e):"".concat(e)}function p(e){if(""===e)return e;if("-"===e)return"0";var t=e;return t.indexOf(".")===t.length-1&&(t=t.replace(".","")),t}function v(e){var t=Math.floor(e/1e3),n=Math.floor(t%60),r=Math.floor(t/60%60),o=Math.floor(t/3600%24),i=Math.floor(t/3600/24);return i>0?"".concat(i,"d ").concat(o,"h"):o>0?"".concat(h(o),":").concat(h(r),":").concat(h(n)):"".concat(h(r),":").concat(h(n))}function g(e){var t=Math.floor(e/1e3),n=Math.floor(t%60),r=Math.floor(t/60%60),o=Math.floor(t/3600%24);return{d:Math.floor(t/3600/24),h:o,m:r,s:n}}function m(e){switch(e){case i.ZP.INST_PRICE:return a.SJ.LastPrice;case i.ZP.INDEX_PRICE:return a.SJ.IndexPrice;case i.ZP.MARK_PRICE:return a.SJ.MarkPrice;default:return a.SJ.LastPrice}}function y(e){switch(e){case a.SJ.LastPrice:return i.ZP.INST_PRICE;case a.SJ.IndexPrice:return i.ZP.INDEX_PRICE;case a.SJ.MarkPrice:return i.ZP.MARK_PRICE;default:return e}}function b(){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);return e?e[1]:void 0}function A(e,t){var n=new Date(e),r=n.getMonth()+1+t,o=n.getFullYear()+Math.floor(r/12);return new Date(o,r%12-1,n.getDate(),n.getHours()).getTime()}},6830:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),g=Symbol.for("react.client.reference");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:case r:switch(e=e.type){case i:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case p:case h:case l:return e;default:return t}}case o:return t}}}t.vq=function(e){return"object"===typeof e&&null!==e&&(e.$$typeof===n||e.$$typeof===r)},t.zv=function(e){return m(e)===i},t.Rf=function(e){return m(e)===h}},9738:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],l=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,d=l>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,c=r-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7654:function(e,t,n){var r;!function(){"use strict";var o,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,l="[BigNumber Error] ",c=l+"Number primitive has more than 15 significant digits: ",u=1e14,d=14,f=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,v=1e9;function g(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=d-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function y(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,l=e.e,c=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=l==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return l>c^n?1:-1;for(s=(l=o.length)<(c=i.length)?l:c,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return l==c?0:l>c^n?1:-1}function b(e,t,n,r){if(e<t||e>n||e!==s(e))throw Error(l+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function A(e){var t=e.c.length-1;return g(e.e/d)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function _(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}o=function e(t){var n,r,o,C=B.prototype={constructor:B,toString:null,valueOf:null},S=new B(1),k=20,T=4,x=-7,P=21,E=-1e7,L=1e7,I=!1,O=1,R=0,M={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},N="0123456789abcdefghijklmnopqrstuvwxyz",D=!0;function B(e,t){var n,a,l,u,h,p,v,g,m=this;if(!(m instanceof B))return new B(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>L?m.c=m.e=null:e.e<E?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,h=e;h>=10;h/=10,u++);return void(u>L?m.c=m.e=null:(m.e=u,m.c=[e]))}g=String(e)}else{if(!i.test(g=String(e)))return o(m,g,p);m.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(u=g.indexOf("."))>-1&&(g=g.replace(".","")),(h=g.search(/e/i))>0?(u<0&&(u=h),u+=+g.slice(h+1),g=g.substring(0,h)):u<0&&(u=g.length)}else{if(b(t,2,N.length,"Base"),10==t&&D)return H(m=new B(e),k+m.e+1,T);if(g=String(e),p="number"==typeof e){if(0*e!=0)return o(m,g,p,t);if(m.s=1/e<0?(g=g.slice(1),-1):1,B.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(c+e)}else m.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(n=N.slice(0,t),u=h=0,v=g.length;h<v;h++)if(n.indexOf(a=g.charAt(h))<0){if("."==a){if(h>u){u=v;continue}}else if(!l&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){l=!0,h=-1,u=0;continue}return o(m,String(e),p,t)}p=!1,(u=(g=r(g,t,10,m.s)).indexOf("."))>-1?g=g.replace(".",""):u=g.length}for(h=0;48===g.charCodeAt(h);h++);for(v=g.length;48===g.charCodeAt(--v););if(g=g.slice(h,++v)){if(v-=h,p&&B.DEBUG&&v>15&&(e>f||e!==s(e)))throw Error(c+m.s*e);if((u=u-h-1)>L)m.c=m.e=null;else if(u<E)m.c=[m.e=0];else{if(m.e=u,m.c=[],h=(u+1)%d,u<0&&(h+=d),h<v){for(h&&m.c.push(+g.slice(0,h)),v-=d;h<v;)m.c.push(+g.slice(h,h+=d));h=d-(g=g.slice(h)).length}else h-=v;for(;h--;g+="0");m.c.push(+g)}}else m.c=[m.e=0]}function F(e,t,n,r){var o,i,a,s,l;if(null==n?n=T:b(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)l=m(e.c),l=1==r||2==r&&(a<=x||a>=P)?w(l,a):_(l,a,"0");else if(i=(e=H(new B(e),t,n)).e,s=(l=m(e.c)).length,1==r||2==r&&(t<=i||i<=x)){for(;s<t;l+="0",s++);l=w(l,i)}else if(t-=a,l=_(l,i,"0"),i+1>s){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=i-s)>0)for(i+1==s&&(l+=".");t--;l+="0");return e.s<0&&o?"-"+l:l}function j(e,t){for(var n,r=1,o=new B(e[0]);r<e.length;r++){if(!(n=new B(e[r])).s){o=n;break}t.call(o,n)&&(o=n)}return o}function V(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*d-1)>L?e.c=e.e=null:n<E?e.c=[e.e=0]:(e.e=n,e.c=t),e}function H(e,t,n,r){var o,i,l,c,f,p,v,g=e.c,m=h;if(g){e:{for(o=1,c=g[0];c>=10;c/=10,o++);if((i=t-o)<0)i+=d,l=t,v=(f=g[p=0])/m[o-l-1]%10|0;else if((p=a((i+1)/d))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));f=v=0,o=1,l=(i%=d)-d+1}else{for(f=c=g[p],o=1;c>=10;c/=10,o++);v=(l=(i%=d)-d+o)<0?0:f/m[o-l-1]%10|0}if(r=r||t<0||null!=g[p+1]||(l<0?f:f%m[o-l-1]),r=n<4?(v||r)&&(0==n||n==(e.s<0?3:2)):v>5||5==v&&(4==n||r||6==n&&(i>0?l>0?f/m[o-l]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=m[(d-t%d)%d],e.e=-t||0):g[0]=e.e=0,e;if(0==i?(g.length=p,c=1,p--):(g.length=p+1,c=m[d-i],g[p]=l>0?s(f/m[o-l]%m[l])*c:0),r)for(;;){if(0==p){for(i=1,l=g[0];l>=10;l/=10,i++);for(l=g[0]+=c,c=1;l>=10;l/=10,c++);i!=c&&(e.e++,g[0]==u&&(g[0]=1));break}if(g[p]+=c,g[p]!=u)break;g[p--]=0,c=1}for(i=g.length;0===g[--i];g.pop());}e.e>L?e.c=e.e=null:e.e<E&&(e.c=[e.e=0])}return e}function z(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=x||n>=P?w(t,n):_(t,n,"0"),e.s<0?"-"+t:t)}return B.clone=e,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(l+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,v,t),k=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),T=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-v,0,t),b(n[1],0,v,t),x=n[0],P=n[1]):(b(n,-v,v,t),x=-(P=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-v,-1,t),b(n[1],1,v,t),E=n[0],L=n[1];else{if(b(n,-v,v,t),!n)throw Error(l+t+" cannot be zero: "+n);E=-(L=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(l+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw I=!n,Error(l+"crypto unavailable");I=n}else I=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),O=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,v,t),R=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(l+t+" not an object: "+n);M=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(l+t+" invalid: "+n);D="0123456789"==n.slice(0,10),N=n}}return{DECIMAL_PLACES:k,ROUNDING_MODE:T,EXPONENTIAL_AT:[x,P],RANGE:[E,L],CRYPTO:I,MODULO_MODE:O,POW_PRECISION:R,FORMAT:M,ALPHABET:N}},B.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!B.DEBUG)return!0;var t,n,r=e.c,o=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-v&&o<=v&&o===s(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%d)<1&&(t+=d),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=u||n!==s(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(l+"Invalid BigNumber: "+e)},B.maximum=B.max=function(){return j(arguments,C.lt)},B.minimum=B.min=function(){return j(arguments,C.gt)},B.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return s(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,r,o,i,c,u=0,f=[],p=new B(S);if(null==e?e=k:b(e,0,v),i=a(e/d),I)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(i*=2));u<i;)(c=131072*n[u]+(n[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[u]=r[0],n[u+1]=r[1]):(f.push(c%1e14),u+=2);u=i/2}else{if(!crypto.randomBytes)throw I=!1,Error(l+"crypto unavailable");for(n=crypto.randomBytes(i*=7);u<i;)(c=281474976710656*(31&n[u])+1099511627776*n[u+1]+4294967296*n[u+2]+16777216*n[u+3]+(n[u+4]<<16)+(n[u+5]<<8)+n[u+6])>=9e15?crypto.randomBytes(7).copy(n,u):(f.push(c%1e14),u+=7);u=i/7}if(!I)for(;u<i;)(c=t())<9e15&&(f[u++]=c%1e14);for(i=f[--u],e%=d,i&&e&&(c=h[d-e],f[u]=s(i/c)*c);0===f[u];f.pop(),u--);if(u<0)f=[o=0];else{for(o=-1;0===f[0];f.splice(0,1),o-=d);for(u=1,c=f[0];c>=10;c/=10,u++);u<d&&(o-=d-u)}return p.e=o,p.c=f,p}}(),B.sum=function(){for(var e=1,t=arguments,n=new B(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var o,i,a=[0],s=0,l=e.length;s<l;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var l,c,u,d,f,h,p,v,g=r.indexOf("."),y=k,b=T;for(g>=0&&(d=R,R=0,r=r.replace(".",""),h=(v=new B(o)).pow(r.length-g),R=d,v.c=t(_(m(h.c),h.e,"0"),10,i,e),v.e=v.c.length),u=d=(p=t(r,o,i,s?(l=N,e):(l=e,N))).length;0==p[--d];p.pop());if(!p[0])return l.charAt(0);if(g<0?--u:(h.c=p,h.e=u,h.s=a,p=(h=n(h,v,y,b,i)).c,f=h.r,u=h.e),g=p[c=u+y+1],d=i/2,f=f||c<0||null!=p[c+1],f=b<4?(null!=g||f)&&(0==b||b==(h.s<0?3:2)):g>d||g==d&&(4==b||f||6==b&&1&p[c-1]||b==(h.s<0?8:7)),c<1||!p[0])r=f?_(l.charAt(1),-y,l.charAt(0)):l.charAt(0);else{if(p.length=c,f)for(--i;++p[--c]>i;)p[c]=0,c||(++u,p=[1].concat(p));for(d=p.length;!p[--d];);for(g=0,r="";g<=d;r+=l.charAt(p[g++]));r=_(r,u,l.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,l=e.length,c=t%p,u=t/p|0;for(e=e.slice();l--;)s=((o=c*(i=e[l]%p)+(r=u*i+(a=e[l]/p|0)*c)%p*p+s)/n|0)+(r/p|0)+u*a,e[l]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,i,a,l){var c,f,h,p,v,m,y,b,A,w,_,C,S,k,T,x,P,E=r.s==o.s?1:-1,L=r.c,I=o.c;if(!L||!L[0]||!I||!I[0])return new B(r.s&&o.s&&(L?!I||L[0]!=I[0]:I)?L&&0==L[0]||!I?0*E:E/0:NaN);for(A=(b=new B(E)).c=[],E=i+(f=r.e-o.e)+1,l||(l=u,f=g(r.e/d)-g(o.e/d),E=E/d|0),h=0;I[h]==(L[h]||0);h++);if(I[h]>(L[h]||0)&&f--,E<0)A.push(1),p=!0;else{for(k=L.length,x=I.length,h=0,E+=2,(v=s(l/(I[0]+1)))>1&&(I=e(I,v,l),L=e(L,v,l),x=I.length,k=L.length),S=x,_=(w=L.slice(0,x)).length;_<x;w[_++]=0);P=I.slice(),P=[0].concat(P),T=I[0],I[1]>=l/2&&T++;do{if(v=0,(c=t(I,w,x,_))<0){if(C=w[0],x!=_&&(C=C*l+(w[1]||0)),(v=s(C/T))>1)for(v>=l&&(v=l-1),y=(m=e(I,v,l)).length,_=w.length;1==t(m,w,y,_);)v--,n(m,x<y?P:I,y,l),y=m.length,c=1;else 0==v&&(c=v=1),y=(m=I.slice()).length;if(y<_&&(m=[0].concat(m)),n(w,m,_,l),_=w.length,-1==c)for(;t(I,w,x,_)<1;)v++,n(w,x<_?P:I,_,l),_=w.length}else 0===c&&(v++,w=[0]);A[h++]=v,w[0]?w[_++]=L[S]||0:(w=[L[S]],_=1)}while((S++<k||null!=w[0])&&E--);p=null!=w[0],A[0]||A.splice(0,1)}if(l==u){for(h=1,E=A[0];E>=10;E/=10,h++);H(b,i+(b.e=h+f*d-1)+1,a,p)}else b.e=f,b.r=+p;return b}}(),o=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,n=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,o=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,a,s,c){var u,d=s?a:a.replace(o,"");if(r.test(d))i.s=isNaN(d)?null:d<0?-1:1;else{if(!s&&(d=d.replace(e,(function(e,t,n){return u="x"==(n=n.toLowerCase())?16:"b"==n?2:8,c&&c!=u?e:t})),c&&(u=c,d=d.replace(t,"$1").replace(n,"0.$1")),a!=d))return new B(d,u);if(B.DEBUG)throw Error(l+"Not a"+(c?" base "+c:"")+" number: "+a);i.s=null}i.c=i.e=null}}(),C.absoluteValue=C.abs=function(){var e=new B(this);return e.s<0&&(e.s=1),e},C.comparedTo=function(e,t){return y(this,new B(e,t))},C.decimalPlaces=C.dp=function(e,t){var n,r,o,i=this;if(null!=e)return b(e,0,v),null==t?t=T:b(t,0,8),H(new B(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-g(this.e/d))*d,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},C.dividedBy=C.div=function(e,t){return n(this,new B(e,t),k,T)},C.dividedToIntegerBy=C.idiv=function(e,t){return n(this,new B(e,t),0,1)},C.exponentiatedBy=C.pow=function(e,t){var n,r,o,i,c,u,f,h,p=this;if((e=new B(e)).c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+z(e));if(null!=t&&(t=new B(t)),c=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new B(Math.pow(+z(p),c?2-A(e):+z(e))),t?h.mod(t):h;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new B(NaN);(r=!u&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return i=p.s<0&&A(e)?-0:0,p.e>-1&&(i=1/i),new B(u?1/i:i);R&&(i=a(R/d+2))}for(c?(n=new B(.5),u&&(e.s=1),f=A(e)):f=(o=Math.abs(+z(e)))%2,h=new B(S);;){if(f){if(!(h=h.times(p)).c)break;i?h.c.length>i&&(h.c.length=i):r&&(h=h.mod(t))}if(o){if(0===(o=s(o/2)))break;f=o%2}else if(H(e=e.times(n),e.e+1,1),e.e>14)f=A(e);else{if(0===(o=+z(e)))break;f=o%2}p=p.times(p),i?p.c&&p.c.length>i&&(p.c.length=i):r&&(p=p.mod(t))}return r?h:(u&&(h=S.div(h)),t?h.mod(t):i?H(h,R,T,undefined):h)},C.integerValue=function(e){var t=new B(this);return null==e?e=T:b(e,0,8),H(t,t.e+1,e)},C.isEqualTo=C.eq=function(e,t){return 0===y(this,new B(e,t))},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(e,t){return y(this,new B(e,t))>0},C.isGreaterThanOrEqualTo=C.gte=function(e,t){return 1===(t=y(this,new B(e,t)))||0===t},C.isInteger=function(){return!!this.c&&g(this.e/d)>this.c.length-2},C.isLessThan=C.lt=function(e,t){return y(this,new B(e,t))<0},C.isLessThanOrEqualTo=C.lte=function(e,t){return-1===(t=y(this,new B(e,t)))||0===t},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&0==this.c[0]},C.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new B(e,t)).s,!s||!t)return new B(NaN);if(s!=t)return e.s=-t,a.plus(e);var l=a.e/d,c=e.e/d,f=a.c,h=e.c;if(!l||!c){if(!f||!h)return f?(e.s=-t,e):new B(h?a:NaN);if(!f[0]||!h[0])return h[0]?(e.s=-t,e):new B(f[0]?a:3==T?-0:0)}if(l=g(l),c=g(c),f=f.slice(),s=l-c){for((i=s<0)?(s=-s,o=f):(c=l,o=h),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=f.length)<(t=h.length))?s:t,s=t=0;t<r;t++)if(f[t]!=h[t]){i=f[t]<h[t];break}if(i&&(o=f,f=h,h=o,e.s=-e.s),(t=(r=h.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=u-1;r>s;){if(f[--r]<h[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=u}f[r]-=h[r]}for(;0==f[0];f.splice(0,1),--c);return f[0]?V(e,f,c):(e.s=3==T?-1:1,e.c=[e.e=0],e)},C.modulo=C.mod=function(e,t){var r,o,i=this;return e=new B(e,t),!i.c||!e.s||e.c&&!e.c[0]?new B(NaN):!e.c||i.c&&!i.c[0]?new B(i):(9==O?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,O),(e=i.minus(r.times(e))).c[0]||1!=O||(e.s=i.s),e)},C.multipliedBy=C.times=function(e,t){var n,r,o,i,a,s,l,c,f,h,v,m,y,b,A,w=this,_=w.c,C=(e=new B(e,t)).c;if(!_||!C||!_[0]||!C[0])return!w.s||!e.s||_&&!_[0]&&!C||C&&!C[0]&&!_?e.c=e.e=e.s=null:(e.s*=w.s,_&&C?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=g(w.e/d)+g(e.e/d),e.s*=w.s,(l=_.length)<(h=C.length)&&(y=_,_=C,C=y,o=l,l=h,h=o),o=l+h,y=[];o--;y.push(0));for(b=u,A=p,o=h;--o>=0;){for(n=0,v=C[o]%A,m=C[o]/A|0,i=o+(a=l);i>o;)n=((c=v*(c=_[--a]%A)+(s=m*c+(f=_[a]/A|0)*v)%A*A+y[i]+n)/b|0)+(s/A|0)+m*f,y[i--]=c%b;y[i]=n}return n?++r:y.splice(0,1),V(e,y,r)},C.negated=function(){var e=new B(this);return e.s=-e.s||null,e},C.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new B(e,t)).s,!o||!t)return new B(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/d,a=e.e/d,s=r.c,l=e.c;if(!i||!a){if(!s||!l)return new B(o/0);if(!s[0]||!l[0])return l[0]?e:new B(s[0]?r:0*o)}if(i=g(i),a=g(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=l):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=l.length)<0&&(n=l,l=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+l[t]+o)/u|0,s[t]=u===s[t]?0:s[t]%u;return o&&(s=[o].concat(s),++a),V(e,s,a)},C.precision=C.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return b(e,1,v),null==t?t=T:b(t,0,8),H(new B(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*d+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},C.shiftedBy=function(e){return b(e,-9007199254740991,f),this.times("1e"+e)},C.squareRoot=C.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,l=a.s,c=a.e,u=k+4,d=new B("0.5");if(1!==l||!s||!s[0])return new B(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(l=Math.sqrt(+z(a)))||l==1/0?(((t=m(s)).length+c)%2==0&&(t+="0"),l=Math.sqrt(+t),c=g((c+1)/2)-(c<0||c%2),r=new B(t=l==1/0?"5e"+c:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new B(l+""),r.c[0])for((l=(c=r.e)+u)<3&&(l=0);;)if(i=r,r=d.times(i.plus(n(a,i,u,1))),m(i.c).slice(0,l)===(t=m(r.c)).slice(0,l)){if(r.e<c&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(H(r,r.e+k+2,1),e=!r.times(r).eq(a));break}if(!o&&(H(i,i.e+k+2,0),i.times(i).eq(a))){r=i;break}u+=4,l+=4,o=1}return H(r,r.e+k+1,T,e)},C.toExponential=function(e,t){return null!=e&&(b(e,0,v),e++),F(this,e,t,1)},C.toFixed=function(e,t){return null!=e&&(b(e,0,v),e=e+this.e+1),F(this,e,t)},C.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=M;else if("object"!=typeof n)throw Error(l+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var i,a=r.split("."),s=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",d=a[0],f=a[1],h=o.s<0,p=h?d.slice(1):d,v=p.length;if(c&&(i=s,s=c,c=i,v-=i),s>0&&v>0){for(i=v%s||s,d=p.substr(0,i);i<v;i+=s)d+=u+p.substr(i,s);c>0&&(d+=u+p.slice(i)),h&&(d="-"+d)}r=f?d+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?f.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):f):d}return(n.prefix||"")+r+(n.suffix||"")},C.toFraction=function(e){var t,r,o,i,a,s,c,u,f,p,v,g,y=this,b=y.c;if(null!=e&&(!(c=new B(e)).isInteger()&&(c.c||1!==c.s)||c.lt(S)))throw Error(l+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+z(c));if(!b)return new B(y);for(t=new B(S),f=r=new B(S),o=u=new B(S),g=m(b),a=t.e=g.length-y.e-1,t.c[0]=h[(s=a%d)<0?d+s:s],e=!e||c.comparedTo(t)>0?a>0?t:f:c,s=L,L=1/0,c=new B(g),u.c[0]=0;p=n(c,t,0,1),1!=(i=r.plus(p.times(o))).comparedTo(e);)r=o,o=i,f=u.plus(p.times(i=f)),u=i,t=c.minus(p.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),u=u.plus(i.times(f)),r=r.plus(i.times(o)),u.s=f.s=y.s,v=n(f,o,a*=2,T).minus(y).abs().comparedTo(n(u,r,a,T).minus(y).abs())<1?[f,o]:[u,r],L=s,v},C.toNumber=function(){return+z(this)},C.toPrecision=function(e,t){return null!=e&&b(e,1,v),F(this,e,t,2)},C.toString=function(e){var t,n=this,o=n.s,i=n.e;return null===i?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=i<=x||i>=P?w(m(n.c),i):_(m(n.c),i,"0"):10===e&&D?t=_(m((n=H(new B(n),k+i+1,T)).c),n.e,"0"):(b(e,2,N.length,"Base"),t=r(_(m(n.c),i,"0"),10,e,o,!0)),o<0&&n.c[0]&&(t="-"+t)),t},C.valueOf=C.toJSON=function(){return z(this)},C._isBigNumber=!0,null!=t&&B.set(t),B}(),o.default=o.BigNumber=o,void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},6059:(e,t,n)=>{"use strict";var r=n(7383).default,o=n(4579).default,i=n(8452).default,a=n(7550).default,s=n(3072).default,l=n(9511).default;var c=n(9738),u=n(4575),d="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=p,t.IS=50;var f=2147483647;function h(e){if(e>f)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,p.prototype),t}function p(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return m(e)}return v(e,t,n)}function v(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!p.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|w(e,t),r=h(n),o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(te(e,Uint8Array)){var t=new Uint8Array(e);return b(t.buffer,t.byteOffset,t.byteLength)}return y(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(te(e,ArrayBuffer)||e&&te(e.buffer,ArrayBuffer))return b(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(te(e,SharedArrayBuffer)||e&&te(e.buffer,SharedArrayBuffer)))return b(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return p.from(r,t,n);var o=function(e){if(p.isBuffer(e)){var t=0|A(e.length),n=h(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||ne(e.length)?h(0):y(e);if("Buffer"===e.type&&Array.isArray(e.data))return y(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return p.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function g(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function m(e){return g(e),h(e<0?0:0|A(e))}function y(e){for(var t=e.length<0?0:0|A(e.length),n=h(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function b(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,p.prototype),r}function A(e){if(e>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|e}function w(e,t){if(p.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||te(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(o)return r?-1:Q(e).length;t=(""+t).toLowerCase(),o=!0}}function _(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function C(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),ne(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=p.from(t,r)),p.isBuffer(t))return 0===t.length?-1:k(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):k(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function k(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(c(e,i+f)!==c(t,f)){d=!1;break}if(d)return i}return-1}function T(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i,a=t.length;for(r>a/2&&(r=a/2),i=0;i<r;++i){var s=parseInt(t.substr(2*i,2),16);if(ne(s))return i;e[n+i]=s}return i}function x(e,t,n,r){return ee(Q(t,e.length-n),e,n,r)}function P(e,t,n,r){return ee(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return ee($(t),e,n,r)}function L(e,t,n,r){return ee(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?c.fromByteArray(e):c.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=n){var l=void 0,c=void 0,u=void 0,d=void 0;switch(s){case 1:i<128&&(a=i);break;case 2:128===(192&(l=e[o+1]))&&(d=(31&i)<<6|63&l)>127&&(a=d);break;case 3:l=e[o+1],c=e[o+2],128===(192&l)&&128===(192&c)&&(d=(15&i)<<12|(63&l)<<6|63&c)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:l=e[o+1],c=e[o+2],u=e[o+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(d=(15&i)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}p.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),p.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(e,t,n){return v(e,t,n)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(e,t,n){return function(e,t,n){return g(e),e<=0?h(e):void 0!==t?"string"===typeof n?h(e).fill(t,n):h(e).fill(t):h(e)}(e,t,n)},p.allocUnsafe=function(e){return m(e)},p.allocUnsafeSlow=function(e){return m(e)},p.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==p.prototype},p.compare=function(e,t){if(te(e,Uint8Array)&&(e=p.from(e,e.offset,e.byteLength)),te(t,Uint8Array)&&(t=p.from(t,t.offset,t.byteLength)),!p.isBuffer(e)||!p.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},p.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return p.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=p.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(te(i,Uint8Array))o+i.length>r.length?(p.isBuffer(i)||(i=p.from(i)),i.copy(r,o)):Uint8Array.prototype.set.call(r,i,o);else{if(!p.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o)}o+=i.length}return r},p.byteLength=w,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},p.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},p.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},p.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):_.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(e){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===p.compare(this,e)},p.prototype.inspect=function(){var e="",n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},d&&(p.prototype[d]=p.prototype.inspect),p.prototype.compare=function(e,t,n,r,o){if(te(e,Uint8Array)&&(e=p.from(e,e.offset,e.byteLength)),!p.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),l=this.slice(r,o),c=e.slice(t,n),u=0;u<s;++u)if(l[u]!==c[u]){i=l[u],a=c[u];break}return i<a?-1:a<i?1:0},p.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},p.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},p.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},p.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return P(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function M(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=re[e[i]];return o}function B(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function F(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,o,i){if(!p.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function V(e,t,n,r,o){Y(t,r,o,e,n,7);var i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function H(e,t,n,r,o){Y(t,r,o,e,n,7);var i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function z(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return t=+t,n>>>=0,o||z(e,0,n,4),u.write(e,t,n,r,23,4),n+4}function W(e,t,n,r,o){return t=+t,n>>>=0,o||z(e,0,n,8),u.write(e,t,n,r,52,8),n+8}p.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,p.prototype),r},p.prototype.readUintLE=p.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},p.prototype.readUintBE=p.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},p.prototype.readUint8=p.prototype.readUInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),this[e]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]|this[e+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(e,t){return e>>>=0,t||F(e,2,this.length),this[e]<<8|this[e+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},p.prototype.readBigUInt64LE=oe((function(e){Z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),o=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(o)<<BigInt(32))})),p.prototype.readBigUInt64BE=oe((function(e){Z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],o=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),p.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},p.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||F(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},p.prototype.readInt8=function(e,t){return e>>>=0,t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},p.prototype.readInt16LE=function(e,t){e>>>=0,t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},p.prototype.readInt16BE=function(e,t){e>>>=0,t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},p.prototype.readInt32LE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},p.prototype.readInt32BE=function(e,t){return e>>>=0,t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},p.prototype.readBigInt64LE=oe((function(e){Z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),p.prototype.readBigInt64BE=oe((function(e){Z(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),p.prototype.readFloatLE=function(e,t){return e>>>=0,t||F(e,4,this.length),u.read(this,e,!0,23,4)},p.prototype.readFloatBE=function(e,t){return e>>>=0,t||F(e,4,this.length),u.read(this,e,!1,23,4)},p.prototype.readDoubleLE=function(e,t){return e>>>=0,t||F(e,8,this.length),u.read(this,e,!0,52,8)},p.prototype.readDoubleBE=function(e,t){return e>>>=0,t||F(e,8,this.length),u.read(this,e,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||j(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},p.prototype.writeUint8=p.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,255,0),this[t]=255&e,t+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},p.prototype.writeBigUInt64LE=oe((function(e){return V(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),p.prototype.writeBigUInt64BE=oe((function(e){return H(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),p.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);j(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},p.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);j(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a|0)-s&255;return t+n},p.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},p.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},p.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},p.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},p.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},p.prototype.writeBigInt64LE=oe((function(e){return V(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),p.prototype.writeBigInt64BE=oe((function(e){return H(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),p.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},p.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},p.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},p.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},p.prototype.copy=function(e,t,n,r){if(!p.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},p.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!p.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=p.isBuffer(e)?e:p.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var K={};function G(e,t,n){K[e]=function(n){function c(){var n,o,l,u;return r(this,c),o=this,l=s(l=c),n=i(o,a()?Reflect.construct(l,u||[],s(o).constructor):l.apply(o,u)),Object.defineProperty(n,"message",{value:t.apply(n,arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return l(c,n),o(c,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}])}(n)}function q(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function Y(e,t,n,r,o,i){if(e>n||e<t){var a,s="bigint"===typeof t?"n":"";throw a=i>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(i+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(i+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(i+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(n).concat(s),new K.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,n){Z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||X(t,e.length-(n+1))}(r,o,i)}function Z(e,t){if("number"!==typeof e)throw new K.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,n){if(Math.floor(e)!==e)throw Z(e,n),new K.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new K.ERR_BUFFER_OUT_OF_BOUNDS;throw new K.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),G("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),o=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?o=q(String(n)):"bigint"===typeof n&&(o=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(o=q(o)),o+="n"),r+=" It must be ".concat(t,". Received ").concat(o)}),RangeError);var J=/[^+/0-9A-Za-z-_]/g;function Q(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $(e){return c.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(J,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function ee(e,t,n,r){var o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function te(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ne(e){return e!==e}var re=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}();function oe(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},7565:(e,t,n)=>{var r=n(1551),o=n(2887);n(9064);function i(e){return void 0===e||null===e}function a(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,a=t.onIgnoreAttr,s=t.safeAttrValue;return o(e,(function(e,t,o,l,c){var u=n[o],d=!1;if(!0===u?d=u:"function"===typeof u?d=u(l):u instanceof RegExp&&(d=u.test(l)),!0!==d&&(d=!1),l=s(o,l)){var f,h={position:t,sourcePosition:e,source:c,isWhite:d};return d?i(f=r(o,l,h))?o+":"+l:f:i(f=a(o,l,h))?void 0:f}}))},e.exports=a},1551:(e,t)=>{function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},1206:(e,t,n)=>{var r=n(1551),o=n(7565);for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,r)t[i]=r[i];"undefined"!==typeof window&&(window.filterCSS=e.exports)},2887:(e,t,n)=>{var r=n(9064);e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,a=0,s="";function l(){if(!o){var n=r.trim(e.slice(i,a)),l=n.indexOf(":");if(-1!==l){var c=r.trim(n.slice(0,l)),u=r.trim(n.slice(l+1));if(c){var d=t(i,s.length,c,u,n);d&&(s+=d+"; ")}}}i=a+1}for(;a<n;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var u=e.indexOf("*/",a+2);if(-1===u)break;i=(a=u+1)+1,o=!1}else"("===c?o=!0:")"===c?o=!1:";"===c?o||l():"\n"===c&&l()}return r.trim(s)}},9064:e=>{e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},4575:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}},7802:(e,t,n)=>{"use strict";var r=n(8265);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},7040:(e,t,n)=>{e.exports=n(7802)()},8265:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6018:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var r=n(3237),o=n(3437),i=n(9824),a=n(3551);function s(e){return 0===e.length?a.D:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var l=n(988),c=n(3645),u=n(6668),d=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,a=this,s=(i=e)&&i instanceof r.vU||function(e){return e&&(0,c.T)(e.next)&&(0,c.T)(e.error)&&(0,c.T)(e.complete)}(i)&&(0,o.Uv)(i)?e:new r.Ms(e,t,n);return(0,u.Y)((function(){var e=a,t=e.operator,n=e.source;s.add(t?t.call(s,n):n?a._subscribe(s):a._trySubscribe(s))})),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))((function(t,o){var i=new r.Ms({next:function(t){try{e(t)}catch(n){o(n),i.unsubscribe()}},error:o,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.s]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!==e&&void 0!==e?e:l.$.Promise)&&void 0!==t?t:Promise}},1132:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var r=n(9517),o=n(6018),i=n(3437),a=(0,n(7975).L)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),s=n(2210),l=n(6668),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.C6)(t,e),t.prototype.lift=function(e){var t=new u(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new a},t.prototype.next=function(e){var t=this;(0,l.Y)((function(){var n,o;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=(0,r.Ju)(t.currentObservers),a=i.next();!a.done;a=i.next()){a.value.next(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;(0,l.Y)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;(0,l.Y)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,a=n.observers;return r||o?i.Kn:(this.currentObservers=null,a.push(e),new i.yU((function(){t.currentObservers=null,(0,s.o)(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new o.c;return e.source=this,e},t.create=function(e,t){return new u(e,t)},t}(o.c),u=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.C6)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:i.Kn},t}(c)},3237:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>m,vU:()=>h});var r=n(9517),o=n(3645),i=n(3437),a=n(988),s=n(8552),l=n(4033),c=u("C",void 0,void 0);function u(e,t,n){return{kind:e,value:t,error:n}}var d=n(4204),f=n(6668),h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,i.Uv)(t)&&t.add(n)):n.destination=A,n}return(0,r.C6)(t,e),t.create=function(e,t,n){return new m(e,t,n)},t.prototype.next=function(e){this.isStopped?b(function(e){return u("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?b(u("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?b(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(i.yU),p=Function.prototype.bind;function v(e,t){return p.call(e,t)}var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){y(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){y(n)}else y(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){y(t)}},e}(),m=function(e){function t(t,n,r){var i,s,l=e.call(this)||this;(0,o.T)(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:l&&a.$.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},i={next:t.next&&v(t.next,s),error:t.error&&v(t.error,s),complete:t.complete&&v(t.complete,s)}):i=t;return l.destination=new g(i),l}return(0,r.C6)(t,e),t}(h);function y(e){a.$.useDeprecatedSynchronousErrorHandling?(0,f.l)(e):(0,s.m)(e)}function b(e,t){var n=a.$.onStoppedNotification;n&&d.f.setTimeout((function(){return n(e,t)}))}var A={closed:!0,next:l.l,error:function(e){throw e},complete:l.l}},3437:(e,t,n)=>{"use strict";n.d(t,{Kn:()=>l,yU:()=>s,Uv:()=>c});var r=n(9517),o=n(3645),i=(0,n(7975).L)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),a=n(2210),s=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,a,s;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var c=(0,r.Ju)(l),d=c.next();!d.done;d=c.next()){d.value.remove(this)}}catch(m){e={error:m}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else l.remove(this);var f=this.initialTeardown;if((0,o.T)(f))try{f()}catch(y){s=y instanceof i?y.errors:[y]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=(0,r.Ju)(h),v=p.next();!v.done;v=p.next()){var g=v.value;try{u(g)}catch(b){s=null!==s&&void 0!==s?s:[],b instanceof i?s=(0,r.fX)((0,r.fX)([],(0,r.zs)(s)),(0,r.zs)(b.errors)):s.push(b)}}}catch(A){n={error:A}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}}if(s)throw new i(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)u(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,a.o)(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&(0,a.o)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),l=s.EMPTY;function c(e){return e instanceof s||e&&"closed"in e&&(0,o.T)(e.remove)&&(0,o.T)(e.add)&&(0,o.T)(e.unsubscribe)}function u(e){(0,o.T)(e)?e():e.unsubscribe()}},988:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5069:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(9500),o=n(3237);function i(e,t){var n="object"===typeof t;return new Promise((function(i,a){var s=new o.Ms({next:function(e){i(e),s.unsubscribe()},error:a,complete:function(){n?i(t.defaultValue):a(new r.G)}});e.subscribe(s)}))}},6953:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var r=new(n(6018).c)((function(e){return e.complete()}))},4802:(e,t,n)=>{"use strict";n.d(t,{H:()=>w});var r=n(4888),o=n(7223),i=n(8091),a=n(3730);function s(e,t){return void 0===t&&(t=0),(0,i.N)((function(n,r){n.subscribe((0,a._)(r,(function(n){return(0,o.N)(r,e,(function(){return r.next(n)}),t)}),(function(){return(0,o.N)(r,e,(function(){return r.complete()}),t)}),(function(n){return(0,o.N)(r,e,(function(){return r.error(n)}),t)})))}))}function l(e,t){return void 0===t&&(t=0),(0,i.N)((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}var c=n(6018);var u=n(7631),d=n(3645);function f(e,t){if(!e)throw new Error("Iterable cannot be null");return new c.c((function(n){(0,o.N)(n,t,(function(){var r=e[Symbol.asyncIterator]();(0,o.N)(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}var h=n(1785),p=n(308),v=n(4667),g=n(47),m=n(3528),y=n(5597),b=n(7490);function A(e,t){if(null!=e){if((0,h.l)(e))return function(e,t){return(0,r.Tg)(e).pipe(l(t),s(t))}(e,t);if((0,v.X)(e))return function(e,t){return new c.c((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if((0,p.y)(e))return function(e,t){return(0,r.Tg)(e).pipe(l(t),s(t))}(e,t);if((0,m.T)(e))return f(e,t);if((0,g.x)(e))return function(e,t){return new c.c((function(n){var r;return(0,o.N)(n,t,(function(){r=e[u.l](),(0,o.N)(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(i){return void n.error(i)}o?n.complete():n.next(t)}),0,!0)})),function(){return(0,d.T)(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if((0,b.U)(e))return function(e,t){return f((0,b.C)(e),t)}(e,t)}throw(0,y.L)(e)}function w(e,t){return t?A(e,t):(0,r.Tg)(e)}},2916:(e,t,n)=>{"use strict";n.d(t,{R:()=>h});var r=n(9517),o=n(4888),i=n(6018),a=n(5201),s=n(4667),l=n(3645),c=n(5360),u=["addListener","removeListener"],d=["addEventListener","removeEventListener"],f=["on","off"];function h(e,t,n,v){if((0,l.T)(n)&&(v=n,n=void 0),v)return h(e,t,n).pipe((0,c.I)(v));var g=(0,r.zs)(function(e){return(0,l.T)(e.addEventListener)&&(0,l.T)(e.removeEventListener)}(e)?d.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return(0,l.T)(e.addListener)&&(0,l.T)(e.removeListener)}(e)?u.map(p(e,t)):function(e){return(0,l.T)(e.on)&&(0,l.T)(e.off)}(e)?f.map(p(e,t)):[],2),m=g[0],y=g[1];if(!m&&(0,s.X)(e))return(0,a.Z)((function(e){return h(e,t,n)}))((0,o.Tg)(e));if(!m)throw new TypeError("Invalid event target");return new i.c((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return m(t),function(){return y(t)}}))}function p(e,t){return function(n){return function(r){return e[n](t,r)}}}},5388:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(6018),o=n(3645),i=n(5360);function a(e,t,n){return n?a(e,t).pipe((0,i.I)(n)):new r.c((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)},i=e(r);return(0,o.T)(t)?function(){return t(r,i)}:void 0}))}},4888:(e,t,n)=>{"use strict";n.d(t,{Tg:()=>v});var r=n(9517),o=n(4667),i=n(308),a=n(6018),s=n(1785),l=n(3528),c=n(5597),u=n(47),d=n(7490),f=n(3645),h=n(8552),p=n(9824);function v(e){if(e instanceof a.c)return e;if(null!=e){if((0,s.l)(e))return y=e,new a.c((function(e){var t=y[p.s]();if((0,f.T)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,o.X)(e))return m=e,new a.c((function(e){for(var t=0;t<m.length&&!e.closed;t++)e.next(m[t]);e.complete()}));if((0,i.y)(e))return v=e,new a.c((function(e){v.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,h.m)}));if((0,l.T)(e))return g(e);if((0,u.x)(e))return n=e,new a.c((function(e){var t,o;try{for(var i=(0,r.Ju)(n),a=i.next();!a.done;a=i.next()){var s=a.value;if(e.next(s),e.closed)return}}catch(l){t={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}e.complete()}));if((0,d.U)(e))return t=e,g((0,d.C)(t))}var t,n,v,m,y;throw(0,c.L)(e)}function g(e){return new a.c((function(t){(function(e,t){var n,o,i,a;return(0,r.sH)(this,void 0,void 0,(function(){var s,l;return(0,r.YH)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=(0,r.xN)(e),c.label=1;case 1:return[4,n.next()];case 2:if((o=c.sent()).done)return[3,4];if(s=o.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=c.sent(),i={error:l},[3,11];case 6:return c.trys.push([6,,9,10]),o&&!o.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},7260:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var r=n(3307),o=n(4888),i=n(6953),a=n(9728),s=n(4802);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.lI)(e),l=(0,a.R0)(e,1/0),c=e;return c.length?1===c.length?(0,o.Tg)(c[0]):(0,r.U)(l)((0,s.H)(c,n)):i.w}},3730:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(9517);function o(e,t,n,r,o){return new i(e,t,n,r,o)}var i=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,r.C6)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(3237).vU)},3890:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var r=n(8091),o=n(3730);function i(e,t){return(0,r.N)((function(n,r){var i=0;n.subscribe((0,o._)(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}},4988:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(8091),o=n(3730);function i(e,t){return(0,r.N)((function(n,r){var i=0;n.subscribe((0,o._)(r,(function(n){r.next(e.call(t,n,i++))})))}))}},3307:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(5201),o=n(3551);function i(e){return void 0===e&&(e=1/0),(0,r.Z)(o.D,e)}},5201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(4988),o=n(4888),i=n(8091),a=n(7223),s=n(3730);var l=n(3645);function c(e,t,n){return void 0===n&&(n=1/0),(0,l.T)(t)?c((function(n,i){return(0,r.T)((function(e,r){return t(n,e,i,r)}))((0,o.Tg)(e(n,i)))}),n):("number"===typeof t&&(n=t),(0,i.N)((function(t,r){return function(e,t,n,r,i,l,c,u){var d=[],f=0,h=0,p=!1,v=function(){!p||d.length||f||t.complete()},g=function(e){return f<r?m(e):d.push(e)},m=function(e){l&&t.next(e),f++;var u=!1;(0,o.Tg)(n(e,h++)).subscribe((0,s._)(t,(function(e){null===i||void 0===i||i(e),l?g(e):t.next(e)}),(function(){u=!0}),void 0,(function(){if(u)try{f--;for(var e=function(){var e=d.shift();c?(0,a.N)(t,c,(function(){return m(e)})):m(e)};d.length&&f<r;)e();v()}catch(n){t.error(n)}})))};return e.subscribe((0,s._)(t,g,(function(){p=!0,v()}))),function(){null===u||void 0===u||u()}}(t,r,e,n)})))}},2355:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var r=n(6953),o=n(8091),i=n(3730);function a(e){return e<=0?function(){return r.w}:(0,o.N)((function(t,n){var r=0;t.subscribe((0,i._)(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}},1659:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(8091),o=n(3730),i=n(4888),a=n(4033);function s(e){return(0,r.N)((function(t,n){(0,i.Tg)(e).subscribe((0,o._)(n,(function(){return n.complete()}),a.l)),!n.closed&&t.subscribe(n)}))}},6375:(e,t,n)=>{"use strict";n.d(t,{c:()=>y});var r=n(9517),o=function(e){function t(t,n){return e.call(this)||this}return(0,r.C6)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(3437).yU),i={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=i.delegate;return(null===a||void 0===a?void 0:a.setInterval)?a.setInterval.apply(a,(0,r.fX)([e,t],(0,r.zs)(n))):setInterval.apply(void 0,(0,r.fX)([e,t],(0,r.zs)(n)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=i.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},a=n(2210),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,r.C6)(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),i.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&i.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(o){r=!0,n=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.o)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o),l={now:function(){return(l.delegate||Date).now()},delegate:void 0},c=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=l.now,e}(),u=new(function(e){function t(t,n){void 0===n&&(n=c.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,r.C6)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(c))(s),d=u,f=n(8091),h=n(3730),p=n(4888);var v=n(6018),g=n(2824);function m(e,t,n){void 0===e&&(e=0),void 0===n&&(n=d);var r=-1;return null!=t&&((0,g.m)(t)?n=t:r=t),new v.c((function(t){var o,i=(o=e)instanceof Date&&!isNaN(o)?+e-n.now():e;i<0&&(i=0);var a=0;return n.schedule((function(){t.closed||(t.next(a++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function y(e,t,n){void 0===t&&(t=u);var r=m(e,t);return function(e,t){return(0,f.N)((function(n,r){var o=null!==t&&void 0!==t?t:{},i=o.leading,a=void 0===i||i,s=o.trailing,l=void 0!==s&&s,c=!1,u=null,d=null,f=!1,v=function(){null===d||void 0===d||d.unsubscribe(),d=null,l&&(y(),f&&r.complete())},g=function(){d=null,f&&r.complete()},m=function(t){return d=(0,p.Tg)(e(t)).subscribe((0,h._)(r,v,g))},y=function(){if(c){c=!1;var e=u;u=null,r.next(e),!f&&m(e)}};n.subscribe((0,h._)(r,(function(e){c=!0,u=e,(!d||d.closed)&&(a?y():m(e))}),(function(){f=!0,(!(l&&c&&d)||d.closed)&&r.complete()})))}))}((function(){return r}),n)}},2187:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var r=n(9517),o=n(8091),i=n(3730),a=n(4888),s=n(3551),l=n(4033),c=n(9728);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,c.ms)(e);return(0,o.N)((function(t,o){for(var c=e.length,u=new Array(c),d=e.map((function(){return!1})),f=!1,h=function(t){(0,a.Tg)(e[t]).subscribe((0,i._)(o,(function(e){u[t]=e,f||d[t]||(d[t]=!0,(f=d.every(s.D))&&(d=null))}),l.l))},p=0;p<c;p++)h(p);t.subscribe((0,i._)(o,(function(e){if(f){var t=(0,r.fX)([e],(0,r.zs)(u));o.next(n?n.apply(void 0,(0,r.fX)([],(0,r.zs)(t))):t)}})))}))}},4204:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var r=n(9517),o={setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=o.delegate;return(null===a||void 0===a?void 0:a.setTimeout)?a.setTimeout.apply(a,(0,r.fX)([e,t],(0,r.zs)(n))):setTimeout.apply(void 0,(0,r.fX)([e,t],(0,r.zs)(n)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=o.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0}},7631:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},9824:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r="function"===typeof Symbol&&Symbol.observable||"@@observable"},9500:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=(0,n(7975).L)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}))},9728:(e,t,n)=>{"use strict";n.d(t,{R0:()=>l,lI:()=>s,ms:()=>a});var r=n(3645),o=n(2824);function i(e){return e[e.length-1]}function a(e){return(0,r.T)(i(e))?e.pop():void 0}function s(e){return(0,o.m)(i(e))?e.pop():void 0}function l(e,t){return"number"===typeof i(e)?e.pop():t}},2210:(e,t,n)=>{"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{o:()=>r})},7975:(e,t,n)=>{"use strict";function r(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{L:()=>r})},6668:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i,l:()=>a});var r=n(988),o=null;function i(e){if(r.$.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,i=n.errorThrown,a=n.error;if(o=null,i)throw a}}else e()}function a(e){r.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},7223:(e,t,n)=>{"use strict";function r(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}n.d(t,{N:()=>r})},3551:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{D:()=>r})},4667:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},3528:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(3645);function o(e){return Symbol.asyncIterator&&(0,r.T)(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}},3645:(e,t,n)=>{"use strict";function r(e){return"function"===typeof e}n.d(t,{T:()=>r})},1785:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(9824),o=n(3645);function i(e){return(0,o.T)(e[r.s])}},47:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7631),o=n(3645);function i(e){return(0,o.T)(null===e||void 0===e?void 0:e[r.l])}},308:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var r=n(3645);function o(e){return(0,r.T)(null===e||void 0===e?void 0:e.then)}},7490:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,U:()=>a});var r=n(9517),o=n(3645);function i(e){return(0,r.AQ)(this,arguments,(function(){var t,n,o;return(0,r.YH)(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,r.N3)(t.read())];case 3:return n=i.sent(),o=n.value,n.done?[4,(0,r.N3)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,r.N3)(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function a(e){return(0,o.T)(null===e||void 0===e?void 0:e.getReader)}},2824:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(3645);function o(e){return e&&(0,r.T)(e.schedule)}},8091:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(3645);function o(e){return function(t){if(function(e){return(0,r.T)(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}},5360:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var r=n(9517),o=n(4988),i=Array.isArray;function a(e){return(0,o.T)((function(t){return function(e,t){return i(t)?e.apply(void 0,(0,r.fX)([],(0,r.zs)(t))):e(t)}(e,t)}))}},4033:(e,t,n)=>{"use strict";function r(){}n.d(t,{l:()=>r})},8552:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(988),o=n(4204);function i(e){o.f.setTimeout((function(){var t=r.$.onUnhandledError;if(!t)throw e;t(e)}))}},5597:(e,t,n)=>{"use strict";function r(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,{L:()=>r})},472:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={toolbar:"toolbar-HiO4Z",toolbarSection:"toolbarSection-GXDh9",scroll:"scroll-_xQfY",scrollContent:"scrollContent-mrv_v",toolbarContent:"toolbarContent-Kl_rU",menuItemActive:"menuItemActive-AtYIG",icon:"icon-UcU9F",override:"override-I9fWN",actionIcon:"actionIcon-lGiua",actionButton:"actionButton-R1zbK",text:"text-TdfkT",settingMenu:"settingMenu-FclrS",menuItemPopoverWrp:"menuItemPopoverWrp-eEcpq",tradeSettingsMenuItem:"tradeSettingsMenuItem-VdIQH",hasArrow:"hasArrow-XzfaJ",checkbox:"checkbox-mzN7_",disabled:"disabled-eoaVw",menuItemLeft:"menuItemLeft-hfxUh",arrowIcon:"arrowIcon-k8cDX",subMenuBody:"subMenuBody-cfvn8",subMenuItem:"subMenuItem-Ub5Q8",switchLabel:"switchLabel-EYY7X",dropdownSelect:"dropdownSelect-kKdNH",subMenuDesc:"subMenuDesc-IXWIf",title:"title-tQblv",logo:"logo-h6ofY",typeSwitch:"typeSwitch-qpPBp",typeSwitchButton:"typeSwitchButton-lEMeE",selected:"selected-pNbhn",resolutionList:"resolutionList-wG5Bg",resolutionButton:"resolutionButton-j7ta5",resolutionValue:"resolutionValue-a6wE8",resolutionMenu:"resolutionMenu-bDqxM",resolutionShortcutTipWrap:"resolutionShortcutTipWrap-C1KBr",resolutionShortcutTipBox:"resolutionShortcutTipBox-Pqw5T",resolutionSection:"resolutionSection-xECUG",resolutionSectionHeader:"resolutionSectionHeader-nVOFM","button-area":"button-area-gBRyg",buttonArea:"button-area-gBRyg",resolutionEditButton:"resolutionEditButton-ofl0M",resolutionEditButtonIcon:"resolutionEditButtonIcon-sapq9",resolutionItemContainer:"resolutionItemContainer-KOAsg",resolutionItemGridContainer:"resolutionItemGridContainer-_EAC8",resolutionItem:"resolutionItem-S8rm6",resolutionEditIcon:"resolutionEditIcon-wWvkb",resolutionItemDelete:"resolutionItemDelete-Mp6cY","close-icon-container":"close-icon-container-MyJ6u",closeIconContainer:"close-icon-container-MyJ6u",selectText:"selectText-rmRQQ",chartStyleItem:"chartStyleItem-gUjgl",chartStyle:"chartStyle-oajSi",chartStyleIcon:"chartStyleIcon-vpxnG",chartStyleActionButton:"chartStyleActionButton-caflH",layoutSelectMenuItem:"layoutSelectMenuItem-K_hxV",layoutOptions:"layoutOptions-pOHAw",layoutButton:"layoutButton-x5OLN",tooltipText:"tooltipText-L24SR",layoutSyncTitle:"layoutSyncTitle-ClLfl",layoutSyncItem:"layoutSyncItem-xrEeo",button:"button-rmkd1",toolbarColumn:"toolbarColumn-hD0RZ",toolbarItems:"toolbarItems-AXiUX",toolbarSlot:"toolbarSlot-pt58b",toolbarHeaderLeft:"toolbarHeaderLeft-r7sJI",toolbarHeaderRight:"toolbarHeaderRight-NiCLu",toolbarPortal:"toolbarPortal-VAByo","absolution-float":"absolution-float-OcgT5",absolutionFloat:"absolution-float-OcgT5","close-icon":"close-icon-tKauJ",closeIcon:"close-icon-tKauJ","custom-intervals-title":"custom-intervals-title-HDT6n",customIntervalsTitle:"custom-intervals-title-HDT6n"}},5222:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={menu:"menu-NoPLd",menuItem:"menuItem-tP3B6",active:"active-Xq1iy",static:"static-Wj7ot",dropdownArrow:"dropdownArrow-WvMHF",open:"open-MGQD_"}},8845:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={container:"container-saVlN",fullscreen:"fullscreen-YBOPT",orderInput:"orderInput-Khra4",orderInputMain:"orderInputMain-Xxj74",orderInputControl:"orderInputControl-uD5aC",iconfont:"iconfont-G5EEm",orderInputDrag:"orderInputDrag-tEG1G",orderInputClose:"orderInputClose-nFQPp",orderInputButton:"orderInputButton-wIl0r",override:"override-W870a",orderInputButtonContent:"orderInputButtonContent-qjyuj",orderInputAmount:"orderInputAmount-MgO3h",orderInputAmountInput:"orderInputAmountInput-_CRS1",orderInputAmountLabel:"orderInputAmountLabel-QHrwY",orderInputAmountInputContent:"orderInputAmountInputContent-zQAT9",focus:"focus-yNBcN",fastMode:"fastMode-I7WYM",visible:"visible-rzQul",orderInputPanel:"orderInputPanel-mVezm",orderInputPanelContent:"orderInputPanelContent-eajIr",disableAnimation:"disableAnimation-gxcWp",amountLabels:"amountLabels-DnyXZ",amountLabel:"amountLabel-dvMw5",buySellLabels:"buySellLabels-YncJg",buySellLabel:"buySellLabel-AVAZm",buySellLabelPlaceholder:"buySellLabelPlaceholder-N7Efu",error:"error-xiu54",active:"active-lO2xu",floatMode:"floatMode-JioYV"}},722:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={container:"container-ilIlJ",loader:"loader-ZU0Uc"}},9749:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={flexLayoutRow:"flexLayoutRow-dsFqr",flexLayoutColumn:"flexLayoutColumn-Am3im",flex:"flex-B29Pd"}},6411:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={chart:"chart-S3NsP",fullScreen:"fullScreen-W9bg7"}},504:()=>{},4883:t=>{"use strict";t.exports=e},1845:e=>{"use strict";e.exports=t},8032:e=>{"use strict";e.exports=n},5314:e=>{"use strict";e.exports=r},5061:e=>{"use strict";e.exports=o},3450:e=>{"use strict";e.exports=i},2475:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},7383:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},4579:(e,t,n)=>{var r=n(7736);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3072:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9511:(e,t,n)=>{var r=n(5636);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},7550:e=>{e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},8452:(e,t,n)=>{var r=n(3738).default,o=n(2475);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},5636:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:(e,t,n)=>{var r=n(3738).default,o=n(9045);e.exports=function(e){var t=o(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},792:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},3145:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},467:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,l,"next",e)}function l(e){r(a,o,i,s,l,"throw",e)}s(void 0)}))}}n.d(t,{A:()=>o})},3029:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{A:()=>r})},4473:(e,t,n)=>{"use strict";function r(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}n.d(t,{A:()=>r})},8341:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=0;function o(e){return"__private_"+r+++"_"+e}},2901:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(816);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,r.A)(o.key),o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4765:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7800);function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.A)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(816);function o(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},991:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3954);function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.A)(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},o.apply(this,arguments)}},3954:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{A:()=>r})},5501:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3662);function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.A)(e,t)}},2176:(e,t,n)=>{"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{A:()=>r})},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4467);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},3986:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{A:()=>r})},388:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2284);function o(e,t){if(t&&("object"===(0,r.A)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}},675:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2284);function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(L){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),s=new x(r||[]);return i(a,"_invoke",{value:C(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=d;var h={};function p(){}function v(){}function g(){}var m={};u(m,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==t&&n.call(b,s)&&(m=b);var A=g.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(i,a,s,l){var c=f(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==(0,r.A)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,l)}),(function(e){o("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return o("throw",e,s,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function C(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return v.prototype=g,i(A,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},w(_.prototype),u(_.prototype,l,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(A),u(A,c,"Generator"),u(A,s,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},3662:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{A:()=>r})},296:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7800);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||(0,r.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5458:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3145);var o=n(7800);function i(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2284);function o(e){var t=function(e,t){if("object"!==(0,r.A)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.A)(t)?t:String(t)}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},7800:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3145);function o(e,t){if(e){if("string"===typeof e)return(0,r.A)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}},5818:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(3954),o=n(3662);var i=n(2176);function a(e,t,n){return a=(0,i.A)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,o.A)(i,n.prototype),i},a.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return a(e,arguments,(0,r.A)(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,o.A)(i,e)},s(e)}},5415:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});const r=function(){this.__data__=[],this.size=0};var o=n(4930);const i=function(e,t){for(var n=e.length;n--;)if((0,o.A)(e[n][0],t))return n;return-1};var a=Array.prototype.splice;const s=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)};const l=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]};const c=function(e){return i(this.__data__,e)>-1};const u=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=r,d.prototype.delete=s,d.prototype.get=l,d.prototype.has=c,d.prototype.set=u;const f=d},613:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8317),o=n(7179);const i=(0,r.A)(o.A,"Map")},4497:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});const r=(0,n(8317).A)(Object,"create");const o=function(){this.__data__=r?r(null):{},this.size=0};const i=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var a=Object.prototype.hasOwnProperty;const s=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0};var l=Object.prototype.hasOwnProperty;const c=function(e){var t=this.__data__;return r?void 0!==t[e]:l.call(t,e)};const u=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this};function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=o,d.prototype.delete=i,d.prototype.get=s,d.prototype.has=c,d.prototype.set=u;const f=d;var h=n(5415),p=n(613);const v=function(){this.size=0,this.__data__={hash:new f,map:new(p.A||h.A),string:new f}};const g=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const m=function(e,t){var n=e.__data__;return g(t)?n["string"==typeof t?"string":"hash"]:n.map};const y=function(e){var t=m(this,e).delete(e);return this.size-=t?1:0,t};const b=function(e){return m(this,e).get(e)};const A=function(e){return m(this,e).has(e)};const w=function(e,t){var n=m(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_.prototype.clear=v,_.prototype.delete=y,_.prototype.get=b,_.prototype.has=A,_.prototype.set=w;const C=_},908:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(5415);const o=function(){this.__data__=new r.A,this.size=0};const i=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const a=function(e){return this.__data__.get(e)};const s=function(e){return this.__data__.has(e)};var l=n(613),c=n(4497);const u=function(e,t){var n=this.__data__;if(n instanceof r.A){var o=n.__data__;if(!l.A||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new c.A(o)}return n.set(e,t),this.size=n.size,this};function d(e){var t=this.__data__=new r.A(e);this.size=t.size}d.prototype.clear=o,d.prototype.delete=i,d.prototype.get=a,d.prototype.has=s,d.prototype.set=u;const f=d},3311:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(7179).A.Symbol},3658:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(7179).A.Uint8Array},1095:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});const r=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var o=n(6188),i=n(7243),a=n(5783),s=n(2927),l=n(8213),c=Object.prototype.hasOwnProperty;const u=function(e,t){var n=(0,i.A)(e),u=!n&&(0,o.A)(e),d=!n&&!u&&(0,a.A)(e),f=!n&&!u&&!d&&(0,l.A)(e),h=n||u||d||f,p=h?r(e.length,String):[],v=p.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||(0,s.A)(g,v))||p.push(g);return p}},2602:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5337);const o=function(e,t,n){"__proto__"==t&&r.A?(0,r.A)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1013:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}()},1677:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(3311),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.A?r.A.toStringTag:void 0;const l=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o};var c=Object.prototype.toString;const u=function(e){return c.call(e)};var d=r.A?r.A.toStringTag:void 0;const f=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?l(e):u(e)}},5337:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8317);const o=function(){try{var e=(0,r.A)(Object,"defineProperty");return e({},"",{}),e}catch(t){}}()},5734:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="object"==typeof global&&global&&global.Object===Object&&global},8317:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(2828);const o=n(7179).A["__core-js_shared__"];var i=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const a=function(e){return!!i&&i in e};var s=n(9883),l=n(239),c=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,f=u.toString,h=d.hasOwnProperty,p=RegExp("^"+f.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const v=function(e){return!(!(0,s.A)(e)||a(e))&&((0,r.A)(e)?p:c).test((0,l.A)(e))};const g=function(e,t){return null==e?void 0:e[t]};const m=function(e,t){var n=g(e,t);return v(n)?n:void 0}},2927:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=/^(?:0|[1-9]\d*)$/;const o=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},5101:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=Object.prototype;const o=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},9777:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){return function(n){return e(t(n))}}},7179:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5734),o="object"==typeof self&&self&&self.Object===Object&&self;const i=r.A||o||Function("return this")()},239:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=Function.prototype.toString;const o=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},4930:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){return e===t||e!==e&&t!==t}},3726:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return e}},6188:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(1677),o=n(8964);const i=function(e){return(0,o.A)(e)&&"[object Arguments]"==(0,r.A)(e)};var a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable;const c=i(function(){return arguments}())?i:function(e){return(0,o.A)(e)&&s.call(e,"callee")&&!l.call(e,"callee")}},7243:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=Array.isArray},1540:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2828),o=n(1684);const i=function(e){return null!=e&&(0,o.A)(e.length)&&!(0,r.A)(e)}},5783:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7179);const o=function(){return!1};var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,s=a&&a.exports===i?r.A.Buffer:void 0;const l=(s?s.isBuffer:void 0)||o},2828:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1677),o=n(9883);const i=function(e){if(!(0,o.A)(e))return!1;var t=(0,r.A)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1684:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},9883:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},8964:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return null!=e&&"object"==typeof e}},8213:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(1677),o=n(1684),i=n(8964),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;const s=function(e){return(0,i.A)(e)&&(0,o.A)(e.length)&&!!a[(0,r.A)(e)]};const l=function(e){return function(t){return e(t)}};var c=n(5734),u="object"==typeof exports&&exports&&!exports.nodeType&&exports,d=u&&"object"==typeof module&&module&&!module.nodeType&&module,f=d&&d.exports===u&&c.A.process,h=function(){try{var e=d&&d.require&&d.require("util").types;return e||f&&f.binding&&f.binding("util")}catch(t){}}();var p=h&&h.isTypedArray;const v=p?l(p):s},4108:(e,t,n)=>{"use strict";n.d(t,{A:()=>ce});var r=n(908),o=n(2602),i=n(4930);const a=function(e,t,n){(void 0!==n&&!(0,i.A)(e[t],n)||void 0===n&&!(t in e))&&(0,o.A)(e,t,n)};var s=n(1013),l=n(7179),c="object"==typeof exports&&exports&&!exports.nodeType&&exports,u=c&&"object"==typeof module&&module&&!module.nodeType&&module,d=u&&u.exports===c?l.A.Buffer:void 0,f=d?d.allocUnsafe:void 0;const h=function(e,t){if(t)return e.slice();var n=e.length,r=f?f(n):new e.constructor(n);return e.copy(r),r};var p=n(3658);const v=function(e){var t=new e.constructor(e.byteLength);return new p.A(t).set(new p.A(e)),t};const g=function(e,t){var n=t?v(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const m=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var y=n(9883),b=Object.create;const A=function(){function e(){}return function(t){if(!(0,y.A)(t))return{};if(b)return b(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const w=(0,n(9777).A)(Object.getPrototypeOf,Object);var _=n(5101);const C=function(e){return"function"!=typeof e.constructor||(0,_.A)(e)?{}:A(w(e))};var S=n(6188),k=n(7243),T=n(1540),x=n(8964);const P=function(e){return(0,x.A)(e)&&(0,T.A)(e)};var E=n(5783),L=n(2828),I=n(1677),O=Function.prototype,R=Object.prototype,M=O.toString,N=R.hasOwnProperty,D=M.call(Object);const B=function(e){if(!(0,x.A)(e)||"[object Object]"!=(0,I.A)(e))return!1;var t=w(e);if(null===t)return!0;var n=N.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&M.call(n)==D};var F=n(8213);const j=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var V=Object.prototype.hasOwnProperty;const H=function(e,t,n){var r=e[t];V.call(e,t)&&(0,i.A)(r,n)&&(void 0!==n||t in e)||(0,o.A)(e,t,n)};const z=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=r?r(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),i?(0,o.A)(n,l,c):H(n,l,c)}return n};var U=n(1095);const W=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var K=Object.prototype.hasOwnProperty;const G=function(e){if(!(0,y.A)(e))return W(e);var t=(0,_.A)(e),n=[];for(var r in e)("constructor"!=r||!t&&K.call(e,r))&&n.push(r);return n};const q=function(e){return(0,T.A)(e)?(0,U.A)(e,!0):G(e)};const Y=function(e){return z(e,q(e))};const Z=function(e,t,n,r,o,i,s){var l=j(e,n),c=j(t,n),u=s.get(c);if(u)a(e,n,u);else{var d=i?i(l,c,n+"",e,t,s):void 0,f=void 0===d;if(f){var p=(0,k.A)(c),v=!p&&(0,E.A)(c),b=!p&&!v&&(0,F.A)(c);d=c,p||v||b?(0,k.A)(l)?d=l:P(l)?d=m(l):v?(f=!1,d=h(c,!0)):b?(f=!1,d=g(c,!0)):d=[]:B(c)||(0,S.A)(c)?(d=l,(0,S.A)(l)?d=Y(l):(0,y.A)(l)&&!(0,L.A)(l)||(d=C(c))):f=!1}f&&(s.set(c,d),o(d,c,r,i,s),s.delete(c)),a(e,n,d)}};const X=function e(t,n,o,i,l){t!==n&&(0,s.A)(n,(function(s,c){if(l||(l=new r.A),(0,y.A)(s))Z(t,n,c,o,e,i,l);else{var u=i?i(j(t,c),s,c+"",t,n,l):void 0;void 0===u&&(u=s),a(t,c,u)}}),q)};var J=n(3726);const Q=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var $=Math.max;const ee=function(e,t,n){return t=$(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=$(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),Q(e,this,s)}};const te=function(e){return function(){return e}};var ne=n(5337);const re=ne.A?function(e,t){return(0,ne.A)(e,"toString",{configurable:!0,enumerable:!1,value:te(t),writable:!0})}:J.A;var oe=Date.now;const ie=function(e){var t=0,n=0;return function(){var r=oe(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(re);const ae=function(e,t){return ie(ee(e,t,J.A),e+"")};var se=n(2927);const le=function(e,t,n){if(!(0,y.A)(n))return!1;var r=typeof t;return!!("number"==r?(0,T.A)(n)&&(0,se.A)(t,n.length):"string"==r&&t in n)&&(0,i.A)(n[t],e)};const ce=function(e){return ae((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&le(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))}((function(e,t,n){X(e,t,n)}))},9517:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>d,C6:()=>o,Ju:()=>s,N3:()=>u,YH:()=>a,fX:()=>c,sH:()=>i,xN:()=>f,zs:()=>l});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function s(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function c(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function d(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof u?Promise.resolve(n.value.v).then(l,c):d(i[0][2],n)}catch(r){d(i[0][3],r)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function f(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=s(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError},867:e=>{"use strict";e.exports=JSON.parse('{"D":{"site":"common","project":"web_common"}}')}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return a[e].call(n.exports,n,n.exports,l),n.exports}l.m=a,l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>"common/"+({21:"CustomIntervalDialog",72:"PriceAlertDialog",125:"IndicatorSettingsDialog",228:"DrawingSettingBar",298:"HistoryDataToolsDialog",335:"OrderInput",350:"FavoriteDrawingBar",406:"DrawingShapeSettingDialog",423:"CustomExprDialog",460:"CompareDialog",503:"DrawingToolbarContent",533:"LegendGroup",626:"ChartSettingsDialog",635:"SymbolCompareSettingsDialog",733:"OrderRecordTip",822:"Depth",825:"EconomicCalendarTip",838:"Original",917:"OptionGroup",941:"MarketCap",993:"ContextMenu"}[e]||e)+"."+{21:"a3bea0e4",72:"95e3bb9e",78:"4766fd56",99:"65695914",125:"05ec822a",195:"d2c76384",204:"c5c8e5cd",228:"84309085",232:"c29803a3",298:"cef47ea6",335:"6d99ef85",350:"fa2ad8c5",399:"b0285153",406:"bae886b1",417:"76812783",423:"6bdbdcc5",460:"b55bc423",503:"a92c45b3",533:"7d24ad60",626:"866e9d3a",635:"1fcdfcad",733:"91af6f86",753:"eb0ec2bb",794:"fc8c5456",822:"c4852029",825:"e0a39ec1",828:"58d139bb",838:"5d736803",917:"216fc783",921:"4f381c20",941:"42d59e21",993:"8beb7f69"}[e]+".js",l.miniCssF=e=>"common/"+({21:"CustomIntervalDialog",72:"PriceAlertDialog",125:"IndicatorSettingsDialog",228:"DrawingSettingBar",298:"HistoryDataToolsDialog",335:"OrderInput",350:"FavoriteDrawingBar",406:"DrawingShapeSettingDialog",423:"CustomExprDialog",460:"CompareDialog",503:"DrawingToolbarContent",533:"LegendGroup",626:"ChartSettingsDialog",635:"SymbolCompareSettingsDialog",733:"OrderRecordTip",822:"Depth",825:"EconomicCalendarTip",838:"Original",917:"OptionGroup",993:"ContextMenu"}[e]||e)+"."+{21:"4e04fc42",72:"1649a5b6",78:"989fd42a",125:"92c83838",204:"6f9b6944",228:"d97d700a",298:"b39471c8",335:"f07bc37e",350:"02af339e",406:"e6cdffb1",423:"2a260f50",460:"fdf58265",503:"fc424f55",533:"4a01a9b7",626:"8deba961",635:"fde67c42",733:"c45ca8e9",822:"a16770b7",825:"13de3014",828:"115bdcd9",838:"4f03e2aa",917:"dea4ce87",921:"9027ab4c",993:"22db3b03"}[e]+".css",l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="CandleChartV2:";l.l=(n,r,o,i)=>{if(e[n])e[n].push(r);else{var a,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[r];var f=(t,r)=>{a.onerror=a.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),s&&document.head.appendChild(a)}}})(),l.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e+"../"})(),(()=>{try{if(l.miniCssF){var e=l.miniCssF;l.miniCssF=function(t){var n=e(t);if("string"!==typeof n)return n;var r=window._okGlobal||window.okGlobal,o=r&&r.isRTL;return window.__INIT_STATE__&&window.__INIT_STATE__.appContext&&(o=window.__INIT_STATE__.appContext.enableRTL&&o),o&&/\.css$/.test(n)?n.replace(/\.css$/,".rtl.css"):n}}}catch(t){}})(),(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,n)=>{var r=l.miniCssF(e),o=l.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}})(r,o))return t();((e,t,n,r,o)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",l.nc&&(i.nonce=l.nc),i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)r();else{var a=n&&n.type,s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,i.parentNode&&i.parentNode.removeChild(i),o(l)}},i.href=t,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i)})(e,o,null,t,n)})),t={387:0};l.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{21:1,72:1,78:1,125:1,204:1,228:1,298:1,335:1,350:1,406:1,423:1,460:1,503:1,533:1,626:1,635:1,733:1,822:1,825:1,828:1,838:1,917:1,921:1,993:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={387:0};l.f.j=(t,n)=>{var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else if(78!=t){var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=l.p+l.u(t),a=new Error;l.l(i,(n=>{if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}else e[t]=0};var t=(t,n)=>{var r,o,[i,a,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in a)l.o(a,r)&&(l.m[r]=a[r]);if(s)s(l)}for(t&&t(n);c<i.length;c++)o=i[c],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkCandleChartV2=self.webpackChunkCandleChartV2||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c={};return(()=>{"use strict";l.r(c),l.d(c,{BaseDataFeed:()=>Dt,Chart:()=>bt,ChartContextProvider:()=>A.Zh,ChartRoot:()=>ae.Ay,ChartToolbar:()=>Wt,ChartType:()=>P.N,ContextMenuActionId:()=>Y.Q,ContractType:()=>E.h$,DataFeedError:()=>Bt.z,Feature:()=>At.Xj,FormatterType:()=>Gt.lQ,IndicatorType:()=>Kt._,Layout:()=>Ce.P,LineTextHorizontalAlign:()=>Yt.DF,MenuName:()=>Y.z,OKXDataFeed:()=>Vt,OrderStatus:()=>Gt.Re,OrderType:()=>Gt.ZN,OriginalLineStyle:()=>Et.S,ParentType:()=>Gt.pi,PriceType:()=>E.SJ,Resolution:()=>Ot.jg,Side:()=>Gt.mn,StopSide:()=>Gt.s0,SymbolType:()=>E.r3,TradeMode:()=>Gt.mj,TradeUnit:()=>E.Nl,TradingViewLineStyle:()=>qt.Sc,Unit:()=>E.Nf,default:()=>Xt,utils:()=>Zt});var e,t=l(675),n=l(467),r=l(3029),o=l(2901),i=l(4883),a=l.n(i),s=l(1845),u=l.n(s),d=l(9379),f=l(388),h=l(2176),p=l(3954),v=l(5501),g=l(3986),m=l(296),y=l(5314),b=l(5061),A=l(8437),w=l(792),_=l.n(w),C=l(4354),S=l(9092),k=l(1529),T=l(9749),x=l(8656),P=l(1029),E=l(946),L=l(1994),I=l(2992),O=l(5851),R=l(5177),M=l(4467),N=l(7769),D=l(3023),B=l(8887),F=l(7544),j=l(4414),V=l(1535),H=l(472);function z(e){switch(e){case F.K.Bars:return"okx-candle-chart-bars";case F.K.Candles:return"okx-candle-chart-candles";case F.K.HollowCandles:return"okx-candle-chart-hollow-candles";case F.K.Column:return"okx-candle-chart-columns";case F.K.Line:return"okx-candle-chart-line";case F.K.Area:return"okx-candle-chart-area";case F.K.Baseline:return"okx-candle-chart-baseline";case F.K.HeikenAshi:case F.K.CandlesHLC:return"okx-candle-chart-heikin-ashi";case F.K.LineWithMarkers:return"okx-candle-chart-line-with-markers";case F.K.Stepline:return"okx-candle-chart-step-line";case F.K.HLCArea:return"okx-candle-chart-hlc-area";case F.K.HiLo:return"okx-candle-chart-high-low";case F.K.Renko:return"okx-candle-chart-renko";case F.K.LineBreak:return"okx-candle-chart-line-break";case F.K.Kagi:return"okx-candle-chart-kagi";case F.K.PointAndFigure:return"okx-candle-chart-point-figure";default:return""}}var U=(e={},(0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)(e,F.K.Bars,"bars"),F.K.Candles,"candles"),F.K.HollowCandles,"hollow_candles"),F.K.Column,"columns"),F.K.Line,"line"),F.K.Area,"area"),F.K.Baseline,"baseline"),F.K.HeikenAshi,"heikin_ashi"),F.K.LineWithMarkers,"line_with_markers"),F.K.Stepline,"stepline"),(0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)(e,F.K.HLCArea,"hlc_area"),F.K.VolCandle,"vol_candle"),F.K.HiLo,"high_low"),F.K.Renko,"renko"),F.K.LineBreak,"line_break"),F.K.Kagi,"kagi"),F.K.PointAndFigure,"point_figure"),F.K.CandlesHLC,"candle_stick_hlc")),W=new Map([[F.K.Bars,"spot_charts_dropdown_candlestick_bars"],[F.K.Candles,"spot_charts_dropdown_candlestick_candles"],[F.K.HollowCandles,"spot_charts_dropdown_candlestick_hollow_candles"],[F.K.Column,"spot_charts_dropdown_candlestick_columns"],[F.K.Line,"spot_charts_dropdown_candlestick_line"],[F.K.Area,"spot_charts_dropdown_candlestick_area"],[F.K.Baseline,"spot_charts_dropdown_candlestick_baseline"],[F.K.HeikenAshi,"spot_charts_dropdown_candlestick_heikin_ashi"],[F.K.LineWithMarkers,"trade_charts_charttype_markers"],[F.K.Stepline,"trade_charts_charttype_line"],[F.K.HLCArea,"trade_charts_charttype_hlc"],[F.K.HiLo,"trade_charts_charttype_highlow"],[F.K.Renko,"trade_charts_charttype_renko"],[F.K.LineBreak,"trade_charts_charttype_linebreak"],[F.K.Kagi,"trade_charts_charttype_kagi"],[F.K.PointAndFigure,"trade_charts_charttype_point"],[F.K.CandlesHLC,"spot_charts_dropdown_candlestick_hlc"]]);const K=function(e){var t=e.value,n=e.onChange,r=e.chartType,o=F.p[r];return(0,i.useEffect)((function(){var e;(0,D.dD)({chart_form:null!==(e=U[t])&&void 0!==e?e:t})}),[t]),a().createElement(j.W,null,null===o||void 0===o?void 0:o.map((function(e){return a().createElement(V.D,{key:e,className:_()(H.A.chartStyleItem,H.A.override,t===e?H.A.menuItemActive:""),onClick:function(){e!==t&&function(e){var t;null===n||void 0===n||n(e),(0,D.o2)({chart_form:null!==(t=U[e])&&void 0!==t?t:e})}(e)}},a().createElement("div",{className:H.A.chartStyle},a().createElement(N.A,{iconName:z(e),className:_()(H.A.icon,H.A.chartStyleIcon,H.A.override)}),(0,B.tl)(W.get(e))||e))})))};var G=l(5458),q=l(7462),Y=l(3253),Z=l(8313),X=l(9047);const J=(0,b.observer)((function(e){var t=(0,X.Q)(),n=(0,A.iK)(),r=n.contextMenu,o=n.chartTradeSettingActions,s=(0,i.useState)(0),l=(0,m.A)(s,2),c=l[0],u=l[1],d=(0,i.useMemo)((function(){if(r)return r.itemsProcessor((0,q.A)(t),{menuName:Y.z.DisplaySetting});if(o){var e=(0,q.A)(t),n=o().map((function(e,t){return{type:"left-checkbox",id:"custom-action-".concat(t),title:e.text,value:e.checked,onChange:function(t){var n;null===(n=e.action)||void 0===n||n.call(e,t)}}}));return null===e||void 0===e||e.push.apply(e,(0,G.A)(n)),e}return t}),[t,r,o,c]);return a().createElement(Z.tz,{items:d,compact:e.compact,forceUpdate:function(){u((function(e){return e+1}))}})}));var Q=l(8001),$=l(4820),ee=l(3840),te=l(8721);const ne=function(e){var t=e.dropdownMode,n=e.value,r=e.onChange,o=e.supportedTypes,s=(0,M.A)((0,M.A)((0,M.A)((0,M.A)({},P.N.Original,(0,B.tl)("ok_component_okline_common_original")),P.N.TradingView,"TradingView"),P.N.Depth,(0,B.tl)("ok_component_okline_common_depth")),P.N.MarketCap,(0,B.tl)("commonall_filter_title_market_cap")),l=Object.entries(s).filter((function(e){var t=(0,m.A)(e,1)[0];return!o||o.includes(t)})).map((function(e){var t=(0,m.A)(e,2),o=t[0],i=t[1];return{type:"default",id:o,title:i,active:n===o,action:function(){null===r||void 0===r||r(o),(0,k.gsY)({button_name:o.toLowerCase()})}}}));return(0,i.useEffect)((function(){(0,D.t)({chart_type:n.toLowerCase()}),n===P.N.MarketCap&&(0,k.fh_)()}),[n]),l.length<=1?null:t?a().createElement(ee.ms,{className:_()(H.A.selectText,H.A.actionButton),placement:Q.A.DIRECTION.bottomLeft,offset:[-16,0],content:a().createElement(Z.tz,{items:l,compact:!0})},a().createElement("div",null,a().createElement("span",null,s[n]),a().createElement(te.P,null))):a().createElement("div",{className:_()(H.A.typeSwitch)},l.map((function(e){return a().createElement($.A,{key:e.id,className:_()(H.A.typeSwitchButton,(0,M.A)({},H.A.selected,e.active)),onClick:function(){var t;t=e.id,n!==t&&(null===r||void 0===r||r(t),(0,k.gsY)({button_name:t.toLowerCase()}))}},e.title)})))};var re=l(1656),oe=l(7001),ie=l(61),ae=l(4905),se=l(3451),le=l(6439);const ce="icon-NUSfD",ue="override-G2yNL",de="divider-ahltu",fe="toolbarItem-tvhmP",he="toolbarButton-IgKPy",pe="active-uazCg",ve="disabled-PlDWM",ge="toolbarButtonText-kHK3j",me="redDot-1jxu2";function ye(e){var t=e.active,n=e.disabled,r=e.tooltip,o=e.icon,s=e.title,l=e.action,c=e.oneTimeTooltipId,u=e.oneTimeTooltipTitle,d=e.oneTimeTooltipContent,f=e.shortcutKey,h=e.renderInPortal,p=(0,ae.VT)(),v=(0,A.Bv)().fullscreen,g=(0,i.useContext)(We),y=(0,i.useRef)(null),b=(0,i.useState)(!1),w=(0,m.A)(b,2),C=w[0],S=w[1],k=(0,i.useState)((function(){return!!re.A.get(c)})),T=(0,m.A)(k,2),P=T[0],E=T[1],L=c&&!P,I=L&&C;(0,i.useEffect)((function(){if(L){var e=function(){S(!0)};return document.addEventListener("mousemove",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchstart",e)}}}),[]);var O=a().createElement("div",{className:fe},a().createElement("button",{type:"button",disabled:n,className:_()(he,(0,M.A)((0,M.A)((0,M.A)({},pe,t),ve,n),me,I&&!u&&!d)),onClick:function(){var e;n||(null!=c&&(E(!0),re.A.set(c,!0)),null===(e=y.current)||void 0===e||e.setVisible(!1),l&&(0,i.startTransition)(l))},onMouseLeave:function(){null!=c&&(E(!0),re.A.set(c,!0))}},o&&a().createElement(N.A,{"aria-label":s?"":(0,se.t)(r)||r,iconName:o,className:_()(ce,ue)}),s&&a().createElement("span",{className:ge},(0,se.t)(s)))),R={zIndex:h?void 0:0,noWrapper:!0,className:_()(fe),alwaysUpdatePopper:!0,rebirthPopper:!0,disabled:x.Fr,show:!(!I||!u&&!d)||void 0,placement:oe.A.DIRECTION.bottom,getContainer:function(){return h?null:null===p||void 0===p?void 0:p.current},getScrollContainer:function(){return v||null===g||void 0===g?void 0:g.current}};return I&&(u||d)?a().createElement(ie.A,Object.assign({},R,{title:(0,se.t)(u),description:(0,se.t)(d)}),O):a().createElement(oe.A,Object.assign({},R,{maxWidth:f?500:void 0,popupRef:y,title:f?a().createElement(le.D,{shortcutKey:f,text:(0,se.t)(r)||r}):(0,se.t)(r)||r}),O)}const be=function(e){var t=e.value,n=e.onChange,r=t?(0,B.tl)("ok_component_okline_str_fullscreen_close"):(0,B.tl)("ok_component_okline_str_fullscreen");return a().createElement(ye,{tooltip:r,shortcutKey:S.g.OnShortcutFullScreen,action:function(){setTimeout((function(){null===n||void 0===n||n(!t),(0,k.gsY)({button_name:"fullscreen"})}))},icon:t?"okx-candle-chart-fullscreen-outfull":"okx-candle-chart-window-infull"})};var Ae,we,_e=l(1484),Ce=l(3891),Se=l(9792),ke=(Ae={},(0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)(Ae,Ce.P.Layout1A,"okx-candle-chart-one"),Ce.P.Layout2A,"okx-candle-chart-2window-style1"),Ce.P.Layout2B,"okx-candle-chart-2window-style2"),Ce.P.Layout3A,"okx-candle-chart-3window-style3"),Ce.P.Layout3B,"okx-candle-chart-3window-style2"),Ce.P.Layout3C,"okx-candle-chart-3window-style1"),Ce.P.Layout3D,"okx-candle-chart-3window-style4"),Ce.P.Layout3E,"okx-candle-chart-3window-style5"),Ce.P.Layout3F,"okx-candle-chart-3window-style6"),Ce.P.Layout4A,"okx-candle-chart-4window-style1"),(0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)(Ae,Ce.P.Layout4B,"okx-candle-chart-4window-style2"),Ce.P.Layout4C,"okx-candle-chart-4window-style3"),Ce.P.Layout4D,"okx-candle-chart-4window-style4"),Ce.P.Layout4E,"okx-candle-chart-4window-style5"),Ce.P.Layout4F,"okx-candle-chart-4window-style6"),Ce.P.Layout5A,"okx-candle-chart-5window-style1"),Ce.P.Layout5B,"okx-candle-chart-5window-style2"),Ce.P.Layout5C,"okx-candle-chart-5window-style3"),Ce.P.Layout5D,"okx-candle-chart-5window-style4"),Ce.P.Layout6A,"okx-candle-chart-6window-style1"),(0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)(Ae,Ce.P.Layout6B,"okx-candle-chart-6window-style2"),Ce.P.Layout6C,"okx-candle-chart-6window-style3"),Ce.P.Layout7A,"okx-candle-chart-7window-style1"),Ce.P.Layout8A,"okx-candle-chart-8window-style1"),Ce.P.Layout8B,"okx-candle-chart-8window-style2"),Ce.P.Layout8C,"okx-candle-chart-8window-style3")),Te={1:[Ce.P.Layout1A],2:[Ce.P.Layout2A,Ce.P.Layout2B],3:[Ce.P.Layout3A,Ce.P.Layout3B,Ce.P.Layout3C,Ce.P.Layout3D,Ce.P.Layout3E,Ce.P.Layout3F],4:[Ce.P.Layout4A,Ce.P.Layout4B,Ce.P.Layout4C,Ce.P.Layout4D,Ce.P.Layout4E,Ce.P.Layout4F],5:[Ce.P.Layout5A,Ce.P.Layout5B,Ce.P.Layout5C,Ce.P.Layout5D],6:[Ce.P.Layout6A,Ce.P.Layout6B,Ce.P.Layout6C],7:[Ce.P.Layout7A],8:[Ce.P.Layout8A,Ce.P.Layout8B,Ce.P.Layout8C]},xe=(we={},(0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)(we,Ce.P.Layout1A,"1"),Ce.P.Layout2A,"2_horizontal"),Ce.P.Layout2B,"2_vertical"),Ce.P.Layout3A,"3_left_one_two"),Ce.P.Layout3B,"3_horizontal"),Ce.P.Layout3C,"3_vertical"),Ce.P.Layout3D,"3_bottom_one_two"),Ce.P.Layout3E,"3_top_one_two"),Ce.P.Layout3F,"3_right_one_two"),Ce.P.Layout4A,"4_quad"),(0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)(we,Ce.P.Layout4B,"4_horizontal"),Ce.P.Layout4C,"4_vertical"),Ce.P.Layout4D,"4_left_one_three"),Ce.P.Layout4E,"4_top_one_three"),Ce.P.Layout4F,"4_top_two_two"),Ce.P.Layout5A,"5_top_one_four"),Ce.P.Layout5B,"5_left_one_four"),Ce.P.Layout5C,"5_top_two_three"),Ce.P.Layout5D,"5_horizontal"),Ce.P.Layout6A,"6_horizontal_three_three"),(0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)((0,M.A)(we,Ce.P.Layout6B,"6_vertical_three_three"),Ce.P.Layout6C,"6_horizontal"),Ce.P.Layout7A,"7_horizontal"),Ce.P.Layout8A,"8_horizontal_four_four"),Ce.P.Layout8B,"8_vertical_four_four"),Ce.P.Layout8C,"8_horizontal")),Pe=(0,b.observer)((function(e){var t=e.supportedLayouts,n=e.value,r=e.onChange;return Object.entries(Te).map((function(e){var o=(0,m.A)(e,2),s=o[0],l=o[1].filter((function(e){return!t||t.includes(e)}));return 0===l.length?null:a().createElement(V.D,{key:s,className:_()(H.A.layoutSelectMenuItem,H.A.override),onClick:function(e){e.preventDefault()}},s,a().createElement("div",{className:H.A.layoutOptions},l.map((function(e){return a().createElement(Se.I,{key:e,className:_()(H.A.layoutButton,(0,M.A)({},H.A.selected,e===n)),onClick:function(){e!==n&&(0,i.startTransition)((function(){null===r||void 0===r||r(e),(0,k.IMR)({layout_type:xe[e]})}))}},a().createElement("i",{className:_()("iconfont",ke[e],H.A.icon,H.A.override)}))}))))}))})),Ee=(0,b.observer)((function(e){var t=(0,A.iK)().chartType,n=e.syncSetting,r=[{text:"trade_charts_textarea_symbol",tooltipText:"trade_charts_tooltips_symbol_changes_on_all_charts",monitorKey:"symbol",value:n.symbol,onChange:function(e){(0,y.runInAction)((function(){n.symbol=e}))}},{text:"trade_charts_textarea_interval",tooltipText:"trade_charts_tooltips_interval_changes_on_all",monitorKey:"interval",value:n.interval,onChange:function(e){(0,y.runInAction)((function(){n.interval=e}))}},{text:"trade_charts_textarea_crosshair",tooltipText:"trade_charts_tooltips_crosshair_changes_on_all_charts",monitorKey:"crosshair",value:n.crosshair,onChange:function(e){(0,y.runInAction)((function(){n.crosshair=e}))}},{text:"trade_charts_textarea_time",tooltipText:"trade_charts_tooltips_timeframe_changes_on_all_charts",monitorKey:"time",value:n.time,onChange:function(e){(0,y.runInAction)((function(){n.time=e}))}},{text:"trade_charts_textarea_date_range",tooltipText:"trade_charts_tooltips_date_range_changes_on",monitorKey:"date_range",value:n.dateRange,onChange:function(e){(0,y.runInAction)((function(){n.dateRange=e}))}}];return a().createElement(a().Fragment,null,a().createElement(V.D,{className:_()(H.A.layoutSelectMenuItem,H.A.override,H.A.layoutSyncTitle)},(0,se.tt)("trade_charts_textarea_sync_chart_layout")),r.map((function(e){return a().createElement(V.D,{key:e.text,className:_()(H.A.layoutSelectMenuItem,H.A.override,H.A.layoutSyncItem)},a().createElement(oe.A,{placement:oe.A.DIRECTION.left,className:_()(H.A.tooltipText,H.A.text),title:(0,se.tt)(e.tooltipText)},(0,se.tt)(e.text)),a().createElement(_e.A,{size:_e.A.SIZE.sm,checked:e.value,onChange:function(n){var r;(0,k._DV)({chart_type:t===P.N.Original?"original":"tradingview",synchronization_option:e.monitorKey}),null===(r=e.onChange)||void 0===r||r.call(e,n)}}))})))}));const Le=(0,b.observer)((function(e){var t=e.className,n=e.value,r=e.supportedLayouts,o=e.onChange,i=e.syncSetting,s=a().createElement(j.W,null,a().createElement(Pe,{value:n,supportedLayouts:r,onChange:o}),i&&a().createElement(Ee,{syncSetting:i}));return a().createElement(ee.ms,{className:_()(t,H.A.actionButton),content:s,offset:[-30,0]},a().createElement(N.A,{iconName:ke[n]||ke[Ce.P.Layout1A],className:_()(H.A.icon,H.A.override)}))}));var Ie=(0,M.A)((0,M.A)((0,M.A)({},E.SJ.LastPrice,"ok_component_okline_price_type_inst_price"),E.SJ.IndexPrice,"ok_component_okline_price_type_index_price"),E.SJ.MarkPrice,"ok_component_okline_price_type_mark_price"),Oe=(0,M.A)((0,M.A)((0,M.A)({},E.SJ.LastPrice,"last_price"),E.SJ.IndexPrice,"index_price"),E.SJ.MarkPrice,"mark_price");const Re=function(e){var t=e.allPriceTypes,n=e.value,r=e.onChange;(0,i.useEffect)((function(){(0,D.Ql)({price_type:Oe[n]})}),[n]);var o=function(e){null===r||void 0===r||r(e),(0,D.XE)({price_type:Oe[e]})},s=Object.entries(Ie).filter((function(e){var n=(0,m.A)(e,1)[0];return null==t||t.includes(n)})).map((function(e){var t=(0,m.A)(e,2),r=t[0],i=t[1];return{type:"default",id:r,title:(0,se.t)(i),active:n===r,action:function(){null===o||void 0===o||o(r)}}}));return a().createElement(ee.ms,{className:_()(H.A.selectText,H.A.actionButton),placement:Q.A.DIRECTION.bottomLeft,offset:[-12,0],content:a().createElement(Z.tz,{items:s,compact:!0})},a().createElement("div",null,a().createElement("span",null,(0,B.tl)(Ie[n])),a().createElement(te.P,null)))};var Me=l(3223),Ne=l(8174);function De(e){var t=e.onClick;return a().createElement(oe.A,{className:H.A.button,placement:oe.A.DIRECTION.bottom,title:a().createElement(le.D,{shortcutKey:S.g.OnShortcutOpenPlaceOrderPane,text:(0,B.tl)("trade_charts_tooltips_trade_panel")})},a().createElement(Ne.A,{id:"candle-chart-trade-button",category:Ne.A.CATEGORY.fill,type:Ne.A.TYPE.highlight,size:Ne.A.SIZE.xs,onClick:function(){null===t||void 0===t||t(),(0,k.gsY)({button_name:"trade"}),(0,k.cbX)({button_name:"trade"})}},(0,B.tl)("tradechart_header_nav_btn_trade")))}var Be,Fe,je=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Ve(e){var t=e.menu,n=e.disabled,r=je(e,["menu","disabled"]),o=a().useState(!1),i=(0,m.A)(o,2),s=i[0],l=i[1];return Array.isArray(t)&&(0===t.length||t.every((function(e){return!1===e.visible})))?null:a().createElement(ee.ms,{className:fe,trigger:Q.A.TRIGGER.click,offset:[-12,0],disabled:n,onVisibleChange:l,content:Array.isArray(t)?a().createElement(Z.tz,{items:t,compact:!0}):t},a().createElement(ye,Object.assign({},r,{disabled:n,active:s})))}!function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(Be||(Be={})),function(e){e.Divider="divider",e.Button="button",e.Dropdown="dropdown",e.Select="select"}(Fe||(Fe={}));var He=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function ze(e){var t=e.displayLevel,n=He(e,["displayLevel"]);switch(n.type){case Fe.Button:return a().createElement(ye,Object.assign({},n,{title:t===Be.Large?n.title:void 0}));case Fe.Dropdown:return a().createElement(Ve,Object.assign({},n,{title:t===Be.Large?n.title:void 0}));case Fe.Divider:return a().createElement("div",{className:de});default:return null}}var Ue=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},We=a().createContext(null);function Ke(e,t){return void 0!==t?t:e}const Ge=(0,b.observer)((function(e){var n,r,o=this,l=e.leftSlot,c=e.middleSlot,d=e.rightSlot,f=(0,A.Ht)(),h=function(e){return null==e?null:"function"===typeof e?e():e},p=null!==l&&void 0!==l?l:h(f.ToolbarLeftSlot),v=null!==c&&void 0!==c?c:h(f.ToolbarMiddleSlot),g=null!==d&&void 0!==d?d:h(f.ToolbarRightSlot),y=(0,A.Bv)(),b=y.chartCount,w=y.fullscreen,M=y.pinnedResolutions,N=y.setFullscreen,D=y.setPinnedResolutions,B=y.setChartType,F=y.activeArea,j=y.internalWidget,V=y.priceAlertStore,U=y.setLayout,G=y.syncSetting,q=y.dialogManager,Y=y.datafeedConfig,Z=y.undoRedoState,X=(0,A.iK)(),Q=X.layout,$=X.supportedLayouts,ee=X.supportedPriceTypes,te=X.supportedChartTypes,re=X.enableHeaderSimpleMode,oe=X.enableHeaderPriceTypeMenu,ie=X.enableHeaderLayoutSelectMenu,ae=X.enableHeaderCandleStyleMenu,se=X.enableHeaderCompareSymbolMenu,le=X.enableHeaderFullscreenButton,ce=X.enableHeaderKLineTradeMode,ue=X.enableMultiCharts,de=X.enableHistoryDataTools,fe=X.enablePriceAlert,he=X.enableCustomExpr,pe=X.enableSymbolCompare,ve=X.enableTrade,ge=X.chartType,me=X.renderAlertHeaderPortal,ye=X.getTradeHeader,Ae=X.openPlaceOrderPane,we=X.headerPortalRef,_e=X.chartProperties,Ce=(0,A.OY)(null===F||void 0===F?void 0:F.tickerSymbol),Se=Ce.type&&Ce.type!==E.r3.Spot,ke=(0,i.useRef)(null),Te=(0,i.useRef)(null),xe=(0,i.useState)(Be.Large),Pe=(0,m.A)(xe,2),Ee=Pe[0],Ie=Pe[1],Oe=(0,i.useState)((function(){return new Map})),Ne=(0,m.A)(Oe,1)[0],je=V.getAlertsByName(null===F||void 0===F?void 0:F.symbol).length,Ve="function"===typeof ye&&ye(),He=(0,i.useMemo)((function(){return(0,I.XR)(Y)}),[Y]),Ge=function(e){return e.filter((function(e){switch(e.type){case Fe.Button:case Fe.Dropdown:return e.visible;default:return!0}})).reduce((function(e,t,n,r){return t.type!==Fe.Divider||0!==n&&n!==r.length-1&&e[e.length-1].type!==Fe.Divider?(e.push(t),e):e}),[])}([{type:Fe.Dropdown,visible:Ke(!re&&ae,null===_e||void 0===_e?void 0:_e["toolbar.candle_style.visible"]),id:"candle_style",tooltip:(r=F.chartStyle,W.get(r)),icon:z(null===F||void 0===F?void 0:F.chartStyle),menu:a().createElement(K,{value:null===F||void 0===F?void 0:F.chartStyle,onChange:function(e){var t;if(F){var n=F,r=n.chartStyle;n.setChartStyle(e),ge===P.N.Original&&(null===(t=null===j||void 0===j?void 0:j.addUndoHistory)||void 0===t||t.call(j,{index:n.chartIndex,description:"set_chart_style",redo:function(){return n.setChartStyle(e)},undo:function(){return n.setChartStyle(r)}}))}},chartType:ge}),oneTimeTooltipId:null===_e||void 0===_e?void 0:_e["toolbar.candle_style.oneTimeTooltipId"],oneTimeTooltipTitle:null===_e||void 0===_e?void 0:_e["toolbar.candle_style.oneTimeTooltipTitle"],oneTimeTooltipContent:null===_e||void 0===_e?void 0:_e["toolbar.candle_style.oneTimeTooltipContent"]},{type:Fe.Divider},{type:Fe.Button,visible:Ke(!0,null===_e||void 0===_e?void 0:_e["toolbar.indicator.visible"]),id:"indicator",icon:"okx-candle-chart-indicator",title:"ok_component_okline_str_indicator",tooltip:"ok_component_okline_str_indicator",shortcutKey:S.g.OnShortcutOpenIndicatorDialog,action:function(){null===j||void 0===j||j.openIndicatorSettingsDialog(),(0,k.gsY)({button_name:"indicator"})},oneTimeTooltipId:null===_e||void 0===_e?void 0:_e["toolbar.indicator.oneTimeTooltipId"],oneTimeTooltipTitle:null===_e||void 0===_e?void 0:_e["toolbar.indicator.oneTimeTooltipTitle"],oneTimeTooltipContent:null===_e||void 0===_e?void 0:_e["toolbar.indicator.oneTimeTooltipContent"]},{type:Fe.Dropdown,visible:Ke(ve&&!(null===F||void 0===F?void 0:F.isCustomExpr)&&Boolean(null===F||void 0===F?void 0:F.isLastPrice),null===_e||void 0===_e?void 0:_e["toolbar.chart_display.visible"]),id:"chart_display",icon:"okx-candle-chart-display-1",title:"ok_component_okline_tooltip_display",tooltip:"ok_component_okline_tooltip_display",action:function(){(0,k.gsY)({button_name:"display_setting"})},menu:a().createElement(J,{compact:!0}),oneTimeTooltipId:null===_e||void 0===_e?void 0:_e["toolbar.chart_display.oneTimeTooltipId"],oneTimeTooltipTitle:null===_e||void 0===_e?void 0:_e["toolbar.chart_display.oneTimeTooltipTitle"],oneTimeTooltipContent:null===_e||void 0===_e?void 0:_e["toolbar.chart_display.oneTimeTooltipContent"]},{type:Fe.Dropdown,visible:Ke(!x.Fr,null===_e||void 0===_e?void 0:_e["toolbar.advanced.visible"]),id:"advanced",icon:"okx-candle-chart-advanced-selection",title:"trade_top_btn_advanced_tools",tooltip:"trade_top_btn_advanced_tools",oneTimeTooltipId:null===_e||void 0===_e?void 0:_e["toolbar.advanced.oneTimeTooltipId"],oneTimeTooltipTitle:null===_e||void 0===_e?void 0:_e["toolbar.advanced.oneTimeTooltipTitle"],oneTimeTooltipContent:null===_e||void 0===_e?void 0:_e["toolbar.advanced.oneTimeTooltipContent"],menu:[{type:"default",id:"custom_formula",icon:"okx-candle-chart-custom-formula",title:"trade_top_select_advanced_tools_custom_formula",visible:Ke(he,null===_e||void 0===_e?void 0:_e["toolbar.advanced.custom_formula.visible"]),action:function(){null===q||void 0===q||q.openDialog(L.z.CustomExpr),(0,k.UUx)({advanced_functions:"custom_formula"})}},{type:"default",id:"compare",icon:"okx-candle-chart-compare",title:"trade_top_select_advanced_tools_compare_prices",visible:Ke(pe,null===_e||void 0===_e?void 0:_e["toolbar.advanced.compare.visible"]),action:function(){ge===P.N.TradingView?null===j||void 0===j||j.openCompareSymbolDialog():null===q||void 0===q||q.openDialog(L.z.Compare,{onCompare:function(e){null===j||void 0===j||j.addSymbolCompare(e,E.SJ.LastPrice)}}),(0,k.UUx)({advanced_functions:"compare"})}}]},{type:Fe.Button,visible:Ke(de,null===_e||void 0===_e?void 0:_e["toolbar.history_data_tools.visible"]),id:"history_data_tools",icon:"okx-candle-chart-goto",tooltip:"trade_charts_tooltips_time_management",action:function(){null===q||void 0===q||q.openDialog(L.z.HistoryDataTools),(0,k.ku_)({chart_type:ge.toLowerCase()})},shortcutKey:S.g.OnShortcutOpenDateRedirectDialog,oneTimeTooltipId:null===_e||void 0===_e?void 0:_e["toolbar.history_data_tools.oneTimeTooltipId"],oneTimeTooltipTitle:null===_e||void 0===_e?void 0:_e["toolbar.history_data_tools.oneTimeTooltipTitle"],oneTimeTooltipContent:null===_e||void 0===_e?void 0:_e["toolbar.history_data_tools.oneTimeTooltipContent"]},{type:Fe.Button,visible:Ke(!x.Fr,null===_e||void 0===_e?void 0:_e["toolbar.chart_setting.visible"]),id:"chart_setting",icon:"okds-setting",tooltip:"ok_component_okline_str_settings",action:function(){null===j||void 0===j||j.openSettingsDialog()},oneTimeTooltipId:null===_e||void 0===_e?void 0:_e["toolbar.chart_setting.oneTimeTooltipId"],oneTimeTooltipTitle:null===_e||void 0===_e?void 0:_e["toolbar.chart_setting.oneTimeTooltipTitle"],oneTimeTooltipContent:null===_e||void 0===_e?void 0:_e["toolbar.chart_setting.oneTimeTooltipContent"]},{type:Fe.Divider},{type:Fe.Button,visible:Ke(!x.Fr&&ge===P.N.TradingView&&!re&&se,null===_e||void 0===_e?void 0:_e["toolbar.compare_symbol.visible"]),id:"compare_symbol",icon:"okx-candle-chart-compare-tool",tooltip:"ok_component_okline_str_compare",action:function(){null===j||void 0===j||j.openCompareSymbolDialog()},oneTimeTooltipId:null===_e||void 0===_e?void 0:_e["toolbar.compare_symbol.oneTimeTooltipId"],oneTimeTooltipTitle:null===_e||void 0===_e?void 0:_e["toolbar.compare_symbol.oneTimeTooltipTitle"],oneTimeTooltipContent:null===_e||void 0===_e?void 0:_e["toolbar.compare_symbol.oneTimeTooltipContent"]},{type:Fe.Button,visible:Ke(!(null===F||void 0===F?void 0:F.isCustomExpr)&&fe&&!re&&(!!(null===we||void 0===we?void 0:we.current)&&me||!(null===we||void 0===we?void 0:we.current)||w),null===_e||void 0===_e?void 0:_e["toolbar.price_alert.visible"]),id:"price_alert",icon:je>0?"okx-candle-chart-vacancy-wait":"okx-candle-chart-remind",tooltip:"trade_function_textbtn_alert",renderInPortal:me,shortcutKey:S.g.OnShortcutOpenAlertsDialog,action:function(){V.toggleDialog(!0,V.priceAlertData.length?R.x6.ShowAll:R.x6.Add,R.yE.Button),(0,k.kSZ)({biz_type:null===F||void 0===F?void 0:F.symbolType.toLowerCase()})},oneTimeTooltipId:null===_e||void 0===_e?void 0:_e["toolbar.price_alert.oneTimeTooltipId"],oneTimeTooltipTitle:null===_e||void 0===_e?void 0:_e["toolbar.price_alert.oneTimeTooltipTitle"],oneTimeTooltipContent:null===_e||void 0===_e?void 0:_e["toolbar.price_alert.oneTimeTooltipContent"]},{type:Fe.Divider},{type:Fe.Button,visible:!0,id:"undo",disabled:!Z.enableUndo,icon:"okx-candle-chart-recall",tooltip:"trade_charts_tooltips_undo",shortcutKey:S.g.OnShortcutUndo,action:function(){var e;(0,k.IGF)({action:"undo"}),null===(e=null===j||void 0===j?void 0:j.undo)||void 0===e||e.call(j)}},{type:Fe.Button,visible:!0,id:"redo",disabled:!Z.enableRedo,icon:"okx-candle-chart-cancel-recall",tooltip:"trade_charts_tooltips_redo",shortcutKey:S.g.OnShortcutRedo,action:function(){var e;(0,k.IGF)({action:"redo"}),null===(e=null===j||void 0===j?void 0:j.redo)||void 0===e||e.call(j)}}]);return a().createElement(a().Fragment,null,(null===we||void 0===we?void 0:we.current)&&(0,s.createPortal)(a().createElement("div",{className:H.A.toolbarPortal},Ge.map((function(e,t){var n;return e.renderInPortal?a().createElement(ze,Object.assign({key:null!==(n=e.id)&&void 0!==n?n:t},e)):null})),ue&&a().createElement(Le,{className:H.A.toolbarColumn,supportedLayouts:$,value:Q,onChange:U,syncSetting:G})),we.current),a().createElement("div",{className:H.A.toolbar},a().createElement("div",{className:H.A.toolbarSection},null==p&&Ve&&(ce||w)&&!re&&a().createElement("div",{className:_()(H.A.toolbarHeaderLeft,H.A.toolbarSlot)},a().createElement(Ve,null)),p&&a().createElement("div",{className:H.A.toolbarSlot},p),a().createElement(O.A,{alwaysShowArrow:!0,className:_()(H.A.scroll,H.A.toolbarContent),scrollableClassName:H.A.scrollContent,threshold:8,scrollableRef:ke,onResize:function(){if(ke.current&&Te.current){var e=ke.current.clientWidth,t=ke.current.scrollWidth-Te.current.clientWidth,n=e-t,r=Ne.get(Ee),o=(null===r||void 0===r?void 0:r.rectWidth)-(null===r||void 0===r?void 0:r.contentWidth);if(Math.abs(n-o)<10)return;Ne.set(Ee,{rectWidth:e,contentWidth:t});var i=Ne.get(Be.Medium),a=Ne.get(Be.Large);u().flushSync((function(){n<5&&(!i||i.contentWidth<e-5?Ie(Be.Medium):Ie(Be.Small)),n>50&&((!i||i.contentWidth<e-50)&&Ie(Be.Medium),(!a||a.contentWidth<e-50)&&Ie(Be.Large))}))}}},a().createElement(We.Provider,{value:ke},(ge===P.N.Original||ge===P.N.TradingView)&&a().createElement(a().Fragment,null,a().createElement(Me.A,{className:H.A.toolbarContent,value:null!==(n=null===F||void 0===F?void 0:F.resolutionOpt)&&void 0!==n?n:F.resolution,allResolutions:He,pinnedResolutions:M,onChange:function(e){(0,C.JF)((function(){return Ue(o,void 0,void 0,(0,t.A)().mark((function n(){return(0,t.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===F||void 0===F?void 0:F.setResolution(e);case 2:case"end":return t.stop()}}),n)})))})).catch((function(){}))},onPinnedResolutionsChange:D}),a().createElement("div",{className:H.A.divider}),a().createElement("div",{className:H.A.toolbarItems},Ge.map((function(e,t){var n;return e.renderInPortal&&null!=(null===we||void 0===we?void 0:we.current)&&!w?null:a().createElement(ze,Object.assign({key:null!==(n=e.id)&&void 0!==n?n:t,displayLevel:Ee},e))}))),v&&a().createElement("div",{className:H.A.toolbarSlot},v),a().createElement("div",{ref:Te,className:T.A.flex}),Se&&oe&&a().createElement(Re,{allPriceTypes:ee,value:null===F||void 0===F?void 0:F.priceType,onChange:function(e){null===F||void 0===F||F.setPriceType(e).catch((function(){}))}})),[P.N.Depth,P.N.MarketCap].includes(ge)&&a().createElement("div",{className:T.A.flex}),!re&&a().createElement("div",{className:H.A.toolbarContent},a().createElement(ne,{dropdownMode:Ee===Be.Small,value:ge,onChange:B,supportedTypes:te.filter((function(e){return!(e===P.N.Depth&&1!==b)}))})))),a().createElement("div",{className:H.A.toolbarContent},ue&&(null==(null===we||void 0===we?void 0:we.current)||w)&&(ie||ce||w)&&a().createElement(Le,{supportedLayouts:$,value:Q,onChange:U,syncSetting:G}),le&&a().createElement(be,{value:w,onChange:N}),null==g&&ce&&a().createElement("div",{className:_()(H.A.toolbarHeaderRight,H.A.toolbarSlot)},a().createElement(De,{onClick:function(){null===Ae||void 0===Ae||Ae(w)}})),g&&a().createElement("div",{className:H.A.toolbarSlot},g)))))}));function qe(e){return(0,A.iK)().enableHeaderWidget?a().createElement(Ge,Object.assign({},e)):null}var Ye=l(1143),Ze=l(4393),Xe=l(2547);const Je="main-Gj4jd",Qe="loader-MrYsP";var $e=l(2133),et=l(7019),tt=function(){return l.e(822).then(l.bind(l,5354))};const nt=a().forwardRef((function(e,t){var n=(0,A.Bv)().setLoading;return a().createElement($e.n,Object.assign({},e,{componentRef:t,loadAsync:tt,enabled:!0,handleRetry:function(){n(!0)},handleError:function(){n(!1)},retryFallback:function(e,t){return a().createElement(et.f,{retrying:e,onRetry:t})}}))}));var rt=function(){return l.e(941).then(l.bind(l,8022))};const ot=a().forwardRef((function(e,t){var n=(0,A.Bv)().setLoading;return a().createElement($e.n,Object.assign({},e,{componentRef:t,loadAsync:rt,enabled:!0,handleRetry:function(){n(!0)},handleError:function(){n(!1)},retryFallback:function(e,t){return a().createElement(et.f,{retrying:e,onRetry:t})}}))}));var it=function(){return Promise.all([l.e(99),l.e(232),l.e(838)]).then(l.bind(l,5635))};const at=a().forwardRef((function(e,t){var n=(0,A.Bv)().setLoading;return a().createElement($e.n,Object.assign({},e,{componentRef:t,loadAsync:it,enabled:!0,handleRetry:function(){n(!0)},handleError:function(){n(!1)},retryFallback:function(e,t){return a().createElement(et.f,{retrying:e,onRetry:t})}}))}));var st=l(1737),lt=l(7605),ct=l(429),ut=l(722),dt=l(3053),ft=l(5957),ht=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},pt=a().forwardRef((function(e,t){var n=e.onReady,r=e.onTVLoadingHide,o=ht(e,["onReady","onTVLoadingHide"]),s=(0,ct.j)(n),l=(0,ct.j)(r),c=(0,i.useState)(null),u=(0,m.A)(c,2),d=u[0],f=u[1],h=(0,i.useState)(!1),p=(0,m.A)(h,2),v=p[0],g=p[1],y=(0,i.useState)(null),b=(0,m.A)(y,2),w=b[0],C=b[1],S=(0,i.useState)(),k=(0,m.A)(S,2),T=k[0],x=k[1],P=(0,i.useState)(),E=(0,m.A)(P,2),L=E[0],I=E[1],O=(0,i.useState)(null),R=(0,m.A)(O,2),M=R[0],N=R[1],D=(0,A.Bv)(),B=(0,A.iK)();(0,i.useEffect)((function(){v&&setTimeout(s.current)}),[s,v]),(0,i.useImperativeHandle)(t,(function(){return L}),[L]),(0,i.useEffect)((function(){if(d){var e=new dt.i(B,D),t=new ft.y(B,D,e);return x(e),I(t),e.init(d).then((function(){g(!0)})).catch((function(e){console.error(e),C(e)})),function(){e.destroy().then((function(){x(void 0),I(void 0),g(!1)})).catch((function(){}))}}}),[D,B,d]),(0,i.useEffect)((function(){null===T||void 0===T||T.notificationManager.setHandle(M)}),[T,M]),(0,i.useEffect)((function(){var e=function(){var e;null===(e=l.current)||void 0===e||e.call(l)};return lt.A.on(Ye.cP.TV_LOADING_HIDE,e),function(){lt.A.off(Ye.cP.TV_LOADING_HIDE,e)}}),[l]);if(null!=w)throw w;return a().createElement("div",Object.assign({},o),a().createElement("div",{ref:f,className:_()(ut.A.container),onKeyDown:function(e){e.altKey&&"KeyF"===e.code&&(e.stopPropagation(),e.preventDefault())}}),a().createElement(st.Y,{ref:N}))}));const vt=(0,b.observer)(pt),gt=a().forwardRef((function(e,t){return a().createElement(vt,Object.assign({},e,{ref:t}))}));var mt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},yt=(0,M.A)((0,M.A)((0,M.A)((0,M.A)({},P.N.Depth,nt),P.N.Original,at),P.N.TradingView,gt),P.N.MarketCap,ot);const bt=(0,b.observer)((function(e){var t=a().useState(0),n=(0,m.A)(t,2),r=n[0],o=n[1],s=a().useState(0),l=(0,m.A)(s,2),c=l[0],u=l[1],d=e.onReady,f=e.className,h=mt(e,["onReady","className"]),p=(0,A.iK)(),v=p.chartType,g=p.timezone,y=p.linearTradeUnit,b=p.inverseTradeUnit,w=(0,A.Bv)(),C=w.loading,S=w.setLoading,k=w.setInternalWidget,x=w.onInternalWidgetReady,P=w.reloadId,E=(0,A.iK)().enableHideLoader,L=[g,y,b,P].join("_");(0,i.useLayoutEffect)((function(){S(!0)}),[S,v,L]);var I=yt[v];return a().createElement(Xe.A,{className:_()(T.A.flex,T.A.flexLayoutRow,Je),onResize:function(e){o(e.width),u(e.height)}},a().createElement(i.Suspense,{fallback:null},a().createElement(I,Object.assign({key:L,className:_()(T.A.flex,f)},h,{ref:k,onReady:function(){null===d||void 0===d||d(),x(),S(!1)},onTVLoadingHide:function(){E&&S(!1)},style:{width:r,height:c}}))),C&&a().createElement("div",{className:Qe},a().createElement(Ze.A,null)))}));var At=l(6936),wt=l(8032),_t=["layout","theme","reverseColor"];function Ct(e){return"boolean"===typeof e?!e:e}function St(e,t){var n,r=t.kId,o=t.openTimeZone===Ye.xP.UTC_EIGHT?"Asia/Hong_Kong":"Etc/UTC",i=function(e,t){var n=t.tickerSymbol,r=t.product,o=t.instType,i=t.instId,a=t.symbol,s=o||(null===r||void 0===r?void 0:r.toUpperCase()),l=e||(null!==i&&void 0!==i?i:a);return n||"".concat(s,":").concat(l)}(e,t),a=t.resolution,s=t.priceType?(0,B.$A)(t.priceType):void 0,l=t.klineType,c=t.layout,u=t.language,d=t.theme,f=t.reverseColor,h=t.isLongShort,p=t.overrides,v=t.customThemes,g=t.brokerFactory,y=t.brokerConfig,b=t.legacyBrokerFactory,A=t.backgroundColor,w=null===(n=t.priceTypes)||void 0===n?void 0:n.map((function(e){return(0,B.$A)(e)})),_=t.supportedLayouts,C=function(e){if(e)return Object.entries(e).filter((function(e){return(0,m.A)(e,2)[1]})).map((function(e){return(0,m.A)(e,1)[0]}))}(t.klineTypes),S=t.datafeed,k=[],T=[],x=function(e,t){"boolean"===typeof t&&(t?k.push(e):T.push(e))};x(At.Xj.HeaderSimpleMode,t.isSimple),x(At.Xj.HeaderPriceTypeMenu,t.priceTypeMenuVisible),x(At.Xj.HeaderLayoutSelectMenu,t.showLayoutSelect),x(At.Xj.HeaderCandleStyleMenu,Ct(t.disableChartStyle)),x(At.Xj.HeaderFullscreenButton,t.showFullscreen),x(At.Xj.PercentageMarketOrder,t.enableMarketPercentageOrder),x(At.Xj.PercentageLimitOrder,t.enableLimitPercentageOrder),x(At.Xj.MouseClickScale,t.enableClickScale),x(At.Xj.Trade,t.enableKlineOrder),x(At.Xj.HideDrawingToolsByDefault,t.disableDrawingTools),x(At.Xj.TradeOrderRecord,t.enableOrderRecord),x(At.Xj.TradeOrderPanel,t.enableOrderInput),x(At.Xj.TradeOrderButton,t.enableOrderInput),x(At.Xj.CreateVolumeIndicatorByDefault,t.createVolumeIndicator),x(At.Xj.HeaderCompareSymbolMenu,Ct(t.disableCompareSymbolMenu)),x(At.Xj.SaveDrawingToServer,Ct(t.disableUserDataUpload)),x(At.Xj.HistoryDataTools,t.enableHistoryDataTools);var P=t.isSimple||t.singleChartMode;return x(At.Xj.MultiCharts,!P),P&&x(At.Xj.HeaderLayoutSelectMenu,!1),{storageId:r,tickerSymbol:i,resolution:a,priceType:s,datafeed:S,theme:d,reverseColor:f,layout:c,chartType:l,timezone:o,locale:u,longShortMode:h,supportedPriceTypes:w,supportedLayouts:_,supportedChartTypes:C,enabledFeatures:k,disabledFeatures:T,overrides:p,customThemes:v,brokerFactory:g,brokerConfig:y,legacyBrokerFactory:b,legacyBackgroundColor:A}}function kt(e){e.layout,e.theme,e.reverseColor;return(0,g.A)(e,_t)}var Tt=function(e){function i(e){var o,a,s,l;(0,r.A)(this,i),a=this,s=i,l=[e],s=(0,p.A)(s),(o=(0,f.A)(a,(0,h.A)()?Reflect.construct(s,l||[],(0,p.A)(a).constructor):s.apply(a,l))).disposers=[],o.watcherCreated=!1,o.datafeed=null,o.chartWidgetApi=null,o.state={initConfig:null,legacyConfig:null,slots:null},o._createWatcher=function(){var e=o,t=e.chartManager,n=e.setting;o.disposers.push((0,y.reaction)((function(){return t.fullscreen}),(function(e){var n,r;t.initialized&&(null===(n=(r=o.props).onFullscreenSwitch)||void 0===n||n.call(r,e))}))),o.disposers.push((0,y.reaction)((function(){var e;return{selectedIndex:t.selectedIndex,resolution:null===(e=t.activeArea)||void 0===e?void 0:e.resolution}}),(function(e,n){var r,i;(null===n||void 0===n?void 0:n.selectedIndex)===e.selectedIndex&&null!=(null===n||void 0===n?void 0:n.resolution)&&(t.initialized&&(null===(r=(i=o.props).onPeriodChange)||void 0===r||r.call(i,e.resolution)))}),{equals:y.comparer.structural})),o.disposers.push((0,y.reaction)((function(){var e;return{priceType:null===(e=t.activeArea)||void 0===e?void 0:e.priceType}}),(function(e,n){null!=n.priceType&&t.initialized&&setTimeout((function(){var t,n;null===(t=(n=o.props).onPriceTypeChange)||void 0===t||t.call(n,(0,B.vd)(e.priceType))}))}),{equals:y.comparer.structural})),o.disposers.push((0,y.reaction)((function(){return n.layout}),(function(e){var n,r;(o.setting.chartType===P.N.Depth&&e!==Ce.P.Layout1A&&o.chartManager.setChartType(P.N.TradingView),t.initialized)&&(null===(n=(r=o.props).onLayoutChange)||void 0===n||n.call(r,e))}),{delay:1})),o.disposers.push((0,y.reaction)((function(){var e,n;return{selectedIndex:t.selectedIndex,symbolType:null===(e=t.activeArea)||void 0===e?void 0:e.symbolType,symbol:null===(n=t.activeArea)||void 0===n?void 0:n.symbol}}),(function(e,n){var r,i;e.symbol&&n.symbol&&(t.initialized&&(null===(r=(i=o.props).onSymbolChange)||void 0===r||r.call(i,e.symbolType,e.symbol,e.selectedIndex)))}),{equals:y.comparer.structural})),o.disposers.push((0,y.reaction)((function(){return{initialized:t.initialized,enablePriceAlert:n.enablePriceAlert}}),(function(e){e.initialized&&e.enablePriceAlert&&o.chartManager.priceAlertStore.fetchDataSilently()}),{fireImmediately:!0,equals:y.comparer.structural})),o.disposers.push((0,y.reaction)((function(){var e;return{enabled:n.enablePriceAlert,alertCount:o.chartManager.priceAlertStore.getAlertsByName(null===(e=t.activeArea)||void 0===e?void 0:e.symbol).length}}),(function(e){var n,r;t.initialized&&(null===(n=(r=o.props).onPriceAlertChange)||void 0===n||n.call(r,e))}),{fireImmediately:!0}))},o.resize=function(){},o.ready=function(){return Promise.resolve()},o.setTheme=function(e){o.chartWidgetApi.setTheme(e)},o.setReverseColor=function(e){o.chartWidgetApi.setReverseColor(e)},o.setSymbol=function(){var e=(0,n.A)((0,t.A)().mark((function e(n,r){var i,a,s,l,c,u,d,f,h;return(0,t.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==r){e.next=10;break}return d=St(n,r),f=d.tickerSymbol,null===(i=o.state.initConfig)||void 0===i||null===(a=(s=i.datafeed).updateConfig)||void 0===a||a.call(s,r),o.setState({legacyConfig:r}),o.setting.updateAll(r),h=r.instType===E.r3.Option?E.SJ.MarkPrice:E.SJ.LastPrice,o.setting.supportedPriceTypes.includes(h)||(h=o.setting.supportedPriceTypes[0]||E.SJ.LastPrice),e.next=10,null===(l=o.chartManager)||void 0===l||null===(c=l.activeArea)||void 0===c||null===(u=c.setSymbol(f,h))||void 0===u?void 0:u.catch((function(){}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o.updateConfig=function(e){o.updateSettingConfig(kt(e))},o.updateSettingConfig=function(e){var t=kt(e);o.setting.updateAll(kt(t)),o.setState({legacyConfig:t})},o.setResolution=function(e){var t,n,r;null===(t=o.chartManager)||void 0===t||null===(n=t.activeArea)||void 0===n||null===(r=n.setResolution(e))||void 0===r||r.catch((function(){}))},o.setPrecision=function(e){var t,n,r;null===(t=o.chartManager)||void 0===t||null===(n=t.activeArea)||void 0===n||null===(r=n.internalChartWidget)||void 0===r||r.setPrecision(e)},o.setDepth=function(e){var t,n,r;null===(t=o.chartManager)||void 0===t||null===(n=t.activeArea)||void 0===n||null===(r=n.internalChartWidget)||void 0===r||r.legacySetDepth(e)},o.setMarket=function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null===(e=o.chartManager)||void 0===e||null===(t=e.activeArea)||void 0===t||null===(n=t.internalChartWidget)||void 0===n||n.legacySetMarket(r)},o.setPositions=function(){},o.setOrderInput=function(e){var t;null===(t=o.setting)||void 0===t||t.setFeature(At.Xj.TradeOrderPanel,e)},o.setOrderFilled=function(){},o.setTradeState=function(e){var t;null===(t=o.setting)||void 0===t||t.setFeature(At.Xj.Trade,e)},o.setKlineType=function(e){var t;null===(t=o.chartWidgetApi)||void 0===t||t.setChartType(e)},o.showGlobalLoading=function(){var e;null===(e=o.setting)||void 0===e||e.chartType,P.N.Depth},o.hideGlobalLoading=function(){},o.showLoading=function(){},o.hideLoading=function(){},o.updateTicker=function(e){var t,n,r,i;null===(t=o.chartManager)||void 0===t||null===(n=t.datafeed)||void 0===n||null===(r=n.unstable_setTicker)||void 0===r||r.call(n,(0,d.A)({symbolType:null===(i=o.chartManager.activeArea)||void 0===i?void 0:i.symbolType},e))},o.setLayout=function(e){var t;null===(t=o.chartWidgetApi)||void 0===t||t.setLayout(e)},o.setActiveChart=function(e){var t;null===(t=o.chartWidgetApi)||void 0===t||t.setActiveChart(e)},o.openPriceAlertDialog=function(e){var t,n,r;null===(t=o.chartManager)||void 0===t||t.priceAlertStore.toggleDialog(!0,e,R.yE.Button),(0,k.kSZ)({biz_type:null===(n=o.chartManager.activeArea)||void 0===n||null===(r=n.symbolType)||void 0===r?void 0:r.toLowerCase()})};var c=o.props.config;return o.state={initConfig:St(c.symbol,c),legacyConfig:c,slots:{CustomExprLegendSlot:c.CustomExprLegendSlot}},o}return(0,v.A)(i,e),(0,o.A)(i,[{key:"componentWillUnmount",value:function(){this.disposers.forEach((function(e){e()})),this.disposers=[]}},{key:"chartManager",get:function(){var e;return null===(e=this.chartWidgetApi)||void 0===e?void 0:e.getChartManager()}},{key:"setting",get:function(){var e;return null===(e=this.chartWidgetApi)||void 0===e?void 0:e.getSetting()}},{key:"getChartWidgetApi",value:function(){return this.chartWidgetApi}},{key:"layout",get:function(){var e;return null===(e=this.setting)||void 0===e?void 0:e.layout}},{key:"activeChartId",get:function(){var e;return null===(e=this.chartManager)||void 0===e?void 0:e.selectedIndex}},{key:"render",value:function(){var e=this,t=this.state,n=t.initConfig,r=t.legacyConfig,o=t.slots;return(0,wt.jsx)(A.Zh,{ref:function(t){e.chartWidgetApi=t,null==t||e.watcherCreated||(e._createWatcher(),e.watcherCreated=!0)},initConfig:n,legacyConfig:r,slots:o,children:(0,wt.jsxs)(ae.Ay,{children:[(0,wt.jsx)(qe,{}),(0,wt.jsx)(bt,{onReady:function(){setTimeout((function(){var t,n;e.setting&&(null===(t=(n=e.props).onChartReady)||void 0===t||t.call(n,e.setting.chartType,e),e.hideGlobalLoading())}))}})]})})}}])}(a().Component);const xt=(0,b.observer)(Tt);var Pt=l(5422),Et=l(1357),Lt=l(3450),It=l.n(Lt),Ot=l(1287),Rt=l(1790),Mt=l(1633),Nt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Dt=function(){return(0,o.A)((function e(){(0,r.A)(this,e),this.lastRequestedTimes=new Map,this.lastBars=new Map,this.unsubscribeCallbacks=new Map,this.pollingInterval=3e3,this.pollingRetryInterval=1e4,this.pollBarsLeeway=3}),[{key:"getTradeUnit",value:function(e){return E.Nf.Default}},{key:"requestUID",value:function(e,t,n){return[e.tickerSymbol||e.name,t,n.priceType,n.timezone].join(":")}},{key:"getLastRequestedTime",value:function(e,t,n){return this.lastRequestedTimes.get(this.requestUID(e,t,n))}},{key:"setLastRequestedTime",value:function(e,t,n,r){this.lastRequestedTimes.set(this.requestUID(e,t,n),r)}},{key:"trySetLastRequestedTime",value:function(e,t,n,r){var o=this.getLastRequestedTime(e,t,n);(!o||o<=r)&&this.setLastRequestedTime(e,t,n,r)}},{key:"getLastBar",value:function(e,t,n){return this.lastBars.get(this.requestUID(e,t,n))}},{key:"setLastBar",value:function(e,t,n,r){this.lastBars.set(this.requestUID(e,t,n),r)}},{key:"deleteLastBar",value:function(e,t,n){this.lastBars.delete(this.requestUID(e,t,n))}},{key:"trySetLastBar",value:function(e,t,n,r){var o=this.getLastBar(e,t,n);r&&(!o||o.time<=r.time)&&this.setLastBar(e,t,n,r)}},{key:"getNextRequestStartTime",value:function(e,t,n){var r,o=this.getLastBar(e,t,n),i=this.getLastRequestedTime(e,t,n),a=null!==(r=null===o||void 0===o?void 0:o.time)&&void 0!==r?r:0;if(null!=i&&(a=Math.max(a,Math.min(i-6e4,(0,Ot.vV)(i,-15,t,n.timezone)))),!(a<=0))return a}},{key:"getBars",value:function(e,n,r){return Nt(this,void 0,void 0,(0,t.A)().mark((function o(){var i;return(0,t.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBarsImpl(e,n,r);case 2:return i=t.sent,Array.isArray(i)&&(i={bars:i,noData:0===i.length}),this.trySetLastRequestedTime(e,n,r,1e3*r.to),this.trySetLastBar(e,n,r,i.bars[i.bars.length-1]),t.abrupt("return",i);case 7:case"end":return t.stop()}}),o,this)})))}},{key:"pollBars",value:function(e,n,r,o){return Nt(this,void 0,void 0,(0,t.A)().mark((function i(){var a=this;return(0,t.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,Mt.wt)((function(r,i){return Nt(a,void 0,void 0,(0,t.A)().mark((function a(){var s=this;return(0,t.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBarsImpl(e,n,i).then((function(t){if(Array.isArray(t)||(t=t.bars),!r.stopped){var a=s.getLastBar(e,n,i);a&&(t.forEach((function(e){e.time>=a.time&&o(e)})),s.trySetLastRequestedTime(e,n,i,1e3*i.to),s.trySetLastBar(e,n,i,t[t.length-1]))}}),(function(e){console.error(e)}));case 2:case"end":return t.stop()}}),a,this)})))}),(function(){var t=a.getNextRequestStartTime(e,n,r);if(null==t)throw new Error("cannot call `pollBars` before initial `getBars`");return t}),r,(0,Ot.DW)(n),this.pollingInterval,this.pollBarsLeeway));case 1:case"end":return i.stop()}}),i,this)})))}},{key:"subscribeBars",value:function(e,n,r,o,i,a){var s=this,l=0,c=null,u=(0,Mt.Fm)((function(){return s.pollBars(e,n,r,o)}),this.pollingRetryInterval),d=function(){s.deleteLastBar(e,n,r),a()},f=function(i){return Nt(s,void 0,void 0,(0,t.A)().mark((function a(){var s,u,f,h=this;return(0,t.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(t){h.trySetLastBar(e,n,r,t),l++,o(t)},u=this.getNextRequestStartTime(e,n,r),0===l&&!c&&null!=u&&i.time>u&&(f=Object.assign(Object.assign(Object.assign({},r),(0,Mt.Bs)(Math.floor(u/1e3),Math.ceil(i.time/1e3),n)),{firstDataRequest:!1})).countBack>0&&(c=this.getBarsImpl(e,n,f).then((function(e){Array.isArray(e)||(e=e.bars),e.filter((function(e){return e.time>=u})).forEach((function(e){s(e)}))})).finally((function(){c=null}))),t.prev=3,t.next=6,c;case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(3),d(),t.abrupt("return");case 12:s(i);case 13:case"end":return t.stop()}}),a,this,[[3,8]])})))},h=function(t){if(r.priceType===E.SJ.LastPrice){var o=t.symbolType,i=t.symbol,a=t.time,l=t.close,c=s.getLastBar(e,n,r);o===e.type&&i===e.name&&c&&a-c.time>=0&&a-c.time<1e3*(0,Ot.DW)(n)&&null!=s.convertPrice&&f(Object.assign(Object.assign({},c),{close:s.convertPrice(l,e,r)}))}};lt.A.addListener("ticker",h);var p=this.subscribeBarsImpl(e,n,r,f,d,(function(){l=0,c=null,u.pause()}),(function(){u.resume()}));this.unsubscribeCallbacks.set(i,(function(){Promise.resolve(p).then((function(e){e()})),u.cancel(),lt.A.removeListener("ticker",h)}))}},{key:"unsubscribeBars",value:function(e){var t=this.unsubscribeCallbacks.get(e);this.unsubscribeCallbacks.delete(e),null===t||void 0===t||t()}},{key:"unstable_resolveSymbols",value:function(e){var t=this;return Promise.all(e.map((function(e){return t.resolveSymbol(e)})))}},{key:"unstable_setTicker",value:function(e){lt.A.emit("ticker",e)}}])}(),Bt=l(4954);var Ft=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},jt=["6H","12H","1D","2D","3D","5D","1W","1M","3M"],Vt=function(e){function n(){var e,t,o,i;return(0,r.A)(this,n),t=this,o=n,i=arguments,o=(0,p.A)(o),(e=(0,f.A)(t,(0,h.A)()?Reflect.construct(o,i||[],(0,p.A)(t).constructor):o.apply(t,i))).sortTimeSeries=Mt.DZ,e.splitGetBarsParams=Mt.Df,e.getAlignedBarRangeParams=Mt.Bs,e.createPollingTask=Mt.Fm,e.poll=Mt.wt,e}return(0,v.A)(n,e),(0,o.A)(n,[{key:"normalizeParams",value:function(e,t){return Object.assign(Object.assign({},t),{priceType:e.type===E.r3.Index?E.SJ.IndexPrice:t.priceType})}},{key:"getBarType",value:function(e,t){return(0,Rt.Or)(t.timezone)&&jt.includes(e)?"".concat(e,"utc"):e}},{key:"getRequestUrl",value:function(e,t,n){var r=e.name,o=this.getBarType(t,n),i=(0,Ot.DW)(t),a=1e3*(n.from-i),s=1e3*n.to,l=n.countBack,c=new URLSearchParams;if(n.priceType===E.SJ.IndexPrice&&e.type!==E.r3.Index&&e.underlyingName){var u=e.underlyingName;c.set("instId",u)}else c.set("instId",r);n.firstDataRequest?c.set("before",a.toString()):c.set("after",s.toString()),c.set("bar",o),null!=l&&c.set("limit",l.toString());var d=this.getBaseUrl(e,n);return"".concat(d,"?").concat(c.toString())}},{key:"getChunkedRequestUrls",value:function(e,t,n){var r=this;return this.splitGetBarsParams(t,n,(function(n){return r.getMaxBarsPerRequest(e,t,n)})).map((function(n){return r.getRequestUrl(e,t,n)}))}},{key:"getRequestConcurrency",value:function(){return 10}},{key:"convertBarItem",value:function(e,t,n,r){var o=(0,m.A)(e,8),i=o[0],a=o[1],s=o[2],l=o[3],c=o[4],u=o[5],d=o[6],f=o[7],h=r.priceType===E.SJ.LastPrice,p=t.type!==E.r3.Option,v=u,g=f;switch(this.getTradeUnit(t)){case E.Nf.BaseCurrency:v=d;break;case E.Nf.QuoteCurrency:v=f,g=d}return{time:parseInt(i,10),open:this.convertPrice(a,t,r),high:this.convertPrice(s,t,r),low:this.convertPrice(l,t,r),close:this.convertPrice(c,t,r),volume:h&&v?parseFloat(v):void 0,turnover:p&&g?parseFloat(g):void 0}}},{key:"sortBarData",value:function(e){return this.sortTimeSeries(e)}},{key:"getBarsImpl",value:function(e,n,r){return Ft(this,void 0,void 0,(0,t.A)().mark((function o(){var i,a,s,l,c,u,d,f,h,p,v=this;return(0,t.A)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=this.normalizeParams(e,r),s=this.getChunkedRequestUrls(e,n,r),l=this.getRequestConcurrency(),c=[],u={total:s.length,loaded:0},null===(i=r.reportProgress)||void 0===i||i.call(r,Object.assign({},u)),d=0;case 7:if(!(d<s.length)){o.next=17;break}return o.next=10,Promise.all(s.slice(d,d+l).map((function(o){return Ft(v,void 0,void 0,(0,t.A)().mark((function i(){var a=this;return(0,t.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.requestWithRetry(o,void 0,void 0,r.signal).then((function(t){return t.map((function(t){return a.convertBarItem(t,e,n,r)}))})).finally((function(){var e;u.loaded+=1,null===(e=r.reportProgress)||void 0===e||e.call(r,Object.assign({},u))})));case 1:case"end":return t.stop()}}),i,this)})))})));case 10:if(f=o.sent,c.push.apply(c,(0,G.A)(f)),!(null===(a=r.signal)||void 0===a?void 0:a.aborted)){o.next=14;break}throw r.signal.reason;case 14:d+=l,o.next=7;break;case 17:return h=this.sortBarData(c.flat(1)),p=c.some((function(e){return 0===e.length})),o.abrupt("return",{bars:h,noData:p});case 20:case"end":return o.stop()}}),o,this)})))}},{key:"getSubscribeChannel",value:function(e){switch(e.priceType){case E.SJ.LastPrice:return"candle";case E.SJ.MarkPrice:return"mark-price-candle";case E.SJ.IndexPrice:return"index-candle";default:return"candle"}}},{key:"getSubscribeParams",value:function(e,t,n){var r=e.name,o=this.getBarType(t,n),i=this.getSubscribeChannel(n);if(n.priceType===E.SJ.IndexPrice&&e.type!==E.r3.Index&&e.underlyingName){var a=e.underlyingName;return{channel:"".concat(i).concat(o),instId:a}}return{channel:"".concat(i).concat(o),instId:r}}},{key:"isRequestErrorRecoverable",value:function(e,t){switch(t){case 50047:case 51001:case 51e3:return!0;default:return!1}}},{key:"isRequestErrorRetryable",value:function(e,t){return 429===e||e>=500||50011===t}},{key:"requestWithRetry",value:function(e){return Ft(this,arguments,void 0,(0,t.A)().mark((function e(n){var r,o,i,a,s,l=this,c=arguments;return(0,t.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:1e3,o=c.length>2&&void 0!==c[2]?c[2]:10,!(null===(i=c.length>3?c[3]:void 0)||void 0===i?void 0:i.aborted)){e.next=5;break}throw new Bt.z(i.reason,!0);case 5:return a=new AbortController,s=(0,Mt.lt)(a.signal,i,(0,Mt._)(15e3)),e.abrupt("return",It().get(n,{signal:s}).then((function(e){var t,n,r,o=null!==(n=null===(t=e.data)||void 0===t?void 0:t.msg)&&void 0!==n?n:e.statusText,i=parseInt(null===(r=e.data)||void 0===r?void 0:r.code,10);if(0===i)return e.data.data;if(l.isRequestErrorRecoverable(e.status,i))return[];throw new Bt.z(o,l.isRequestErrorRetryable(e.status,i))})).catch((function(e){var t,a,s,c,u,d;if((e.retryable||l.isRequestErrorRetryable(e.status))&&o>0&&!(null===i||void 0===i?void 0:i.aborted))return new Promise((function(e){setTimeout((function(){var t=l.requestWithRetry(n,r,o-1,i);e(t)}),r)}));throw new Bt.z(null!==(d=null!==(u=null!==(c=null!==(a=null===(t=e.data)||void 0===t?void 0:t.msg)&&void 0!==a?a:null===(s=e.data)||void 0===s?void 0:s.code)&&void 0!==c?c:e.statusText)&&void 0!==u?u:e.status)&&void 0!==d?d:e,!0)})).finally((function(){a.abort()})));case 8:case"end":return e.stop()}}),e)})))}}])}(Dt),Ht=l(1599),zt=function(){return(0,o.A)((function e(o){var i=this;(0,r.A)(this,e),this._getContainer=function(){return document.getElementById(i._initConfig.element.slice(1))},this.resize=function(){},this.ready=function(){return i._appRef&&i._appRef.ready()},this.setTheme=function(e){i._appRef&&i._appRef.setTheme(e)},this.setReverseColor=function(e){i._appRef&&i._appRef.setReverseColor(e)},this.setSymbol=function(){var e=(0,n.A)((0,t.A)().mark((function e(n,r){return(0,t.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i._appRef){e.next=3;break}return e.next=3,i._appRef.setSymbol(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.updateConfig=function(e){i._appRef&&i._appRef.updateConfig(e)},this.updateSettingConfig=function(e){i._appRef&&i._appRef.updateSettingConfig(e)},this.setDepth=function(e){i._appRef&&i._appRef.setDepth(e)},this.setMarket=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i._appRef&&i._appRef.setMarket(e)},this.setOrderInput=function(e){i._appRef&&i._appRef.setOrderInput(e)},this.setOrderFilled=function(){},this.setPositions=function(){},this.setTradeState=function(e){i._appRef&&i._appRef.setTradeState(e)},this.updateLastData=function(e){i._appRef&&i._appRef.updateLastData(e)},this.setKlineType=function(e){i._appRef&&i._appRef.setKlineType(e)},this.destroy=function(){i._getContainer()&&i._root&&i._root.unmount()},this.initKline=function(e){i._appRef&&i._appRef.initKline(e)},this.showGlobalLoading=function(){i._appRef&&i._appRef.showGlobalLoading()},this.hideGlobalLoading=function(){i._appRef&&i._appRef.hideGlobalLoading()},this.showLoading=function(){i._appRef&&i._appRef.showLoading()},this.hideLoading=function(){i._appRef&&i._appRef.hideLoading()},this.updateTicker=function(e){i._appRef&&i._appRef.updateTicker(e)},this.setLayout=function(e){i._whenReady.then((function(){i._appRef&&i._appRef.setLayout(e)})).catch((function(){}))},this.setActiveChart=function(e){i._whenReady.then((function(){i._appRef&&i._appRef.setActiveChart(e)})).catch((function(){}))},this.setPeriod=function(e){var t;null===(t=i._appRef)||void 0===t||t.setResolution(e)},this.setPrecision=function(e){var t;null===(t=i._appRef)||void 0===t||t.setPrecision(e)},this.openPriceAlertDialog=function(e){var t;null===(t=i._appRef)||void 0===t||t.openPriceAlertDialog(e)},this.getChartWidgetApi=function(){var e;return null===(e=i._appRef)||void 0===e?void 0:e.getChartWidgetApi()},this._initConfig=o,this.eventType=Ye.cP,this.lineStyle=Et.S,this._init(),this._whenReady=new Promise((function(e,t){i._readyResolved=e,i._readyRejected=t}))}),[{key:"on",value:function(e,t){lt.A.on(e,t)}},{key:"off",value:function(e,t){lt.A.off(e,t)}},{key:"_init",value:function(){var e=this,t=this._getContainer();if(!t)throw new Error("kline container dom was not found");this._root=(0,s.createRoot)(t),this._root.render((0,wt.jsx)(xt,{ref:function(t){e._appRef=t,e._readyResolved()},config:this._initConfig,onChartReady:function(t,n){e._appRef=n,lt.A.emit(Ye.cP.CREATE_OKLINE,t)},onFullscreenSwitch:function(e){lt.A.emit(Ye.cP.FULL_SCREEN,e)},onPriceTypeChange:function(t){e._priceType===t||null==e._priceType&&t===e._initConfig.priceType||(e._priceType=t,lt.A.emit(Ye.cP.PRICE_TYPE,t))},onPeriodChange:function(e){lt.A.emit(Ye.cP.RESOLUTION,e)},onSymbolChange:function(e,t,n){lt.A.emit(Ye.cP.SYMBOL,{instType:e,instId:t,chartId:n})},onLayoutChange:function(e){lt.A.emit(Ye.cP.LAYOUT,e)},onPriceAlertChange:function(e){var t=e.enabled,n=e.alertCount;lt.A.emit(Ye.cP.PRICE_ALERT,{enabled:t,alertCount:n})}}))}},{key:"layout",get:function(){var e;return null===(e=this._appRef)||void 0===e?void 0:e.layout}},{key:"activeChartId",get:function(){var e;return null===(e=this._appRef)||void 0===e?void 0:e.activeChartId}},{key:"getShortcutConfig",value:function(e){return(0,Pt.g)(e)}},{key:"brokerTerminalUpgradeVersion",value:function(){return 1}}])}();const Ut=zt;function Wt(e){return a().createElement(qe,Object.assign({},e))}zt.OKXDataFeed=Vt,zt.DrawingToolShape=Ht.m;var Kt=l(7848),Gt=l(6960),qt=l(6511),Yt=l(5302),Zt=l(6632);"undefined"!=typeof window&&(window.CandleChart=Ut);const Xt=Ut})(),c})()));
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/candle-chart/1.2.8/./index.js.map