"use strict";(self.webpackChunkcomb_trade=self.webpackChunkcomb_trade||[]).push([["sw_bundle_bizUtils"],{14810:(i,t,e)=>{e.d(t,{A:()=>a});var n=e(9524),r=e(78584),s=e(21988),o=e(61316);const a={handleRecurTime:r.X3,getBuyingRange:r.oZ,string2JsonString:n.ff,getRunningBotKlines:s.xr,getBotUrlHashParams:o.Tu}},15959:(i,t,e)=>{e.d(t,{E5:()=>Q,EH:()=>F,F1:()=>k,H3:()=>H,J3:()=>U,Ju:()=>B,Ow:()=>w,WV:()=>W,_X:()=>q,f5:()=>L,z9:()=>G});var n=e(64467),r=e(89379),s=e(71491),o=e(4536),a=e(75376),u=e(29613),c=e(61480),l=e(83695),d=e(88524),p=e(28494),g=e(3857),y=e(94857),T=e(26029),v=p.gy.CONVERT,f=p.gy.SPOT,A=p.gy.SWAP,_=p.gy.FUTURES,C=p.gy.OPTION,m=[A,_,C],S=d.W4.MARKET,I=d.W4.MOVE_STOP,b=d.W4.LIMIT,O=d.W4.CONDITIONAL,M=d.W4.OCO,P=d.W4.STOP,V=d.W4.POST_ONLY,x=d.W4.FOK,D=d.W4.IOC,h=d.W4.MMP_AND_POST_ONLY,N=d.W4.OPTIMAL_LIMIT_IOC,R=d.W4.TRIGGER,E=d.W4.ELP,L=function(i){return m.includes(i)};function U(i){var t,e,n=i.ordType,r=i.source,s=i.state;switch(n){case b:case V:case E:if("13"!==r&&r!==p.zL.CHASE_ORDER)return!0;break;case O:case M:if(s!==d.h4.PARTIALLY_EFFECTIVE)return!0;break;case R:return!(null!==(t=(0,y.Q)())&&void 0!==t&&null!==(e=t.otherSettings)&&void 0!==e&&e.hideStrategyUnSupport)}return!1}var W=function(i){return[O,M,P].includes(i)};function k(i){var t=i.ordType,e=i.reduceOnly,n=i.isTpLimit,r=i.instType;return"true"!==e&&r!==C&&([b,V].includes(t)||t===R&&(0,T.gf)(r))&&"true"!==n}var z=function(){var i,t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.instId,s=n.instType,o=n.side,c=n.px,l=n.sz,d=n.pxVol,p=n.pxUsd,y=n.avgPx,T=n.accFillSz,A=n.triggerPxType,_=L(s),C=a.A.insts[s][r].ctType,m=null===(i=u.A.sizeUnit)||void 0===i||null===(t=i[s])||void 0===t||null===(e=t[C])||void 0===e?void 0:e.isCont,S=s===v?f:s,I=a.A.configs[S][r],b=I.priceDig,O=I.baseDig,M=I.quoteDig,P=I.feeDig,V=I.sheetDig,x=I.ccyName,D=I.unitName,h=(0,g.QS)(r),N=h.baseCcy,R=h.quoteCcy,E=Number(_&&m?V:O),W=U(n),z=W&&k(n);return{triggerPxType:A,baseCcyVal:N,quoteCcyVal:R,ctTypeVal:C,baseDigVal:O,quoteDigVal:M,szUnitVal:D,pxUnitVal:x,sideVal:o,px:c,pxVal:c,ivVal:d,usdVal:p,avgPxVal:y,szVal:l,accFillSzVal:T,pxDigVal:Number(b),szDigVal:E,feeDigVal:P,modifiable:W,enableModifyAttach:z}},w=function(i){var t,e=(0,r.A)((0,r.A)({},i),{},{avgPx:i.avgPx||0,accFillSz:i.accFillSz||0}),n=e.instId,o=e.instType,u=e.px,l=e.sz,d=e.actualPx,p=e.actualSz,y=e.triggerPx,T=e.ordPx,v=e.tpTriggerPx,f=e.tpOrdPx,A=e.slTriggerPx,_=e.slOrdPx,C=e.callbackSpread,m=e.activePx,S=e.moveTriggerPx,I=a.A.configs[o][n],b=I.priceDig,O=I.baseDig,M=I.profitDig,P=(0,g.QS)(n).quoteCcy,V=L(o),x=a.A.insts[o][n].lever,D=V?M:O;if(e.ctVal)e.ctMult=e.ctVal;else if(V){var h=a.A.insts[o][n],N=h.ctVal,R=h.ctMult;e.ctVal=N,e.ctMult=R}return Object.assign(e,(0,r.A)((0,r.A)({},z(e)),{},{pnlDigVal:D,ordPx:T,triggerPx:y,volumeVal:s._u.mul(u,l),volumeUnitVal:P,volumeDigVal:Number(b),triggerPxVal:y,ordPxVal:T,tpTriggerPxVal:v,tpOrdPxVal:f,slTriggerPxVal:A,slOrdPxVal:_,actualPxVal:d,actualSzVal:p,callbackSpreadVal:C,activePxVal:m,moveTriggerPxVal:S,maxLever:x})),Object.assign(e,null===(t=c.A[o])||void 0===t?void 0:t.call(c.A,e)),e},B=function(i){var t,e,n,s,o,d,p,y=(0,r.A)({},i),T=y.instId,v=y.instType,f=y.sz,A=y.investment,_=y.actualSz,C=y.tpTriggerPx,m=y.slTriggerPx,S=y.instList,I=void 0===S?[]:S,b=y.pxLimit,O=y.pxSpread,M=null===(t=a.A.configs)||void 0===t||null===(e=t[v])||void 0===e?void 0:e[T],P=M.priceDig,V=M.baseDig,x=M.quoteDig,D=M.profitDig,h=(M.sheetDig,(0,g.QS)(T)),N=h.baseCcy,R=h.quoteCcy,E=L(v),U=a.A.insts[v][T].ctType,W=null===(n=u.A.sizeUnit)||void 0===n||null===(s=n[v])||void 0===s||null===(o=s[U])||void 0===o?void 0:o.isCont,k=E&&W?3:Number(V),w=E?D:V,q=((null===(d=a.A.coins)||void 0===d?void 0:d[R])||{}).sizeDig,F=void 0===q?l.SF:q;if(y.ctVal)y.ctMult=y.ctVal;else if(E){var Q=a.A.insts[v][T],G=Q.ctVal,H=Q.ctMult;y.ctVal=G,y.ctMult=H}return Object.assign(y,{sizeDig:F,baseCcyVal:N,quoteCcyVal:R,baseDigVal:V,quoteDigVal:x,szUnitVal:N,pxUnitVal:R,szVal:f,gridInvestSz:A,pxDigVal:Number(P),szDigVal:k,pnlDigVal:w,tpTriggerPxVal:C,slTriggerPxVal:m,actualSzVal:_,instList:I.map((function(i){var t=(0,r.A)((0,r.A)((0,r.A)({},i),{},{algoId:y.algoId},z(i)),B(i));return(0,r.A)((0,r.A)({},t),c.A[i.instType](t))})),pxLimitVal:b,pxSpreadVal:O}),Object.assign(y,null===(p=c.A[v])||void 0===p?void 0:p.call(c.A,y))},q=function(i){return Number(i)===d.Yo},F=function(i){return d.j9.includes(i)},Q=function(i){return d.LR.includes(i)};function G(i){return(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({},V,(0,o.kW)("trade_orderhistory_orderoptions_post_only")),E,(0,o.kW)("trade_orderhistory_orderoptions_post_only")),x,(0,o.kW)("trade_orderhistory_orderoptions_fill_or_kill")),D,(0,o.kW)("trade_orderhistory_orderoptions_immdiate_or_cancel")),h,(0,o.kW)("trade_orderhistory_orderoptions_post_only")),N,(0,o.kW)("trade_orderhistory_orderoptions_mkt_ioc"))[i]||i}var H=function(i){var t,e=i.instType,n=i.ordType,r=i.tgtCcy,s=i.side,o=i.tpOrdPx,a=i.slOrdPx,u=i.ordPx;if(!(0,T.Ch)(e))return!1;if(r)return r===p.o6.QUOTE_CCY;switch(n){case S:case I:t=!0;break;case M:case O:t=o<=0&&a<=0;break;case R:t=u<0;break;default:t=!1}var c=s===p.g2.BUY;return t&&c}},58464:(i,t,e)=>{e.d(t,{f:()=>c});var n=e(71491),r=e(75376),s=e(95586),o=e(94962),a=e(28494),u=e(40514),c=function(i){var t=i.position,e=i.decimalFromPercent,c=r.A.configs,l=t.instId,d=t.instType,p=t.last,g=(c[d][l]||{}).sheetDig,y=(0,o.iJ)({position:t}),T=n._u.mul(y,e);return T=(0,u.S0)({instType:d,digit:g,size:T,decimal:a.SC.UP}),s.bizCvtSize({instType:d,instId:l,size:T,price:p,decimal:a.SC.DOWN})}},19506:(i,t,e)=>{e.d(t,{T:()=>c});var n=e(28494),r=n.gy.MARGIN,s=n.gy.OPTION,o=n.gy.FUTURES,a=n.gy.SWAP,u=n.gy.SPOT,c=function(i){return{isSpot:i===u,isMargin:i===r,isOption:i===s,isFutures:i===o,isSwap:i===a,isSpotOrMargin:i===u||i===r,isFuturesOrSwap:i===o||i===a,isDerivatives:i===o||i===a||i===s}}},35617:(i,t,e)=>{e.d(t,{C:()=>u});var n=e(69294),r=e(28494),s=e(19506),o=r.bB.LONG,a=r.bB.SHORT,u=function(i){var t=i.instType,e=i.instId,r=i.posSide,u=void 0===r?o:r,c=i.pos,l=i.posCcy;return u===o||u===a?u:(0,s.T)(t).isMargin?l===n.ji(e).baseCcy?o:a:c>0?o:a}},89436:(i,t,e)=>{e.d(t,{o:()=>u,p:()=>c});var n=e(29613),r=e(94962),s=e(28494),o=e(93121),a=s.Tn.ISOLATED,u=function(i){var t=o.A.hasIsolatedAutoStatus,e=n.A.isMgnQuickTra,s=t.marginAuto,u=t.derAuto,c=i.pos,l=i.liab,d=i.instType,p=i.mgnMode,g=(0,r.TY)(d).isMargin,y=g&&0===+c&&0!==+l,T=p===a,v=g&&T&&s,f=g&&T&&e,A=!g&&T&&u;return!!(0,r.AC)({position:i,isIsolatedAuto:v,isQuickMargin:f})||(!!(0,r.AC)({position:i,isIsolatedAuto:A})||(0!==Number(c)||y))},c=function(i){var t=o.A.hasIsolatedAutoStatus,e=n.A.isMgnQuickTra,s=t.derAuto,u=t.marginAuto,c=i.pos,l=i.liab,d=i.instType,p=i.mgnMode,g=i.margin,y=i.baseBal,T=i.quoteBal,v=(0,r.TY)(d).isMargin,f=p===a;return v?f&&(u||e)?0===+y&&0===+T&&0===+l:0===+c&&0===+l:s&&f?0===+c&&0===+g:0===+c}},94962:(i,t,e)=>{e.d(t,{JM:()=>Q,zF:()=>$,$6:()=>H,EA:()=>Y,Sk:()=>L,Z5:()=>oi,vV:()=>G,hG:()=>w,Ri:()=>di,NL:()=>ui,SD:()=>ai,Mr:()=>ni,AC:()=>pi,NE:()=>li,YE:()=>ri,iJ:()=>j,X9:()=>ti,TY:()=>W,C0:()=>k,JT:()=>ii,y8:()=>ci,yl:()=>J,QC:()=>K,KP:()=>gi,un:()=>B,VC:()=>si,rd:()=>U,$2:()=>ei,HP:()=>z,y9:()=>F,YI:()=>q,pC:()=>yi,_X:()=>X,rt:()=>vi,JB:()=>Ti});var n=e(89379),r=e(64467),s=e(4962),o=e(4536),a=e(71491),u=e(29613),c=e(75376),l=e(69294),d=e(99609),p=e(53627),g=e(28494),y=e(40514),T=e(93121),v=e(7189),f=e(19506),A=e(35617),_=e(5544),C=g.Tn.ISOLATED,m=g.bB.LONG,S=g.bB.SHORT,I=g.bB.BUY,b=g.bB.SELL,O=g.iw.COIN,M=g.iw.CONT,P=g.iw.USDT,V=g.fr.LONG_SHORT_MODE,x=g.pn.LINEAR,D=g.pn.INVERSE,h=g.gy.MARGIN,N=g.gy.OPTION,R=g.gy.FUTURES,E=g.gy.SWAP,L=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!i)return{};var t=l.ji(i);return{base:t.baseCcy,quote:t.familyCcy}},U=function(i){var t=i.instType,e=i.instId,n=i.ccy,r=i.posCcy,s=i.chargeUnit,a=void 0===s?{}:s,u=(0,f.T)(t).isMargin,l=a.isCont,d=a.isBase,p=a.isQuote;if(!u&&d){var g=e.split("-");return(0,_.A)(g,1)[0]}return!u&&l?(0,o.kW)("trade_list_text_common_unit_cont"):!u&&p?c.A.configs[t][e].unitName:u?r:n},W=f.T,k=A.C,z=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"===(typeof i).toLocaleLowerCase()&&i===p.RG},w=function(i){var t=i.instType,e=i.mgnMode,n=T.A.hasIsolatedAutoStatus,r=n.derAuto,s=n.marginAuto,o=[h].includes(t),a=[R,E].includes(t);return e===C&&(o&&s||a&&r)},B=function(i){var t=i.instType,e=i.mgnMode,n=u.A.isMgnQuickTra;return e===C&&(n&&h===t)},q=function(i){var t=i.instType,e=i.mgnMode,n=T.A.accountLevelStatus.isAboveMulti,r=W(t),s=r.isMargin,o=r.isSpotOrMargin;return!n&&s||n&&o&&e===g.Tn.ISOLATED},F=function(i){var t=i.instType,e=i.mgnMode,n=T.A.marginTransferMode;return W(t).isMargin&&e===g.Tn.ISOLATED&&n===g.$v},Q=function(i){var t=i.instType,e=i.mgnMode;return e===g.Tn.CROSS&&q({instType:t,mgnMode:e})||F({instType:t,mgnMode:e})},G=function(i){var t=i.instType,e=i.mgnMode,n=T.A.hasIsolatedAutoStatus,r=u.A.isMgnQuickTra,s=n.derAuto,o=n.marginAuto,a=[h].includes(t),c=[R,E].includes(t);return e===C&&(a&&o||c&&s||r&&a)},H=function(i){var t=i.position,e=i.configs,n=i.insts,r=t.instType,s=t.ccy,o=t.posCcy,a=t.instId,c=t.mgnMode,l=W(r),d=l.isMargin,p=l.isFuturesOrSwap,y=l.isOption,T=e[r][a].ccyName,v=k(t)===g.bB.LONG,f=c===g.Tn.CROSS,A=(n[r][a]||{}).quoteCcy;if(d){var _,C=w({instType:r,mgnMode:c});return f||!f&&(null===u.A||void 0===u.A||null===(_=u.A.accountConfig)||void 0===_?void 0:_.mgnIsoMode)===g.$v?s:C?A:v?s:o}return p||y?s:T},Y=function(i){var t=i.instType,e=i.instId,n=i.posSide,r=void 0===n?m:n,s=i.pos,o=i.posCcy,a="green",u=k({instType:t,instId:e,posSide:r,pos:s,posCcy:o});return T.A.isRedUp?u===m?a:"red":u===m?"red":a},j=function(i){var t=i.position,e=t.instType,n=t.availPos,r=t.pos,s=t.posSide,o=W(e),a=o.isFuturesOrSwap,u=o.isOption,c=[m,S].includes(s);return u||a&&!c?Math.abs(r):n},J=function(i){var t=i.position,e=i.configs,n=i.insts,r=t.instType,s=t.instId,o=e[r][s].ccySign;return W(r).isMargin?n[r][s].quoteCcy:o},K=function(i){var t=i.position,e=i.value,n=t.instType,r=t.priceUnit,o=W(n).isMargin;return e?s.Ru.formatCurrency(e,o?{currency:r}:{currencySign:r}):"--"},X=function(i){return Number(i)===g.gH},$=function(i){var t=i.instType,e=i.price,n=i.size,r=i.tradeUnitId,s=i.ctType,o=i.ctVal,a=i.ctMult,u=i.decimal,c=void 0===u?g.SC.UP:u,l=i.digit;return(0,y.su)({instType:t,ctVal:o,size:n,price:e,ctType:s,tradeUnitId:r,decimal:c,ctMult:a,digit:l})},Z={SHORT_NAME:(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},m,"trade_bot_text_long"),S,"perp_placeorder_label_short"),I,"options_list_label_buy"),b,"trade_botdetails_colheader_grid_sell"),FULL_NAME:(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},m,"trade_mid_tooltips_long"),S,"trade_mid_tooltips_short"),I,"commonall_enterfield_title_buy"),b,"commonall_enterfield_title_sell")},ii=function(i){var t=i.posSide,e=void 0===t?m:t,n=i.pos,r=i.instType,s=i.instId,a=i.posCcy,u=i.positionType,c=i.baseBal,l=i.isFullName,d=void 0!==l&&l,p=k({instType:r,instId:s,posSide:e,pos:n,posCcy:a,baseBal:c}),y=W(r).isFuturesOrSwap,T=u===g.fr.LONG_SHORT_MODE,v=p===m;if(0===+n)return"";var f=d?"FULL_NAME":"SHORT_NAME",A=v?I:b;return y&&T&&(A=v?m:S),(0,o.kW)(Z[f][A])},ti=function(i){var t=i.instType,e=i.instId,n=T.A.tradeUnits,r=c.A.configs[t][e],s=W(t).isMargin,o=r.positionDig,a=r.priceDig,u=r.baseDig,d=r.quoteDig,p=r.sheetDig;if(t===h)p=o;else{var g,y=l.ji(e).isLinear?x:D,v=null===n||void 0===n||null===(g=n[t])||void 0===g?void 0:g[y];v===O?p=u:v===P&&(p=d)}var f={priceDig:a,sizeDig:p};return["baseDig","marginDig","greeksDig","sheetDig"].forEach((function(i){f[i]=s?o:r[i]})),f},ei=function(i){var t,e=i.instId,n=i.instType,r=u.A.sizeUnit,s=l.ji(e).isLinear?x:D;return(null===r||void 0===r||null===(t=r[n])||void 0===t?void 0:t[s])||{}},ni=function(i){var t=i.instType,e=i.instId,n=i.price,r=i.maxAvailable;return function(i){var t,e=i.insts,n=i.configs,r=i.tradeUnitId,s=i.instType,o=i.instId,a=i.size,c=i.price,l=i.fallbackCtVal,d=i.fallbackCtMult,p=e[s][o]||{},T=p.ctType,v=void 0===T?"":T,f=p.ctVal,A=p.ctMult,_=ti({instType:s,instId:o,configs:n}),C=_.sizeDig,m=_.baseDig,S=u.A.sizeUnit,I=C;return r===g.iw.COIN&&(I=m),(0,y.Qc)({instType:s,ctVal:f||l,size:a,price:c,ctType:v,tradeUnitId:r||(null===S||void 0===S||null===(t=S[s])||void 0===t?void 0:t[v]),digit:I,decimal:g.SC.DOWN,ctMult:A||d})}({insts:c.A.insts,configs:c.A.configs,tradeUnit:T.A.tradeUnit,instType:t,instId:e,size:r.available,price:n})},ri=function(i){var t=i.position,e=i.positionType,n=t.instType,r=t.availPosAmt,s=t.convertedPos,o=t.posSide,a=W(n),u=a.isFuturesOrSwap,c=a.isMargin,l=e?e===V:[m,S].includes(o);return u?l?r:Math.abs(s):c?r:Math.abs(s)},si=function(i){var t=i.position,e=t.instType,n=t.instId,r=(c.A.insts[e][n]||{}).ctType,s=void 0===r?"":r,o=[R,E,N].includes(e)&&s===g.pn.INVERSE,a=s===g.pn.LINEAR,u=W(e),l=u.isSpot,p=u.isMargin,y=u.isFuturesOrSwap,T=u.isOption;return l||p||y&&a||T?1:d.Mt({instId:n,instType:e,useStableRate:o})},oi=function(i){var t=i.position,e=i.price,n=i.dig;return(k(t)===m?a._u.showFloorTruncation:a._u.showCeilTruncation)(e,n)},ai=function(i){var t=i.position,e=i.px,n=i.configs,r=i.optionChargeUnit,s=i.usdPrices,o=t.instType,u=t.instId,c=t.ccy,l=W(o).isOption,d=si({position:t}),p=r===g.Ou.BOND,y=ti({instType:o,instId:u,configs:n}).priceDig;if(l&&!p){var T=s[c],v=a._u.mul(a._u.mul(e,T),d);return oi({position:t,price:v,dig:y})}return oi({position:t,price:a._u.mul(Number(e),d),dig:y})},ui=function(i){var t=i.position,e=i.px,n=i.configs,r=i.optionChargeUnit,s=i.usdPrices,o=ai({position:t,px:e,configs:n,optionChargeUnit:r,usdPrices:s});return K({position:t,value:o})},ci=function(i){var t=i.position,e=i.px,n=i.withUnit,r=void 0===n||n,s={position:t,px:e,configs:c.A.configs,optionChargeUnit:T.A.optionChargeUnit,usdPrices:v.A.usdPrices};return r?ui(s):ai(s)},li=function(i){var t=i.position,e=i.tradeUnit,n=i.insts,r=t.instType,s=t.instId,a=t.ccy,u=t.posCcy,c=W(r).isMargin,l=n[r][s]||{},d=l.ctType,p=void 0===d?"":d,g=l.baseCcy,y=l.quoteCcy,T=e[p],v=T===P;return!c&&T===O?g:!c&&T===M?(0,o.kW)("trade_list_text_common_unit_cont"):!c&&v?y:c?u:a},di=function(i){var t=i.position,e=i.insts,n=i.localCurrency,r=i.optionChargeUnit,s=t.instType,o=t.instId,a=e[s][o],u=a.baseCcy,c=a.quoteCcy,l=a.ctType===g.pn.INVERSE,d=n.currencyName,p=r===g.Ou.LOCAL;switch(s){case R:case E:return l?d:c;case h:return c;case N:return p?d:u;default:return u||"--"}},pi=function(i){var t=i.position,e=i.isIsolatedAuto,n=void 0!==e&&e,r=i.isQuickMargin,s=void 0!==r&&r,o=t.pos,a=t.liab,u=t.instType,c=t.margin,l=t.baseBal,d=t.quoteBal,p=W(u),g=!1;return!p.isMargin||0!==+a||0===+l&&0===+d||(g=!0),p.isFuturesOrSwap&&0===+o&&+c>0&&(g=!0),(n||s)&&g},gi=function(i){var t=i.position,e=t.baseBorrowed,n=t.quoteBorrowed;return e&&+e>0||n&&+n>0},yi=function(i,t){if(t){for(var e=arguments.length,n=new Array(e>2?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];return i.apply(void 0,[t].concat(n))}return""},Ti=function(i){var t=i.bestTpTriggerPx,e=i.bestSlTriggerPx,n=i.posRelationAlgoOrdCount,r=i.priceDig;if(!n||n<1)return{};var s=si({position:i});return{bestTpTriggerPx:Number(t)?a._u.truncate(a._u.mul(t,s),r):"",bestSlTriggerPx:Number(e)?a._u.truncate(a._u.mul(e,s),r):"",posRelationAlgoOrdCount:n}},vi=function(i){var t=i.position,e=i.priceDig,r=t.closeOrderAlgo;if(r){var s=si({position:t});return r.map((function(i){var t=i.slTriggerPx,r=i.tpTriggerPx;return t=Number(t)?a._u.truncate(a._u.mul(t,s),e):"",r=Number(r)?a._u.truncate(a._u.mul(r,s),e):"",(0,n.A)((0,n.A)({},i),{},{slTriggerPx:t,tpTriggerPx:r})}))}}},15481:(i,t,e)=>{e.d(t,{AJ:()=>R,LP:()=>q,OU:()=>W,WT:()=>L,Y2:()=>F,jT:()=>U,ki:()=>E,my:()=>B,s7:()=>N,tR:()=>w});var n=e(90675),r=e(10467),s=e(8715),o=e(9280),a=e(41534),u=e(37818),c=e(75376),l=e(98582),d=e(8391),p=e(88524),g=e(28494),y=e(67244),T=e(69585),v=e(3857),f=e(82388),A=e(30933),_=e(82372),C=p.W4.SMART_ICEBERG,m=p.W4.TWAP,S=p.W4.DCD_BOT,I=p.W4.GRID,b=p.W4.CONTRACT_DCA,O=p.W4.CONTRACT_GRID,M=p.W4.SPOT_DCA,P=p.W4.SMART_ARBITRAGE,V=p.W4.SIGNAL_BOT,x=g.O6.MARKET_MAKING,D=g.O6.ONLINE,h=g.pn.LINEAR,N=function(i){var t=i.ctType,e=i.ordType,n=y.l6.includes(e),r=y.lc[e];return n?r[t]||[]:r},R=function(i){var t=i.instId,e=i.instType,n=c.A.insts[e][t].status;return![x,D].includes(n)},E=function(){var i=(0,r.A)((0,n.A)().mark((function i(t){var e,r,s,o,a;return(0,n.A)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=t.instId,r=t.instType,s=c.A.insts[r][e].status,o=s){i.next=8;break}return i.next=6,l.A.getInst({instType:r,instId:e});case 6:a=i.sent,o=a.status;case 8:return i.abrupt("return",![x,D].includes(o));case 9:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}(),L=function(i){var t=s.A.href.split("#")[0],e=(new o.A).hashParams;(Array.isArray(i)?i:[i]).forEach((function(i){e[i]&&delete e[i]}));var n=(0,f.WH)(e);n=n?"#".concat(n):"";var r="".concat(t).concat(n||"");a.A.pushState({},document.title,r)},U=function(i){if(i){var t=new u.A,e=new o.A,n=s.A.href.split("?")[0].split("#")[0];t.remove(i),e.remove(i);var r=t.stringify(),c=r?"?".concat(r):"",l=e.stringify(),d=l?"#".concat(l):"",p="".concat(n).concat(c).concat(d);a.A.pushState({},document.title,p)}},W=function(i){if(i&&i.length){var t=s.A.href.split("#")[0],e=(new o.A).hashParams;i.forEach((function(i){e[i.key]=i.value}));var n=(0,f.WH)(e);n=n?"#".concat(n):"";var r="".concat(t).concat(n||"");a.A.pushState({},document.title,r)}},k=function(i){var t=i.ordType,e=i.instType,n=d.Dm[t];if(n)return n.includes(e);var r=T.A.strategyConfig[t];return r?null===r||void 0===r?void 0:r.instTypeList.includes(e):(d.Mt[t]||[]).includes(e)},z=function(i){var t=i.ordType,e=i.instId,n=i.instType,r=i.quoteCcy;if(!R({instId:e,instType:n}))return!1;var s=c.A.insts[n][e].ctType,o=N({ctType:s,ordType:t});return!o||!!o&&o.includes(r)},w=function(i){var t=i.ordType,e=i.instId,n=i.instType,r=i.quoteCcy,s=i.isPreMarket,o=_.A.smartArbitrageSupported;return t===S||!(t===P&&!o)&&(!(s&&![C,m,O,b,V].includes(t))&&k({ordType:t,instType:n})&&z({ordType:t,instId:e,instType:n,quoteCcy:r}))},B=function(i){var t=i.ordType,e=i.originalInst,n=e.instType,r=e.instId,s=e.baseCcy,o=e.quoteCcy,a=k({ordType:t,instType:n}),u=z({ordType:t,instId:r,instType:n,quoteCcy:o}),c=a?n:d.Mt[t][0],l=s,p=o,g=_.A.smartArbitrageSupported;t!==P||g||(p="USDT",l="BTC");var T=z({ordType:t,instType:c,instId:r,quoteCcy:o});if(!u||!T){var f,A,C,m,S=y.i5[c],I=(null===(f=y.lc[t])||void 0===f||null===(A=f[h])||void 0===A?void 0:A[0])||(null===(C=y.lc[t])||void 0===C?void 0:C[0]),b=(null===(m=y.lc[t])||void 0===m?void 0:m[h])||y.lc[t];if(I&&I.includes("-")){var O=b.find((function(i){return(0,v.QS)(i).baseCcy===s}))||I,M=(0,v.QS)(O);l=M.baseCcy,I=M.quoteCcy}p=I||S.quoteCcy}return{preferredInstType:c,preferredBaseCcy:l,preferredQuoteCcy:p}},q=function(i){var t=i.insts,e=i.ordType,n=i.preferredBaseCcy,r=i.preferredQuoteCcy,s=i.preferredInstType,o=y.i5[s]||{},a=o.baseCcy,u=o.quoteCcy,c=null,l=null,d=null;return t.some((function(i){var t=i.instType,s=i.instId,o=i.baseCcy,p=i.quoteCcy;if(!R({instType:t,instId:s}))return!1;if(o===n&&p===r)return c=i,!0;l||o!==a||p!==u||(l=i);var g=z({ordType:e,instId:s,instType:t,quoteCcy:p});return!d&&g&&(d=i),!1})),c||l||d},F=function(i){var t,e=i.ordType,n=i.userRiskMode,r=i.duration,s=i.direction;switch(e){case I:return(0,A.E3)()[r];case O:return(0,A.BT)()[r];case M:return(0,A.kN)()[n];case b:return null===(t=(0,A.af)()[n])||void 0===t?void 0:t[s];default:return""}}}}]);
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/comb-trade/sw_bundle_bizUtils/index.5a29d325.js.map