(self.webpackChunkcomb_trade=self.webpackChunkcomb_trade||[]).push([["vendors-node_modules_ok_blade_lib_utils_src_deep-clone_js-node_modules_ok_blade_lib_utils_src-35d34e"],{57596:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function e(t){try{if("object"!==typeof t||null===t)return t;if(t.constructor===Date)return new Date(t.getTime());if(Array.isArray(t))return t.map((function(t){return e(t)}));var n={};return Object.keys(t).forEach((function(i){n[i]=e(t[i])})),n}catch(i){throw new Error("Failed to clone object: ".concat(i))}}},34738:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(60713),r=n(53037);const a=function(e,t,n){var a=!0,o=!0;if("function"!==typeof e)throw new TypeError("Expected a function");if((0,r.Gv)(n)){var s=n;a="leading"in s?!!s.leading:a,o="trailing"in s?!!s.trailing:o}return"boolean"===typeof n&&(a=n),(0,i.A)(e,t,{leading:a,trailing:o,maxWait:t})}},61246:(e,t,n)=>{"use strict";n.d(t,{A:()=>Ie});var i=n(95736),r=n(89379),a=n(64467),o=n(5544),s=n(53986),l=n(41594),u=n.n(l),c=n(88688),d=n(89081),h=n(83573),v=n.n(h),f=n(71075),_="".concat(f.H3,"-coach"),p="".concat(_,"-con"),g="".concat(_,"-title"),m="".concat(_,"-desc"),A="".concat(_,"-footer"),y="".concat(_,"-standalone"),b="".concat(_,"-tour"),T="".concat(b,"-footer"),E="".concat(y,"-footer");var S=n(19919);const x=u().memo((function(e){var t=e.description;return(0,S.jsx)("div",{className:m,children:t})})),L=u().memo((function(e){var t=e.footer;return(0,S.jsx)("div",{className:A,children:t})}));var w=n(49047);const C=u().memo((function(e){var t=e.title,n=e.onClose,i=e.closable;return(0,S.jsxs)("div",{className:g,children:[(0,S.jsx)("div",{children:t}),i&&(0,S.jsx)(w.A,{onClick:n,className:v()("okds-close","".concat(g,"-close"))})]})})),O=u().memo((function(e){var t=e.description,n=e.title,i=e.onClose,r=e.closeable,a=e.footer,o=e.width,s=v()(c.A.data.okdNamespace,"".concat(f.H3,"-coachmark-var"),p),l=o?{width:o}:null;return(0,S.jsxs)("div",{className:s,style:l,children:[n&&(0,S.jsx)(C,{title:n,onClose:i,closable:r}),t&&(0,S.jsx)(x,{description:t}),a&&(0,S.jsx)(L,{footer:a})]})}));var k=["content","popupRef","prefixClassName"],N="".concat(f.H3,"-coach-popover");function R(e){var t=c.A.mergeProps(R.defaultPropsValue,e),n=t.content,i=t.popupRef,a=t.prefixClassName,o=(0,s.A)(t,k);return(0,S.jsx)(d.A,(0,r.A)((0,r.A)({},o),{},{ref:i,arrowSize:d.A.SIZE.lg,prefixClassName:v()(N,"".concat(f.H3,"-coachmark-var"),a),content:n,alwaysUpdatePopper:!0,arrowPadding:8}))}R.defaultPropsValue={content:""};var D=n(68891),I=n(63129),M=n(77810);function B(e){return e<0?0:e}function P(){return{w:Math.max(document.documentElement.clientWidth,M.A.innerWidth||0),h:Math.max(document.documentElement.clientHeight,M.A.innerHeight||0)}}var F={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0};function U(e){var t=F;e&&(t=e.getBoundingClientRect());return t}function j(e){var t=P(),n=t.w,i=t.h,a=U(e),o=a.bottom,s=a.x,l=a.height,u=a.left,c=a.right,d=a.top,h=a.width,v=a.y;return(0,r.A)((0,r.A)({},U(e)),{},{bottom:o,x:s,height:l,left:u,right:c,top:d,width:h,y:v,windowWidth:n,windowHeight:i,hasHighligtedElems:!1})}var z=n(75206),Y=n(99420),W="data-okui-order";var H,V=new Map;function X(e){var t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):"okui-util-key"}function G(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function q(e){return Array.from((V.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function J(e,t){if("undefined"===typeof window||!window.document||!window.document.createElement)return null;var n=t.csp,i=t.prepend,r=document.createElement("style");r.setAttribute(W,(0,Y.YW)(function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(i))),null!==n&&void 0!==n&&n.nonce&&(r.nonce=null===n||void 0===n?void 0:n.nonce),r.innerText=(0,Y.YW)(e);var a=G(t),o=a.firstChild;if(i){if("queue"===i){var s=q(a).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(W))}));if(s.length)return a.insertBefore(r,s[s.length-1].nextSibling),r}a.insertBefore(r,o)}else a.appendChild(r);return r}function K(e,t){return q(G(t)).find((function(n){return n.getAttribute(X(t))===e}))}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=K(e,t);n&&G(t).removeChild(n)}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){var n=V.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var i=J("",t),r=i.parentNode;V.set(e,r),e.removeChild(i)}}(G(n),n);var i=K(t,n);if(i){var r,a,o;if(null!==(r=n.csp)&&void 0!==r&&r.nonce&&i.nonce!==(null===(a=n.csp)||void 0===a?void 0:a.nonce))i.nonce=null===(o=n.csp)||void 0===o?void 0:o.nonce;return i.innerText!==e&&(i.innerText=(0,Y.YW)(e)),i}var s=J(e,n);return s.setAttribute(X(n),(0,Y.YW)(t)),s}var $="okui-util-locker-".concat(Date.now()),ee=0;function te(){var e=!!(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]),t=l.useState((function(){return ee+=1,"".concat($,"_").concat(ee)})),n=(0,o.A)(t,1)[0];l.useEffect((function(){if(e){var t=function(e){if("undefined"===typeof document)return 0;if(e||void 0===H){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),i=n.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var r=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;r===a&&(a=n.clientWidth),document.body.removeChild(n),H=r-a}return H}(document.body).width,i=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Q("\nhtml body {\n  overflow-y: hidden;\n  ".concat(i?"width: calc(100% - ".concat(t,"px);"):"","\n}"),n)}else Z(n);return function(){Z(n)}}),[e,n])}const ne=function(e){var t=e.children,n=e.type,i=void 0===n?"div":n,r=(0,l.useRef)(null),a=(0,l.useRef)(null),s=(0,l.useState)({}),u=(0,o.A)(s,2)[1];return te(document.body),(0,l.useEffect)((function(){var e;if(!r.current)return function(){};var t=null===(e=r.current)||void 0===e?void 0:e.ownerDocument;return a.current=null===t||void 0===t?void 0:t.createElement(i),null===t||void 0===t||t.body.appendChild(a.current),u({}),function(){a.current&&a.current.ownerDocument&&a.current.ownerDocument.body.removeChild(a.current)}}),[i]),a.current?(0,z.createPortal)(t,a.current):(0,S.jsx)("span",{ref:r})};const ie=function(e){var t=e.children;return(0,S.jsx)(ne,{children:t})};var re={svgWrapper:function(){return{width:"100%",height:"100%"}},maskArea:function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx,fill:"black"}},maskRect:function(e){var t=e.windowWidth,n=e.windowHeight,i=e.maskID;return{x:0,y:0,width:t,height:n,fill:"currentColor",mask:"url(#".concat(i,")")}},highlightedArea:function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,pointerEvents:"auto",fill:"transparent",rx:e.rx,display:"none"}}};var ae={fill:"transparent",pointerEvents:"auto"};const oe=function(e){var t=e.padding,n=void 0===t?4:t,i=e.rx,a=void 0===i?4:i,s=e.onClick,l=e.onClickHighlighted,d=e.styles,h=void 0===d?{}:d,p=e.sizes,g=function(e){return e+I.o.mathRandom().toString(36).substring(2,16)}("mask__"),m=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=re[t](n),r=e[t];return r?r(i,n):i}}(h),A=function(e){return Array.isArray(e)?1===e.length?[e[0],e[0],e[0],e[0]]:2===e.length?[e[1],e[0],e[1],e[0]]:3===e.length?[e[0],e[1],e[2],e[1]]:e.length>3?[e[0],e[1],e[2],e[3]]:[10,10]:[e,e,e,e]}(n),y=(0,o.A)(A,4),b=y[0],T=y[1],E=y[2],x=y[3],L=P(),w=L.w,C=L.h,O=!(null===p||void 0===p||!p.width),k=B(O?(null===p||void 0===p?void 0:p.width)+x+T:null===p||void 0===p?void 0:p.width),N=B(O?(null===p||void 0===p?void 0:p.height)+b+E:null===p||void 0===p?void 0:p.height),R=B(O?(null===p||void 0===p?void 0:p.top)-b:null===p||void 0===p?void 0:p.top),M=B(O?(null===p||void 0===p?void 0:p.left)-x:null===p||void 0===p?void 0:p.left),F=w,U=C,j=m("maskArea",{x:M,y:R,width:k,height:N,rx:a}),z=u().useState(D.cb.next().value),Y=(0,o.A)(z,1)[0],W=m("highlightedArea",{x:M,y:R,width:k,height:N,rx:a}),H=v()(c.A.data.okdNamespace,"".concat(f.H3,"-coachmark-var"),"".concat(_,"-mask"));return(0,S.jsx)(ie,{children:(0,S.jsx)("div",{className:H,style:{zIndex:Y},onClick:s,children:(0,S.jsxs)("svg",{style:m("svgWrapper",{windowWidth:F,windowHeight:U}),children:[(0,S.jsx)("defs",{children:(0,S.jsxs)("mask",{id:g,children:[(0,S.jsx)("rect",{x:0,y:0,width:F,height:U,fill:"white"}),O&&(0,S.jsx)("rect",{style:j})]})}),(0,S.jsx)("rect",{style:m("maskRect",{windowWidth:F,windowHeight:U,maskID:g})}),(0,S.jsx)("rect",(0,r.A)((0,r.A)({},ae),{},{x:"0",y:"0",width:"100%",height:R})),(0,S.jsx)("rect",(0,r.A)((0,r.A)({},ae),{},{x:"0",y:"0",width:M,height:"100%"})),(0,S.jsx)("rect",(0,r.A)((0,r.A)({},ae),{},{x:"0",y:R+N,width:"100%",height:"calc(100vh - ".concat(R+N,"px)")})),(0,S.jsx)("rect",(0,r.A)((0,r.A)({},ae),{},{x:M+k,y:"0",width:"calc(100vw - ".concat(M+k,"px)"),height:"100%"})),(0,S.jsx)("rect",{style:W,onClick:l})]})})})};var se=n(62576),le=n(88139),ue=["onClick","disabled","children","className"],ce=["onClick","children","className","disabled"];function de(e){var t=e.onClick,n=e.disabled,i=e.children,a=e.className,o=(0,s.A)(e,ue),l=(0,le.A)({OriginComponent:se.A,defaultProps:(0,r.A)({type:se.A.TYPE.highlight,size:se.A.SIZE.xs},o)});return(0,S.jsx)(l,{onClick:t,className:a,disabled:n,children:i})}var he=u().memo((function(e){var t=e.onClick,n=e.children,i=e.className,a=e.disabled,o=(0,s.A)(e,ce),l=(0,le.A)({OriginComponent:se.A,defaultProps:(0,r.A)({category:se.A.CATEGORY.outline,type:se.A.TYPE.primary,size:se.A.SIZE.xs},o)});return(0,S.jsx)(l,{onClick:t,className:i,disabled:a,children:n})}));const ve=function(e){var t=e.confirmText,n=e.cancelText,i=e.onConfirm,a=e.onCancel,o=e.renderFooter,s=null!==t&&void 0!==t,l=null!==n&&void 0!==n,u={onClick:i,className:"".concat(E,"-button")},c={onClick:a,className:"".concat(E,"-button")},d=(0,S.jsxs)("div",{children:[l?(0,S.jsx)(he,(0,r.A)((0,r.A)({},c),{},{children:n})):null,s?(0,S.jsx)(de,(0,r.A)((0,r.A)({},u),{},{children:t})):null]});return(0,S.jsx)("div",{className:E,children:o?o((function(){return d})):(0,S.jsx)(S.Fragment,{children:d})})};var fe=n(19418),_e=n(20454),pe=n(58168),ge={bottom:0,height:0,left:0,right:0,top:0,width:0,windowWidth:0,windowHeight:0,x:0,y:0};const me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{block:"center",behavior:"smooth"},n=(0,l.useState)(!1),i=(0,o.A)(n,2),a=i[0],s=i[1],u=(0,l.useState)(!1),c=(0,o.A)(u,2),d=c[0],h=c[1],v=(0,l.useState)(null),f=(0,o.A)(v,2),_=f[0],p=f[1],g=(0,l.useState)(ge),m=(0,o.A)(g,2),A=m[0],y=m[1],b=e.target,T=e.scrollToView,E=e.showValue,S=e.isStandalone,x=e.getScrollContainer,L="function"===typeof b?b():b,w=(0,l.useCallback)((function(){var e=j(L);Object.entries(A).some((function(t){var n=(0,o.A)(t,2),i=n[0],r=n[1];return e[i]!==r}))&&y(e)}),[L,A]);(0,l.useEffect)((function(){return w(),M.A.addEventListener("resize",w),function(){return M.A.removeEventListener("resize",w)}}),[L,_]),(0,l.useEffect)((function(){var e=null===x||void 0===x?void 0:x();return e&&e.addEventListener("scroll",w),function(){e&&e.removeEventListener("scroll",w)}}),[L,_]),(0,l.useEffect)((function(){E&&w()}),[E]),(0,l.useEffect)((function(){var e,n,i=function(e){var t=e.top,n=e.right,i=e.bottom,r=e.left,a=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight;return t>=0&&r>=0&&n<=a&&i<=o}((0,r.A)({},A));!S&&!i&&L&&T&&(s(!0),(e=L,n=t,new Promise((function(t){var i;if(!(e instanceof Element))throw new TypeError("Argument 1 must be an Element");var a,o=0,s=(0,r.A)({behavior:"smooth"},n);null===e||void 0===e||null===(i=e.scrollIntoView)||void 0===i||i.call(e,s),requestAnimationFrame((function n(){var i=null===e||void 0===e?void 0:e.getBoundingClientRect().top;if(i===a){if(o++>2)return void t(null)}else o=0,a=i;requestAnimationFrame(n)}))}))).then((function(){d||p(Date.now())})).catch((function(){})).finally((function(){s(!1)})))}),[A]);var C=(0,l.useCallback)((function(){h(!0);var e=j(L),t=(0,pe.A)({},((0,_e.A)(e),e));y(t),h(!1)}),[L,A]);return{sizes:A,transition:a,target:L,observableRefresher:C}};var Ae=["title","description","confirmText","cancelText","onConfirm","onCancel","defaultShow","closeable","onClose","radius","highlightedPadding","show","mask","width","scrollToView"],ye={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},be=(0,l.forwardRef)((function(e,t){var n,i=c.A.mergeProps(be.defaultPropsValue,e),u=i.title,d=i.description,h=i.confirmText,v=i.cancelText,f=i.onConfirm,_=i.onCancel,p=i.defaultShow,g=i.closeable,m=i.onClose,A=i.radius,y=i.highlightedPadding,b=i.show,T=i.mask,E=i.width,x=i.scrollToView,L=(0,s.A)(i,Ae),w=null!==h&&void 0!==h,C=null!==v&&void 0!==v,k=(0,l.useRef)(null),N=C||w,D=(0,fe.A)({defaultShow:p,show:b},{defaultValuePropName:"defaultShow",valuePropName:"show"}),I=(0,o.A)(D,2),M=I[0],B=I[1],P=me({target:null===(n=k.current)||void 0===n?void 0:n.popupRef,scrollToView:x,showValue:M,isStandalone:!0}),F=P.sizes,U=P.transition;(0,l.useImperativeHandle)(t,(function(){return k.current}));var j=(0,l.useCallback)((function(){var e,t;m&&m(),B(!1),p&&(null===(e=k.current)||void 0===e||null===(t=e.setVisible)||void 0===t||t.call(e,!1))}),[]),z=p?"defaultShow":"show",Y=N?{trigger:"click",show:M}:(0,a.A)({},z,M),W=N?(0,S.jsx)(ve,{confirmText:h,cancelText:v,onConfirm:f,onCancel:function(){null===_||void 0===_||_(),B(!1)}}):null,H=(0,S.jsx)(O,{title:u,description:d,footer:W,closeable:g,onClose:j,width:E});return T?(0,S.jsxs)(S.Fragment,{children:[M?(0,S.jsx)(oe,{sizes:U?ye:F,padding:y,rx:A,styles:{highlightedArea:function(e){return(0,r.A)({},e)}}}):null,(0,S.jsx)(R,(0,r.A)((0,r.A)({},L),{},{trigger:"click",show:M,popupRef:k,gutter:Number(y)+2,content:H}))]}):(0,S.jsx)(R,(0,r.A)((0,r.A)((0,r.A)({},L),Y),{},{content:H,popupRef:k}))}));be.defaultPropsValue={title:"",description:"",confirmText:null,cancelText:null,onConfirm:null,onCancel:null,closeable:!1,onClose:null,mask:!1,radius:4,highlightedPadding:4,width:null,scrollToView:!0},be.TRIGGER=d.A.TRIGGER;const Te=be;var Ee=n(95007),Se=function(e){var t=e.current,n=e.total;return(0,S.jsx)("div",{children:(0,Ee.DY)()?"".concat(n,"/").concat(t):"".concat(t,"/").concat(n)})};const xe=function(e){var t=e.current,n=e.total,i=e.onInternalChange,a=e.onFinish,o=e.finishText,s=e.renderFooter,l=t===n-1,u=t+1,c={onClick:l?a:function(){i(t+1)},className:"".concat(T,"-button ").concat(T,"-confirm")},d={onClick:function(){i(t-1)},className:"".concat(T,"-button ").concat(T,"-cancel")},h=(0,S.jsxs)("div",{className:"".concat(T,"-right"),children:[0!==t?(0,S.jsx)(he,(0,r.A)((0,r.A)({},d),{},{children:(0,S.jsx)(w.A,{className:"okds-arrow-chevron-left-centered-sm"})})):null,(0,S.jsx)(de,(0,r.A)((0,r.A)({},c),{},{children:l?(0,S.jsx)(S.Fragment,{children:o}):(0,S.jsx)(w.A,{className:"okds-arrow-chevron-right-centered-sm"})}))]});return(0,S.jsx)("div",{className:T,children:s?s((function(){return h}),u,n):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Se,{current:u,total:n}),h]})})};var Le=["current","defaultCurrent","steps","setOpen","onClose","onChange","onFinish","closeable","placement","renderFooter","radius","finishText","highlightedPadding","mask","width","getScrollContainer"],we=["placement","closeable","radius","highlightedPadding","width"],Ce=["show","defaultShow"],Oe={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},ke=function(e){var t=e.current,n=e.defaultCurrent,i=e.steps,a=void 0===i?[]:i,u=e.setOpen,c=e.onClose,d=e.onChange,h=e.onFinish,v=e.closeable,f=e.placement,_=e.renderFooter,p=e.radius,g=e.finishText,m=e.highlightedPadding,A=e.mask,y=e.width,b=e.getScrollContainer,T=(0,s.A)(e,Le),E=(0,fe.A)({onChange:d,current:t,defaultCurrent:n},{defaultValuePropName:"defaultCurrent",valuePropName:"current"}),x=(0,o.A)(E,2),L=x[0],w=x[1],C=a[L],k=C||{},N=k.placement,D=k.closeable,I=k.radius,M=k.highlightedPadding,B=k.width,P=(0,s.A)(k,we),F=(0,l.useCallback)((function(){c&&c(),u(!1)}),[]),U=null!==N&&void 0!==N?N:f,j=null!==D&&void 0!==D?D:v,z=null!==M&&void 0!==M?M:m,Y=null!==I&&void 0!==I?I:p,W=null!==B&&void 0!==B?B:y,H=me((0,r.A)((0,r.A)({},C),{},{scrollToView:!0,getScrollContainer:b}),{block:"center",behavior:"auto"}),V=H.sizes,X=H.transition,G=H.target;return C?(0,S.jsxs)(S.Fragment,{children:[A&&(0,S.jsx)(oe,{sizes:X?Oe:V,padding:z,rx:Y,styles:{highlightedArea:function(e){return(0,r.A)((0,r.A)({},e),{},{display:"block"})}}}),(0,S.jsx)(R,(0,r.A)((0,r.A)({placement:U,referenceRef:G},T),{},{alwaysUpdatePopper:!0,show:!0,gutter:Number(z)+2,content:(0,S.jsx)(O,(0,r.A)({onClose:F,closeable:j,footer:(0,S.jsx)(xe,{current:Number(L),total:a.length,onInternalChange:function(e){w(e)},onFinish:function(){F(),null===h||void 0===h||h()},finishText:g,renderFooter:_}),width:W},P))}))]}):null},Ne=function(e){var t=c.A.mergeProps(Ne.defaultPropsValue,e),n=t.show,i=t.defaultShow,a=(0,s.A)(t,Ce),l=(0,fe.A)({defaultShow:i,show:n},{defaultValuePropName:"defaultShow",valuePropName:"show"}),u=(0,o.A)(l,2),d=u[0],h=u[1];return(0,S.jsx)(S.Fragment,{children:d?(0,S.jsx)(ke,(0,r.A)((0,r.A)({},a),{},{setOpen:h})):null})};Ne.defaultPropsValue={onChange:function(){},current:void 0,defaultCurrent:0,closeable:!0,onClose:function(){},onFinish:function(){},show:void 0,defaultShow:void 0,placement:i.M8.top,renderFooter:null,steps:[],finishText:"",radius:4,highlightedPadding:4,mask:!0,width:null};const Re=Ne;n(79480);var De=Te;De.Tour=Re,De.DIRECTION=i.M8;const Ie=De},70691:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var i=n(89379),r=n(53986),a=n(41594),o=n.n(a),s=n(75206),l=n.n(s),u=n(83573),c=n.n(u),d=n(99692),h=n(60369),v=n(46193),f=n(88688),_=n(68891),p=n(54748),g=n(7686),m=n(94774),A=n(71223),y=n(83892),b=n(88331),T=n(71075),E=n(95736),S=n(77810);var x=n(1979);var L=n(19919),w=["className","maskClassName","visible","onClose","placement","children","noPadding","mask","getContainer","freezeBgScroll","escToClose","style","autoIndex","id"],C="".concat(T.H3,"-drawer"),O="".concat(C,"-mask"),k=(0,a.forwardRef)((function(e,t){var n=f.A.mergeProps(k.defaultPropsValue,e,f.A.componentNames.Drawer),s=n.className,u=n.maskClassName,T=n.visible,E=n.onClose,N=n.placement,R=n.children,D=n.noPadding,I=n.mask,M=n.getContainer,B=n.freezeBgScroll,P=(n.escToClose,n.style),F=n.autoIndex,U=n.id,j=(0,r.A)(n,w),z="".concat(C,"-").concat(N),Y=o().useRef(null),W=o().useCallback((function(e){Y.current=e,"function"===typeof t?t(e):t&&Object.assign(t,{current:e})}),[t]);!function(e){var t=(0,a.useRef)(!1);function n(){t.current&&(0,x.A)(!1)}(0,a.useEffect)((function(){return t.current=e,e&&(0,x.A)(e),n}),[e])}(T&&B),function(e){var t=e.callback,n=e.ref,i=e.eventName,r=void 0===i?"click":i,o=e.disabled,s=[].concat(r),l=(0,a.useRef)(t);(0,a.useEffect)((function(){l.current=t}),[t]),(0,a.useEffect)((function(){l.current=t}),[t]),(0,a.useEffect)((function(){if(o)return function(){};var e=function(e){var t=n.current;t&&!t.contains(e.target)&&l.current(e)};return s.forEach((function(t){S.A.document.addEventListener(t,e)})),function(){s.forEach((function(t){S.A.document.removeEventListener(t,e)}))}}),[s,n])}({callback:function(){null===E||void 0===E||E()},ref:Y,disabled:I});var H=(0,a.useMemo)((function(){return F&&T?_.cb.next().value:null}),[F,T]);(0,v.A)(h.OC.ESC,(function(){T&&(null===E||void 0===E||E())}),{target:Y.current});var V=F?(0,i.A)({zIndex:H},P):P,X=F?{zIndex:H-1}:void 0,G=(0,L.jsxs)(o().Fragment,{children:[I&&(0,L.jsx)(y.A,{visible:T,onClick:E,timeout:500,style:X,timingFunc:"cubic",className:"".concat(C,"-var ").concat(O," ").concat(u)}),(0,L.jsx)(b.A,(0,i.A)((0,i.A)({style:V},j),{},{visible:T,className:c()("".concat(C,"-var"),C,D?"no-padding":"",s,!I&&z),placement:N,setTransitionRef:W,timingFunc:"cubic",timeout:400,isFade:!0,role:"dialog","aria-modal":"true",id:U,children:(0,L.jsxs)(m.A,{getContainer:function(){return Y.current},children:[(0,L.jsx)(g.A,{children:(0,L.jsx)(p.A,{children:(0,L.jsx)("span",{onClick:E,children:(0,A.kW)("a11y_web_btn_close_universal_default")})})}),R]})}))]}),q=M();return q?(0,d.f)()?G:l().createPortal(G,q):(0,L.jsx)(A.Ay,{children:G})}));k.defaultPropsValue={onClose:function(){},placement:E.M8.right,noPadding:!1,className:"",maskClassName:"",mask:!0,freezeBgScroll:!0,getContainer:function(){},escToClose:!1,autoIndex:!1},k.DIRECTION=E.M8;const N=k},12741:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var i=n(60369),r=n(26612),a=n(64467),o=n(89379),s=n(41594),l=n.n(s),u=n(83573),c=n.n(u),d=n(88688),h=n(71075),v={inline:"inline",vertical:"vertical",horizontal:"horizontal"},f={NULL:"null",OTHER:"other"},_={left:"left",right:"right"},p={default:"Validation error on field {label}",required:"{label} is required"},g=["title","name","error","tips","helpText","action","placeMode","titlePlaceMode"],m="".concat(h.H3,"-form");const A=l().createContext({});var y="OKD_FORM_INTERNAL_HOOKS",b=n(90675),T=n(10467),E=n(60436),S=n(5544),x=n(92901),L=n(23029),w=function(e,t,n){var r,a,o;switch(e){case i.rk.Input:case i.rk.InputCode:case i.rk.InputPassword:case i.rk.TextArea:return{value:null===(r=arguments.length<=3?void 0:arguments[3])||void 0===r||null===(a=r.target)||void 0===a?void 0:a.value};case i.rk.InputNumber:case i.rk.DatePicker:case i.rk.RadioGroup:case i.rk.Switch:return{value:arguments.length<=3?void 0:arguments[3]};case i.rk.Select:return{value:n.multiple?arguments.length<=3?void 0:arguments[3]:null===(o=arguments.length<=3?void 0:arguments[3])||void 0===o?void 0:o.value};default:var s,l=null===(s=arguments.length<=3?void 0:arguments[3])||void 0===s?void 0:s.target;return void 0!==(null===l||void 0===l?void 0:l[t])?{value:l[t]}:{value:arguments.length<=3?void 0:arguments[3]}}},C=function(e,t){return"string"===typeof e?[e]:Array.isArray(e)?e:t.map((function(e){return e.name}))},O=function(e,t){var n=e.name,i=e.dependencies;if(!Array.isArray(i)||!i.length||!n)return t;var r=(0,o.A)({},t);return i.forEach((function(e){var i=t[e]||[];r[e]=(0,E.A)(new Set([].concat((0,E.A)(i),[n])))})),r},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(i){t.includes(i)||(n[i]=e[i])})),n},N=function(e){var t=e.match(/^(.*?)\[(\d+)\]\.(.*)$/);return t?{arrayName:t[1],index:parseInt(t[2],10),fieldName:t[3]}:{}},R=n(53986);var D=["validator"],I=["validator"],M=function(e,t,n){var i=n.required,r=n.message,a=Array.isArray(t)?!t.length:void 0===t||""===t;return!0===i&&a?Promise.resolve({name:e,message:r,rule:n}):Promise.resolve(!1)};const B=function(){var e=(0,T.A)((0,b.A)().mark((function e(t,n,i){var r,a,s;return(0,b.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.map((function(e){var i=e.validator,r=(0,R.A)(e,D);return i?(0,o.A)((0,o.A)({},r),{},{validator:function(){var e=(0,T.A)((0,b.A)().mark((function e(){var a;return(0,b.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof(null===(a=i(r,n))||void 0===a?void 0:a.then)){e.next=10;break}return e.prev=2,e.next=5,a;case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",{name:t,message:e.t0,rule:r});case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}()}):r})),e.next=3,Promise.all(r.map((function(e){var i=e.validator,r=(0,R.A)(e,I);return i?i():M(t,n,r)})));case 3:if(a=e.sent,!(s=a.filter(Boolean)).length){e.next=7;break}return e.abrupt("return",{name:t,errors:s});case 7:return e.abrupt("return",{name:t,errors:[]});case 8:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}();var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return Array.isArray(e)?e.map((function(e){if(e.validator||"function"===typeof e)return e;var i=e.required?"required":e.type,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return"";var n=e.match(/\{(.+?)\}/g);if(!n)return e;var i=e;return n.forEach((function(e){var n=e.slice(1,-1);i=i.replace(e,t[n]||"")})),i}(e.message||n[i]||p.default,t);return(0,o.A)((0,o.A)({},e),{},{message:r})})):e},F=(0,x.A)((function e(){var t=this;(0,L.A)(this,e),this.store={},this.fieldEntities=[],this.callbacks={},this.initialValues={},this.fieldsTouched={},this.errors={},this.validateErrors={},this.dependencies={},this.forceUpdate=[],this.reseting=!1,this.initing=!1,this.allowSubmit=!0,this.validateCache={},this.listFields={},this.getInternalHooks=function(e){return e===y?{submit:t.submit,dispatch:t.dispatch,setCallbacks:t.setCallbacks,registerField:t.registerField,setInitialValues:t.setInitialValues,registerForceUpdate:t.registerForceUpdate,loadRegisterField:t.loadRegisterField,unLoadRegisterField:t.unLoadRegisterField,registerListField:t.registerListField}:null},this.getCompatiblility=function(){return{getValues:t.getValues,setValues:t.setValues,cleanValues:t.cleanValues,showErrors:t.showErrors,setErrors:t.setErrors,getErrors:t.getErrors,cleanErrors:t.cleanValidatorErrors,setTips:t.setTips,cleanTips:t.cleanFieldsTip,getFormStatus:t.getFormStatus,getTouchSigns:function(e){var n=t.isFieldsTouched(e);return(0,S.A)(n,1)[0]}}},this.getForm=function(){return(0,o.A)({setInitialValues:t.setInitialValues,getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,resetFields:t.resetFields,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,isFieldsTouched:t.isFieldsTouched,getInternalHooks:t.getInternalHooks,getFieldsError:t.getFieldsError,setFieldsError:t.setFieldsError,setFieldRules:t.setFieldRules},t.getCompatiblility())},this.registerListField=function(e,n){var i=e.path,r=e.fields,a=e.updater,o=Array.isArray(i)?i.join("."):i;return t.listFields[o]={path:i,fields:r,updater:a},function(){n||delete t.listFields[o]}},this.processListInitialValue=function(e,n){var i=Array.isArray(e)?e.join("."):e;Array.isArray(n)&&n.forEach((function(e,n){if("object"===typeof e&&null!==e)Object.keys(e).forEach((function(r){var a="".concat(i,"[").concat(n,"].").concat(r);t.store[a]=e[r]}));else{var r="".concat(i,"[").concat(n,"]");t.store[r]=e}}))},this.initializeListValues=function(e){var n=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e&&"object"===typeof e&&Object.keys(e).forEach((function(r){if(t.listFields[r]){var a=[].concat((0,E.A)(i),[r]),o=e[r];Array.isArray(o)?t.processListInitialValue(a,o):o&&"object"===typeof o&&n(o,a)}}))};n(e)},this.updateValue=function(){var e=(0,T.A)((0,b.A)().mark((function e(n,i){var r,s,l,u,c,d,h,v,f,_,p,g,m,A,y,T,S=arguments;return(0,b.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(S.length>2&&void 0!==S[2])||S[2],s=S.length>3?S[3]:void 0,l=!(S.length>4&&void 0!==S[4])||S[4],u=t.fieldEntities.find((function(e){return e.name===n}))||{},c=u.setControlValue,d=t.store[n],h=(0,o.A)({},t.store),d===i){e.next=23;break}if(t.store=(0,o.A)((0,o.A)({},t.store),{},(0,a.A)({},n,i)),v=N(n),f=v.arrayName,_=v.index,p=v.fieldName,f&&(g=t.getFieldValue(f)||[],Array.isArray(g)&&_<g.length&&((m=(0,E.A)(g))[_]=(0,o.A)((0,o.A)({},m[_]),{},(0,a.A)({},p,i)),t.store=(0,o.A)((0,o.A)({},t.store),{},(0,a.A)({},f,m)))),t.initing||(t.fieldsTouched[n]=!0),null===c||void 0===c||c(i),!(A=t.dependencies[n])||!A.length||t.reseting){e.next=18;break}if(!(y=A.filter((function(e){return void 0!==t.getFieldValue(e)}))).length){e.next=18;break}return e.next=18,t.validateFields(y).catch((function(){}));case 18:if(!l){e.next=21;break}return e.next=21,t.validateFields([n],s).catch((function(){}));case 21:t.triggerForceUpdate(h);try{T=t.callbacks.onValuesChange,r&&(null===T||void 0===T||T((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},n,i),"name",n),"value",i),"error",t.getFieldsError(n)),t.getFieldsValue(),t.getFormStatus()))}catch(b){}case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.triggerForceUpdate=function(e){t.forceUpdate.forEach((function(n){var i=n.shouldUpdate,r=n.forceUpdate;("function"===typeof i&&i(e,t.store)||!0===i)&&r()}))},this.submit=function(){var e=t.callbacks,n=e.onSubmit,i=e.onFinish,r=e.onFinishFailed;return n?n(t.getFieldsValue()):t.validateFields().then((function(e){try{i&&i(e)}catch(t){}})).catch((function(e){r&&r(e)}))},this.setCallbacks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.callbacks=(0,o.A)((0,o.A)({},t.callbacks),e)},this.validateFields=function(){var e=(0,T.A)((0,b.A)().mark((function e(n){var i,r,a,o,s,l=arguments;return(0,b.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!(l.length>1&&void 0!==l[1])||l[1],r=n,r=Array.isArray(n)&&n&&n.length?t.fieldEntities.filter((function(e){var t=e.rules,i=e.name;return n.includes(i)&&!!t})):t.fieldEntities.filter((function(e){return!!e.rules})),e.next=5,Promise.all(r.map((function(e){var n=e.name,i=e.rules,r=t.getFieldValue(n);return B(n,r,i)})));case 5:if(a=e.sent,o=!1,s=a.findIndex((function(e){return e.errors.length})),a.forEach((function(e,n){var r=e.name,a=e.errors,l=t.fieldEntities.find((function(e){return e.name===r}))||{},u=l.setValidatorError,c=l.focusFirstError;if(a.length){var d=(0,S.A)(a,1)[0].message;i&&c?n===s?null===u||void 0===u||u(d):null===u||void 0===u||u(""):i&&(null===u||void 0===u||u(d)),o=!0,t.setValidateErrors(r,a)}else i&&(null===u||void 0===u||u("")),t.setValidateErrors(r)})),o){e.next=11;break}return e.abrupt("return",Promise.resolve(t.getFieldsValue(n)));case 11:return e.abrupt("return",Promise.reject(a));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.dispatch=function(e){switch(e.type){case"updateValue":var n=e.name,i=e.value,r=e.trigger,a=e.validateTrigger,o=e.immediateCollectionError,s=a===r||a.includes(r);t.updateValue(n,i,!0,s,o);break;case"validateField":var l=e.name,u=e.display;t.validateFields("string"===typeof l?[l]:l,u).catch((function(){}));break;case"clearError":var c=e.name;t.cleanValidatorErrors(c)}},this.setValidateErrors=function(e,n){var i=t.callbacks.onStatusChange;t.validateErrors[e]=n;var r=t.getFormStatus();r.allow!==t.allowSubmit&&(t.allowSubmit=r.allow,null===i||void 0===i||i(r))},this.registerForceUpdate=function(e){return t.forceUpdate.push(e),function(){return t.forceUpdate.filter((function(t){return t===e}))}},this.loadRegisterField=function(e){if(t.fieldEntities.find((function(t){return t.name===e.name})))throw new Error("Already registered ".concat(e.name," entity with the same name"));var n=e.rules&&e.rules.map((function(e){return"function"===typeof e?e(t.getForm()):e}));t.fieldEntities.push((0,o.A)((0,o.A)({},e),{},{rules:n})),t.validateFields(e.name,!1).catch((function(){t.triggerForceUpdate(t.store)})),Array.isArray(e.dependencies)&&(t.dependencies=O(e,t.dependencies))},this.unLoadRegisterField=function(e){t.updateValue(e.name,void 0),t.fieldEntities=t.fieldEntities.filter((function(t){return t.name!==e.name})),delete t.store[e.name],t.setErrors(e.name),t.setValidateErrors(e.name),e.setValidatorError("")},this.registerField=function(e,n){if(t.fieldEntities.find((function(t){return t.name===e.name})))throw new Error("Already registered ".concat(e.name," entity with the same name"));var i=e.rules&&e.rules.map((function(e){return"function"===typeof e?e(t.getForm()):e}));if(t.fieldEntities.push((0,o.A)((0,o.A)({},e),{},{rules:i})),void 0!==e.initialValue){var r=e.name,s=e.initialValue;t.setInitialValues((0,a.A)({},r,s),!0)}if(void 0!==t.store[e.name]){var l=e.name,u=e.setControlValue;null===u||void 0===u||u(t.store[l])}return t.validateFields(e.name,!1).catch((function(){t.triggerForceUpdate(t.store)})),Array.isArray(e.dependencies)&&(t.dependencies=O(e,t.dependencies)),function(){if(t.fieldEntities=t.fieldEntities.filter((function(t){return t.name!==e.name})),!n){var i=e.name;t.updateValue(i,void 0),delete t.store[i]}t.setErrors(e.name),t.setValidateErrors(e.name)}},this.setInitialValues=(0,T.A)((0,b.A)().mark((function e(){var n,i,r=arguments;return(0,b.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:{},!(r.length>1?r[1]:void 0)){e.next=12;break}return t.initing=!0,i=(0,o.A)({},t.store),t.setFieldsValue(n),t.initialValues=Object.assign(t.initialValues,n),t.initializeListValues(n),e.next=10,Promise.resolve();case 10:t.initing=!1,t.triggerForceUpdate(i);case 12:case"end":return e.stop()}}),e)}))),this.getFieldValue=function(e){return t.store[e]},this.getFieldsValue=function(e){var n={};return e&&!0!==e?(C(e,t.fieldEntities).forEach((function(e){n[e]=t.store[e]})),n):(Object.keys(t.store).forEach((function(e){N(e).arrayName||(n[e]=t.store[e])})),n)},this.setFieldsValue=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&"object"===typeof e){var r=t.fieldEntities.map((function(e){return e.name}));Object.keys(e).forEach((function(a){var o=e[a];if(r.includes(a)&&(t.updateValue(a,e[a],i,n),Array.isArray(o)&&t.listFields[a])){var s=t.listFields[a].updater;null===s||void 0===s||s(),t.serialize(o,a,(function(e,r){t.updateValue(e,r,i,n)}))}})),t.store=(0,o.A)((0,o.A)({},t.store),e),t.validateFields(Object.keys(e),!1).catch((function(){}))}},this.serialize=function(e,t,n){Array.isArray(e)&&e.forEach((function(e,i){e&&"object"===typeof e&&Object.keys(e).forEach((function(r){var a="".concat(t,"[").concat(i,"].").concat(r);n(a,e[r])}))}))},this.setFieldRules=function(e,n){t.fieldEntities=t.fieldEntities.map((function(i){if(i.name===e){var r=n&&n.map((function(e){return"function"===typeof e?e(t.getForm()):e}));return(0,o.A)((0,o.A)({},i),{},{rules:r})}return i}))},this.resetFields=(0,T.A)((0,b.A)().mark((function e(){var n;return(0,b.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.fieldEntities.forEach((function(e){var t=e.name;n[t]=void 0})),t.reseting=!0,t.setFieldsValue(Object.assign(n,t.initialValues)||{},!1),e.next=6,Promise.resolve();case 6:t.reseting=!1,t.cleanValidatorErrors(),t.fieldsTouched={},t.cleanFieldsTip();case 10:case"end":return e.stop()}}),e)}))),this.setFieldsError=function(){if(arguments.length){var e=arguments.length<=0?void 0:arguments[0];"string"===typeof(arguments.length<=0?void 0:arguments[0])&&(e=(0,a.A)({},arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])),Object.keys(e).forEach((function(n){var i=t.fieldEntities.find((function(e){return e.name===n}))||{},r=i.name,a=i.setValidatorError;r&&(a(e[n]),t.setValidateErrors(n,[{name:n,message:e[n],rule:{}}]))}))}},this.getFieldsError=function(e){var n=[];return C(e,t.fieldEntities).forEach((function(e){var i=[],r=t.errors[e],a=t.validateErrors[e];r&&i.push(r),Array.isArray(a)&&i.push.apply(i,(0,E.A)(a.map((function(e){return e.message})))),i.length&&n.push({name:e,errors:i})})),n},this.cleanValidatorErrors=function(e){C(e,t.fieldEntities).forEach((function(e){t.errors[e]=void 0;var n=(t.fieldEntities.find((function(t){return t.name===e}))||{}).setValidatorError;null===n||void 0===n||n(void 0)}))},this.cleanFieldsTip=function(e){C(e,t.fieldEntities).forEach((function(e){var n=(t.fieldEntities.find((function(t){return t.name===e}))||{}).setFieldTip;null===n||void 0===n||n(void 0)}))},this.isFieldsTouched=function(e){var n=C(e,t.fieldEntities),i={};return n.forEach((function(e){t.fieldsTouched[e]&&(i[e]=t.fieldsTouched[e])})),[i,n.length===Object.keys(i).length]},this.getValues=function(e){return"string"===typeof e?t.getFieldValue(e):t.getFieldsValue(e)},this.setValues=function(){var e={};1===arguments.length&&"object"===typeof(arguments.length<=0?void 0:arguments[0])?e=arguments.length<=0?void 0:arguments[0]:2===arguments.length&&"string"===typeof(arguments.length<=0?void 0:arguments[0])&&(e=(0,a.A)({},arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])),t.setFieldsValue(e)},this.cleanValues=function(e,n){var i={};C(e,t.fieldEntities).forEach((function(e){i[e]=void 0})),t.setFieldsValue(i,n)},this.setErrors=function(){if(arguments.length){var e=arguments.length<=0?void 0:arguments[0];"string"===typeof(arguments.length<=0?void 0:arguments[0])&&(e=(0,a.A)({},arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])),Object.keys(e).forEach((function(n){t.errors[n]=e[n];var i=(t.fieldEntities.find((function(e){return e.name===n}))||{}).setValidatorError;null===i||void 0===i||i(e[n])})),t.triggerForceUpdate(t.store);var n=t.callbacks.onStatusChange,i=t.getFormStatus();i.allow!==t.allowSubmit&&(t.allowSubmit=i.allow,null===n||void 0===n||n(i))}},this.getErrors=function(e){var n={};return t.getFieldsError(e).forEach((function(e){Array.isArray(e.errors)&&e.errors.length&&(n[e.name]=e.errors[0])})),n},this.showErrors=function(){var e=!0,n={};return t.fieldEntities.forEach((function(i){var r,a,o=i.name,s=i.setValidatorError,l=t.validateErrors[o]||[],u=t.errors[o];(l&&l.length||u)&&(e=!1,n[o]=(null===(r=l[0])||void 0===r?void 0:r.message)||u,null===s||void 0===s||s((null===(a=l[0])||void 0===a?void 0:a.message)||u))})),{allow:e,error:n}},this.setTips=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(1===n.length&&"object"===typeof n[0]){var r=n[0];Object.keys(r).forEach((function(e){var n=(t.fieldEntities.find((function(t){return t.name===e}))||{}).setFieldTip;null===n||void 0===n||n(r[e])}))}if(2===n.length){var a=(t.fieldEntities.find((function(e){return e.name===n[0]}))||{}).setFieldTip;null===a||void 0===a||a(n[1])}},this.getFormStatus=function(){for(var e=t.getFieldsError(),n=0;n<e.length;n++){var i=e[n],r=i.name,a=i.errors;if(a.length)return{name:r,allow:!1,errorMsg:a[0]}}return{allow:!0}}}));var U=function(e){var t=(0,s.useRef)();return t.current||(t.current=e||(new F).getForm()),t.current},j=function(e,t){return e.map((function(e){var n=e.type,i=e.msg,r=e.check;return n===f.NULL?{type:n,required:!0,message:i}:n===f.OTHER&&"function"===typeof r?{type:n,check:r,validator:function(e,n){try{var i=r(t,n);return i?Promise.reject(i):Promise.resolve()}catch(a){return Promise.resolve()}}}:null})).filter(Boolean)},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach((function(n){var i=e[n];t[n]=j(i,n)})),t},Y=n(19919),W=l().forwardRef((function(e,t){var n=d.A.mergeProps(W.defaultPropsValue,e),i=n.form,r=n.rules,s=n.weight,u=n.onSubmit,f=n.children,_=n.className,p=n.size,g=n.validateConfig,b=n.preserve,T=n.onChange,E=n.onFinish,S=n.getForm,x=n.alwaysShowError,L=n.colon,w=n.onFinishFailed,C=n.onStatusChange,O=n.onValuesChange,k=n.validateMessages,N=n.immediateCollectionError,R=n.initialValues,D=n.labelAlign,I=n.requiredMark,M=n.prefixCls,B=void 0===M?m:M,P=n.layout,F=n.validateTrigger,j=n.component,H=void 0===j?"form":j,V=n.formItemClassName,X=n.errorClassName,G=n.focusFirstError,q=n.preserveErrorMargin,J=f,K=U(i),Z=(0,K.getInternalHooks)(y),Q=Z.dispatch,$=Z.setCallbacks,ee=Z.setInitialValues;l().useEffect((function(){i&&"object"===typeof i&&Object.assign(i,K)}),[i,K]),$({onSubmit:u,onFinish:E,onFinishFailed:w,onStatusChange:C,onValuesChange:O}),l().useEffect((function(){ee(R,!0),Q({type:"validateField",display:!1}),S&&"function"===typeof S&&S(K)}),[]),l().useImperativeHandle(t,(function(){return K}));var te=l().useMemo((function(){return(0,o.A)({size:p,colon:L,layout:P,onChange:T,preserve:b,prefixCls:B,labelAlign:D,requiredMark:I,validateTrigger:F,validateMessages:k,alwaysShowError:x,immediateCollectionError:N,focusFirstError:G,formItemClassName:V,errorClassName:X,preserveErrorMargin:q,formLineWeight:s,rules:r||z(g)},K)}),[p,r,L,s,P,T,b,B,D,I,K,g,F,k,x,N,V,X,G,q]),ne=(0,Y.jsx)(A.Provider,{value:te,children:J});if(!1===H)return ne;var ie=c()(d.A.data.okdNamespace,_,"".concat(B,"-var"),"".concat(h.H3,"-input-var"),"".concat(B),(0,a.A)((0,a.A)((0,a.A)({},"".concat(B,"-").concat(v.inline),P===v.inline),"".concat(B,"-").concat(v.vertical),P===v.vertical),"".concat(B,"-").concat(v.horizontal),P===v.horizontal));return(0,Y.jsx)(H,{className:ie,onSubmit:function(e){null===e||void 0===e||e.preventDefault()},children:ne})}));W.defaultPropsValue={size:r.A.md,colon:!0,preserve:!0,layout:v.vertical,labelAlign:_.right,requiredMark:!1,validateTrigger:"onBlur",component:"form",alwaysShowError:!0,immediateCollectionError:!0,formItemClassName:"",errorClassName:"",preserveErrorMargin:!1,initialValues:{},focusFirstError:!1};const H=W;var V=function(e){return!!Array.isArray(e)&&!!e.find((function(e){return!0===e.required}))},X=function(e,t){return e||V(t)},G=function(e,t){if(!t||V(e))return e;var n=e;return Array.isArray(e)||(n=[]),n.unshift({required:!0}),n},q=["name","error","extra","rules","label","colon","title","aciton","required","children","labelAlign","hidden","visible","validateTrigger","className","preserveErrorMargin"];const J=function(e){var t=e.name,n=e.error,r=e.extra,a=e.rules,s=e.label,u=e.colon,d=e.title,h=e.aciton,f=e.required,_=e.children,p=e.labelAlign,g=e.hidden,m=void 0!==g&&g,y=e.visible,b=void 0===y||y,T=e.validateTrigger,E=e.className,S=e.preserveErrorMargin,x=(0,R.A)(e,q),L=l().useContext(A),w=L.size,C=L.layout,O=L.validateMessages,k=L.formItemClassName,N=L.errorClassName,D=L.colon,I=L.rules,M=void 0===I?{}:I,B=L.labelAlign,F=L.validateTrigger,U=L.preserveErrorMargin,j=function(e){var t={};return l().Children.forEach(e,(function(e){if(e&&e.props){var n=e.props,r=e.type,a=void 0===r?{}:r;n.name&&i.rk[a.elementType]&&a.elementType!==i.rk.Button&&(t=n||{})}})),t}(_),z=s||d,Y=t||(null===j||void 0===j?void 0:j.name),W=a||M[Y],H=h||j.aciton,V=r||j.tips,J=n||(null===j||void 0===j?void 0:j.error);return(0,o.A)((0,o.A)({size:w},x),{},{errorClassName:x.errorClassName||N,children:_,error:J,extra:"function"===typeof V?V():V,label:z,name:Y,required:X(f,W),rules:P(G(W,f),{title:z,label:z},O),nameInChildren:!t&&!!Y,labelAlign:p||B,hidden:!0===m||!1===b,colon:void 0!==u?u:D,validateTrigger:T||F,preserveErrorMargin:S||U,aciton:C===v.vertical&&("function"===typeof H?H():H),className:c()(k,E)})};var K=["resetFields","getInternalHooks"];const Z=function(e){var t=e.size,n=e.children,r=e.shouldUpdate,a=l().useState(0),s=(0,S.A)(a,2),u=s[0],c=s[1],d=l().useContext(A),h=d.resetFields,v=d.getInternalHooks,f=(0,R.A)(d,K),_=(null===v||void 0===v?void 0:v(y))||{},p=_.submit,g=_.registerForceUpdate;l().useEffect((function(){return r&&"function"===typeof n?g({shouldUpdate:r,forceUpdate:function(){c((function(e){return e+1}))}}):function(){}}),[]);var m=l().useMemo((function(){var e=function(e){if(!l().isValidElement(e))return e;var n=e.type,r=e.props,a=(0,o.A)({size:t},r);return(null===n||void 0===n?void 0:n.elementType)===i.rk.Button&&(a=function(e){if(!e)return{};var t=e;return!0===e.submit||"submit"===e.htmlType?t=(0,o.A)((0,o.A)({},t),{},{onClick:function(){var t=(0,T.A)((0,b.A)().mark((function t(n){return(0,b.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),n.stopPropagation(),p&&p(),e.onClick&&e.onClick();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}):!0!==e.reset&&"reset"!==e.htmlType||(t=(0,o.A)((0,o.A)({},t),{},{onClick:function(){var t=(0,T.A)((0,b.A)().mark((function t(n){return(0,b.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),n.stopPropagation(),h(),e.onClick&&e.onClick();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),t}(a)),l().cloneElement(e,a)};return r&&"function"===typeof n?e(n(f)):l().Children.map(n,(function(t){return e(t)}))}),[t,u,f,n]);return[m]},Q=function(e){var t=e.size,n=e.name,s=e.help,u=e.rules,c=e.error,d=e.trigger,h=e.children,v=e.initialValue,f=e.dependencies,_=e.valuePropName,p=e.alwaysShowError,m=e.validateTrigger,b=e.normalize,T=e.useChildError,E=e.hidden,x=e.removeFieldOnHidden,L=e.updateRules,C=l().useState(s),O=(0,S.A)(C,2),k=O[0],N=O[1],R=l().useRef(!1),D=l().useState(null!==c&&void 0!==c?c:""),I=(0,S.A)(D,2),M=I[0],B=I[1],P=l().useState(void 0),F=(0,S.A)(P,2),U=F[0],j=F[1],z=l().useContext(A),Y=z.preserve,W=z.onChange,H=z.getFieldValue,V=z.alwaysShowError,X=z.getInternalHooks,G=z.setFieldRules,q=z.getValues,J=z.immediateCollectionError,K=z.focusFirstError,Z=(null===X||void 0===X?void 0:X(y))||{},Q=Z.dispatch,$=Z.registerField,ee=Z.loadRegisterField,te=Z.unLoadRegisterField;l().useEffect((function(){return n?$({name:n,rules:u,initialValue:v,dependencies:f,setFieldTip:N,setControlValue:j,setValidatorError:B,validateTrigger:m,focusFirstError:K},Y):function(){}}),[n]),l().useEffect((function(){var e=R.current;if(x&&e!==E){var t={name:n,rules:u,initialValue:v,dependencies:f,setFieldTip:N,setControlValue:j,setValidatorError:B,validateTrigger:m};E?setTimeout((function(){te(t,Y)})):ee(t),R.current=E}}),[E]),l().useEffect((function(){L&&G(n,u)}),[u]),l().useEffect((function(){B(c)}),[c]);var ne=!!M,ie=T?ne&&M:ne,re=l().useMemo((function(){return n?l().Children.map(h,(function(e,s){if(s>0||!l().isValidElement(e))return e;var u=e.props,c=e.type,h=(void 0===c?{}:c).elementType,v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach((function(i){t.includes(i)?n[i]=void 0:n[i]=e[i]})),n}(u,g),f=function(e,t){return[i.rk.Radio,i.rk.Checkbox].includes(e)?"checked":t}(h,_),A=[i.rk.Checkbox,i.rk.CheckboxGroup,i.rk.Radio,i.rk.RadioGroup].includes(h),y=[r.A.sm,r.A.md].includes(t)?t:r.A.md,T=A?y:t,E=function(e,t){var n=t.name,i=t.props,r=t.dispatch,a=t.getFieldValue;if(!e||!Array.isArray(e)&&"string"!==typeof e||!e.length)return i;var s={};return("string"===typeof e?[e]:e).forEach((function(e){s[e]=function(){void 0!==a(n)&&r({type:"validateField",name:n}),i[e]&&"function"===typeof i[e]&&i[e].apply(i,arguments)}})),(0,o.A)((0,o.A)({},s),i)}(m,{name:n,dispatch:Q,getFieldValue:H,props:(0,o.A)((0,o.A)({},v),{},(0,a.A)((0,a.A)((0,a.A)((0,a.A)({size:v.size&&v.size!==r.A.md?v.size:T},f,U),"error",![i.rk.Checkbox].includes(h)&&ie),"onFocus",(function(e){var t;null===v||void 0===v||null===(t=v.onFocus)||void 0===t||t.call(v,e),(!1===p||!1===V&&!0===p)&&Q({name:n,type:"clearError"})})),d,(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=w.apply(void 0,[h,f,v].concat(t)).value,a=q(),o=b?b(r,a[n],a):r;if(Q({type:"updateValue",name:n,value:o,trigger:d,validateTrigger:m,immediateCollectionError:J}),null===W||void 0===W||W(n,o,{elementType:h}),v[d])return v[d].apply(v,t)})))});return l().cloneElement(e,E)})):h}),[n,t,d,h,U,_,M,p,m,V]);return[k,M,re]},$=function(e){var t=e.label,n=e.colon,i=e.action,r=e.layout,o=e.htmlFor,s=e.onAction,l=e.labelAlign,u=e.isRequired,d=e.description,h=e.prefixCls;if(!t)return null;var f=c()("".concat(h,"-label"),(0,a.A)((0,a.A)((0,a.A)({},"".concat(h,"-label-required"),u),"".concat(h,"-label-no-colon"),!n),"".concat(h,"-label-align-").concat(l),r===v.horizontal&&l));return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("div",{className:f,children:[(0,Y.jsx)("label",{htmlFor:o,children:t}),"function"===typeof i?i():i?(0,Y.jsx)("span",{onClick:s,className:"".concat(h,"-label-action"),children:i}):null]}),!!d&&d]})};var ee=function(e){var t=(0,o.A)({},e);Array.isArray(e.name)&&(t.name=e.name.join("."));var n=d.A.mergeProps(ee.defaultPropsValue,t),i=J(n),r=Z(i),s=(0,S.A)(r,1)[0],u=Q((0,o.A)((0,o.A)({},i),{},{children:s})),h=(0,S.A)(u,3),v=h[0],f=h[1],_=h[2],p=i.extra,g=i.label,m=i.colon,y=i.style,b=i.action,T=i.noStyle,E=i.hidden,x=i.required,L=i.onAction,w=i.className,C=i.labelAlign,O=i.useChildError,k=i.description,N=(i.name,i.nameInChildren),R=i.requireIcon,D=i.extraClassName,I=i.errorClassName,M=i.noStyleVisible,B=i.noBottomMargin,P=i.hideErrorText,F=i.preserveErrorMargin,U=l().useContext(A),j=U.size,z=U.layout,W=U.requiredMark,H=U.prefixCls,V="".concat(H,"-item"),X=!O&&!!f&&"string"===typeof f,G=c()(d.A.data.okdNamespace,"".concat(V,"-").concat(j),(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},V,!T),"".concat(V,"-no-style-hidden "),M&&T&&E),"".concat(V,"-hidden"),E),"".concat(V,"-no-label"),!g),"".concat(V,"-has-tip"),!!v),"".concat(V,"-has-error-preserve-margin"),(X||!!v)&&F),"".concat(V,"-has-error"),X),"".concat(V,"-no-margin"),B),"".concat(V,"-has-name"),!!N),w),q=R||x&&!!W;return(0,Y.jsxs)("div",{className:G,style:y,children:[(!!g||!!b)&&(0,Y.jsx)($,{label:g,colon:m,layout:z,action:b,prefixCls:V,labelAlign:C,isRequired:q,onAction:L,description:k}),(0,Y.jsxs)("div",{className:"".concat(V,"-control"),children:[(0,Y.jsx)("div",{className:c()("".concat(V,"-control-input")),children:(0,Y.jsx)("div",{className:c()("".concat(V,"-control-input-content")),children:_})}),(X&&!P||!!v)&&(0,Y.jsxs)("div",{className:c()("".concat(V,"-control-explain")),children:[X&&!P&&(0,Y.jsx)("div",{className:c()("".concat(V,"-control-explain-error"),I),children:f}),!f&&v&&(0,Y.jsx)("div",{className:c()("".concat(V,"-control-explain-tip")),children:v})]}),p&&(0,Y.jsx)("div",{className:c()("".concat(V,"-control-extra"),(0,a.A)({},"".concat(D),X)),children:p})]})]})};ee.defaultPropsValue={hidden:!1,visible:!0,noStyle:!1,trigger:"onChange",valuePropName:"value",onAction:function(){},alwaysShowError:!0,normalize:null,useChildError:!1,description:"",requireIcon:!1,errorClassName:"",extraClassName:"",removeFieldOnHidden:!1,noStyleVisible:!1,noBottomMargin:!1,preserveErrorMargin:!1,updateRules:!1,hideErrorText:!1},ee.elementType="FormItem";const te=ee;var ne=["$path","className","children","render","body","style","visible"];H.Item=te,H.SIZE=r.A,H.ERROR=f,H.TYPE=i.rk,H.type=i.rk,H.ALIGN=_,H.LAYOUT=v,H.Line=function(e){var t=e.$path,n=e.className,i=e.children,r=e.render,s=e.body,u=e.style,h=e.visible,v=void 0===h||h,f=(0,R.A)(e,ne),_=l().useContext(A),p=_.prefixCls,g=void 0===p?m:p,y=_.formLineWeight,b=l().useMemo((function(){var e=i;s&&r&&(e=r(t,s));var n=function(e){var t=0;return l().Children.forEach(e,(function(e){var n=e.props;t+=n.weight||0})),t}(e);return l().Children.map(e,(function(e){var t=e.props;return y&&t.weight?l().cloneElement(e,(0,o.A)((0,o.A)({},t),{},{style:(0,o.A)({flexBasis:0,flexGrow:t.weight/(n>y?n:y)},null===t||void 0===t?void 0:t.style)})):e}))}),[i,s,t,r,y]),T=function(e){var t=0;return l().Children.forEach(e,(function(e){var n=e.props;(null===n||void 0===n?void 0:n.weight)>t&&(t=n.weight)})),t}(b),E=T>=y?"column":"row",S=c()(d.A.data.okdNamespace,n,"".concat(g,"-line"),(0,a.A)((0,a.A)({},"".concat(g,"-line-hidden"),!v),"".concat(g,"-line-").concat(E),E));return(0,Y.jsx)(te,(0,o.A)((0,o.A)({style:u,className:S},k(f,["name"])),{},{children:b}))},H.create=function(){return(new F).getForm()},H.useForm=U;const ie=H},95374:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(89379),r=n(92901),a=n(23029),o=n(84854),s=n(52559),l=n(99420),u=n(99692),c={script:"src",link:"href",a:"href"};function d(e){var t,n=(0,s.W)(),r=e.url,a=e.retry,o=void 0===a?0:a,h=e.attrs,v=void 0===h?{}:h,f=e.fresh,_=void 0!==f&&f,p=e.unique,g=void 0!==p&&p,m=e.tagName,A=void 0===m?"script":m,y=e.parentDom,b=v.id||r;if((0,u.f)())return Promise.resolve("");if(n._load_dom_promise_instance_map||(n._load_dom_promise_instance_map={}),n._load_dom_promise_instance_map[b]&&g)return n._load_dom_promise_instance_map[b];var T=new Promise((function(t,a){var s=null!==y&&void 0!==y?y:document.head,u=document.getElementById(b);if(u){if(!_)return void t("existed");s.removeChild(u)}var h=document.createElement(A);Object.keys(v).forEach((function(e){h.setAttribute(e,(0,l.YW)(v[e]))})),b&&h.setAttribute("id",(0,l.YW)(b)),c[A]&&h.setAttribute(c[A],(0,l.YW)(r)),h.onload=function(){t("success")},h.onerror=function(t){s.removeChild(h),0!==o?a(d((0,i.A)((0,i.A)({},e),{},{retry:o-1,unique:!1}))):(n._load_dom_promise_instance_map&&(n._load_dom_promise_instance_map[b]=null),a(t))},s.appendChild(h)}));return n._load_dom_promise_instance_map&&(n._load_dom_promise_instance_map[b]=T),null===(t=n._load_dom_promise_instance_map)||void 0===t?void 0:t[b]}var h="".concat(o.A.cdnBaseUrl,"/cdn/assets/okfe"),v=(o.A||{}).versionUrls,f="";v&&(f=v.expressway);var _=function(e){return t={url:e,attrs:{id:e,rel:"stylesheet",type:"text/css"}},d((0,i.A)({tagName:"link",attrs:{rel:"stylesheet",type:"text/css"}},t));var t};const p=new((0,r.A)((function e(){var t=this;(0,a.A)(this,e),this.loadUrls=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map((function(e){return e.endsWith(".css")?t.loadStyle(e,n):t.loadScript(e,n)}))},this.loadStyle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(n){return _(e).then((function(){return n({index:t})}))}))},this.loadScript=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(0,u.f)()){var n=document.getElementById(e);n&&document.head.removeChild(n)}return new Promise((function(n){return(r={url:e,attrs:{id:e}},d((0,i.A)({tagName:"script"},r))).then((function(){return n({index:t})}));var r}))},this.initReactEnv=function(){return new Promise((function(e){if(window.React&&window.ReactDOM)e();else{var n=["".concat(h,"/libs/react/react-18.2.0.min.js"),"".concat(h,"/libs/react/react-dom-18.2.0.min.js")];Promise.all(t.loadUrls(n)).then((function(){return e()})).catch((function(e){throw e}))}}))},this.initExpresswayList=function(){var e=t.config,n=e.list,i=void 0===n?[]:n,r=e.needContainer,a=void 0===r||r;i.forEach((function(e,n){var r=e,s=!1;e.constructor===Object&&(r=e.name,s=Boolean(e.skipCss));var l=[s?void 0:"".concat(f,"/").concat(r,"/").concat(o.A.isRTL?"index.rtl.css":"index.css"),"".concat(f,"/").concat(r,"/index.js")].filter(Boolean);t.loadFinishList.includes(i[n])?0===n&&t.show(t.config):Promise.all(t.loadUrls(l,n)).then((function(o){var s=(o[0]||{}).index;if(t.loadFinishList.push(i[s]),0===n)if(t.initFinished=!0,a)window.okui.expressway.container(t.config);else{var l=e.props,u=e.onInitFinish,c=window.okui.expressway[r](l);u&&u(c)}})).catch((function(e){throw e}))}))},this.init=function(e){f&&(t.config=e,t.initReactEnv().then((function(){var e=t.config.needContainer;if(void 0===e||e){var n=["".concat(f,"/container/index.css"),"".concat(f,"/container/index.js")];t.loadFinishList.includes("container")?t.initExpresswayList():Promise.all(t.loadUrls(n)).then((function(){return t.loadFinishList.push("container"),t.initExpresswayList()})).catch((function(e){throw e}))}else t.initExpresswayList()})).catch((function(e){throw e})))},this.remoteModule={},this.remoteLoader=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"expressway";if(""===e)throw new Error("moduleName cannot be empty");if("expressway"!==i&&!v[i])throw new Error("project address not found");var r=v[i]||v.expressway;if(t.remoteModule[e]&&"function"===typeof t.remoteModule[e].show)return t.remoteModule[e].show(n),t.remoteModule[e];var a=function(){throw new Error("The module has not been loaded")},s={name:e,initialized:!1,current:null,onLoad:(null===n||void 0===n?void 0:n.onLoad)||null,open:a,destroy:a,update:a,show:a},l=function(){var t,r,a=(n||{}).autoRun,o=null;(void 0===a||a)&&(o=null===(t=window)||void 0===t||null===(r=t.okui)||void 0===r?void 0:r[i][e](n));Object.assign(s,{initialized:!0,current:o,destroy:function(){var e=(s||{}).current;e&&null!==e&&void 0!==e&&e.destroy&&"function"===typeof e.destroy&&e.destroy(),Object.assign(s,{initialized:!1})},update:function(e){var t=(s||{}).current;t&&null!==t&&void 0!==t&&t.update&&"function"===typeof t.update&&t.update(e)},show:function(){var t,n,r,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o&&Object.keys(o).length>0?(s.prevProps=o,s.current=null===(r=window)||void 0===r||null===(a=r.okui)||void 0===a?void 0:a[i][e](o),s.current):null===(t=window)||void 0===t||null===(n=t.okui)||void 0===n?void 0:n[i][e](s.prevProps)},prevProps:n}),s.onLoad&&"function"===typeof s.onLoad&&s.onLoad()};return t.initReactEnv().then((function(){var n=["".concat(r,"/").concat(e,"/").concat(o.A.isRTL?"index.rtl.css":"index.css"),"".concat(r,"/").concat(e,"/index.js")];return Promise.all(t.loadUrls(n)).then(l)})).catch((function(e){throw e})),t.remoteModule[e]=s,s},this.show=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.config=(0,i.A)((0,i.A)({},t.config),e),t.initFinished?window.okui.expressway.container((0,i.A)((0,i.A)({},t.config),{},{show:!0})):t.init((0,i.A)((0,i.A)({},t.config),{},{show:!0}))},this.syncRemoteLoader=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expressway",i=v[n]||v.expressway,r=function(){};return new Promise((function(a,s){var l={name:e,initialized:!1,current:null,onLoad:null,open:r,destroy:r,update:r,show:r};""!==e?"expressway"===n||v[n]?t.remoteModule[e]&&t.remoteModule[e].current?a(t.remoteModule[e].current):t.initReactEnv().then((function(){var r=["".concat(i,"/").concat(e,"/").concat(o.A.isRTL?"index.rtl.css":"index.css"),"".concat(i,"/").concat(e,"/index.js")];Promise.all(t.loadUrls(r)).then((function(){var i,r,o=null===(i=window)||void 0===i||null===(r=i.okui)||void 0===r?void 0:r[n][e];Object.assign(l,{initialized:!0,current:o}),t.remoteModule[e]=l,a(o)})).catch((function(e){s(e)}))})).catch((function(){s(new Error("init react env error"))})):s(new Error("project address not found")):s(new Error("moduleName cannot be empty"))}))},this.config={},this.initFinished=!1,this.loadFinishList=[]})))},54609:(e,t,n)=>{"use strict";n.d(t,{W4:()=>i});var i={LIMIT_MARKET:"limit,market,mmp",ADVANCED_LIMIT:"post_only,fok,ioc,optimal_limit_ioc",STOP:"conditional,oco",STOP_OCO:"oco",STOP_LIMIT:"stop-limit",LIMIT:"limit",MARKET:"market",POST_ONLY:"post_only",FOK:"fok",IOC:"ioc",OPTIMAL_LIMIT_IOC:"optimal_limit_ioc",CONDITIONAL:"conditional",OCO:"oco",TRIGGER:"trigger",ICEBERG:"iceberg",TWAP:"twap",GRID:"grid",RECURRING:"recurring",SMART_PORTFOLIO:"smart_portfolio",CONTRACT_GRID:"contract_grid",SPOT_DCA:"spot_dca",ARBITRAGE:"arbitrage",OP_FOK:"op_fok",MMP:"mmp",MOVE_STOP:"move_order_stop",MOON_GRID:"moon_grid",LVF:"lvf"}},83078:(e,t,n)=>{"use strict";n.d(t,{Tn:()=>i,Y5:()=>l,gH:()=>o,lk:()=>r,ym:()=>a});var i={ISOLATED:"isolated",CROSS:"cross",CASH:"cash"},r={OCO:"oco",MULTI:"multi"},a={PRICE:"price",PROFIT:"profit",PROFIT_RATIO:"profit_ratio"},o=-1,s=10**8,l={LIMIT_PRICE:s,LIMIT_AMOUNT:s,OPTION_PRICE_MAX:100}},56032:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(51045),r=n(53084);const a={getMaxAvailable:function(e){return(0,r.fe)("".concat(i.x0,"/account/max-available"),e)}}},18297:(e,t,n)=>{"use strict";n.d(t,{P:()=>A});var i=n(10305),r=n(34653),a=n(79428),o=n(29613),s=n(69294),l=i.pn.LINEAR,u=r.iw.BASE,c=r.iw.QUOTE,d=r.iw.CONT,h=i.gy.FUTURES,v=i.gy.SWAP,f=i.gy.SPOT,_=i.gy.MARGIN,p=a.W4.CONTRACT_GRID,g=a.W4.CONTRACT_DCA,m=a.W4.SIGNAL_BOT;function A(e){var t=e.ordType,n=e.instId,i=e.instType,r=e.isBaseCcy,a=void 0!==r&&r,A=e.isContractBotUnitConvert,y=void 0!==A&&A,b=e.linearTradeUnit,T=e.invertTradeUnit,E=e.inverseFuturesUnit,S=o.A.linearTradeUnit,x=o.A.invertTradeUnit,L=o.A.inverseFuturesUnit,w=o.A.sizeUnit,C=(0,s.ji)(n).isLinear;if([f,_].includes(i))return{tradeUnit:a?u:c};var O=function(e){return{isContractBot:[p,g,m].includes(e)}}(t);if(O.isContractBot&&!y)return{tradeUnit:c,linearTradeUnit:c};if(function(e){var t=e.instType;return[h,v].includes(t)}({instType:i})){var k=w[i][l],N=k.isBase,R=k.isQuote;return C&&(N||R)?{tradeUnit:u,linearTradeUnit:u}:{tradeUnit:d,linearTradeUnit:d,invertTradeUnit:d,inverseFuturesUnit:d}}var D=b||S,I=E||L;return{tradeUnit:C?D:I,linearTradeUnit:D,invertTradeUnit:T||x,inverseFuturesUnit:I}}},19222:(e,t,n)=>{"use strict";n.d(t,{O:()=>u,A:()=>l});var i=n(89379),r=n(53986),a=n(19919),o=(n(41594),n(4613)),s=["children"];const l=function(e){var t=e.children,n=(0,r.A)(e,s);return(0,a.jsx)(o.A,(0,i.A)((0,i.A)({size:o.A.SIZE.sm,delayShow:400,alwaysUpdatePopper:!0},n),{},{children:t}))};var u=o.A.DIRECTION},69054:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var i=n(64467),r=n(90675),a=n(10467),o=n(23029),s=n(92901),l=n(4473),u=n(68341),c=n(44497),d=n(45613),h=n(10305),v=n(42447),f=n(82043),_=n(75376),p=n(34901),g=n(7196),m=n(31457),A=h.gy.SPOT,y=h.gy.MARGIN,b=h.gy.SWAP,T=h.gy.FUTURES,E=h.gy.OPTION,S="COIN",x="INDEX",L=v.yy.TICKERS,w=v.yy.MARK_PRICE,C=v.yy.INDEX_TICKERS,O=v.yy.FUNDING_RATE,k=v.yy.OPT_SUMMARY_INST_ID,N=v.yy.ESTIMATED_PRICE,R=v.yy.OPEN_INTEREST,D=v.yy.CUP_TICKERS_3S,I=v.yy.TICKERS_3S,M=h.e$.USD,B=(0,u.A)("addListener"),P=function(){return(0,s.A)((function e(t){var n=this,i=t.store;(0,o.A)(this,e),Object.defineProperty(this,B,{value:F}),this.setTicker=(0,a.A)((0,r.A)().mark((function e(){var t,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.store.inst.instId,e.next=3,f.A.getTicker(t);case 3:i=e.sent,n.updateTicker({data:i});case 5:case"end":return e.stop()}}),e)}))),this.updateTicker=function(e){var t=e.data;n.updateData({targetKey:"ticker",data:t})},this.updateTicker3s=function(e){var t=e.data,i=(void 0===t?[]:t)[0];i&&(n.tickers[i.instId]=i)},this.setUsdPrice=(0,a.A)((0,r.A)().mark((function e(){var t,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.getUsdCcy(),e.next=3,f.A.getUsdTicker(t);case 3:i=e.sent,n.updateUsdPrice({data:i});case 5:case"end":return e.stop()}}),e)}))),this.updateUsdPrice=function(e){var t=e.data;g.A.updateUsdTickers({data:t}),n.updateData({targetKey:"quoteUsdPrice",valueKey:"last",data:t,type:S})},this.setIndexPrice=(0,a.A)((0,r.A)().mark((function e(){var t,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.store.inst.uly,e.next=3,f.A.getIndexPrice(t);case 3:i=e.sent,n.updateIndexPrice({data:i});case 5:case"end":return e.stop()}}),e)}))),this.updateIndexPrice=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;e&&n.updateData({targetKey:"indexPrice",valueKey:"idxPx",data:e,type:x})},this.setMarkPrice=(0,a.A)((0,r.A)().mark((function e(){var t,i,a,o=arguments;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:n.store.inst.instType,i=n.store.inst.instId,e.next=4,f.A.getMarkPrice({instType:t,instId:i});case 4:a=e.sent,n.updateMarkPrice({data:a});case 6:case"end":return e.stop()}}),e)}))),this.updateMarkPrice=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;e&&n.updateData({targetKey:"markPrice",valueKey:"markPx",data:e})},this.setMarginRate=(0,a.A)((0,r.A)().mark((function e(){var t,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.store.inst.instId,e.next=3,f.A.getMarginRate(t);case 3:i=e.sent,n.updateMarginRate({data:i});case 5:case"end":return e.stop()}}),e)}))),this.setIntervalMarginRate=function(){n.setMarginRate(),clearInterval(n.marginRateInterval),n.marginRateInterval=setInterval((function(){var e=n.store,t=e.marginRate,i=e.inst,r=t.nextInterestTime,a=_.A.sysTime,o=r&&r<=a,s=i.lever;o&&s&&n.setMarginRate()}),1e3)},this.updateMarginRate=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;n.updateData({targetKey:"marginRate",data:e})},this.setEstimatedPrice=(0,a.A)((0,r.A)().mark((function e(){var t,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.store.inst.instId,e.next=3,f.A.getEstimatedPrice(t);case 3:i=e.sent,n.updateEstimatedPrice({data:i});case 5:case"end":return e.stop()}}),e)}))),this.updateEstimatedPrice=function(e){var t,i=e.data,r=void 0===i?[]:i;"settlement"!==(null===(t=r[0])||void 0===t?void 0:t.settleType)?n.updateData({targetKey:"estPrice",valueKey:"settlePx",data:r}):n.updateData({targetKey:"estSettlePx",valueKey:"settlePx",data:r})},this.setFundingRate=(0,a.A)((0,r.A)().mark((function e(){var t,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.store.inst.instId,e.next=3,f.A.getFundingRate(t);case 3:i=e.sent,n.updateFundingRate({data:i});case 5:case"end":return e.stop()}}),e)}))),this.setPreDelivery=(0,a.A)((0,r.A)().mark((function e(){var t,i,a;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.store.inst.instId,e.next=3,f.A.getPreDeliveryInfo(t);case 3:i=e.sent,a=i.data,n.updatePreDelivery({data:a});case 6:case"end":return e.stop()}}),e)}))),this.updateFundingRate=function(e){var t=e.data;n.updateData({targetKey:"swapRate",data:t})},this.updatePreDelivery=function(e){var t=e.data;n.updateData({targetKey:"swapPreDelivery",data:t})},this.setSummary=(0,a.A)((0,r.A)().mark((function e(){var t,i,a,o,s;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.store.inst,i=t.instId,a=t.instFamily,o=null===i||void 0===i?void 0:i.split("-")[2],e.next=4,f.A.getSummary({instId:i,instFamily:a,expTime:o});case 4:s=e.sent,n.updateSummary({data:s});case 6:case"end":return e.stop()}}),e)}))),this.updateSummary=function(e){var t=e.data;n.updateData({targetKey:"summary",data:t})},this.setOpenInt=(0,a.A)((0,r.A)().mark((function e(){var t,i,a,o;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.store.inst,i=t.instType,a=t.instId,e.next=3,f.A.getOpenInt({instType:i,instId:a});case 3:o=e.sent,n.updateOpenInt({data:o});case 5:case"end":return e.stop()}}),e)}))),this.updateOpenInt=function(e){var t=e.data;n.updateData({targetKey:"openInt",data:t})},this.updateData=function(e){for(var t=e.targetKey,i=e.valueKey,r=e.data,a=void 0===r?[]:r,o=e.type,s=0,l=a.length;s<l;s++){var u=a[s];if(n.isCurrentInst({type:o,item:u}))return n.store[t]=i?u[i]:u,!0}return!1},this.setDefaultData=function(){n.lastUly!==n.store.inst.uly&&(n.store.indexPrice="");var e=n.getUsdCcy();n.lastUsdCcy!==e&&(n.store.quoteUsdPrice=m.A.usdPrices[e]||""),n.store.markPrice="",n.store.estPrice="";var t=n.store,i=t.instId,r=t.ticker,a=t.marginRate,o=t.swapRate,s=t.summary,l=t.openInt;n.emptyData(a),n.emptyData(o),n.emptyData(s),n.emptyData(l);var u=n.tickers[i];u?n.store.ticker=u:n.emptyData(r)},this.emptyData=function(e){if(e){var t=e;Object.keys(t).forEach((function(e){t[e]=""}))}},this.isCurrentInst=function(e){var t=e.type,i=e.item,r=n.store.inst,a=r.instId,o=r.uly;switch(t){case S:return i.ccy===n.getUsdCcy();case x:return i.instId===o;default:return i.instId===a}},this.getUsdCcy=function(){var e=n.store.inst,t=e.quoteCcy,i=e.instType,r=e.baseCcy;return i===E&&t===M?r:t},(0,c.makeObservable)(this,{updateData:c.action,setDefaultData:c.action,emptyData:c.action}),this.store=i,this.tickers={},this.pubChannels=[],this.lastUly="",this.lastUsdCcy=this.getUsdCcy(),this.superInstListener=d.x7,this.wsErrorListener=d.x7,this.tickerListener=d.x7,this.usdTickersListener=d.x7,this.ticker3sListener=d.x7,this.openInterestListener=d.x7,this.fundingRateListener=d.x7,this.optSummaryInstIdListener=d.x7,this.estimatedPriceListener=d.x7,this.indexTickersListener=d.x7,this.markPriceListener=d.x7,this.marginRateInterval=null,this.indexThrottle=null,this.markThrottle=null}),[{key:"init",value:function(){(0,l.A)(this,B)[B]()}},{key:"destroy",value:function(){this.removeListener(),this.setChannels()}},{key:"removeListener",value:function(){this.tickerListener(),this.usdTickersListener(),this.ticker3sListener(),this.estimatedPriceListener(),this.fundingRateListener(),this.optSummaryInstIdListener(),this.openInterestListener(),this.indexTickersListener(),this.markPriceListener(),this.superInstListener(),clearInterval(this.marginRateInterval)}},{key:"onWsError",value:function(){var e=this.store.inst,t=e.instType,n=e.instId;t&&n&&(this.setOnlyRestData(),this.requestData())}},{key:"setChannels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];p.A.unsubscribePub(this.pubChannels),this.pubChannels=e,p.A.subscribePub(this.pubChannels)}},{key:"setData",value:function(){this.setDefaultData(),this.setOnlyRestData(),this.wsData(),p.A.isPubConnected()||this.requestData()}},{key:"setOnlyRestData",value:function(){var e=this.store,t=e.inst,n=e.instStatus;n.isSwap&&this.setPreDelivery(),n.isSpotOrMargin&&t.lever&&this.setIntervalMarginRate()}},{key:"requestData",value:function(){var e,t=this.store.inst.instType,n=null===(e=this.request[t])||void 0===e?void 0:e.rest;n&&n.call(this)}},{key:"wsData",value:function(){var e,t=this.store.inst.instType,n=null===(e=this.request[t])||void 0===e?void 0:e.ws;if(n){var i=n.call(this,this.getChannels());this.setChannels(i)}}},{key:"getChannels",value:function(){var e=this.store.inst,t=e.instType,n=e.instId,i=e.uly,r=e.instFamily,a={channel:C,instId:i},o={channel:L,instId:n},s=this.getUsdCcy();return{index:a,ticker:o,usd:{channel:D,ccy:s},mark:{channel:w,instId:n},estimated:{channel:N,instType:t,instFamily:r},rate:{channel:O,instId:n},summary:{channel:k,instId:n},interest:{channel:R,instId:n}}}}])}();function F(){var e=this;this.request=(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)({},A,{rest:this.setSpotData,ws:this.getSpotChannels}),y,{rest:this.setMarginData,ws:this.getMarginChannels}),T,{rest:this.setFuturesData,ws:this.getFuturesChannels}),b,{rest:this.setSwapData,ws:this.getSwapChannels}),E,{rest:this.setOptionData,ws:this.getOptionChannels}),this.wsErrorListener=p.A.listenerPubError(this.onWsError.bind(this)),this.tickerListener=p.A.listenerData(L,this.updateTicker),this.usdTickersListener=p.A.listenerData(D,this.updateUsdPrice),this.ticker3sListener=p.A.listenerData(I,this.updateTicker3s),this.openInterestListener=p.A.listenerData(R,this.updateOpenInt),this.fundingRateListener=p.A.listenerData(O,this.updateFundingRate),this.optSummaryInstIdListener=p.A.listenerData(k,this.updateSummary),this.estimatedPriceListener=p.A.listenerData(N,this.updateEstimatedPrice),this.indexTickersListener=p.A.listenerData(C,this.updateIndexPrice),this.markPriceListener=p.A.listenerData(w,this.updateMarkPrice),this.superInstListener=(0,c.reaction)((function(){var t=e.store.inst;return t.instType+t.instId}),(function(t){if(t){var n=e.store.inst.uly;e.setData(),e.lastUly=n,e.lastUsdCcy=e.getUsdCcy()}}),{fireImmediately:!0})}},7196:(e,t,n)=>{"use strict";n.d(t,{A:()=>L});var i=n(90675),r=n(10467),a=n(92901),o=n(23029),s=n(4473),l=n(68341),u=n(44497),c=n(45613),d=n(42447),h=n(82043),v=n(37618),f=n(34901),_=n(31457),p=d.yy.CUP_TICKERS_3S,g=(0,l.A)("inited"),m=(0,l.A)("subscribeCcy"),A=(0,l.A)("usdErrorListener"),y=(0,l.A)("usdTickersListener"),b=(0,l.A)("init"),T=(0,l.A)("destroy"),E=(0,l.A)("getUsdChannels"),S=(0,l.A)("onWsError"),x=(0,a.A)((function e(){var t=this;(0,o.A)(this,e),Object.defineProperty(this,g,{writable:!0,value:!1}),Object.defineProperty(this,m,{writable:!0,value:{}}),Object.defineProperty(this,A,{writable:!0,value:c.x7}),Object.defineProperty(this,y,{writable:!0,value:c.x7}),this.subscribe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){e.forEach((function(e){var n=(0,s.A)(t,m)[m][e]||0;(0,s.A)(t,m)[m][e]=n+1})),(0,s.A)(t,b)[b]();var n=(0,s.A)(t,E)[E](e);f.A.subscribePub(n)}},this.unsubscribe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){e.forEach((function(e){var n=(0,s.A)(t,m)[m][e];n>0&&((0,s.A)(t,m)[m][e]=n-1)})),(0,s.A)(t,T)[T]();var n=(0,s.A)(t,E)[E](e);f.A.unsubscribePub(n)}},this.getUsdTickers=(0,r.A)((0,i.A)().mark((function e(){var n,r,a,o,s,l=arguments;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:[],r=_.A.usdTickers,a=[],o=[],n.forEach((function(e){var t=r[e];t&&Date.now()-new Date(Number(t.ts))<3e3?a.push(t):o.push(e)})),e.next=7,h.A.getUsdTickers(o);case 7:return s=e.sent,t.updateUsdTickers({data:s}),e.abrupt("return",a.concat(s));case 10:case"end":return e.stop()}}),e)}))),this.updateUsdTickers=function(e){var t=e.data,n=_.A.usdTickers,i=_.A.usdPrices;t.forEach((function(e){(0,u.runInAction)((function(){var t=e.ccy,r=e.last,a=n[t];a?Object.assign(a,e):n[t]=e,i[t]!==r&&(i[t]=r)}))}))},Object.defineProperty(this,b,{writable:!0,value:function(){(0,s.A)(t,g)[g]||((0,s.A)(t,g)[g]=!0,(0,s.A)(t,A)[A]=f.A.listenerPubError((0,s.A)(t,S)[S]),(0,s.A)(t,y)[y]=f.A.listenerData(p,t.updateUsdTickers))}}),Object.defineProperty(this,T,{writable:!0,value:function(){Object.values((0,s.A)(t,m)[m]).some((function(e){return e>0}))||((0,s.A)(t,g)[g]=!1,(0,s.A)(t,A)[A](),(0,s.A)(t,y)[y]())}}),Object.defineProperty(this,E,{writable:!0,value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return{channel:p,ccy:e}}))}}),Object.defineProperty(this,S,{writable:!0,value:function(){var e=Object.keys((0,s.A)(t,m)[m]).filter((function(e){return(0,s.A)(t,m)[m][e]>0}));t.getUsdTickers(e)}})}));const L=(0,v.A)("usdAction",x)},41237:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i="visibilitychange";const r={onChange:function(e){var t=function(){e({isPageVisible:"visible"===document.visibilityState})};return document.addEventListener(i,t),function(){document.removeEventListener(i,t)}}}},39738:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var i=n(5544),r=n(10305);function a(e){var t=e.insts,n=void 0===t?[]:t,a=e.blackCcys,o=void 0===a?{}:a,s=e.isSearch,l=void 0!==s&&s,u=e.compareField,c=void 0===u?"baseCcy":u,d=e.filterNewCoins,h=void 0===d||d,v=e.filterPreMarket,f=void 0===v||v;return n.filter((function(e){var t=e.isoFlag,n=e.isLive,a=void 0===n||n,s=e.isPreMarket,u=!h||a,d=(e[c]||"").split("-"),v=(0,i.A)(d,1)[0],_=o[v.toUpperCase()],p=Boolean(_);return l&&(p=_&&(null===_||void 0===_?void 0:_.searchLimit)),(!p&&u||t===r.hG.NO)&&(!f||!s)}))}},20128:(e,t,n)=>{"use strict";n.d(t,{A:()=>$});var i=n(89379),r=n(19919),a=n(76700),o=n(64467),s=n(41594),l=n.n(s),u=n(83573),c=n.n(u),d=n(41140),h=n(30631),v=n(5544),f=n(12741),_=n(27851),p=n(90675),g=n(10467),m=n(66345),A=n(98582),y=n(75376);const b="index_redeemDialogWrapper__OX9CS",T="index_dialogTitleBox__x1xVm",E="index_titleRight__2TvtG";const S=(0,d.observer)((function(e){var t=e.action,n=l().useState(""),i=(0,v.A)(n,2),a=i[0],o=i[1],u=t.currency;return(0,s.useEffect)((function(){function e(){return(e=(0,g.A)((0,p.A)().mark((function e(){var t,n;return(0,p.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.A.getCoins();case 2:t=y.A.coins[u]||{},n=t.url,o(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[u]),(0,r.jsxs)("div",{className:T,children:[(0,r.jsx)(m.A,{width:32,height:32,src:a,alt:u}),(0,r.jsxs)("div",{className:E,children:[(0,r.jsx)("div",{children:u}),(0,_.s3)("trade_balance_dialog_title_simple_earn")]})]})}));var x=n(72768);const L="index_redeemToInputContainer__X-zg5";const w=function(){return(0,r.jsx)(f.A.Item,{name:"redeemTo",label:(0,_.s3)("trade_balance_title_redeem_to"),className:L,required:!1,children:(0,r.jsx)(x.A,{placeholder:(0,_.s3)("trade_balance_placeholder_trading_account"),disabled:!0})})};var C=n(62576),O=n(10356);const k="index_sizeInputContainer__326d1",N="index_suffixContainer__gU7ka",R="index_allButton__fVVCT",D="index_dash__Bbptx",I="index_tips__N56l0";const M=(0,d.observer)((function(e){var t=e.onClickAllBtn,n=e.action,i=n.minAmount,a=n.currency,o=n.available,s=(0,_.s3)("trade_balance_placeholder_min_amount",{amount:(0,O.sp)(i)||"--"});return(0,r.jsxs)(f.A.Item,{name:"size",label:(0,_.s3)("trade_balance_dialog_title_amount"),className:k,children:[(0,r.jsx)(x.A.Number,{placeholder:s,min:+i,precision:8,suffix:(0,r.jsxs)("div",{className:N,children:[a,(0,r.jsx)("div",{className:D}),(0,r.jsx)(C.A,{category:C.A.CATEGORY.outline,type:C.A.TYPE.primary,size:C.A.SIZE.xxs,className:R,style:{minWidth:"auto"},onClick:t,children:(0,_.s3)("trade_balance_input_btn_all")})]})}),(0,r.jsx)("div",{className:I,children:(0,_.s3)("trade_balance_subscribed_amount_amount_ccy",{amount:(0,r.jsx)("span",{children:(0,O.sp)(o)}),ccy:(0,r.jsx)("span",{children:a})})})]})}));const B=(0,d.observer)((function(e){var t=e.action,n=t.visible,i=t.minAmount,a=t.available,o=f.A.useForm(),u=l().useState(""),c=(0,v.A)(u,2),d=c[0],p=c[1],g=(0,s.useMemo)((function(){return+d<=Math.min(0,+i)||+d>+a}),[d,i,a]);return(0,s.useEffect)((function(){n&&(o.setFieldsValue({size:""}),p(""))}),[n]),(0,r.jsx)(h.A.Action,{title:(0,r.jsx)(S,{action:t}),noContentPadding:!0,width:600,confirmText:(0,_.s3)("trade_balance_dialog_btn_redeem"),confirmBtnProps:{disabled:g},onConfirm:function(){t.transferEarn({amount:d})},onClose:function(){return t.closeDialog()},visible:n,children:(0,r.jsxs)(f.A,{form:o,onValuesChange:function(e){var t=e.name,n=e.value;"size"===t&&p(String(n))},className:b,children:[(0,r.jsx)(M,{action:t,onClickAllBtn:function(){o.setFieldsValue({size:a}),p(String(a))}}),(0,r.jsx)(w,{})]})})}));function P(e){return(0,r.jsx)(a.A,{children:(0,r.jsx)(B,(0,i.A)({},e))})}var F=n(1484),U=n(49047),j=n(67146),z=n(14585),Y=n(29613),W=n(83413),H=n(32096),V=n.n(H),X=function(){var e,t;return!(null===(e=V().restriction)||void 0===e||null===(t=e.basicInfo)||void 0===t||!t.crMarket)};const G={assetsDialogWrapper:"index_assetsDialogWrapper__V7o5F",itemContent:"index_itemContent__mWZiI",itemLeft:"index_itemLeft__ZmPqe",icon:"index_icon__TJ9r9",titleBox:"index_titleBox__UR89M",tips:"index_tips__0o5rm",desc:"index_desc__n0UF4",highlight:"index_highlight__GaJrN",iconRight:"index_iconRight__sGHJ1",assetsDialogWindow:"index_assetsDialogWindow__ge6cK",highWeight:"index_highWeight__qkA09",assetsDialogTitle:"index_assetsDialogTitle__8HQ0Q"};var q=function(e){var t=e.icon,n=e.title,i=e.desc,a=e.availableTips;return(0,r.jsxs)("div",{className:G.itemContent,children:[(0,r.jsxs)("div",{className:G.itemLeft,children:[(0,r.jsx)(U.A,{className:c()(t,G.icon)}),(0,r.jsxs)("div",{className:G.titleBox,children:[(0,r.jsx)("div",{className:G.titleText,children:n}),(0,r.jsxs)("div",{className:G.subtitle,children:[(0,r.jsx)("div",{className:G.desc,children:i}),(0,r.jsx)("div",{className:G.tips,children:a})]})]})]}),(0,r.jsx)(U.A,{className:c()("okds-arrow-chevron-right-centered-sm",G.iconRight)})]})},J=function(e){var t=e.text,n=e.highlight;return(0,r.jsx)("span",{className:c()((0,o.A)({},G.highlight,n)),children:t})};const K=(0,d.observer)((function(e){var t=e.action,n=t.earnAvailable,i=t.currency,a=t.fundingAvailable,o=t.isHideTransferButton,s=t.isHideEarnButton,u=Y.A.currencyUnit.isoCode,c=l().useMemo((function(){var e=[];if(o||e.push({icon:"okx-trading-transfer-1",title:(0,_.s3)("trade_balance_cell_title_transfer_crypto"),desc:(0,_.s3)("trade_balance_cell_desc_transfer_crypto"),availableTips:(0,_.PB)("trade_balance_desc_funding_account_amount",{amount:(0,r.jsx)(J,{text:(0,O.sp)(a),highlight:+a>0}),ccy:(0,r.jsx)(J,{text:i,highlight:+a>0})}),type:"button",onClick:function(){var e=(0,g.A)((0,p.A)().mark((function e(){return(0,p.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.transferAccount({currency:i});case 2:(0,W.Y15)({enter_tab:"transfer"}),t.closeDialog();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),!(0,O.UD)()){var l,c=X()?"/buy-".concat(null===(l=y.A.inst.baseCcy)||void 0===l?void 0:l.toLowerCase(),"?souceQuote=").concat(u):"/p2p/express",d=(Y.A.currency||{}).allCurrencyUnit,h=function(e,t){return t.some((function(t){return t.isoCode===e}))}(i,void 0===d?[]:d);h&&X()?e.push({icon:"okds-cash-fiat",title:(0,_.s3)("trade_mid_cell_btn_deposit_cash"),desc:(0,_.s3)("trade_mid_cell_desc_deposit_cash_bank_transfer"),type:"link",href:(0,_.s3)("trade_mid_deposit_cash_bank_transfer_direct_link")}):e.push({icon:"okx-trading-deposit",title:(0,_.s3)("trade_balance_cell_title_deposit_crypto"),desc:(0,_.s3)("trade_balance_cell_desc_deposit_crypto"),type:"link",href:"/balance/recharge",enterTab:"deposit"},{icon:"okx-trading-funding-rates",title:(0,_.s3)("trade_balance_cell_title_express_buy"),desc:(0,_.s3)("trade_balance_cell_desc_p2p_trading"),type:"link",href:c,enterTab:"c2c"})}return s||e.push({icon:"okds-finance-earn",title:(0,_.s3)("trade_balance_cell_title_redeem_from_simple_earn"),desc:(0,_.s3)("trade_balance_cell_desc_redeem_from_simple_earn"),availableTips:(0,_.PB)("trade_balance_desc_simple_earn_available",{amount:(0,r.jsx)(J,{text:(0,O.sp)(n),highlight:+n>0}),ccy:(0,r.jsx)(J,{text:i,highlight:+n>0})}),type:"button",onClick:function(){t.transferEarn(),t.closeDialog(),(0,W.Y15)({enter_tab:"earn"})}}),e}),[o,s,a,n,i,u,Y.A.currency]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:G.assetsDialogWrapper,children:c.map((function(e){return"button"===e.type?(0,r.jsx)(j.A,{className:G.listItem,displayAsDiv:!0,onClick:e.onClick,children:(0,r.jsx)(q,{icon:e.icon,title:e.title,desc:e.desc,availableTips:e.availableTips})},e.title):"link"===e.type?(0,r.jsx)(z.A,{href:e.href,rel:"noreferrer",target:"_blank",onClick:function(){return t.closeDialog(),(0,W.Y15)({enter_tab:e.enterTab})},className:G.listItem,children:(0,r.jsx)(q,{icon:e.icon,title:e.title,desc:e.desc,availableTips:e.availableTips})},e.title):null}))})})}));const Z=(0,d.observer)((function(e){var t=e.action,n=t.source===t.sourceMap.ORDER?"trade_placeorder_drawertitle_insuff_balance":"trade_balance_header_select_method_add_balance";return(0,r.jsx)("div",{children:(0,_.s3)(n)})}));const Q=(0,d.observer)((function(e){var t=e.action,n=t.allHide,i=t.visible,a=t.redeemDialogAction;return(0,s.useEffect)((function(){F.A.getCurrency()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A.Action,{visible:i,title:(0,r.jsx)(Z,{action:t}),noContentPadding:!0,windowClass:c()((0,o.A)((0,o.A)({},G.assetsDialogWindow,n),G.highWeight,n)),topClassName:c()((0,o.A)((0,o.A)({},G.assetsDialogTitle,n),G.highWeight,n)),onClose:function(){t.closeDialog()},children:(0,r.jsx)(K,{action:t})}),(0,r.jsx)(P,{action:a})]})}));function $(e){return(0,r.jsx)(a.A,{children:(0,r.jsx)(Q,(0,i.A)({},e))})}},77879:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var i=n(90675),r=n(10467),a=n(23029),o=n(92901),s=n(44497),l=n(30682),u=n(89379),c=n(5544),d=n(10816),h=6,v=18,f=n(51045),_=n(53084),p=h,g=v;const m=new((0,o.A)((function e(){(0,a.A)(this,e),this.getCurrencyBalance=function(){var e=(0,r.A)((0,i.A)().mark((function e(t){var n,r,a,o,s;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.A)((0,_.Jt)("".concat(f.dw,"/financial/currency-balances"),t));case 2:return r=e.sent,a=(0,c.A)(r,2),o=a[0],s=a[1],e.abrupt("return",o?null:(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n[0])||null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.postRedeemFinancial=function(){var e=(0,r.A)((0,i.A)().mark((function e(t){var n,r,a,o;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.A)((0,_.bE)("".concat(f.$r,"/earn/savings/redeem-financial"),t));case 2:return n=e.sent,r=(0,c.A)(n,2),a=r[0],o=r[1],e.abrupt("return",a?a.message:o.code);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getFundingAssets=function(){var e=(0,r.A)((0,i.A)().mark((function e(t){var n,r,a,o;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.A)((0,_.Jt)("".concat(f._X,"/asset/accounts/transfer"),(0,u.A)((0,u.A)({},t),{},{transferFrom:p,transferTo:g,invalidAsset:!1})));case 2:return n=e.sent,r=(0,c.A)(n,2),a=r[0],o=r[1],e.abrupt("return",a?null:(null===o||void 0===o?void 0:o.data)||null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})));var A=n(98582),y=n(75376),b=n(83413),T=n(39973),E=n(26204);const S=function(){return(0,o.A)((function e(){var t=this;(0,a.A)(this,e),this.visible=!1,this.currency="",this.source="",this.earnAvailableData=null,this.getCurrencyId=(0,r.A)((0,i.A)().mark((function e(){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.A.getCoins();case 2:return e.abrupt("return",Number(null===(n=y.A.coins[t.currency])||void 0===n?void 0:n.id));case 3:case"end":return e.stop()}}),e)}))),this.closeDialog=function(){t.visible=!1,t.resetValues()},this.transferEarn=function(){var e=(0,r.A)((0,i.A)().mark((function e(n){var r,a,o,s;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.amount,e.next=3,t.getCurrencyId();case 3:return a=e.sent,e.next=6,m.postRedeemFinancial({amount:r,currencyId:a,target:v});case 6:"0"!=(o=e.sent)?E.A.error(o):(null===(s=t.onRedeemSuccess)||void 0===s||s.call(t),t.closeDialog(),(0,b.j2E)((0,u.A)((0,u.A)({},(0,T.uY)()),(0,T.jw)(t.source))));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getEarnAvailable=(0,r.A)((0,i.A)().mark((function e(){var n,r;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCurrencyId();case 2:return n=e.sent,e.next=5,m.getCurrencyBalance({currencyId:n});case 5:r=e.sent,t.earnAvailableData=r;case 7:case"end":return e.stop()}}),e)}))),this.resetValues=function(){t.earnAvailableData=null,t.currency="",t.onRedeemSuccess=void 0},this.showDialog=function(){var e=(0,r.A)((0,i.A)().mark((function e(n){var r,a,o;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.currency,a=n.source,o=n.onRedeemSuccess,t.currency=r,t.source=a,t.onRedeemSuccess=o,t.getEarnAvailable(),t.visible=!0;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(0,s.makeAutoObservable)(this)}),[{key:"available",get:function(){var e;return(null===(e=this.earnAvailableData)||void 0===e?void 0:e.available)||0}},{key:"minAmount",get:function(){var e;return(null===(e=this.earnAvailableData)||void 0===e?void 0:e.minRedemptionAmount)||0}}])}();var x=n(10356),L=function(){return(0,o.A)((function e(){var t=this;(0,a.A)(this,e),this.visible=!1,this.sourceMap=T.gU,this.currency="",this.source="",this.earnAvailable="",this.fundingAvailable="",this.getCurrencyId=(0,r.A)((0,i.A)().mark((function e(){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.A.getCoins();case 2:return e.abrupt("return",Number(null===(n=y.A.coins[t.currency])||void 0===n?void 0:n.id));case 3:case"end":return e.stop()}}),e)}))),this.closeDialog=function(){t.visible=!1,t.resetValues()},this.transferEarn=function(){t.redeemDialogAction.showDialog({currency:t.currency,source:t.source,onRedeemSuccess:t.onRedeemSuccess})},this.getEarnAvailable=(0,r.A)((0,i.A)().mark((function e(){var n,r;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCurrencyId();case 2:return n=e.sent,e.next=5,m.getCurrencyBalance({currencyId:n});case 5:r=e.sent,t.earnAvailable=null!==r&&void 0!==r&&r.available?String(Math.max(0,+(null===r||void 0===r?void 0:r.available))):"0";case 7:case"end":return e.stop()}}),e)}))),this.resetValues=function(){t.earnAvailable="",t.fundingAvailable="",t.currency="",t.source="",t.onTransferSuccess=void 0,t.onRedeemSuccess=void 0},this.getFundingAvailable=(0,r.A)((0,i.A)().mark((function e(){var n,r;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCurrencyId();case 2:return n=e.sent,e.next=5,m.getFundingAssets({currencyId:n});case 5:r=e.sent,t.fundingAvailable=null!==r&&void 0!==r&&r.max?String(Math.max(0,+(null===r||void 0===r?void 0:r.max))):"0";case 7:case"end":return e.stop()}}),e)}))),this.transferAccount=function(){var e=(0,r.A)((0,i.A)().mark((function e(r){var a,o,s,l,u,c,d,h,v;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.currency,o=t.onTransferSuccess,e.next=4,t.getCurrencyId();case 4:return s=e.sent,l=[{currencyId:s,currency:a}],e.next=8,Promise.all([n.e("vendors-node_modules_ok_okd_components_Animation_SvgAnimation_js"),n.e("vendors-node_modules_ok_okd_components_Animation_index_less-node_modules_ok_okd_components_Re-f4767f"),n.e("vendors-node_modules_ok_experiment-js-client_dist_experiment_umd_js-node_modules_ok_okd_compo-812c4c"),n.e("vendors-node_modules_ok_blade_lib_web-storage_src_LS_js-node_modules_ok_blade_lib_web-storage-975cbe"),n.e("vendors-node_modules_fuse_js_dist_fuse_mjs"),n.e("@ok-Transfer")]).then(n.bind(n,13532));case 8:u=e.sent,c=u.OKTransfer,d=u.TransferAccount,h=d.ID_UNIFIED,v=d.ID_WALLET,c.show({fromId:v,toId:h,canProductChange:!0,canCurrencyChange:!0,currencyList:l,successCallback:function(){null===o||void 0===o||o(),t.closeDialog()}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.showDialog=function(){var e=(0,r.A)((0,i.A)().mark((function e(n){var r,a,o,s;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.currency,a=n.source,o=n.onTransferSuccess,s=n.onRedeemSuccess,t.currency=r,t.source=a,t.onTransferSuccess=o,t.onRedeemSuccess=s,t.getEarnAvailable(),t.getFundingAvailable(),t.visible=!0,(0,b.fzr)();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.redeemDialogAction=new S,(0,s.makeAutoObservable)(this,{sourceMap:!1})}),[{key:"isHideEarnButton",get:function(){return this.source===this.sourceMap.ORDER&&+this.earnAvailable<=0||(0,l.B6)()}},{key:"isHideTransferButton",get:function(){return(0,l.a$)()}},{key:"allHide",get:function(){return(0,l.a$)()&&(0,x.UD)()&&this.isHideEarnButton}}])}();const w=L},10356:(e,t,n)=>{"use strict";n.d(t,{UD:()=>u,sp:()=>d});var i=n(89379),r=n(53986),a=n(63010),o=n(71491),s=n(48705),l=["vipLevel","feeLevel"],u=function(){return!!function(){var e=a.A.g.get("profile")||{},t=e.vipLevel,n=void 0===t?0:t,o=e.feeLevel,s=void 0===o?0:o,u=(0,r.A)(e,l);return(0,i.A)({vipLevel:n,feeLevel:s},u)}().currentIsSub},c=function(e){return o._u.showFloorTruncation(e,8,{needZero:!1})};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--";return(0,s.Et)(e)?c(e):t}},29774:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(92901),r=n(23029),a=n(39874),o=n(85501),s=n(44497);const l=new(function(e){function t(){var e;return(0,r.A)(this,t),(e=(0,a.A)(this,t)).maxCount=0,(0,s.makeObservable)(e,{maxCount:s.observable}),e}return(0,o.A)(t,e),(0,i.A)(t)}(n(8713).A))},39973:(e,t,n)=>{"use strict";n.d(t,{M$:()=>h,gU:()=>d,jw:()=>_,uY:()=>f,vE:()=>p});var i=n(64467),r=n(34653),a=n(29613),o=r.nj.TRADE,s=r.nj.SINGLE,l=r.nj.MULTI,u=r.nj.PM,c=(0,i.A)((0,i.A)((0,i.A)((0,i.A)({},o,"simple"),s,"single_currency"),l,"multi_currency"),u,"pm"),d={AVAILABLE:"available",ORDER:"order"},h={IS_RESTRICTED:"1",IS_NOT_RESTRICTED:"0"},v=(0,i.A)((0,i.A)({},d.AVAILABLE,"plusicon"),d.ORDER,"insufficient_balance"),f=function(){var e,t=null===(e=a.A.accountConfig)||void 0===e?void 0:e.acctLv;return{trading_account_mode:c[t]}},_=function(e){return{redeem_resource:v[e]}},p=function(e){return{auto_transfer_fund:e.assetAccountChecked?"true":"false",auto_transfer_flexearn:e.earnAccountChecked?"true":"false"}}},88494:(e,t,n)=>{"use strict";n.d(t,{Pn:()=>s,ij:()=>a,nH:()=>o,o4:()=>i,u1:()=>r});var i="ANY",r="placeorder",a="1",o="inTradeCenter",s={UNINITIALIZED:"-1",NEEDLESS_GUIDE:"0",NEED_GUIDE:"1"}},97939:(e,t,n)=>{"use strict";n.d(t,{A:()=>Ft});var i=n(19919),r=n(41594),a=n.n(r),o=n(83573),s=n.n(o),l=n(41140),u=n(73437),c=n(76700),d=n(89379),h=n(90675),v=n(5544),f=n(10467),_=n(92901),p=n(23029),g=n(4473),m=n(68341),A=n(44497),y=n(60713),b=n(10816),T=n(30682),E=n(45613),S=n(14419),x=n(42447),L=n(21520),w=n(51045),C=n(53084);const O=function(){return(0,C.Jt)("".concat(w.x0,"/account/positions"))};var k=n(56032),N=n(98582),R=n(75376),D=n(29613),I=n(34901),M=function(e){console.error(e)},B=n(41237),P=n(69294),F=n(29774),U=n(88494),j=n(79746),z=n(66934),Y=n(68448),W=n(95586),H=n(18297),V=n(27851),X=S.g2.BUY,G=S.g2.SELL,q=S.bB.LONG,J=S.bB.SHORT,K=Y.SC.DOWN;function Z(e){var t=e.side,n=e.store,i=n.props,r=function(e){var t,n,i=e.side,r=e.store,a=r.positionsMap,o=r.maxAvailable,s=void 0===o?{}:o,l=r.props,u=void 0===l?{}:l,c=u.instId,d=u.instType,h=u.tdMode,v=(0,j.iL)({tdMode:h,instType:d}),f=s.longAvailablePos,_=s.shortAvailablePos,p="".concat(c,"-").concat(v);return i===X?{text:(0,V.s3)("trade_perp_placeorder_input_short_position"),value:(null===(n=a["".concat(p,"-").concat(J)])||void 0===n?void 0:n.pos)||0,availPos:_||0}:{text:(0,V.s3)("trade_perp_placeorder_input_long_position"),value:(null===(t=a["".concat(p,"-").concat(q)])||void 0===t?void 0:t.pos)||0,availPos:f||0}}({side:t,store:n}),a=r.text,o=r.value,s=r.availPos,l=(0,j.y8)(i.closePx,n),u=(0,j.nC)({side:t,store:n}),c=i.ordType,h=i.isStrategy,v=i.instType,f=i.instId,_={};h&&(_=(0,H.P)({ordType:c,instId:f,instType:v,isBaseCcy:u}));var p={decimal:K,price:l},g=(0,j.Im)((0,d.A)((0,d.A)((0,d.A)({},p),{},{size:o},_),{},{instId:f,instType:v})),m=(0,j.Im)((0,d.A)((0,d.A)((0,d.A)({},p),{},{size:s},_),{},{instId:f,instType:v})),A=(0,j.D5)({instType:v,instId:f}).unitName,y=(0,W.bizSizeUnit)((0,d.A)((0,d.A)({},_),{},{instId:f,instType:v,unitName:A}));return{text:a,value:g,unit:y.unitName,digit:y.sizeDig,availVal:m}}function Q(e){var t=e.side,n=e.store;return t?[Z({side:t,store:n})]:[Z({side:X,store:n}),Z({side:G,store:n})]}var $=n(23276),ee=n(91434),te=S._y.AVAILABLE,ne=x.w2.POSITIONS,ie=x.w2.PRIVATE_SUMMARY,re=(0,m.A)("initNetworkStatusListener"),ae=(0,m.A)("initCloseModeHandler"),oe=(0,m.A)("handleVisChange"),se=(0,_.A)((function e(t){var i=this,r=t.store;(0,p.A)(this,e),this.init=function(){i.syncSubscriptions(),(0,g.A)(i,ae)[ae](),i.visibleListener=B.A.onChange((0,g.A)(i,oe)[oe]),(0,g.A)(i,re)[re]()},this.destroy=function(){i.unSubscribe(),i.visibleListener&&(i.visibleListener(),i.visibleListener=null),i.closeModeHandler&&(i.closeModeHandler(),i.closeModeHandler=null),i.networkStatusListener&&(window.removeEventListener("online",i.networkStatusListener),i.networkStatusListener=null),i.store.isClosePos&&i.posPriWsErrorListener&&(i.posPriWsErrorListener(),i.posPriWsErrorListener=null)},Object.defineProperty(this,re,{writable:!0,value:function(){i.networkStatusListener=function(){navigator.onLine&&i.getAvailWithDebounce()},window.addEventListener("online",i.networkStatusListener)}}),this.updateProps=(0,y.A)(function(){var e=(0,f.A)((0,h.A)().mark((function e(t){var n,r;return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.A)(i.getAvail(t));case 2:if(n=e.sent,r=(0,v.A)(n,1),r[0]){e.next=8;break}return e.next=8,i.getBestMarginLever();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),200),this.getAvailWithDebounce=(0,y.A)((0,f.A)((0,h.A)().mark((function e(){return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getAvail();case 2:case"end":return e.stop()}}),e)}))),200),this.getAvail=function(){var e=(0,f.A)((0,h.A)().mark((function e(t){var n,r,a,o,s,l,u,c,d;return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.getProcessedParams(t||i.store.props),r=n.instId,a=n.px,r&&(0,T.W5)()&&(!a||0!=a)){e.next=4;break}return e.abrupt("return",Promise.reject());case 4:if(o=(0,ee.tI)(n),!i.shouldSkipRequest(i.getProcessedParams(t),i.store.props)){e.next=10;break}return s=i.store.maxAvailable,i.store.update({props:n}),i.updateMaxAvail({maxAvailable:s,params:o}),e.abrupt("return",Promise.resolve());case 10:return e.next=12,(0,b.A)(k.A.getMaxAvailable(o));case 12:return l=e.sent,u=(0,v.A)(l,2),c=u[0],d=u[1],t&&i.store.update({props:i.getProcessedParams(t)}),c?i.updateMaxAvail({maxAvailable:{},params:o}):i.updateMaxAvail({maxAvailable:d,params:o}),e.abrupt("return",Promise.resolve());case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getProcessedParams=function(e){var t=(e||{}).instType,n=(0,P.Cs)(t).isMargin,i=D.A.isSingleAccount;return n&&i?(0,d.A)((0,d.A)({},e),{},{tradeQuoteCcy:void 0}):e},this.shouldSkipRequest=function(e,t){var n=null===e||void 0===e?void 0:e.calcBuySellSizeWithAvailable,r=i.store.maxAvailable;return n&&t&&(0,j.Me)(e,t,["instId","instType","side","tdMode","posMode","orderType","tradeQuoteCcy"])&&(null===r||void 0===r?void 0:r.available)},this.getBestMarginLever=(0,f.A)((0,h.A)().mark((function e(){var t,n,r,a,o,s;return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.store.props,n=t.marginLever,r=t.marginLeverOrdType,a=t.instId,!((0,T.W5)()&&n&&a)){e.next=15;break}return s=(0,ee.tI)(i.store.props),e.prev=3,e.next=6,L.A.getBestMarginLever((0,d.A)((0,d.A)({},s),{},{ordType:r}));case 6:if(o=e.sent,!i.store.props.instId||a===i.store.props.instId){e.next=9;break}return e.abrupt("return");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),o={};case 14:i.store.update({bestMarginLever:o});case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),Object.defineProperty(this,ae,{writable:!0,value:function(){i.closeModeHandler=(0,A.reaction)((function(){return i.store.isClosePos}),(function(){i.syncSubscriptions()}),{fireImmediately:!0})}}),Object.defineProperty(this,oe,{writable:!0,value:function(e){e.isPageVisible?(i.syncSubscriptions(),i.getAvailWithDebounce()):i.unsubscribeAll()}}),this.unSubscribe=function(){i.unsubscribeAll()},this.syncSubscriptions=function(){if((0,T.W5)()){var e=i.store.isClosePos,t=!!i.positionsUpdateListener;!!i.privateSummaryUpdateListener||i.subPrivateSummary(),e?t||i.subPositions():t&&i.unSubPositions()}},this.unsubscribeAll=function(){i.unSubPositions(),i.unSubPrivateSummary()},this.getPrivateSummaryChannel=function(){return{channel:ie,instType:U.o4,extraParams:JSON.stringify({privateTypes:[1,2]})}},this.subPrivateSummary=function(){if((0,T.W5)()){i.privateSummaryUpdateListener&&i.unSubPrivateSummary();var e=i.getPrivateSummaryChannel();I.A.subscribePri(e),i.privateSummaryUpdateListener=I.A.listenerData(ie,i.handelPrivateSummary)}},this.unSubPrivateSummary=function(){var e=i.getPrivateSummaryChannel();i.privateSummaryUpdateListener&&(i.privateSummaryUpdateListener(),i.privateSummaryUpdateListener=null),I.A.unsubscribePri(e)},this.getPositionChannel=function(e,t){var n={instType:e};return t&&(n.instId=t),(0,d.A)({channel:ne},n)},this.subPositions=function(){if((0,T.W5)()){i.positionsUpdateListener&&i.unSubPositions();var e=i.store.props.instId,t=i.getPositionChannel(U.o4,e);I.A.subscribePri(t),i.positionsUpdateListener=I.A.listenerData(ne,i.handlePositions),i.posPriWsErrorListener=I.A.listenerPriError(i.getPositionByRest)}},this.unSubPositions=function(){if((0,T.W5)()){if(i.positionsUpdateListener){var e=i.store.props.instId,t=i.getPositionChannel(U.o4,e);I.A.unsubscribePri(t),i.positionsUpdateListener(),i.positionsUpdateListener=null}i.posPriWsErrorListener&&(i.posPriWsErrorListener(),i.posPriWsErrorListener=null)}},this.handelPrivateSummary=function(e){var t=e.data[0],n=t.needQueryOpenAvailable;t.privateType===te&&n&&i.getAvailWithDebounce()},this.getPositionByRest=(0,f.A)((0,h.A)().mark((function e(){var t,n;return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,T.W5)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O();case 4:t=e.sent,n=t.data,i.handlePositions({data:n});case 7:case"end":return e.stop()}}),e)}))),this.handlePositions=function(e){var t=e.data,n=t;i.store.positions.length>1&&1===(null===t||void 0===t?void 0:t.length)&&(n=i.store.positions.map((function(e){return e.posId===t[0].posId?t[0]:e}))),i.store.update({positions:n});var r=i.store.props.onAvailChange;if("function"===typeof r){var a=i.store.isClosePos,o={positions:t};a&&(o.cvtMaxCloses=i.getMaxCloses()),r(o)}},this.getMaxTrades=function(){var e=i.store,t=e.props,n=e.side,r=n;return!0===t.isShowSingleMax&&(r=(null===t||void 0===t?void 0:t.side)||n),(0,$.Y9)({side:r,store:i.store})},this.getMaxAvailable=function(){var e=i.store,t=e.props,n=e.side,r=n;return!0===t.isShowSingleMax&&(r=(null===t||void 0===t?void 0:t.side)||n),(0,z.I0)({side:r,store:i.store})},this.getMaxCloses=function(){var e=i.store,t=e.props,n=e.side,r=n;return!0===t.isShowSingleMax&&(r=(null===t||void 0===t?void 0:t.side)||n),Q({side:r,store:i.store})},this.updateMaxAvail=function(e){var t=e.maxAvailable,n=e.params,r=i.store,a=r.props,o=r.isQuickMargin,s=a.onAvailChange;if(i.store.update({maxAvailable:t}),i.updateMaxRequestCountDebounce(),"function"===typeof s){var l={maxAvailable:t,params:n};o||(l.cvtMaxTrades=i.getMaxTrades(),l.cvtMaxAvailable=i.getMaxAvailable()),s(l)}},this.updateMaxRequestCountDebounce=(0,y.A)((0,f.A)((0,h.A)().mark((function e(){var t;return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.store.props.fromSource===U.u1){e.next=3;break}return e.abrupt("return");case 3:t=F.A.maxCount,F.A.params=(0,ee.tI)(i.store.props),F.A.store=i.store,F.A.updateByKey("maxCount",Number(t)>1e4?0:Number(t)+1);case 7:case"end":return e.stop()}}),e)})))),this.transferAccount=function(){var e=(0,f.A)((0,h.A)().mark((function e(t){var r,a,o,s,l,u,c,d,f,_,p,g;return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,T.W5)()&&!i.isTransferDialogLoading){e.next=2;break}return e.abrupt("return");case 2:return i.isTransferDialogLoading=!0,e.next=5,N.A.getCoins();case 5:return a=null===(r=R.A.coins[t])||void 0===r?void 0:r.id,o=[{currencyId:Number(a),currency:t}],e.next=9,(0,b.A)(Promise.all([n.e("vendors-node_modules_ok_okd_components_Animation_SvgAnimation_js"),n.e("vendors-node_modules_ok_okd_components_Animation_index_less-node_modules_ok_okd_components_Re-f4767f"),n.e("vendors-node_modules_ok_experiment-js-client_dist_experiment_umd_js-node_modules_ok_okd_compo-812c4c"),n.e("vendors-node_modules_ok_blade_lib_web-storage_src_LS_js-node_modules_ok_blade_lib_web-storage-975cbe"),n.e("vendors-node_modules_fuse_js_dist_fuse_mjs"),n.e("@ok-Transfer")]).then(n.bind(n,13532)));case 9:if(s=e.sent,l=(0,v.A)(s,2),u=l[0],c=l[1],!u){e.next=17;break}return i.isTransferDialogLoading=!1,M(u),e.abrupt("return");case 17:d=c.OKTransfer,f=c.TransferAccount,_=f.ID_WALLET,p=f.ID_UNIFIED,g={fromId:_,toId:p,canProductChange:!0,canCurrencyChange:!0,currencyList:o,closeCallback:function(){i.isTransferDialogLoading=!1;var e=i.store.props.transferCloseCallback,t=void 0===e?E.x7:e;t&&t()},successCallback:function(){i.isTransferDialogLoading=!1,i.getAvailWithDebounce();var e=i.store.props.transferSuccessCallback,t=void 0===e?E.x7:e;t&&t()}},d.show(g);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.toggleMultiAccountDialog=function(e){i.store.update({isShowMultiAccountDialog:e})},this.openQuickMarginTransfer=function(){var e=i.store.props,t=e.instId,n=e.onClickTransferInAvail;(void 0===n?E.x7:n)({instId:t,successCallback:i.getAvail})},this.store=r,this.isTransferDialogLoading=!1,this.posPriWsErrorListener=null,this.privateSummaryUpdateListener=null,this.positionsUpdateListener=null,this.networkStatusListener=null})),le=n(39874),ue=n(85501),ce=n(71491),de=n(8713),he=n(48705),ve=S.cS.CLOSE,fe=Y.SC.DOWN,_e=S.WO.AUTO_BORROW,pe=S.WO.AUTO_REPAY,ge=function(e){function t(){var e;return(0,p.A)(this,t),(e=(0,le.A)(this,t)).maxAvailable={},e.bestMarginLever={},e.props={ordType:"",onAvailChange:E.x7,onClickTransferInAvail:E.x7},e.positions=[],e.isShowMultiAccountDialog=!1,(0,A.makeObservable)(e,{maxAvailable:A.observable,bestMarginLever:A.observable,isShowMultiAccountDialog:A.observable,props:A.observable,positions:A.observable,isHideTransfer:A.computed,isClosePos:A.computed,positionsMap:A.computed,side:A.computed,hasInstAutoLoan:A.computed,isAutoLoanChecked:A.computed,useAvailableWithoutLoan:A.computed,tradeAccountBorrowInfo:A.computed,showSpotOffset:A.computed,isQuickMargin:A.computed,showQuickMarginBorrow:A.computed,showQuickMarginRepay:A.computed}),e}return(0,ue.A)(t,e),(0,_.A)(t,[{key:"isHideTransfer",get:function(){var e;return!(null===(e=this.props)||void 0===e||!e.isHideTransfer)||(0,T.a$)()}},{key:"isClosePos",get:function(){var e=this.props,t=e.posSide,n=e.instType,i=e.posMode,r=(0,P.Cs)(n).isFuturesOrSwap,a=(0,j.oK)({posMode:i,instType:n}).isLsPosMode;return r&&a&&t===ve}},{key:"positionsMap",get:function(){return(0,j.n3)(this.positions)}},{key:"side",get:function(){var e=this.props,t=e.side,n=void 0===t?S.g2.BUY:t,i=e.isDoubleCols,r=e.instType;return(0,ee.C0)({side:n,isDoubleCols:i,instType:r})}},{key:"hasInstAutoLoan",get:function(){var e=this.props,t=e.hasInstAutoLoan,n=e.instType;return(0,P.Cs)(n).isSpotOrMargin&&t}},{key:"isAutoLoanChecked",get:function(){var e=this.props,t=e.autoLoan,n=e.instType;return(0,P.Cs)(n).isSpotOrMargin&&t}},{key:"useAvailableWithoutLoan",get:function(){var e=this.hasInstAutoLoan,t=this.isAutoLoanChecked;return e&&!t}},{key:"tradeAccountBorrowInfo",get:function(){var e=this.side,t=this.maxAvailable,n=t.available,i=t.loanAvailable,r=(0,z.zj)({side:e,store:this}),a=r.unit,o=r.digit;return{unit:a,assetText:(0,V.s3)("trade_function_tooltips_crypto_assets",{crypto:a}),assetAvailable:(0,he.Fz)({value:ce._u.sub(n,i||0),digit:o,decimal:fe}),loanText:(0,V.s3)("trade_function_tooltips_max_loan"),loanAvailable:(0,he.Fz)({value:i,digit:o,decimal:fe})}}},{key:"isQuickMargin",get:function(){return!!this.props.quickMgnType}},{key:"showQuickMarginBorrow",get:function(){var e=this.props,t=e.quickMgnType;return!e.onlyShowAvail&&t===_e}},{key:"showQuickMarginRepay",get:function(){var e=this.props,t=e.quickMgnType;return!e.onlyShowAvail&&t===pe}},{key:"showSpotOffset",get:function(){var e=this.props.instType,t=(0,P.Cs)(e).isFuturesOrSwap,n=D.A.isCroMgn,i=D.A.isPmAccount,r=D.A.accountConfig,a=((void 0===r?{}:r)||{}).portfolioSpotRiskOffset,o=void 0===a?S.n0.UNSET:a;return i&&[S.n0.USDT,S.n0.COIN].includes(o)&&!(t&&n)}}])}(de.A),me=n(35715),Ae=n(76538);const ye=new(function(e){function t(){var e;return(0,p.A)(this,t),(e=(0,le.A)(this,t)).transferGuide=U.Pn.UNINITIALIZED,e.buyTokenGuide=U.Pn.UNINITIALIZED,(0,A.makeObservable)(e,{transferGuide:A.observable,buyTokenGuide:A.observable}),e}return(0,ue.A)(t,e),(0,_.A)(t)}(de.A));const be=new(function(){return(0,_.A)((function e(){(0,p.A)(this,e)}),[{key:"getNewbieGuideInfo",value:function(){var e=(0,f.A)((0,h.A)().mark((function e(){var t,n,i,r,a;return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ye.transferGuide,n=ye.buyTokenGuide,!(t!==U.Pn.UNINITIALIZED&&n!==U.Pn.UNINITIALIZED)&&(0,T.W5)()){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,me.A.getNewbieGuideInfo();case 6:i=e.sent,r=i.transferGuide,a=i.buyTokenGuide,ye.update({transferGuide:r,buyTokenGuide:a});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateNewbieGuideState",value:function(){var e=(0,f.A)((0,h.A)().mark((function e(){var t,n;return(0,h.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={type:U.nH},e.next=4,me.A.updateNewbieState(t);case 4:ye.update({transferGuide:U.Pn.NEEDLESS_GUIDE,buyTokenGuide:U.Pn.NEEDLESS_GUIDE}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Ae.A.error(e.t0.msg||(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.msg));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}])}());var Te=n(63010),Ee=n(4613),Se=n(61246),xe=n(67146),Le=n(49047),we=n(30168),Ce=n(8715),Oe=n(75170);const ke="index_resetALabelStyle__132GP";var Ne=function(e){var t=encodeURIComponent(e||(null===Ce.A||void 0===Ce.A?void 0:Ce.A.pathname)||"");return(0,Oe.CZ)("/account/login?forward="+t)},Re=function(e){var t=e.href,n=void 0===t?"":t,r=e.target,a=void 0===r?"_self":r,o=e.children;return(0,T.W5)()?o:(0,i.jsx)("a",{className:ke,target:a,href:n||Ne(),children:o})},De=n(19222),Ie=n(77879),Me=n(20128),Be=a().createContext({action:{},store:{}}),Pe=Be.Provider;const Fe={availableRow:"index_availableRow__H1d0q",transferIcon:"index_transferIcon__e9uH7",textBox:"index_textBox__zmTIo",multiAccountIcon:"index_multiAccountIcon__CkBvJ",quickTransferBox:"index_quickTransferBox__oEKio",quickTransferIcon:"index_quickTransferIcon__09EFs",quickTransferIconDark:"index_quickTransferIconDark__mN-De",availableRowItem:"index_availableRowItem__0zA0O",availableRowItemClose:"index_availableRowItemClose__Ydp8J",availableItem:"index_availableItem__PsvL4",availableItemInner:"index_availableItemInner__crtOd",text:"index_text__Cm-l3",value:"index_value__t-W7+",textWithUnderline:"index_textWithUnderline__IIJFk",borrowItem:"index_borrowItem__HKiMx",availableTipsInTrade:"index_availableTipsInTrade__vI0hT",tipsItem:"index_tipsItem__dM+qo",infoIcon:"index_infoIcon__eH1vR"};var Ue=n(62576);const je="index_guideTipPopover__qoQDZ",ze="index_popoverButton__JAtoh",Ye="index_leftButton__ADh8P",We="index_rightButton__tslli";const He=function(e){var t=e.unit;return(0,i.jsxs)("div",{className:je,"data-testid":"buy-token-guide-tip",children:[(0,i.jsx)("p",{children:(0,V.s3)("trade_placeorder_dialog_title_buy_crypto")}),(0,i.jsx)("p",{children:(0,V.s3)("trade_placeorder_dialog_content_no_crypto",{ccy:t})}),(0,i.jsxs)("div",{className:ze,children:[(0,i.jsx)(xe.A,{displayAsDiv:!0,className:Ye,"data-testid":"btn-ok",onClick:function(){return be.updateNewbieGuideState()},children:(0,V.s3)("trade_placeorder_dialog_btn_ok")}),(0,i.jsx)(Ue.A,{type:Ue.A.TYPE.highlight,size:Ue.A.SIZE.xxs,href:(0,Oe.CZ)("/buy-crypto"),target:"_blank","data-testid":"btn-buy-crypto",className:We,onClick:function(){return be.updateNewbieGuideState()},children:(0,V.s3)("trade_placeorder_dialog_btn_buy_crypto")})]})]})};const Ve=function(){return(0,i.jsxs)("div",{className:je,"data-testid":"transfer-guide-tip",children:[(0,i.jsx)("p",{children:(0,V.s3)("trade_placeorder_dialog_title_transfer_funds")}),(0,i.jsx)("p",{children:(0,V.s3)("trade_placeorder_dialog_content_transfer_funds")}),(0,i.jsx)("div",{className:ze,children:(0,i.jsx)(Ue.A,{category:Ue.A.CATEGORY.fill,type:Ue.A.TYPE.highlight,size:Ue.A.SIZE.xxs,className:We,"data-testid":"btn-ok",onClick:function(){return be.updateNewbieGuideState()},children:(0,V.s3)("trade_placeorder_dialog_btn_ok")})})]})};var Xe=n(95577),Ge=n(30631),qe=n(83413),Je=n(39973);const Ke={multiAccountDialogContainer:"index_multiAccountDialogContainer__6c+V7",checkboxContainer:"index_checkboxContainer__Wfcu-",checkboxLeft:"index_checkboxLeft__0IGqX",availValue:"index_availValue__n5EBA",tips:"index_tips__12mGt"};var Ze=ce._u.showFloorTruncation,Qe=function(e){var t=e.label,n=e.checked,r=e.onChange,a=e.value,o=e.unit,s=e.digit,l=e.disabled,u=void 0!==l&&l;return(0,i.jsxs)("div",{className:Ke.checkboxContainer,children:[(0,i.jsxs)("div",{className:Ke.checkboxLeft,children:[(0,i.jsx)(Xe.A,{className:Ke.accountCheckBox,checked:n,onChange:r,disabled:u}),t]}),(0,i.jsxs)("span",{className:Ke.availValue,children:[(0,he.Et)(a)?Ze(a,s,{needZero:!1}):"--"," ",o]})]})};const $e=(0,l.observer)((function(e){var t=e.unit,n=e.digit,o=e.side,s=(0,r.useContext)(Be),l=s.store,u=s.action,c=l.isShowMultiAccountDialog,h=l.props,f=l.maxAvailable,_=l.useAvailableWithoutLoan,p=h.accountCheckedInitValues,g=h.onAccountCheckedChange,m=p||{},A=m.isAssetAccountChecked,y=m.isEarnAccountChecked,b=f.assetAvail,T=f.simpleEarnAvail,E=f.available,x=f.loanAvailable,L=a().useState(!1),w=(0,v.A)(L,2),C=w[0],O=w[1],k=a().useState(!1),N=(0,v.A)(k,2),R=N[0],D=N[1],I=(0,r.useMemo)((function(){return _?ce._u.sub(E,x||0):E}),[E,x,_]);(0,r.useEffect)((function(){c&&(O(A),D(y))}),[c,A,y]),(0,r.useEffect)((function(){c&&(0,qe.NXE)((0,d.A)((0,d.A)({},(0,Je.uY)()),(0,Je.vE)({assetAccountChecked:C,earnAccountChecked:R})))}),[c]),(0,r.useEffect)((function(){o!==S.g2.BUY&&o||(0,qe.XzJ)((0,d.A)((0,d.A)({},(0,Je.uY)()),(0,Je.vE)({assetAccountChecked:C,earnAccountChecked:R})))}),[]);var M=function(){u.toggleMultiAccountDialog(!1)};return(0,i.jsx)(Ge.A.Action,{title:(0,V.s3)("trade_balance_header_add_balance_source"),confirmText:(0,V.s3)("trade_general_btn_confirm"),cancelText:(0,V.s3)("trade_general_btn_cancel"),visible:c,noContentPadding:!1,width:394,onClose:M,onCancel:M,onConfirm:function(){g&&g({isAssetAccountChecked:C,isEarnAccountChecked:R}),M(),(0,qe.iR1)((0,d.A)((0,d.A)({},(0,Je.uY)()),(0,Je.vE)({assetAccountChecked:C,earnAccountChecked:R})))},children:(0,i.jsxs)("div",{className:Ke.multiAccountDialogContainer,children:[(0,i.jsx)(Qe,{label:(0,V.s3)("trade_balance_title_trading_account"),checked:!0,value:I,unit:t,digit:n,disabled:!0}),(0,i.jsx)(Qe,{label:(0,V.s3)("trade_balance_title_funding_account"),checked:C,onChange:function(e){return O(e.target.checked)},value:b,unit:t,digit:n}),(0,i.jsx)(Qe,{label:(0,V.s3)("trade_balance_title_simple_earn_flexible"),checked:R,onChange:function(e){return D(e.target.checked)},value:T,unit:t,digit:n}),(0,i.jsx)("div",{className:Ke.tips,children:(0,V.s3)("trade_balance_desc_add_balance_source")})]})})})),et="index_description__5U6rw",tt="index_avaibleInfo__5hSza";var nt={num:"--",currency:""};function it(e){var t=e.side,n=e.maxAvailable,r=[(0,V.s3)("trade_spotderivorder_pop_available_max_available",n[0])];return t?r.push(t===S.g2.BUY?(0,V.s3)("trade_spotderivorder_pop_available_max_buy",n[1]):(0,V.s3)("trade_spotderivorder_pop_available_max_sell",n[1])):r.push((0,V.s3)("trade_spotderivorder_pop_available_max_buy",n[1]),(0,V.s3)("trade_spotderivorder_pop_available_max_sell",n[2])),(0,i.jsxs)("div",{className:et,children:[(0,i.jsx)("span",{children:(0,V.s3)("trade_spotderivorder_pop_available_more_than_spot_used")}),r.map((function(e){return(0,i.jsx)("div",{className:tt,children:e})})),(0,i.jsx)("div",{className:tt})]})}const rt=function(e){var t=e.side,n=e.store,a=e.children,o=(0,r.useState)([nt,nt,nt]),s=(0,v.A)(o,2),l=s[0],u=s[1],c=(0,r.useCallback)((function(e){if(e){var i=(0,ee.tI)(n.props);k.A.getMaxAvailable((0,d.A)((0,d.A)({},i),{},{unSpotOffset:!0})).then((function(e){var i=(0,z.I0)({side:t,store:n,maxAvailable:e})[0],r=[];t?r.push((0,$.nc)({side:t,store:n,maxAvailable:e})):r.push((0,$.nc)({side:S.g2.BUY,store:n,maxAvailable:e}),(0,$.nc)({side:S.g2.SELL,store:n,maxAvailable:e})),u([i].concat(r).map((function(e){return{num:(0,he.e5)({value:e.value,digit:e.digit}),currency:e.unit}})))})).catch((function(e){M(e)}))}else u([nt,nt,nt])}),[t,n]);return(0,i.jsx)(De.A,{description:(0,i.jsx)(it,{side:t,maxAvailable:l}),placement:Ee.A.DIRECTION.topLeft,onVisibleChange:c,children:a})};var at=function(){return{width:230,graspBaseDom:!0,alwaysUpdatePopper:!0,size:Ee.A.SIZE.sm}},ot=function(e,t,n){var r=t.maxAvailable,a=t.props.availTips,o=void 0===a?E.x7:a,l=o((0,d.A)({},r),n),u=(l||{}).description;return o&&u?(0,i.jsx)(De.A,(0,d.A)((0,d.A)({},l),{},{placement:Ee.A.DIRECTION.topLeft,children:(0,i.jsx)("span",{className:s()(Fe.text,"tc-has-tooltip"),children:e})})):(0,i.jsx)("span",{className:Fe.text,children:e})},st=function(e){var t=e.maxValueList,n=e.showSpotOffset,a=e.store,o=e.action,l=e.shouldShowUmGuidance,c=e.setShouldShowUmGuidance,h=ye.buyTokenGuide,v=a.props,f=void 0===v?{}:v,_=f.IsolatedAutoSet,p=void 0===_?E.x7:_,g=f.isShowMultiAccount;return(0,i.jsx)(i.Fragment,{children:t.map((function(e,t){var v=e.text,f=e.value,_=e.unit,m=e.digit,A=e.side,y=e.showIsoAutoTrans,b=A!==S.g2.SELL&&h===U.Pn.NEED_GUIDE;return(0,i.jsxs)("div",{className:Fe.availableItem,children:[(0,i.jsxs)("div",{className:Fe.availableItemInner,children:[n?(0,i.jsx)(r.Suspense,{fallback:(0,i.jsx)(r.Fragment,{}),children:(0,i.jsx)(rt,{side:A,store:a,action:o,children:(0,i.jsx)("span",{className:s()(Fe.text,"tc-has-tooltip"),children:v})})}):(0,i.jsxs)(Se.A,{description:(0,V.s3)("trade_home_coachmrk_desc_available_balance_is_calculated"),confirmText:(0,V.s3)("commonall_text_btn_ok_passive"),show:l,onConfirm:function(){Te.A.set(we.G6,!0),c(!1)},children:[(0,i.jsxs)(xe.A,{displayAsDiv:!0,className:Fe.textBox,onClick:function(){g&&o.toggleMultiAccountDialog(!0)},children:[ot(v,a,e),(0,i.jsx)(u.A,{when:g,children:(0,i.jsx)(Le.A,{a11yText:(0,V.s3)("trade_balance_header_add_balance_source"),className:s()("okds-arrow-chevron-right-centered-sm",Fe.multiAccountIcon)})})]}),(0,i.jsx)(u.A,{when:g,children:(0,i.jsx)($e,{unit:_,digit:m,side:A})})]}),(0,i.jsx)(De.A,(0,d.A)((0,d.A)({show:b,placement:Ee.A.DIRECTION.topLeft,description:(0,i.jsx)(He,{unit:_})},at()),{},{children:(0,i.jsxs)("span",{className:s()(Fe.value),children:[(0,he.e5)({value:f,digit:m})," ",_]})}))]}),(0,i.jsx)(u.A,{when:y,children:(0,i.jsx)(r.Suspense,{fallback:(0,i.jsx)(r.Fragment,{}),children:(0,i.jsx)(p,{side:A})})})]},t)}))})};const lt=(0,l.observer)((function(){var e,t,n=(0,r.useContext)(Be),a=n.store,o=n.action,l=(0,r.useMemo)((function(){return new Ie.A}),[]),c=a.side,h=a.showSpotOffset,f=a.isHideTransfer,_=a.props,p=(0,r.useState)(!1),g=(0,v.A)(p,2),m=g[0],A=g[1],y=ye.transferGuide,b=_.instType,E=_.instId,x=_.isNeedTransferStrategy,L=_.useMultiTransferDialog,w=x?(0,z.Uv)({side:c,store:a}):(0,z.I0)({side:c,store:a}),C=w[0].unit,O=c===S.g2.BUY&&y===U.Pn.NEED_GUIDE,k=null===(e=R.A.insts[b][E])||void 0===e?void 0:e.isLive,N=R.A.insts[b][E].isUm,I=(null===(t=D.A.usdLinearSettleCcyList)||void 0===t?void 0:t.length)>0;return(0,r.useEffect)((function(){var e=Te.A.get(we.G6);A(!e&&N&&c===S.g2.BUY&&I)}),[N,I,c]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:Fe.availableRow,"data-testid":"max-asset",children:[st({maxValueList:w,showSpotOffset:h,store:a,action:o,shouldShowUmGuidance:m,setShouldShowUmGuidance:A}),(0,i.jsx)(u.A,{when:!(0,T.Zp)()&&!f,children:(0,i.jsx)(De.A,(0,d.A)((0,d.A)({show:O,placement:Ee.A.DIRECTION.topRight,description:(0,i.jsx)(Ve,{})},at()),{},{children:(0,i.jsx)(De.A,{disabled:k,placement:Ee.A.DIRECTION.topRight,description:(0,V.s3)("trade_transfer_tooltips_unavailble_notlist"),maxWidth:230,children:(0,i.jsx)(Re,{children:L?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Le.A,{a11yText:(0,V.s3)("trade_placeorder_dialog_title_transfer_funds"),className:s()("okds-plus-circle",Fe.transferIcon),onClick:function(){k&&l.showDialog({currency:w[0].unit,source:l.sourceMap.AVAILABLE})}}),(0,i.jsx)(Me.A,{action:l})]}):(0,i.jsx)(Le.A,{a11yText:(0,V.s3)("trade_balance_header_select_method_add_balance"),className:s()("okx-trading-transfer-1",Fe.transferIcon),onClick:function(){k&&o.transferAccount(C)}})})})}))})]})})}));const ut=(0,l.observer)((function(){var e=(0,r.useContext)(Be).store,t=e.side,n=e.props,a=t;!0===n.isShowSingleMax&&(a=(null===n||void 0===n?void 0:n.side)||t);var o=Q({side:a,store:e});return(0,i.jsx)("div",{className:Fe.availableRow,"data-testid":"max-close",children:o.map((function(e,t){var n=e.text,r=e.value,a=e.unit,o=e.digit,l=e.availVal;return(0,i.jsxs)("div",{className:Fe.availableRowItemClose,children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:s()(Fe.text),children:n}),(0,i.jsxs)("span",{className:Fe.value,children:[(0,he.e5)({value:r,digit:o})," ",a]})]}),(0,i.jsxs)("div",{className:Fe.availValCon,children:[(0,i.jsx)(De.A,{description:(0,V.s3)("trade_function_text_available_amount"),linkLabel:(0,V.s3)("spot_placeorder_tooltip_more"),linkType:Ee.A.LINK_TYPES.a,powerLinkProps:{href:(0,V.s3)("trade_function_text_reduceonly_optimization_link"),target:"_blank",rel:"noreferrer"},children:(0,i.jsx)("span",{className:s()(Fe.text,"tc-has-tooltip"),children:(0,V.s3)("trade_mid_text_available")})}),(0,i.jsxs)("span",{className:Fe.value,children:[(0,he.e5)({value:l,digit:o})," ",a]})]})]},t)}))})}));var ct=n(90884),dt=n(64467);const ht=function(){return(0,V.s3)("trade_adjustlever_modallink_mgn_position_tier_url")};var vt=n(79428),ft=function(e){function t(){var e;return(0,p.A)(this,t),(e=(0,le.A)(this,t)).tradeProps={},e.bestMarginLever={},(0,A.makeObservable)(e,{tradeProps:A.observable,bestMarginLever:A.observable,showBestLever:A.computed,ccy:A.computed,optLever:A.computed,maxNum:A.computed,digitMap:A.computed,digit:A.computed}),e}return(0,ue.A)(t,e),(0,_.A)(t,[{key:"showBestLever",get:function(){return this.bestMarginLever.isCalculate===U.ij}},{key:"ccy",get:function(){return this.bestMarginLever.maxSizeCcy||""}},{key:"digitMap",get:function(){var e=this.tradeProps,t=e.instId,n=e.instType,i=(0,j.D5)({instId:t,instType:n}).config,r=void 0===i?{}:i,a=r.baseDig,o=r.quoteDig,s=r.baseCcy,l=r.quoteCcy;return(0,dt.A)((0,dt.A)({},s,a),l,o)}},{key:"digit",get:function(){var e=this.ccy;return this.digitMap[e]||2}},{key:"optLever",get:function(){var e=this.bestMarginLever.bestLeverage;return ce._u.truncate(e||0,2)+vt.gN}},{key:"maxNum",get:function(){var e=this.bestMarginLever.maxSize,t=this.digit;return(0,he.e5)({value:e||"",digit:t})}}])}(de.A);const _t=ft,pt="index_marginLeverBox__Aw+Z4",gt="index_marginLever__p8-KD";var mt=S.g2.BUY,At=S.g2.SELL;const yt=(0,l.observer)((function(e){var t=e.lever,n=e.bestMarginLever,a=e.side,o=(0,r.useContext)(Be).store.props,s=(0,r.useMemo)((function(){return new _t}),[]);(0,r.useEffect)((function(){s.update({bestMarginLever:n})}),[n]),(0,r.useEffect)((function(){s.update({tradeProps:o})}),[o]);var l=s.showBestLever,u=s.ccy,c=s.optLever,d=s.maxNum;if(!l||!t)return null;var h=(0,he.Yd)(t),v=(0,V.s3)(function(e){return(0,dt.A)((0,dt.A)({},mt,"trade_adjustlever_pop_set_optimized_lever"),At,"trade_adjustlever_pop_set_optimized_lever_sell")[e]}(a),{ccy:u,optLever:c,maxNum:d});return(0,i.jsx)(De.A,{description:v,placement:De.O.bottom,linkLabel:(0,V.s3)("trade_adjustlever_modallink_mgn_position_tier"),linkType:Ee.A.LINK_TYPES.a,powerLinkProps:{href:ht()},className:pt,children:(0,i.jsx)("span",{className:gt,"data-testid":"max-trade-margin-lever",children:h})})}));var bt=function(e){var t=e.text,n=e.index,r=e.side,a=e.instType,o=e.tdMode,s=(0,ct.EG)({instType:a,tdMode:o,side:r,index:n}),l=s.shouldShow,u=s.description;if(l){var c=0===n?De.O.bottomLeft:De.O.bottomRight;return(0,i.jsx)(De.A,{description:(0,V.s3)(u),placement:c,children:(0,i.jsx)("span",{className:Fe.textWithUnderline,"data-testid":"max-trade-text-underline",children:t})})}return(0,i.jsx)("span",{className:Fe.text,children:t})},Tt=(0,l.observer)((function(e){var t,n=e.ccy;return((null===(t=R.A.coins)||void 0===t?void 0:t[n])||{}).collateralRestrict!==Je.M$.IS_RESTRICTED?null:(0,i.jsx)(De.A,{description:(0,V.s3)("trade_function_tooltips_avail_reach_collateral_limit"),placement:De.O.top,linkLabel:(0,V.s3)("trade_tooltip_value_learn_more"),linkType:Ee.A.LINK_TYPES.a,powerLinkProps:{href:(0,V.s3)("trade_function_learn_more_url")},children:(0,i.jsx)(Le.A,{iconName:"okx-trading-risk-collateral-coin",className:Fe.infoIcon})})})),Et=function(e){var t=e.maxTradeList,n=e.side,a=e.marginLever,o=e.bestMarginLever,l=e.isShowCollateralLimit,c=e.instType,d=e.tdMode;return(0,i.jsx)(i.Fragment,{children:t.map((function(e,t){var h=e.text,v=e.value,f=e.unit,_=e.digit;return(0,i.jsxs)("div",{className:Fe.availableRowItem,children:[bt({text:h,index:t,side:n,instType:c,tdMode:d}),(0,i.jsxs)("span",{className:s()(Fe.value),children:[(0,he.e5)({value:v,digit:_})," ",f]}),(0,i.jsx)(u.A,{when:l,children:(0,i.jsx)(r.Suspense,{fallback:(0,i.jsx)(r.Fragment,{}),children:(0,i.jsx)(Tt,{ccy:f})})}),(0,i.jsx)(u.A,{when:!l&&a,children:(0,i.jsx)(r.Suspense,{fallback:(0,i.jsx)(r.Fragment,{}),children:(0,i.jsx)(yt,{side:n,lever:a,bestMarginLever:o})})})]},t)}))})};const St=(0,l.observer)((function(){var e=(0,r.useContext)(Be),t=e.store,n=e.action,a=t.side,o=t.props,s=t.bestMarginLever,l=o.marginLever,u=o.isShowSingleMax,c=o.instType,d=o.tdMode,h=o.isShowCollateralLimit,v=a;!0===u&&(v=(null===o||void 0===o?void 0:o.side)||a);var f=(0,$.Y9)({side:v,store:t});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:Fe.availableRow,"data-testid":"max-trade",children:Et({maxTradeList:f,isShowCollateralLimit:h,side:v,action:n,marginLever:l,bestMarginLever:s,instType:c,tdMode:d})})})}));var xt=n(60369),Lt=S.g2.BUY,wt=S.g2.SELL,Ct=Y.SC.DOWN,Ot=Y.SC.UP,kt=function(e){var t=e.side,n=e.instType,i=e.instId,r=(0,j.D5)({instType:n,instId:i}),a=r.baseCcy,o=r.quoteCcy,s=r.config,l=void 0===s?{}:s,u=l.baseDig,c=l.quoteDig,d=t===Lt?o:a;return{unit:d,digit:d===a?u:c}};function Nt(e){var t=e.side,n=e.store,i=n.maxAvailable,r=n.props,a=i||{},o=a.repayAmount,s=a.totalDebt,l=function(e){var t=e.side,n=e.instType,i=e.instId,r=(0,j.D5)({instType:n,instId:i}),a=r.baseCcy,o=r.quoteCcy,s=r.config,l=void 0===s?{}:s,u=l.baseDig,c=l.quoteDig,d=t===wt?o:a;return{unit:d,digit:d===a?u:c}}({side:t,instType:r.instType,instId:r.instId}),u=l.unit,c=l.digit,d=""===o?0:o,h=(0,he.Fz)({value:d,digit:c,decimal:Ot}),v=(0,he.Fz)({value:s,digit:c,decimal:Ot});return[{text:(0,V.s3)("trade_margin_label_repaying"),value:h,unit:u,digit:c},{text:(0,V.s3)("trade_margin_label_total_borrowed"),value:v,unit:u,digit:c}]}var Rt=function(e){var t=e.text,n=e.value,r=e.unit,a=e.digit,o=e.tooltip;return(0,i.jsx)("div",{className:Fe.availableItem,children:(0,i.jsxs)("div",{className:Fe.availableItemInner,children:[(0,i.jsx)(u.A,{when:o,children:(0,i.jsx)(De.A,{description:o,children:(0,i.jsx)("span",{className:s()(Fe.text,"tc-has-tooltip"),children:t})})}),(0,i.jsx)(u.A,{when:!o,children:(0,i.jsx)("span",{className:Fe.text,children:t})}),(0,i.jsxs)("span",{className:Fe.value,children:[(0,he.e5)({value:n,digit:a})," ",r]})]})})};const Dt=(0,l.observer)((function(e){var t=e.registerGuidance,n=(0,r.useContext)(Be),a=n.store,o=n.action,l=a.side,c=a.props.isDoubleCols,d=function(e){var t=e.side,n=e.store,i=n.maxAvailable,r=n.showQuickMarginBorrow,a=n.props,o=a.instType,s=a.instId,l=(i||{}).available,u=kt({side:t,instType:o,instId:s}),c=u.unit,d=u.digit,h=(0,he.Fz)({value:l,digit:d,decimal:Ct});return{text:(0,V.s3)("trade_margin_label_available"),tooltip:r?(0,V.s3)("trade_margin_tooltip_available"):null,value:h,unit:c,digit:d}}({side:l,store:a}),h=d.unit,v=D.A.theme===xt.zG.dark,f=s()(v?Fe.quickTransferIconDark:Fe.quickTransferIcon);return(0,i.jsxs)("div",{className:Fe.availableRow,"data-testid":"quick-margin-max-avail",children:[Rt(d),(0,i.jsx)(u.A,{when:!c,children:(0,i.jsx)("div",{className:Fe.quickTransferBox,ref:function(e){t&&t(1,{elem:e,position:"rightTop",step:1,positionByOutline:!0})},children:(0,i.jsx)(Le.A,{className:f,onClick:function(){o.openQuickMarginTransfer(h)}})})})]})}));const It=(0,l.observer)((function(){var e=(0,r.useContext)(Be).store,t=function(e){var t=e.side,n=e.store,i=n.maxAvailable,r=n.props,a=(i||{}).changeDebt,o=r.instType,s=r.instId,l=kt({side:t,instType:o,instId:s}),u=l.unit,c=l.digit,d=(0,he.Fz)({value:a,digit:c,decimal:Ot});return{text:(0,V.s3)("trade_margin_label_borrowing"),tooltip:(0,V.s3)("trade_margin_tooltip_borrowing"),value:d,unit:u,digit:c}}({side:e.side,store:e});return(0,i.jsx)("div",{className:Fe.availableRow,"data-testid":"quick-margin-borrow",children:Rt(t)})}));const Mt=(0,l.observer)((function(){var e=(0,r.useContext)(Be).store,t=Nt({side:e.side,store:e});return(0,i.jsx)(i.Fragment,{children:t.map((function(e,t){return(0,i.jsx)("div",{className:Fe.availableRow,"data-testid":"quick-margin-repay-".concat(t),children:Rt(e)},t)}))})}));const Bt=(0,l.observer)((function(e){var t=e.registerGuidance,n=(0,r.useContext)(Be).store,a=n.showQuickMarginBorrow,o=n.showQuickMarginRepay;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Dt,{registerGuidance:t}),(0,i.jsx)(u.A,{when:a,children:(0,i.jsx)(It,{})}),(0,i.jsx)(u.A,{when:o,children:(0,i.jsx)(Mt,{})})]})}));var Pt=function(e){var t=e.className,n=e.registerGuidance,a=e.onlyShowMaxAsset,o=e.fetchConfig,l=(0,r.useMemo)((function(){var t=new ge;return t.props=e,t}),[]),d=(0,r.useMemo)((function(){return new se({store:l})}),[l]),h=l.isClosePos,v=l.isQuickMargin,f=e.isHideMaxTrade;return(0,r.useEffect)((function(){return d.init(),d.destroy}),[]),(0,r.useEffect)((function(){d.updateProps(e)}),[e]),(0,i.jsx)(c.A,{fetchConfig:o,children:(0,i.jsx)(Pe,{value:{action:d,store:l},children:(0,i.jsxs)("div",{className:s()(Fe.availableBox,t),children:[(0,i.jsx)(u.A,{when:v&&!a,children:(0,i.jsx)(Bt,{registerGuidance:n})}),(0,i.jsxs)(u.A,{when:!v,children:[(0,i.jsx)(u.A,{when:!h,children:(0,i.jsx)(lt,{})}),(0,i.jsx)(u.A,{when:!h&&!f&&!a,children:(0,i.jsx)(St,{})}),(0,i.jsx)(u.A,{when:h&&!a,children:(0,i.jsx)(ut,{})})]})]})})})};Pt.guideTipAction=be;const Ft=(0,l.observer)(Pt)},79746:(e,t,n)=>{"use strict";n.d(t,{D5:()=>f,Im:()=>T,JR:()=>y,Me:()=>S,bd:()=>E,iL:()=>_,n3:()=>m,nC:()=>g,oK:()=>p,y8:()=>A});var i=n(89379),r=n(10305),a=n(34653),o=n(14419),s=n(95586),l=n(75376),u=n(29613),c=n(69294),d=o.Tn.CROSS,h=o.Tn.ISOLATED,v=o.g2.BUY;function f(e){var t=e.instId,n=e.instType,r=l.A.insts[n][t]||{},a=l.A.configs[n][t]||{};return(0,i.A)((0,i.A)((0,i.A)({},a),r),{},{instId:t,instType:n,inst:r,config:a})}function _(e){var t=e.tdMode,n=e.instType,i=t;if(!t){var r=(0,c.Cs)(n).isSpot,a=u.A.isTradeAccount,s=u.A.isSingleAccount;i=r&&(a||s)?o.Tn.CASH:o.Tn.CROSS}return i}function p(e){var t,n=e.posMode,i=e.instType,r=n;r||(r=(0,c.Cs)(i).isFuturesOrSwap?null===(t=u.A.accountConfig)||void 0===t?void 0:t.posMode:void 0);var o=r===a.fr.NET_MODE;return{positionMode:r,isNetPosMode:o,isLsPosMode:!o}}var g=function(e){var t=e.side,n=e.store,i=t===v,r=n.props,a=r.instType,o=r.tdMode,s=r.ccy,l=r.reduceOnly,u=r.isoAutoTransMode;return!(0,c.Cs)(a).isSpotOrMargin||i?i:(o===d&&s||o===h)&&!l&&!u},m=function(){var e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var n=t.instId,i=t.mgnMode,r=t.posSide;e["".concat(n,"-").concat(i,"-").concat(r)]=t})),e},A=function(e,t){var n=t.props,i=t.maxAvailable,r=n.px||n.last||(null===i||void 0===i?void 0:i.px);return e&&-1!==+e?e:r},y=function(e){var t=f({instType:e.instType,instId:e.instId}),n=t.ctType,i=t.config||{},a=i.marginDig,o=i.quoteDig;return n===r.pn.LINEAR?+o:+a},b=function(e){var t=e.instType,n=e.ctType,i=u.A.linearTradeUnit,a=u.A.invertTradeUnit,o=u.A.inverseFuturesUnit;return n===r.pn.LINEAR?i:n===r.pn.INVERSE?t===r.gy.OPTION?a:o:""};function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.instType,n=f({instType:t,instId:e.instId}),r=n.inst,a=n.ctType;return(0,s.bizCvtSize)((0,i.A)((0,i.A)({tradeUnitId:b({instType:t,ctType:a})},r),e))}var E=function(e){var t=e.instType,n=e.tdMode,i=(0,c.Cs)(t),r=i.isSpot,a=i.isMargin;return!!r||u.A.isMultiAccount&&a&&n===o.Tn.CROSS},S=function(e,t,n){return n.every((function(n){return e[n]===t[n]}))}},66934:(e,t,n)=>{"use strict";n.d(t,{I0:()=>m,Uv:()=>A,zj:()=>g});var i=n(71491),r=n(68448),a=n(14419),o=n(27851),s=n(48705),l=n(69294),u=n(90884),c=n(79746),d=a.g2.BUY,h=r.SC.DOWN,v=a.Tn.ISOLATED,f=function(e){var t=e.ccy,n=e.isoAutoTransMode,i=e.tdMode;return e.reduceOnly||!t&&(i!==v||n)?(0,o.s3)("spot_placeorder_text_available"):(0,o.s3)("perp_placeorder_input_avail_margin_coin")};function _(e){var t=e.isStrategy,n=e.isNeedTransferStrategy,i=e.instType,r=e.instId,a=e.ccy,s=e.isoAutoTransMode,c=e.tdMode,d=e.reduceOnly;return(0,l.Cs)(i).isSpotOrMargin&&!t?f({ccy:a,isoAutoTransMode:s,tdMode:c,reduceOnly:d}):n||(0,u.$s)({instType:i,instId:r})||(0,u.iU)({tdMode:c,instType:i,instId:r})?(0,o.s3)("spot_placeorder_text_available"):(0,o.s3)("perp_placeorder_input_avail_margin_coin")}var p=function(e){var t=e.side,n=e.store.props,i=n.ccy,r=n.reduceOnly,a=n.isoAutoTransMode,o=n.tdMode,s=n.instId,l=n.instType,u=n.isSimpleUnitStrategy,h=(0,c.D5)({instId:s,instType:l}),f=h.baseCcy,_=h.ccyName,p=t===d?_:f;return u||r?p:i||(o!==v||a||(p=t===d?f:_),p)};function g(e){var t,n=e.side,i=e.store,r=i.props,a=r.instType,o=r.instId,s=r.tradeQuoteCcy,u=(0,c.D5)({instType:a,instId:o}),h=u.settleCcy,v=u.config,f=u.baseCcy,_=(0,l.Cs)(a),g=_.isSpotOrMargin,m=_.isFuturesOrSwap,A=v.baseDig,y=v.quoteDig,b=v.marginDig;if(g){var T=p({side:n,store:i});return t=T===f?A:y,{unit:T=n===d&&s||T,digit:t}}return t=b,m&&(t=(0,c.JR)({instType:a,instId:o})),{unit:h,digit:t}}function m(e){var t=e.side,n=e.store,r=e.maxAvailable,u=e.needPureAssetAvailable,v=n.maxAvailable,f=n.props,p=n.useAvailableWithoutLoan,m=_(f),A=g({side:t,store:n}),y=A.unit,b=A.digit,T=r||v||{},E=T.available,S=T.loanAvailable,x=T.assetAvail,L=T.simpleEarnAvail,w=f.instType,C=f.showIsoAutoTrans,O=f.accountCheckedInitValues,k=f.isShowMultiAccount,N=O||{},R=N.isAssetAccountChecked,D=N.isEarnAccountChecked;if((0,l.Cs)(w).isFuturesOrSwap&&C)return function(e){var t=e.side,n=e.store,i=e.unit,r=e.digit,l=a.bB.LONG,u=a.bB.SHORT,v=a.bB.NET,f=n.maxAvailable,_=n.props,p=_.posMode,g=_.instType,m=(0,c.oK)({posMode:p,instType:g}).isNetPosMode,A=f||{},y=A.available,b=A.longAvail,T=A.shortAvail;if(m){var E=(0,s.Fz)({value:y,digit:r,decimal:h});return[{text:(0,o.s3)("perp_placeorder_input_avail_margin_coin"),value:E,unit:i,digit:r,showIsoAutoTrans:!0,side:v}]}var S=(0,s.Fz)({value:b,digit:r,decimal:h}),x=(0,s.Fz)({value:T,digit:r,decimal:h}),L=[{text:(0,o.s3)("spot_placeorder_title_long_avail_margin"),value:S,unit:i,digit:r,showIsoAutoTrans:!0,side:l},{text:(0,o.s3)("spot_placeorder_title_short_avail_margin"),value:x,unit:i,digit:r,showIsoAutoTrans:!0,side:u}];return t?t===d?[L[0]]:[L[1]]:L}({side:t,store:n,unit:y,digit:b});var I=E;return(p||u)&&(I=i._u.sub(E,S||0)),k&&(R&&(I=i._u.add(I,x||0)),D&&(I=i._u.add(I,L||0))),[{text:m,value:(0,s.Fz)({value:I,digit:b,decimal:h}),unit:y,digit:b,showIsoAutoTrans:C,side:t}]}function A(e){var t=e.side,n=e.store,i=n.maxAvailable,r=n.props,a=r.isContractStrategy,o=_(r),l=i||{},u=l.baseMax,c=l.quoteMax,v=t===d||a?c:u,f=g({side:t,store:n}),p=f.unit,m=f.digit;return[{text:o,value:(0,s.Fz)({value:v,digit:m,decimal:h}),unit:p,digit:m,side:t}]}},23276:(e,t,n)=>{"use strict";n.d(t,{Y9:()=>m,nc:()=>g});var i=n(89379),r=n(71491),a=n(68448),o=n(14419),s=n(95586),l=n(18297),u=n(27851),c=n(69294),d=n(90884),h=n(79746),v=o.g2.BUY,f=o.g2.SELL,_=a.SC.DOWN;var p=function(e){var t=e.side,n=e.store,i=e.maxAvailable,a=t===v,o=n.maxAvailable,s=n.useAvailableWithoutLoan,l=n.props.calcBuySellSizeWithAvailable,c=i||o||{},d=c.maxSize,f=c.loanMaxSize,_=c.available,p=c.loanAvailable,g=a?"spot_placeorder_text_max_buy":"spot_placeorder_input_max_sell",m=d,A=_;(s&&(m=r._u.sub(d,f||0),A=r._u.sub(_,p||0)),l)&&(m=function(e){var t=e.available,n=e.side,i=e.px;return n===v?r._u.toPlainString(r._u.div(t,i)):r._u.toPlainString(r._u.mul(t,i))}({available:A,side:t,px:(0,h.y8)(null===i||void 0===i?void 0:i.px,n)}));return{text:(0,u.s3)(g),value:m}};function g(e){var t=e.side,n=e.store,a=e.maxAvailable,o=n.maxAvailable,g=n.props,m=g.instType,A=g.instId,y=g.isShowMultiAccount,b=g.accountCheckedInitValues,T=g.tradeQuoteCcy,E=b||{},S=E.isAssetAccountChecked,x=E.isEarnAccountChecked,L=function(e){var t,n,i=e.side,r=e.store,a=e.maxAvailable,o=i===v,s=r.maxAvailable,l=r.props,f=l.isStrategy,_=l.instType,g=l.posMode,m=l.tdMode,A=a||s||{},y=A.buySize,b=A.sellSize,T=(0,c.Cs)(_),E=T.isSpotOrMargin,S=T.isFuturesOrSwap,x=(0,h.oK)({posMode:g,instType:_}).isLsPosMode;if(E)return p({side:i,store:r,maxAvailable:a});t=o?"options_placeorder_input_max_buy":"options_placeorder_input_max_sell";var L=o?y:b;return(0,d.Jl)({tdMode:m,instType:_})&&!f?(t=o?"spot_text_available_pm_buy":"spot_text_available_pm_sell",n=!0):S&&x&&(t=o?"perp_placeorder_input_open_max_long":"perp_placeorder_input_open_max_short"),{text:(0,u.s3)(t),value:L,isPm:n}}({side:t,store:n,maxAvailable:a}),w=L.text,C=L.value,O=L.isPm,k=o||{},N=k.assetSz,R=k.simpleEarnSz;if(O){var D=(0,h.D5)({instType:m,instId:A}),I=D.settleCcy,M=D.config;return{text:w,value:C,unit:I,digit:(0,c.Cs)(m).isFuturesOrSwap?(0,h.JR)({instType:m,instId:A}):M.marginDig}}var B=(0,h.y8)(null===a||void 0===a?void 0:a.px,n),P=(0,h.nC)({side:t,store:n}),F=g.ordType,U={};g.isStrategy&&(U=(0,l.P)({ordType:F,instId:A,instType:m,isBaseCcy:P}));var j=(0,h.Im)((0,i.A)((0,i.A)({side:t,size:C,isBaseCcy:P,decimal:_,price:B},U),{},{instType:m,instId:A})),z=(0,h.D5)({instType:m,instId:A}).unitName,Y=(0,s.bizSizeUnit)((0,i.A)((0,i.A)({isBaseCcy:P,unitName:z},U),{},{instId:A,instType:m})),W=Y.unitName,H=Y.sizeDig;return y&&(S&&(j=r._u.add(j,N||0)),x&&(j=r._u.add(j,R||0))),{text:w,value:j,unit:t===f&&T||W,digit:H}}function m(e){var t=e.side,n=e.store;return t?[g({side:t,store:n})]:[g({side:v,store:n}),g({side:f,store:n})]}},91434:(e,t,n)=>{"use strict";n.d(t,{C0:()=>u,oH:()=>l,tI:()=>c});var i=n(14419),r=n(89569),a=n(69294),o=n(90884),s=n(79746),l=function(e){var t=e.ccy,n=e.instType,i=e.tdMode;return(0,o._H)({instType:n,tdMode:i})||(0,o.Vq)({instType:n,tdMode:i})?t:void 0},u=function(e){var t=e.side,n=void 0===t?i.g2.BUY:t,r=e.isDoubleCols,o=e.instType;return(0,a.Cs)(o).isSpotOrMargin||r?n:void 0},c=function(e){var t=e.instId,n=e.side,i=e.isDoubleCols,o=e.px,c=e.reduceOnly,d=void 0!==c&&c,h=e.sz,v=e.buySz,f=e.sellSz,_=e.tgtCcy,p=e.quickMgnType,g=e.excludeAlgoId,m=e.excludeOrderId,A=e.baseOnPositionDebt,y=e.tdMode,b=e.instType,T=e.posMode,E=e.ccy,S=e.isNeedTransferStrategy,x=e.isShowMultiAccount,L=e.tradeQuoteCcy,w=e.ordType,C=(0,s.iL)({tdMode:y,instType:b}),O=(0,s.oK)({posMode:T,instType:b}).positionMode,k=l({ccy:E,instType:b,tdMode:y}),N=S?1:void 0,R=function(e){var t=e.ordType,n=e.instType;return(0,a.Cs)(n).isSpotOrMargin?t:void 0}({ordType:w,instType:b}),D=u({side:n,isDoubleCols:i,instType:b});return(0,r.o$)({instId:t,px:o,tdMode:C,posMode:O,ccy:k,side:D,reduceOnly:d,needTransfer:N,sz:h,tgtCcy:_,ordType:R,buySz:v,sellSz:f,quickMgnType:p,excludeAlgoId:g,excludeOrderId:m,baseOnPositionDebt:A,needQueryAssetAndEarn:x?1:void 0,tradeQuoteCcy:L})}},90884:(e,t,n)=>{"use strict";n.d(t,{$s:()=>d,EG:()=>A,Jl:()=>c,Vq:()=>_,_H:()=>f,iU:()=>v});var i=n(54609),r=n(34653),a=n(14419),o=n(29613),s=n(69294),l=n(79746),u=(i.W4.MARKET,i.W4.STOP_LIMIT,function(e){var t=e.tdMode,n=e.instType;return(0,l.iL)({tdMode:t,instType:n})===a.Tn.CROSS}),c=function(e){var t=e.tdMode,n=e.instType;return o.A.isPmAccount&&u({tdMode:t,instType:n})},d=function(e){var t=e.instType,n=e.instId,i=o.A.isMultiAccount,r=(0,l.D5)({instType:t,instId:n}).lever,a=(0,s.Cs)(t).isSpot;return!i&&a||i&&a&&!r},h=function(e){var t=e.instType,n=e.instId;return o.A.isMultiAccount&&function(e){var t=e.instType,n=e.instId,i=(0,l.D5)({instType:t,instId:n}).lever,r=(0,s.Cs)(t),a=r.isMargin,u=r.isSpot;return a||o.A.isMultiAccount&&u&&!!i}({instType:t,instId:n})},v=function(e){var t=e.tdMode,n=e.instType,i=e.instId;return h({instType:n,instId:i})&&u({tdMode:t,instType:n})},f=function(e){var t=e.instType,n=e.tdMode,i=(0,s.Cs)(t).isMargin;return(o.A.isSingleAccount||o.A.isTradeAccount)&&u({instType:t,tdMode:n})&&i},_=function(e){var t=e.instType,n=e.tdMode;return(0,s.Cs)(t).isMargin&&function(e){var t=e.tdMode,n=e.instType;return(0,l.iL)({tdMode:t,instType:n})===a.Tn.ISOLATED}({instType:t,tdMode:n})&&o.A.accountConfig.mgnIsoMode===r.Ih.CCY},p=function(){return o.A.isMultiAccount},g=function(){return o.A.isAutoLoan},m=function(e,t){return p()?function(e,t){return e?g()?t?null:{shouldShow:!0,description:"options_placeorder_tooltip_max_buy"}:{shouldShow:!0,description:t?"options_placeorder_tooltip_max_sell":"options_placeorder_tooltip_max_buy"}:null}(e,t):o.A.isMultiAccount||o.A.isPmAccount?null:function(e,t){return e&&!t?{shouldShow:!0,description:"options_placeorder_tooltip_max_buy"}:null}(e,t)},A=function(e){var t=e.instType,n=e.tdMode,i=e.side,r=e.index,o=(0,s.Cs)(t),l=o.isOption,c=o.isFuturesOrSwap,d=u({tdMode:n,instType:t}),h=function(e,t){var n=a.g2.SELL;return e||(1===t?n:"buy")}(i,r),v=h===a.g2.SELL,f=null;return l?f=m(d,v):c&&(f=function(e){return p()&&e&&!g()?{shouldShow:!0,description:"options_placeorder_tooltip_max_sell"}:null}(d)),f||{shouldShow:!1,description:""}}},79750:(e,t,n)=>{"use strict";n.d(t,{IS:()=>s,g:()=>o,nL:()=>d});var i=n(64467),r=n(83078),a=n(14419),o=r.lk,s={LIMIT:"limit",LIMIT_BBO:"limit_bbo",MARKET:"market",TRIGGER_LIMIT:"trigger_limit",TRIGGER_MARKET:"trigger_market"},l=a._S.LAST,u=a._S.MARK,c=a._S.INDEX,d=(0,i.A)((0,i.A)((0,i.A)({},l,"trade_function_tooltips_desc_last_price"),u,"trade_function_tooltips_desc_mark_price"),c,"trade_function_tooltips_desc_index_price")},80706:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,o:()=>r});var i=n(41594),r=n.n(i)().createContext({action:{},store:{}}),a=r.Provider},90136:(e,t,n)=>{"use strict";n.d(t,{A:()=>te});var i=n(89379),r=n(19919),a=n(41594),o=n.n(a),s=n(76700),l=n(5544),u=n(53986),c=n(83573),d=n.n(c),h=n(41140),v=n(49047),f=n(73437),_=n(19222),p=n(27851),g=n(58217),m=n(39457),A=n(90675),y=n(10467),b=n(23029),T=n(92901),E=n(44497),S=n(45613),x=n(83078),L=n(89569),w=n(76129),C=n(79750);const O=function(){return(0,T.A)((function e(t){var n=this;(0,b.A)(this,e),this.init=function(e){var t;t=e&&e instanceof Array&&e.length>1&&e.some((function(e){var t=e.tpTriggerPx,n=e.tpOrdPx;return e.tpOrdKind===g.IZ.LIMIT?n:t}))?C.g.MULTI:C.g.OCO,n.store.mode=t},this.updateInitialValuesByMode=function(e){var t=e.mode,i=e.initialValues;(t||n.store.mode)===C.g.MULTI?n.store.multiValues=i:n.store.ocoValues=i},this.switchMode=function(){var e=n.store.mode===C.g.OCO?C.g.MULTI:C.g.OCO;n.store.updateByKey("mode",e),n.outOnChange({mode:e,value:n.getValues()})},this.getValues=function(){return n.store.mode===C.g.OCO?n.store.ocoValues:n.store.multiValues},this.getSubAction=function(){return n.store.mode===C.g.OCO?n.ocoAction:n.multiAction},this.getFieldsValue=function(){return{mode:n.store.mode,value:n.getValues()}},this.validateTriggerPxEmpty=function(){var e=(0,y.A)((0,A.A)().mark((function e(t){var i,r,a,o,s,l,u,c;return(0,A.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.tpTriggerPx,r=t.tpOrdPx,a=t.slTriggerPx,o=t.slOrdPx,n.store.checkTriggerPxEmpty){e.next=4;break}return e.abrupt("return");case 4:if(s=i||!(0,w._X)(r),l=a||!(0,w._X)(o),u=Number(i),c=Number(a),!s||!l){e.next=15;break}if(u||!c){e.next=12;break}throw n.ocoAction.setError({tpTriggerPx:(0,p.s3)("trade_function_textarea_desc_input")}),new Error;case 12:if(!u||c){e.next=15;break}throw n.ocoAction.setError({slTriggerPx:(0,p.s3)("trade_function_textarea_desc_input")}),new Error;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.validateFields=(0,y.A)((0,A.A)().mark((function e(){var t,i;return(0,A.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=n.getSubAction())||void 0===t?void 0:t.validateFields();case 2:if(i=e.sent,n.store.mode!==C.g.OCO){e.next=6;break}return e.next=6,n.validateTriggerPxEmpty(i);case 6:return e.abrupt("return",{mode:n.store.mode,value:i});case 7:case"end":return e.stop()}}),e)}))),this.clearForm=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null===(e=n.getSubAction())||void 0===e||e.clearForm(t),n.store.update({mode:x.lk.OCO,ocoValues:{},multiValues:[]})},this.updateFormValues=function(e){n.store.mode===x.lk.OCO?n.store.update({ocoValues:e}):n.store.update({multiValues:e})},this.onChange=function(e){n.updateFormValues(e),n.outOnChange(n.getFieldsValue())},this.onBlur=function(e){n.updateFormValues(e),n.outOnBlur(n.getFieldsValue())},this.store=t,this.outOnChange=S.x7,this.outOnBlur=S.x7,(0,E.makeObservable)(this,{init:E.action,updateStoreFromProps:E.action})}),[{key:"updateStoreFromProps",value:function(e){var t=e.mode,n=e.enableMultiMode,i=e.showChgInput,r=e.hideOrdInput,a=e.enableSettingModeSwitch,o=e.checkTriggerPxEmpty,s=e.marketStore,l=e.px,u=e.pxType,c=e.sz,d=e.formType,h=e.extraParams,v=e.onChange,f=e.onBlur;this.outOnChange=v||S.x7,this.outOnBlur=f||S.x7,this.store.update((0,L.o$)({mode:t,showChgInput:i,hideOrdInput:r,marketStore:s,px:l,pxType:u,szCont:c,formType:d,extraParams:h,enableSettingModeSwitch:a,enableMultiMode:n,checkTriggerPxEmpty:o}))}}])}();var k=n(39874),N=n(85501),R=n(68448),D=n(14419),I=n(27536),M=n(99609),B=n(95586),P=n(8713),F=n(75376),U=n(86771),j=D._S.INDEX,z=D._S.LAST,Y=D._S.MARK,W=R.SC.DOWN;const H=function(e){function t(){var e;return(0,b.A)(this,t),(e=(0,k.A)(this,t)).enableMultiMode=!1,e.mode=x.lk.OCO,e.formType=g.vF.ORDER,e.showChgInput=!1,e.hideOrdInput=!1,e.enableSettingModeSwitch=!0,e.checkTriggerPxEmpty=!1,e.px="",e.pxType="",e.szCont=0,e.marketStore={ticker:{}},e.extraParams={lever:"1",pxUnit:"",pxDig:4,baseDig:4,posSide:"",profitDig:"",profitUnit:""},e.getSizeCont=function(t){var n=t.sz,i=e.marketStore,r=i.instType,a=i.instId,o=e.calcProfitPrice;return(0,U.J0)({instType:r,instId:a,price:o,rate:1,size:n,toCont:!0})},e.getSizeValue=function(t){var n=t.sz,i=e.marketStore,r=i.instType,a=i.instId,o=e.calcProfitPrice;return(0,U.J0)({instType:r,instId:a,price:o,size:n,toCont:!1})},(0,E.makeObservable)(e,{enableMultiMode:E.observable,mode:E.observable,enableSettingModeSwitch:E.observable,marketStore:E.observable.ref,px:E.observable,szCont:E.observable,extraParams:E.observable.ref,formType:E.observable,showChgInput:E.observable,hideOrdInput:E.observable,dispPx:E.computed,sz:E.computed,dispSz:E.computed,modeTextObj:E.computed,orderSide:E.computed,calcProfitPrice:E.computed,hasLastPx:E.computed,hasMarkPx:E.computed,futuresTriggerOptions:E.computed,actualPx:E.computed,szUnitAndDig:E.computed,contConfig:E.computed}),e}return(0,N.A)(t,e),(0,T.A)(t,[{key:"modeTextObj",get:function(){return this.mode===C.g.OCO?{text:(0,p.s3)("perp_function_item_oco_tpsl"),tips:(0,p.s3)("trade_tpsl_tooltips_desc_oco_tpsl")}:this.mode===C.g.MULTI?{text:(0,p.s3)("perp_function_item_tps_sl"),tips:(0,p.s3)("trade_tpsl_tooltips_desc_split_tp_sl")}:{}}},{key:"sz",get:function(){return this.getSizeValue({sz:this.szCont})}},{key:"szUnitAndDig",get:function(){var e=this.marketStore,t=e.instType,n=e.instId,i=F.A.configs[t][n].unitName,r=(0,B.bizSizeUnit)({instType:t,instId:n,unitName:i});return{name:r.unitName,digit:r.sizeDig}}},{key:"contConfig",get:function(){var e=this.marketStore,t=e.instType,n=e.instId;return{sheetDig:F.A.configs[t][n].sheetDig}}},{key:"dispSz",get:function(){var e=this.marketStore,t=e.instType,n=e.instId,i=F.A.configs[t][n].unitName;return(0,B.bizThoSize)({instType:t,instId:n,decimal:W,size:this.szCont,price:this.calcProfitPrice,hasName:!0,unitName:i})}},{key:"dispPx",get:function(){if(this.pxType===C.IS.LIMIT_BBO)return(0,p.s3)("spot_placeorder_confirmation_price_bbo");if(this.pxType===C.IS.MARKET)return(0,p.s3)("spot_placeorder_modal_colbody_market");var e=this.extraParams.pxDig,t=this.marketStore,n=t.instId,i=t.instType;return(0,I.bizThoPrice)({instId:n,instType:i,price:this.px,digit:e})}},{key:"orderSide",get:function(){var e=this.extraParams.posSide;return this.formType===g.vF.OPEN_POS?e===D.bB.LONG?D.g2.BUY:D.g2.SELL:e===D.bB.LONG?D.g2.SELL:D.g2.BUY}},{key:"actualPx",get:function(){if((0,w._X)(this.px)){var e=this.extraParams.posSide,t=this.marketStore.ticker,n=t.bidPx,i=t.askPx;return e===D.bB.LONG?i:n}return this.px}},{key:"calcProfitPrice",get:function(){return this.formType===g.vF.ORDER?this.actualPx:this.marketStore.ticker.last}},{key:"hasLastPx",get:function(){return!!this.marketStore.ticker.last}},{key:"hasMarkPx",get:function(){return!!this.marketStore.markPrice}},{key:"hasIndexPx",get:function(){return!!this.marketStore.indexPrice}},{key:"futuresTriggerOptions",get:function(){return[{value:z,label:(0,p.s3)("spot_placeorder_input_dropdown_last_price"),disabled:!this.hasLastPx},{value:Y,label:(0,p.s3)("spot_placeorder_input_dropdown_mark_price"),disabled:!this.hasMarkPx},{value:j,label:(0,p.s3)("spot_placeorder_input_dropdown_index_price"),disabled:this.formType===g.vF.ORDER&&!this.hasIndexPx}]}},{key:"getCalcCommonParams",value:function(e){var t=e.sz,n=this.actualPx,r=this.marketStore,a=r.instType,o=r.instId,s=this.extraParams,l=s.posSide,u=s.lever,c=s.pxDig,d=s.profitDig,h=s.ccy,v=s.pos,f=s.mgnMode,_=s.liab,p=s.interest,m=s.margin,A=s.isMarginBase,y=s.isMarginQuote,b=s.isTotal,T=F.A.insts[a][o]||{},E=T.ctType,S=void 0===E?"":E,x=T.ctVal,L=void 0===x?"":x,C=(0,w.TY)(a),O=C.isFuturesOrSwap,k=C.isMargin,N={instType:a,posSide:l,side:l===D.bB.LONG?D.g2.BUY:D.g2.SELL,baseDig:d,priceDig:c,lever:u,avgPx:n,size:t,isTotal:b};return O&&(N=(0,i.A)((0,i.A)({},N),{},{ctType:S,ctVal:L,currencyRate:(0,M.Mt)({instType:a,ctType:S})})),k&&(N=(0,i.A)((0,i.A)({},N),{},{ccy:h,instId:o,pos:v,mgnMode:f,liab:_,interest:p,margin:m,isAttach:this.formType===g.vF.ORDER,isMarginBase:A,isMarginQuote:y,isTotal:b})),N}}])}(P.A);var V=n(80706);const X="index_modeContainer__Ya9HE",G="index_modeSwitch__g3MLv",q="index_switchIcon__OLbLw";var J=["initialValues"],K=o().lazy((function(){return Promise.all([n.e("vendors-node_modules_ok_okd_components_Slider_index_js"),n.e("vendors-node_modules_ok_trade-common_dist_view_TpSl_TpSlInputs_components_Inputs_index_js"),n.e("node_modules_ok_trade-common_dist_view_TpSl_TpSlInputs_containers_OCO_index_js-node_modules_o-d9f2f4")]).then(n.bind(n,82241))})),Z=o().lazy((function(){return Promise.all([n.e("vendors-node_modules_ok_okd_components_Slider_index_js"),n.e("vendors-node_modules_ok_okd_components_Table_index_js"),n.e("vendors-node_modules_ok_trade-common_dist_view_TpSl_TpSlInputs_components_Inputs_index_js"),n.e("vendors-node_modules_ok_trade-common_dist_view_TpSl_TpSlInputs_containers_Multi_index_js-node-506778")]).then(n.bind(n,28170))})),Q=function(e,t){var n=e.initialValues,o=(0,u.A)(e,J),s=(0,a.useState)((function(){var e=new H;return new O(e)})),c=(0,l.A)(s,1)[0];(0,a.useImperativeHandle)(t,(function(){return c})),(0,a.useEffect)((function(){c.updateStoreFromProps(o)}),[c,o]),(0,a.useEffect)((function(){c.init(n)}),[c]),(0,a.useEffect)((function(){c.updateInitialValuesByMode({mode:o.mode,initialValues:n})}),[c,o.mode]);var h=c.store,A=h.formType,y=h.enableMultiMode,b=h.mode,T=h.modeTextObj,E=h.ocoValues,S=h.multiValues;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{when:A===g.vF.ORDER&&y,children:(0,r.jsxs)("div",{className:X,children:[(0,r.jsx)("span",{className:m.A.textLight,children:(0,p.s3)("perp_function_label_mode")}),(0,r.jsxs)("span",{className:d()(G,m.A.textAmplifed),children:[(0,r.jsx)(_.A,{className:"tc-has-tooltip",description:T.tips,children:T.text}),(0,r.jsx)(v.A,{className:d()("okx-trading-exchange-1",q),onClick:c.switchMode})]})]})}),(0,r.jsxs)(V.K,{value:{action:c,store:c.store},children:[(0,r.jsx)(f.A,{when:b===C.g.OCO,children:(0,r.jsx)(a.Suspense,{children:(0,r.jsx)(K,(0,i.A)((0,i.A)({},o),{},{initialValues:E||n,onChange:c.onChange,onBlur:c.onBlur}))})}),(0,r.jsx)(f.A,{when:b===C.g.MULTI,children:(0,r.jsx)(a.Suspense,{children:(0,r.jsx)(Z,(0,i.A)((0,i.A)({},o),{},{initialValues:S||n,onChange:c.onChange,onBlur:c.onBlur}))})})]})]})};const $=(0,a.memo)((0,h.observer)((0,a.forwardRef)(Q)),(function(e,t){return Object.keys(e).every((function(n){return"initialValues"===n||e[n]===t[n]}))}));var ee=(0,a.forwardRef)((function(e,t){return(0,r.jsx)(s.A,{normalCsr:!0,children:(0,r.jsx)($,(0,i.A)({ref:t},e))})}));ee.PX_TYPE=C.IS;const te=ee},58217:(e,t,n)=>{"use strict";n.d(t,{Dh:()=>l,IS:()=>u,IZ:()=>o,Wu:()=>s,Yo:()=>a,b5:()=>h,cY:()=>v,qi:()=>c,vF:()=>d});var i=n(44939),r=n(71491),a=-1,o={CONDITION:"condition",LIMIT:"limit"},s={SINGLE:"single",DOUBLE:"double"},l=["triggerPx","ordPx"],u={LIMIT:"limit",LIMIT_BBO:"limit_bbo",MARKET:"market",TRIGGER_LIMIT:"trigger_limit",TRIGGER_MARKET:"trigger_market"},c={OPEN_PX:"1",BREAK_EVEN_PX:"2"},d={OPEN_POS:"open_pos",CLOSE_POS:"close_pos",ORDER:"order"},h={0:(0,i.z)("0"),25:"",50:"",75:"",100:r._u.showTruncation(100,0,{style:"percent"})},v="%"},86771:(e,t,n)=>{"use strict";n.d(t,{J0:()=>f,P4:()=>u,R_:()=>h,SP:()=>c,YS:()=>d,dB:()=>v});var i=n(89379),r=n(5544),a=n(68448),o=n(95586),s=n(89569),l=n(58217),u={settingMode:"tpSettingMode",checked:"tpIsChecked",triggerPxType:"tpTriggerPxType",triggerPx:"tpTriggerPx",ordPx:"tpOrdPx",ordKind:"tpOrdKind",profit:"tpProfit",profitRatio:"tpProfitRatio"},c={settingMode:"slSettingMode",checked:"slIsChecked",triggerPxType:"slTriggerPxType",triggerPx:"slTriggerPx",ordPx:"slOrdPx",profit:"slProfit",profitRatio:"slProfitRatio"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tpOrdPx:l.Yo,slOrdPx:l.Yo},n=e.tpSettingMode,i=e.tpIsChecked,r=e.tpOrdPx,a=e.tpOrdKind,o=e.tpTriggerPx,u=e.tpTriggerPxType,c=e.tpProfit,d=e.tpProfitRatio,h=e.slSettingMode,v=e.slIsChecked,f=e.slOrdPx,_=e.slTriggerPx,p=e.slTriggerPxType,g=e.slProfit,m=e.slProfitRatio,A=e.amendPxOnTriggerType;return{tpValues:(0,s.o$)({settingMode:n,checked:i,ordPx:r||t.tpOrdPx,ordKind:a,triggerPx:o,triggerPxType:u,profit:c,profitRatio:d}),slValues:(0,s.o$)({settingMode:h,checked:v,ordPx:f||t.slOrdPx,triggerPx:_,triggerPxType:p,profit:g,profitRatio:m,amendPxOnTriggerType:A})}},h=function(e,t){var n={};return Object.entries(e).forEach((function(e){var i=(0,r.A)(e,2),a=i[0],o=i[1];n[t[a]||a]=o})),n},v=function(e,t){var n=h(e,u),r=h(t,c);return(0,i.A)((0,i.A)({},n),r)},f=function(e){var t=e.instType,n=e.instId,i=e.price,r=e.size,s=e.rate,l=e.toCont,u=void 0===l||l;if(!i||!r)return"";var c={instId:n,instType:t,size:r,price:i,decimal:a.SC.UP};return s&&(c.rate=s),u?(0,o.bizAccSize)(c):(0,o.bizCvtSize)({instId:n,instType:t,size:r,price:i,decimal:a.SC.DOWN})}},76129:(e,t,n)=>{"use strict";n.d(t,{I_:()=>A,TY:()=>g,_X:()=>m});var i=n(64467),r=n(10305),a=n(34653),o=n(79428),s=n(83078),l=n(27851),u=(o.bB.LONG,o.bB.SHORT,r.gy.MARGIN),c=r.gy.OPTION,d=r.gy.FUTURES,h=r.gy.SWAP,v=r.gy.SPOT,f=(a.fr.LONG_SHORT_MODE,o.zS.INDEX),_=o.zS.LAST,p=o.zS.MARK,g=function(e){return{isMargin:e===u,isOption:e===c,isFutures:e===d,isSwap:e===h,isFuturesOrSwap:e===d||e===h,isDerivatives:e===d||e===h||e===c,isSpot:e===v,isMarginOrSpot:e===v||e===u}},m=function(e){return Number(e)===s.gH};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return(0,i.A)((0,i.A)((0,i.A)({},f,(0,l.s3)("spot_placeorder_input_dropdown_index_price")),_,(0,l.s3)("spot_placeorder_input_dropdown_last_price")),p,(0,l.s3)("spot_placeorder_input_dropdown_mark_price"))[e]}},41562:(e,t,n)=>{"use strict";var i=n(97359),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,o,s,l,u,c=!1;t||(t={}),n=t.debug||!1;try{if(o=i(),s=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(i){if(i.stopPropagation(),t.format)if(i.preventDefault(),"undefined"===typeof i.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=r[t.format]||r.default;window.clipboardData.setData(a,e)}else i.clipboardData.clearData(),i.clipboardData.setData(t.format,e);t.onCopy&&(i.preventDefault(),t.onCopy(i.clipboardData))})),document.body.appendChild(u),s.selectNodeContents(u),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),o()}return c}},55195:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Attribute=void 0;var a=function(){return r((function e(t,n,r,a){i(this,e),this.name=t,this.modelName=n,this.defaultValue=r,this.alwaysWriteJson=a,this.required=!1,this.fixed=!1,this.type="any"}),[{key:"setType",value:function(e){return this.type=e,this}},{key:"setRequired",value:function(){return this.required=!0,this}},{key:"setFixed",value:function(){return this.fixed=!0,this}}])}();t.Attribute=a,a.NUMBER="number",a.STRING="string",a.BOOLEAN="boolean"},91117:(e,t,n)=>{"use strict";var i=n(50883).default,r=n(17383).default,a=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeDefinitions=void 0;var o=n(55195),s=function(){return a((function e(){r(this,e),this.attributes=[],this.nameToAttribute={}}),[{key:"addWithAll",value:function(e,t,n,i){var r=new o.Attribute(e,t,n,i);return this.attributes.push(r),this.nameToAttribute[e]=r,r}},{key:"addInherited",value:function(e,t){return this.addWithAll(e,t,void 0,!1)}},{key:"add",value:function(e,t,n){return this.addWithAll(e,void 0,t,n)}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getModelName",value:function(e){var t=this.nameToAttribute[e];if(void 0!==t)return t.modelName}},{key:"toJson",value:function(e,t){var n,r=i(this.attributes);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=t[a.name];(a.alwaysWriteJson||o!==a.defaultValue)&&(e[a.name]=o)}}catch(s){r.e(s)}finally{r.f()}}},{key:"fromJson",value:function(e,t){var n,r=i(this.attributes);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=e[a.name];t[a.name]=void 0===o?a.defaultValue:o}}catch(s){r.e(s)}finally{r.f()}}},{key:"update",value:function(e,t){var n,r=i(this.attributes);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e.hasOwnProperty(a.name)){var o=e[a.name];void 0===o?delete t[a.name]:t[a.name]=o}}}catch(s){r.e(s)}finally{r.f()}}},{key:"setDefaults",value:function(e){var t,n=i(this.attributes);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.name]=r.defaultValue}}catch(a){n.e(a)}finally{n.f()}}},{key:"toTypescriptInterface",value:function(e,t){var n=[],i=this.attributes.sort((function(e,t){return e.name.localeCompare(t.name)}));n.push("export interface I"+e+"Attributes {");for(var r=0;r<i.length;r++){var a=i[r],o=a.type,s=void 0,l=a,u=void 0;void 0!==l.defaultValue?s=l.defaultValue:void 0!==l.modelName&&void 0!==t&&void 0!==t.nameToAttribute[l.modelName]&&(u=l.modelName,s=(l=t.nameToAttribute[l.modelName]).defaultValue,o=l.type);var c=JSON.stringify(s),d=l.required||l.fixed?"":"?";if(a.fixed)n.push("\t"+a.name+": "+c+";");else{var h=(void 0!==s?"default: "+c:"")+(void 0!==u?" - inherited from global "+u:"");n.push("\t"+a.name+d+": "+o+";"+(h.length>0?" // "+h:""))}}return n.push("}"),n.join("\n")}}])}();t.AttributeDefinitions=s},55091:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DockLocation=void 0;var a=n(75065),o=n(93205),s=function(){function e(t,n,r){i(this,e),this._name=t,this._orientation=n,this._indexPlus=r,e.values[this._name]=this}return r(e,[{key:"getName",value:function(){return this._name}},{key:"getOrientation",value:function(){return this._orientation}},{key:"getDockRect",value:function(t){return this===e.TOP?new o.Rect(t.x,t.y,t.width,t.height/2):this===e.BOTTOM?new o.Rect(t.x,t.getBottom()-t.height/2,t.width,t.height/2):this===e.LEFT?new o.Rect(t.x,t.y,t.width/2,t.height):this===e.RIGHT?new o.Rect(t.getRight()-t.width/2,t.y,t.width/2,t.height):t.clone()}},{key:"split",value:function(t,n){return this===e.TOP?{start:new o.Rect(t.x,t.y,t.width,n),end:new o.Rect(t.x,t.y+n,t.width,t.height-n)}:this===e.LEFT?{start:new o.Rect(t.x,t.y,n,t.height),end:new o.Rect(t.x+n,t.y,t.width-n,t.height)}:this===e.RIGHT?{start:new o.Rect(t.getRight()-n,t.y,n,t.height),end:new o.Rect(t.x,t.y,t.width-n,t.height)}:{start:new o.Rect(t.x,t.getBottom()-n,t.width,n),end:new o.Rect(t.x,t.y,t.width,t.height-n)}}},{key:"reflect",value:function(){return this===e.TOP?e.BOTTOM:this===e.LEFT?e.RIGHT:this===e.RIGHT?e.LEFT:e.TOP}},{key:"toString",value:function(){return"(DockLocation: name="+this._name+", orientation="+this._orientation+")"}}],[{key:"getByName",value:function(t){return e.values[t]}},{key:"getLocation",value:function(t,n,i){if(n=(n-t.x)/t.width,i=(i-t.y)/t.height,n>=.25&&n<.75&&i>=.25&&i<.75)return e.CENTER;var r=i>=1-n;return i>=n?r?e.BOTTOM:e.LEFT:r?e.RIGHT:e.TOP}}])}();t.DockLocation=s,s.values={},s.TOP=new s("top",a.Orientation.VERT,0),s.BOTTOM=new s("bottom",a.Orientation.VERT,1),s.LEFT=new s("left",a.Orientation.HORZ,0),s.RIGHT=new s("right",a.Orientation.HORZ,1),s.CENTER=new s("center",a.Orientation.VERT,0)},55760:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DragDrop=void 0;var a=n(93205),o=!("undefined"===typeof window||!window.document||!window.document.createElement),s=function(){return r((function e(){i(this,e),this._manualGlassManagement=!1,this._startX=0,this._startY=0,this._dragDepth=0,this._glassShowing=!1,this._dragging=!1,this._active=!1,o&&(this._glass=document.createElement("div"),this._glass.style.zIndex="998",this._glass.style.backgroundColor="transparent",this._glass.style.outline="none"),this._defaultGlassCursor="default",this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onKeyPress=this._onKeyPress.bind(this),this._onDragCancel=this._onDragCancel.bind(this),this._onDragEnter=this._onDragEnter.bind(this),this._onDragLeave=this._onDragLeave.bind(this),this.resizeGlass=this.resizeGlass.bind(this),this._lastClick=0,this._clickX=0,this._clickY=0}),[{key:"addGlass",value:function(e){var t;this._glassShowing?this._manualGlassManagement=!0:(this._document||(this._document=window.document),this._rootElement||(this._rootElement=this._document.body),this.resizeGlass(),null===(t=this._document.defaultView)||void 0===t||t.addEventListener("resize",this.resizeGlass),this._document.body.appendChild(this._glass),this._glass.tabIndex=-1,this._glass.focus(),this._glass.addEventListener("keydown",this._onKeyPress),this._glass.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._glass.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._glass.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._glassShowing=!0,this._fDragCancel=e,this._manualGlassManagement=!1)}},{key:"resizeGlass",value:function(){a.Rect.fromElement(this._rootElement).positionElement(this._glass,"fixed")}},{key:"hideGlass",value:function(){var e;this._glassShowing&&(this._document.body.removeChild(this._glass),null===(e=this._document.defaultView)||void 0===e||e.removeEventListener("resize",this.resizeGlass),this._glassShowing=!1,this._document=void 0,this._rootElement=void 0,this.setGlassCursorOverride(void 0))}},{key:"_updateGlassCursor",value:function(){var e;this._glass.style.cursor=null!==(e=this._glassCursorOverride)&&void 0!==e?e:this._defaultGlassCursor}},{key:"_setDefaultGlassCursor",value:function(e){this._defaultGlassCursor=e,this._updateGlassCursor()}},{key:"setGlassCursorOverride",value:function(e){this._glassCursorOverride=e,this._updateGlassCursor()}},{key:"startDrag",value:function(e,t,n,i,r,a,o,s,l){if(!(e&&this._lastEvent&&this._lastEvent.type.startsWith("touch")&&e.type.startsWith("mouse")&&e.timeStamp-this._lastEvent.timeStamp<500)&&!this._dragging){this._lastEvent=e,this._document=s||window.document,this._rootElement=l||this._document.body;var u=this._getLocationEvent(e);this.addGlass(r),e?(this._startX=u.clientX,this._startY=u.clientY,window.matchMedia&&!window.matchMedia("(pointer: fine)").matches||this._setDefaultGlassCursor(getComputedStyle(e.target).cursor),this._stopPropagation(e),this._preventDefault(e)):(this._startX=0,this._startY=0,this._setDefaultGlassCursor("default")),this._dragging=!1,this._fDragStart=t,this._fDragMove=n,this._fDragEnd=i,this._fDragCancel=r,this._fClick=a,this._fDblClick=o,this._active=!0,"dragenter"===(null===e||void 0===e?void 0:e.type)?(this._dragDepth=1,this._rootElement.addEventListener("dragenter",this._onDragEnter,{passive:!1}),this._rootElement.addEventListener("dragover",this._onMouseMove,{passive:!1}),this._rootElement.addEventListener("dragleave",this._onDragLeave,{passive:!1}),this._document.addEventListener("dragend",this._onDragCancel,{passive:!1}),this._document.addEventListener("drop",this._onMouseUp,{passive:!1})):(this._document.addEventListener("mouseup",this._onMouseUp,{passive:!1}),this._document.addEventListener("mousemove",this._onMouseMove,{passive:!1}),this._document.addEventListener("touchend",this._onMouseUp,{passive:!1}),this._document.addEventListener("touchmove",this._onMouseMove,{passive:!1}))}}},{key:"isDragging",value:function(){return this._dragging}},{key:"isActive",value:function(){return this._active}},{key:"toString",value:function(){return"(DragDrop: startX="+this._startX+", startY="+this._startY+", dragging="+this._dragging+")"}},{key:"_onKeyPress",value:function(e){"Escape"===e.code&&this._onDragCancel()}},{key:"_onDragCancel",value:function(){this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this.hideGlass(),void 0!==this._fDragCancel&&this._fDragCancel(this._dragging),this._dragging=!1,this._active=!1}},{key:"_getLocationEvent",value:function(e){var t=e;return e&&e.touches&&(t=e.touches[0]),t}},{key:"_getLocationEventEnd",value:function(e){var t=e;return e.changedTouches&&(t=e.changedTouches[0]),t}},{key:"_stopPropagation",value:function(e){e.stopPropagation&&e.stopPropagation()}},{key:"_preventDefault",value:function(e){return e.preventDefault&&e.cancelable&&e.preventDefault(),e}},{key:"_onMouseMove",value:function(e){this._lastEvent=e;var t=this._getLocationEvent(e);return this._stopPropagation(e),this._preventDefault(e),!this._dragging&&(Math.abs(this._startX-t.clientX)>5||Math.abs(this._startY-t.clientY)>5)&&(this._dragging=!0,this._fDragStart&&(this._setDefaultGlassCursor("move"),this._dragging=this._fDragStart({clientX:this._startX,clientY:this._startY}))),this._dragging&&this._fDragMove&&this._fDragMove(t),!1}},{key:"_onMouseUp",value:function(e){this._lastEvent=e;var t=this._getLocationEventEnd(e);if(this._stopPropagation(e),this._preventDefault(e),this._active=!1,this._rootElement.removeEventListener("dragenter",this._onDragEnter),this._rootElement.removeEventListener("dragover",this._onMouseMove),this._rootElement.removeEventListener("dragleave",this._onDragLeave),this._document.removeEventListener("dragend",this._onDragCancel),this._document.removeEventListener("drop",this._onMouseUp),this._document.removeEventListener("mousemove",this._onMouseMove),this._document.removeEventListener("mouseup",this._onMouseUp),this._document.removeEventListener("touchend",this._onMouseUp),this._document.removeEventListener("touchmove",this._onMouseMove),this._manualGlassManagement||this.hideGlass(),this._dragging)this._dragging=!1,this._fDragEnd&&this._fDragEnd(e);else if(this._fDragCancel&&this._fDragCancel(this._dragging),Math.abs(this._startX-t.clientX)<=5&&Math.abs(this._startY-t.clientY)<=5){var n=!1,i=(new Date).getTime();Math.abs(this._clickX-t.clientX)<=5&&Math.abs(this._clickY-t.clientY)<=5&&i-this._lastClick<500&&this._fDblClick&&(this._fDblClick(e),n=!0),!n&&this._fClick&&this._fClick(e),this._lastClick=i,this._clickX=t.clientX,this._clickY=t.clientY}return!1}},{key:"_onDragEnter",value:function(e){return this._preventDefault(e),this._stopPropagation(e),this._dragDepth++,!1}},{key:"_onDragLeave",value:function(e){return this._preventDefault(e),this._stopPropagation(e),this._dragDepth--,this._dragDepth<=0&&this._onDragCancel(),!1}}])}();t.DragDrop=s,s.instance=new s},75946:(e,t,n)=>{"use strict";var i=n(34579).default,r=n(17383).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DropInfo=void 0;var a=i((function e(t,n,i,a,o){r(this,e),this.node=t,this.rect=n,this.location=i,this.index=a,this.className=o}));t.DropInfo=a},86033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.I18nLabel=void 0,function(e){e.Close_Tab="Close",e.Close_Tabset="Close tabset",e.Move_Tab="Move: ",e.Move_Tabset="Move tabset",e.Maximize="Maximize tabset",e.Restore="Restore tabset",e.Float_Tab="Show selected tab in floating window",e.Overflow_Menu_Tooltip="Hidden tabs",e.Floating_Window_Message="This panel is shown in a floating window",e.Floating_Window_Show_Window="Show window",e.Floating_Window_Dock_Window="Dock window",e.Error_rendering_component="Error rendering component"}(t.I18nLabel||(t.I18nLabel={}))},75065:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Orientation=void 0;var a=function(){function e(t){i(this,e),this._name=t}return r(e,[{key:"getName",value:function(){return this._name}},{key:"toString",value:function(){return this._name}}],[{key:"flip",value:function(t){return t===e.HORZ?e.VERT:e.HORZ}}])}();t.Orientation=a,a.HORZ=new a("horz"),a.VERT=new a("vert")},17154:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showPopup=void 0;var i=n(41594),r=n(55760),a=n(29894),o=n(78159);t.showPopup=function(e,t,n,o,l,u){var c,d=o.getRootDiv(),h=o.getClassName,v=e.ownerDocument,f=e.getBoundingClientRect(),_=null!==(c=null===d||void 0===d?void 0:d.getBoundingClientRect())&&void 0!==c?c:new DOMRect(0,0,100,100),p=v.createElement("div");p.className=h(a.CLASSES.FLEXLAYOUT__POPUP_MENU_CONTAINER),f.left<_.left+_.width/2?p.style.left=f.left-_.left+"px":p.style.right=_.right-f.right+"px",f.top<_.top+_.height/2?p.style.top=f.top-_.top+"px":p.style.bottom=_.bottom-f.bottom+"px",r.DragDrop.instance.addGlass((function(){return g()})),r.DragDrop.instance.setGlassCursorOverride("default"),d&&d.appendChild(p);var g=function(){o.hidePortal(),r.DragDrop.instance.hideGlass(),d&&d.removeChild(p),p.removeEventListener("mousedown",m),v.removeEventListener("mousedown",A)},m=function(e){e.stopPropagation()},A=function(e){g()};p.addEventListener("mousedown",m),v.addEventListener("mousedown",A),o.showPortal(i.createElement(s,{currentDocument:v,onSelect:n,onHide:g,items:t,classNameMapper:h,layout:o,iconFactory:l,titleFactory:u}),p)};var s=function(e){var t=e.items,n=e.onHide,r=e.onSelect,s=e.classNameMapper,l=e.layout,u=e.iconFactory,c=e.titleFactory,d=t.map((function(e,t){return i.createElement("div",{key:e.index,className:s(a.CLASSES.FLEXLAYOUT__POPUP_MENU_ITEM),"data-layout-path":"/popup-menu/tb"+t,onClick:function(t){return function(e,t){r(e),n(),t.stopPropagation()}(e,t)},title:e.node.getHelpText()},e.node.getModel().isLegacyOverflowMenu()?e.node._getNameForOverflowMenu():i.createElement(o.TabButtonStamp,{node:e.node,layout:l,iconFactory:u,titleFactory:c}))}));return i.createElement("div",{className:s(a.CLASSES.FLEXLAYOUT__POPUP_MENU),"data-layout-path":"/popup-menu"},d)}},93205:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=void 0;var a=n(75065),o=function(){function e(t,n,r,a){i(this,e),this.x=t,this.y=n,this.width=r,this.height=a}return r(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"equals",value:function(e){return this.x===(null===e||void 0===e?void 0:e.x)&&this.y===(null===e||void 0===e?void 0:e.y)&&this.width===(null===e||void 0===e?void 0:e.width)&&this.height===(null===e||void 0===e?void 0:e.height)}},{key:"getBottom",value:function(){return this.y+this.height}},{key:"getRight",value:function(){return this.x+this.width}},{key:"getCenter",value:function(){return{x:this.x+this.width/2,y:this.y+this.height/2}}},{key:"positionElement",value:function(e,t){this.styleWithPosition(e.style,t)}},{key:"styleWithPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"absolute";return e.left=this.x+"px",e.top=this.y+"px",e.width=Math.max(0,this.width)+"px",e.height=Math.max(0,this.height)+"px",e.position=t,e}},{key:"contains",value:function(e,t){return this.x<=e&&e<=this.getRight()&&this.y<=t&&t<=this.getBottom()}},{key:"removeInsets",value:function(t){return new e(this.x+t.left,this.y+t.top,Math.max(0,this.width-t.left-t.right),Math.max(0,this.height-t.top-t.bottom))}},{key:"centerInRect",value:function(e){this.x=(e.width-this.width)/2,this.y=(e.height-this.height)/2}},{key:"_getSize",value:function(e){var t=this.width;return e===a.Orientation.VERT&&(t=this.height),t}},{key:"toString",value:function(){return"(Rect: x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}],[{key:"empty",value:function(){return new e(0,0,0,0)}},{key:"fromElement",value:function(t){var n=t.getBoundingClientRect();return new e(n.x,n.y,n.width,n.height)}}])}();t.Rect=o},29894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLASSES=void 0,function(e){e.FLEXLAYOUT__BORDER="flexlayout__border",e.FLEXLAYOUT__BORDER_="flexlayout__border_",e.FLEXLAYOUT__BORDER_BUTTON="flexlayout__border_button",e.FLEXLAYOUT__BORDER_BUTTON_="flexlayout__border_button_",e.FLEXLAYOUT__BORDER_BUTTON_CONTENT="flexlayout__border_button_content",e.FLEXLAYOUT__BORDER_BUTTON_LEADING="flexlayout__border_button_leading",e.FLEXLAYOUT__BORDER_BUTTON_TRAILING="flexlayout__border_button_trailing",e.FLEXLAYOUT__BORDER_BUTTON__SELECTED="flexlayout__border_button--selected",e.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED="flexlayout__border_button--unselected",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW="flexlayout__border_toolbar_button_overflow",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_="flexlayout__border_toolbar_button_overflow_",e.FLEXLAYOUT__BORDER_INNER="flexlayout__border_inner",e.FLEXLAYOUT__BORDER_INNER_="flexlayout__border_inner_",e.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER="flexlayout__border_inner_tab_container",e.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_="flexlayout__border_inner_tab_container_",e.FLEXLAYOUT__BORDER_TAB_DIVIDER="flexlayout__border_tab_divider",e.FLEXLAYOUT__BORDER_SIZER="flexlayout__border_sizer",e.FLEXLAYOUT__BORDER_TOOLBAR="flexlayout__border_toolbar",e.FLEXLAYOUT__BORDER_TOOLBAR_="flexlayout__border_toolbar_",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON="flexlayout__border_toolbar_button",e.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT="flexlayout__border_toolbar_button-float",e.FLEXLAYOUT__DRAG_RECT="flexlayout__drag_rect",e.FLEXLAYOUT__EDGE_RECT="flexlayout__edge_rect",e.FLEXLAYOUT__EDGE_RECT_TOP="flexlayout__edge_rect_top",e.FLEXLAYOUT__EDGE_RECT_LEFT="flexlayout__edge_rect_left",e.FLEXLAYOUT__EDGE_RECT_BOTTOM="flexlayout__edge_rect_bottom",e.FLEXLAYOUT__EDGE_RECT_RIGHT="flexlayout__edge_rect_right",e.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER="flexlayout__error_boundary_container",e.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT="flexlayout__error_boundary_content",e.FLEXLAYOUT__FLOATING_WINDOW_CONTENT="flexlayout__floating_window_content",e.FLEXLAYOUT__FLOATING_WINDOW_TAB="flexlayout__floating_window_tab",e.FLEXLAYOUT__LAYOUT="flexlayout__layout",e.FLEXLAYOUT__OUTLINE_RECT="flexlayout__outline_rect",e.FLEXLAYOUT__OUTLINE_RECT_EDGE="flexlayout__outline_rect_edge",e.FLEXLAYOUT__SPLITTER="flexlayout__splitter",e.FLEXLAYOUT__SPLITTER_EXTRA="flexlayout__splitter_extra",e.FLEXLAYOUT__SPLITTER_="flexlayout__splitter_",e.FLEXLAYOUT__SPLITTER_BORDER="flexlayout__splitter_border",e.FLEXLAYOUT__SPLITTER_DRAG="flexlayout__splitter_drag",e.FLEXLAYOUT__TAB="flexlayout__tab",e.FLEXLAYOUT__TABSET="flexlayout__tabset",e.FLEXLAYOUT__TABSET_HEADER="flexlayout__tabset_header",e.FLEXLAYOUT__TABSET_HEADER_SIZER="flexlayout__tabset_header_sizer",e.FLEXLAYOUT__TABSET_HEADER_CONTENT="flexlayout__tabset_header_content",e.FLEXLAYOUT__TABSET_MAXIMIZED="flexlayout__tabset-maximized",e.FLEXLAYOUT__TABSET_SELECTED="flexlayout__tabset-selected",e.FLEXLAYOUT__TABSET_SIZER="flexlayout__tabset_sizer",e.FLEXLAYOUT__TABSET_TAB_DIVIDER="flexlayout__tabset_tab_divider",e.FLEXLAYOUT__TABSET_CONTENT="flexlayout__tabset_content",e.FLEXLAYOUT__TABSET_TABBAR_INNER="flexlayout__tabset_tabbar_inner",e.FLEXLAYOUT__TABSET_TABBAR_INNER_="flexlayout__tabset_tabbar_inner_",e.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER="flexlayout__tabset_tabbar_inner_tab_container",e.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_="flexlayout__tabset_tabbar_inner_tab_container_",e.FLEXLAYOUT__TABSET_TABBAR_OUTER="flexlayout__tabset_tabbar_outer",e.FLEXLAYOUT__TABSET_TABBAR_OUTER_="flexlayout__tabset_tabbar_outer_",e.FLEXLAYOUT__TAB_BORDER="flexlayout__tab_border",e.FLEXLAYOUT__TAB_BORDER_="flexlayout__tab_border_",e.FLEXLAYOUT__TAB_BUTTON="flexlayout__tab_button",e.FLEXLAYOUT__TAB_BUTTON_STRETCH="flexlayout__tab_button_stretch",e.FLEXLAYOUT__TAB_BUTTON_CONTENT="flexlayout__tab_button_content",e.FLEXLAYOUT__TAB_BUTTON_LEADING="flexlayout__tab_button_leading",e.FLEXLAYOUT__TAB_BUTTON_OVERFLOW="flexlayout__tab_button_overflow",e.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT="flexlayout__tab_button_overflow_count",e.FLEXLAYOUT__TAB_BUTTON_TEXTBOX="flexlayout__tab_button_textbox",e.FLEXLAYOUT__TAB_BUTTON_TRAILING="flexlayout__tab_button_trailing",e.FLEXLAYOUT__TAB_BUTTON_STAMP="flexlayout__tab_button_stamp",e.FLEXLAYOUT__TAB_FLOATING="flexlayout__tab_floating",e.FLEXLAYOUT__TAB_FLOATING_INNER="flexlayout__tab_floating_inner",e.FLEXLAYOUT__TAB_TOOLBAR="flexlayout__tab_toolbar",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON="flexlayout__tab_toolbar_button",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_="flexlayout__tab_toolbar_button-",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT="flexlayout__tab_toolbar_button-float",e.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER="flexlayout__tab_toolbar_sticky_buttons_container",e.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE="flexlayout__tab_toolbar_button-close",e.FLEXLAYOUT__POPUP_MENU_CONTAINER="flexlayout__popup_menu_container",e.FLEXLAYOUT__POPUP_MENU_ITEM="flexlayout__popup_menu_item",e.FLEXLAYOUT__POPUP_MENU="flexlayout__popup_menu"}(t.CLASSES||(t.CLASSES={}))},62319:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(11511),t),r(n(17311),t),r(n(67866),t),r(n(59291),t),r(n(50527),t),r(n(28500),t),r(n(75935),t),r(n(8810),t),r(n(8515),t),r(n(44180),t),r(n(25121),t),r(n(40493),t),r(n(20134),t),r(n(87786),t),r(n(65316),t),r(n(55091),t),r(n(55760),t),r(n(75946),t),r(n(86033),t),r(n(75065),t),r(n(93205),t),r(n(29894),t)},17311:(e,t,n)=>{"use strict";var i=n(34579).default,r=n(17383).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var a=i((function e(t,n){r(this,e),this.type=t,this.data=n}));t.Action=a},67866:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=void 0;var a=n(17311),o=function(){function e(){i(this,e)}return r(e,null,[{key:"addNode",value:function(t,n,i,r,o){return new a.Action(e.ADD_NODE,{json:t,toNode:n,location:i.getName(),index:r,select:o})}},{key:"moveNode",value:function(t,n,i,r,o){return new a.Action(e.MOVE_NODE,{fromNode:t,toNode:n,location:i.getName(),index:r,select:o})}},{key:"deleteTab",value:function(t){return new a.Action(e.DELETE_TAB,{node:t})}},{key:"deleteTabset",value:function(t){return new a.Action(e.DELETE_TABSET,{node:t})}},{key:"renameTab",value:function(t,n){return new a.Action(e.RENAME_TAB,{node:t,text:n})}},{key:"selectTab",value:function(t){return new a.Action(e.SELECT_TAB,{tabNode:t})}},{key:"setActiveTabset",value:function(t){return new a.Action(e.SET_ACTIVE_TABSET,{tabsetNode:t})}},{key:"adjustSplit",value:function(t){var n=t.node1Id,i=t.node2Id;return new a.Action(e.ADJUST_SPLIT,{node1:n,weight1:t.weight1,pixelWidth1:t.pixelWidth1,node2:i,weight2:t.weight2,pixelWidth2:t.pixelWidth2})}},{key:"adjustBorderSplit",value:function(t,n){return new a.Action(e.ADJUST_BORDER_SPLIT,{node:t,pos:n})}},{key:"maximizeToggle",value:function(t){return new a.Action(e.MAXIMIZE_TOGGLE,{node:t})}},{key:"updateModelAttributes",value:function(t){return new a.Action(e.UPDATE_MODEL_ATTRIBUTES,{json:t})}},{key:"updateNodeAttributes",value:function(t,n){return new a.Action(e.UPDATE_NODE_ATTRIBUTES,{node:t,json:n})}},{key:"floatTab",value:function(t){return new a.Action(e.FLOAT_TAB,{node:t})}},{key:"unFloatTab",value:function(t){return new a.Action(e.UNFLOAT_TAB,{node:t})}}])}();t.Actions=o,o.ADD_NODE="FlexLayout_AddNode",o.MOVE_NODE="FlexLayout_MoveNode",o.DELETE_TAB="FlexLayout_DeleteTab",o.DELETE_TABSET="FlexLayout_DeleteTabset",o.RENAME_TAB="FlexLayout_RenameTab",o.SELECT_TAB="FlexLayout_SelectTab",o.SET_ACTIVE_TABSET="FlexLayout_SetActiveTabset",o.ADJUST_SPLIT="FlexLayout_AdjustSplit",o.ADJUST_BORDER_SPLIT="FlexLayout_AdjustBorderSplit",o.MAXIMIZE_TOGGLE="FlexLayout_MaximizeToggle",o.UPDATE_MODEL_ATTRIBUTES="FlexLayout_UpdateModelAttributes",o.UPDATE_NODE_ATTRIBUTES="FlexLayout_UpdateNodeAttributes",o.FLOAT_TAB="FlexLayout_FloatTab",o.UNFLOAT_TAB="FlexLayout_UnFloatTab"},59291:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default,a=n(18336).default,o=n(29511).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BorderNode=void 0;var s=n(55195),l=n(91117),u=n(55091),c=n(75946),d=n(75065),h=n(93205),v=n(29894),f=n(25121),_=n(20134),p=n(87786),g=n(79380),m=function(e){function t(e,n,r){var o;return i(this,t),(o=a(this,t,[r]))._adjustedSize=0,o._calculatedBorderBarSize=0,o._location=e,o._drawChildren=[],o._attributes.id="border_".concat(e.getName()),t._attributeDefinitions.fromJson(n,o._attributes),r._addNode(o),o}return o(t,e),r(t,[{key:"getLocation",value:function(){return this._location}},{key:"getTabHeaderRect",value:function(){return this._tabHeaderRect}},{key:"getRect",value:function(){return this._tabHeaderRect}},{key:"getContentRect",value:function(){return this._contentRect}},{key:"isEnableDrop",value:function(){return this._getAttr("enableDrop")}},{key:"isAutoSelectTab",value:function(e){return null==e&&(e=-1!==this.getSelected()),e?this._getAttr("autoSelectTabWhenOpen"):this._getAttr("autoSelectTabWhenClosed")}},{key:"getClassName",value:function(){return this._getAttr("className")}},{key:"calcBorderBarSize",value:function(e){var t=this._getAttr("barSize");this._calculatedBorderBarSize=0!==t?t:e.borderBarSize}},{key:"getBorderBarSize",value:function(){return this._calculatedBorderBarSize}},{key:"getSize",value:function(){var e=this._getAttr("size"),t=this.getSelected();if(-1===t)return e;var n=this._children[t],i=this._location._orientation===d.Orientation.HORZ?n._getAttr("borderWidth"):n._getAttr("borderHeight");return-1===i?e:i}},{key:"getMinSize",value:function(){return this._getAttr("minSize")}},{key:"getSelected",value:function(){return this._attributes.selected}},{key:"getSelectedNode",value:function(){if(-1!==this.getSelected())return this._children[this.getSelected()]}},{key:"getOrientation",value:function(){return this._location.getOrientation()}},{key:"getConfig",value:function(){return this._attributes.config}},{key:"isMaximized",value:function(){return!1}},{key:"isShowing",value:function(){return!!this._attributes.show&&(this._model._getShowHiddenBorder()===this._location||!this.isAutoHide()||0!==this._children.length)}},{key:"isAutoHide",value:function(){return this._getAttr("enableAutoHide")}},{key:"_setSelected",value:function(e){this._attributes.selected=e}},{key:"_setSize",value:function(e){var t=this.getSelected();if(-1===t)this._attributes.size=e;else{var n=this._children[t];-1===(this._location._orientation===d.Orientation.HORZ?n._getAttr("borderWidth"):n._getAttr("borderHeight"))?this._attributes.size=e:this._location._orientation===d.Orientation.HORZ?n._setBorderWidth(e):n._setBorderHeight(e)}}},{key:"_updateAttrs",value:function(e){t._attributeDefinitions.update(e,this._attributes)}},{key:"_getDrawChildren",value:function(){return this._drawChildren}},{key:"_setAdjustedSize",value:function(e){this._adjustedSize=e}},{key:"_getAdjustedSize",value:function(){return this._adjustedSize}},{key:"_layoutBorderOuter",value:function(e,t){this.calcBorderBarSize(t);var n=this._location.split(e,this.getBorderBarSize());return this._tabHeaderRect=n.start,n.end}},{key:"_layoutBorderInner",value:function(e,t){this._drawChildren=[];var n=this._location,i=n.split(e,this._adjustedSize+this._model.getSplitterSize()),r=n.reflect().split(i.start,this._model.getSplitterSize());this._contentRect=r.end;for(var a=0;a<this._children.length;a++){var o=this._children[a];o._layout(this._contentRect,t),o._setVisible(a===this.getSelected()),this._drawChildren.push(o)}if(-1===this.getSelected())return e;var s=new _.SplitterNode(this._model);return s._setParent(this),s._setRect(r.start),this._drawChildren.push(s),i.end}},{key:"_remove",value:function(e){var t=this._removeChild(e);-1!==this.getSelected()&&(0,g.adjustSelectedIndex)(this,t)}},{key:"canDrop",value:function(e,t,n){if(e.getType()===p.TabNode.TYPE){var i,r=u.DockLocation.CENTER;if(this._tabHeaderRect.contains(t,n)){if(this._location._orientation===d.Orientation.VERT)if(this._children.length>0){for(var a=this._children[0],o=a.getTabRect(),s=o.y,l=o.height,f=this._tabHeaderRect.x,_=0,g=0;g<this._children.length;g++){if(_=(o=(a=this._children[g]).getTabRect()).x+o.width/2,t>=f&&t<_){var m=new h.Rect(o.x-2,s,3,l);i=new c.DropInfo(this,m,r,g,v.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}f=_}if(null==i){var A=new h.Rect(o.getRight()-2,s,3,l);i=new c.DropInfo(this,A,r,this._children.length,v.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}else{var y=new h.Rect(this._tabHeaderRect.x+1,this._tabHeaderRect.y+2,3,18);i=new c.DropInfo(this,y,r,0,v.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._children.length>0){for(var b=this._children[0],T=b.getTabRect(),E=T.x,S=T.width,x=this._tabHeaderRect.y,L=0,w=0;w<this._children.length;w++){if(L=(T=(b=this._children[w]).getTabRect()).y+T.height/2,n>=x&&n<L){var C=new h.Rect(E,T.y-2,S,3);i=new c.DropInfo(this,C,r,w,v.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}x=L}if(null==i){var O=new h.Rect(E,T.getBottom()-2,S,3);i=new c.DropInfo(this,O,r,this._children.length,v.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}else{var k=new h.Rect(this._tabHeaderRect.x+2,this._tabHeaderRect.y+1,18,3);i=new c.DropInfo(this,k,r,0,v.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}if(!e._canDockInto(e,i))return}else if(-1!==this.getSelected()&&this._contentRect.contains(t,n)){var N=this._contentRect;if(i=new c.DropInfo(this,N,r,-1,v.CLASSES.FLEXLAYOUT__OUTLINE_RECT),!e._canDockInto(e,i))return}return i}}},{key:"drop",value:function(e,n,i,r){var a=0,o=e.getParent();void 0!==o&&(a=o._removeChild(e),o!==this&&o instanceof t&&o.getSelected()===a?o._setSelected(-1):(0,g.adjustSelectedIndex)(o,a)),e.getType()===p.TabNode.TYPE&&o===this&&a<i&&i>0&&i--;var s=i;-1===s&&(s=this._children.length),e.getType()===p.TabNode.TYPE&&this._addChild(e,s),(r||!1!==r&&this.isAutoSelectTab())&&this._setSelected(s),this._model._tidy()}},{key:"toJson",value:function(){var e={};return t._attributeDefinitions.toJson(e,this._attributes),e.location=this._location.getName(),e.children=this._children.map((function(e){return e.toJson()})),e}},{key:"_getSplitterBounds",value:function(e){var t=[0,0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.getMinSize():0,i=this._model._getOuterInnerRects().outer,r=this._model._getOuterInnerRects().inner,a=this._model.getRoot();return this._location===u.DockLocation.TOP?(t[0]=i.y+n,t[1]=Math.max(t[0],r.getBottom()-e.getHeight()-a.getMinHeight())):this._location===u.DockLocation.LEFT?(t[0]=i.x+n,t[1]=Math.max(t[0],r.getRight()-e.getWidth()-a.getMinWidth())):this._location===u.DockLocation.BOTTOM?(t[1]=i.getBottom()-e.getHeight()-n,t[0]=Math.min(t[1],r.y+a.getMinHeight())):this._location===u.DockLocation.RIGHT&&(t[1]=i.getRight()-e.getWidth()-n,t[0]=Math.min(t[1],r.x+a.getMinWidth())),t}},{key:"_calculateSplit",value:function(e,t){var n=this._getSplitterBounds(e);return this._location===u.DockLocation.BOTTOM||this._location===u.DockLocation.RIGHT?Math.max(0,n[1]-t):Math.max(0,t-n[0])}},{key:"_getAttributeDefinitions",value:function(){return t._attributeDefinitions}}],[{key:"_fromJson",value:function(e,n){var i=new t(u.DockLocation.getByName(e.location),e,n);return e.children&&(i._children=e.children.map((function(e){var t=p.TabNode._fromJson(e,n);return t._setParent(i),t}))),i}},{key:"_createAttributeDefinitions",value:function(){var e=new l.AttributeDefinitions;return e.add("type",t.TYPE,!0).setType(s.Attribute.STRING).setFixed(),e.add("selected",-1).setType(s.Attribute.NUMBER),e.add("show",!0).setType(s.Attribute.BOOLEAN),e.add("config",void 0).setType("any"),e.addInherited("barSize","borderBarSize").setType(s.Attribute.NUMBER),e.addInherited("enableDrop","borderEnableDrop").setType(s.Attribute.BOOLEAN),e.addInherited("className","borderClassName").setType(s.Attribute.STRING),e.addInherited("autoSelectTabWhenOpen","borderAutoSelectTabWhenOpen").setType(s.Attribute.BOOLEAN),e.addInherited("autoSelectTabWhenClosed","borderAutoSelectTabWhenClosed").setType(s.Attribute.BOOLEAN),e.addInherited("size","borderSize").setType(s.Attribute.NUMBER),e.addInherited("minSize","borderMinSize").setType(s.Attribute.NUMBER),e.addInherited("enableAutoHide","borderEnableAutoHide").setType(s.Attribute.BOOLEAN),e}},{key:"getAttributeDefinitions",value:function(){return t._attributeDefinitions}}])}(f.Node);t.BorderNode=m,m.TYPE="border",m._attributeDefinitions=m._createAttributeDefinitions()},50527:(e,t,n)=>{"use strict";var i=n(50883).default,r=n(17383).default,a=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BorderSet=void 0;var o=n(75065),s=n(59291),l=function(){function e(t){r(this,e),this._model=t,this._borders=[]}return a(e,[{key:"getBorders",value:function(){return this._borders}},{key:"_forEachNode",value:function(e){var t,n=i(this._borders);try{for(n.s();!(t=n.n()).done;){var r=t.value;e(r,0);var a,o=i(r.getChildren());try{for(o.s();!(a=o.n()).done;){a.value._forEachNode(e,1)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}}},{key:"_toJson",value:function(){return this._borders.map((function(e){return e.toJson()}))}},{key:"_layoutBorder",value:function(e,t){var n,r=e.outer,a=this._model.getRoot(),s=Math.max(0,r.height-a.getMinHeight()),l=Math.max(0,r.width-a.getMinWidth()),u=0,c=0,d=0,h=0,v=this._borders.filter((function(e){return e.isShowing()})),f=i(v);try{for(f.s();!(n=f.n()).done;){var _=n.value;_._setAdjustedSize(_.getSize());var p=-1!==_.getSelected();_.getLocation().getOrientation()===o.Orientation.HORZ?(c+=_.getBorderBarSize(),p&&(l-=this._model.getSplitterSize(),c+=_.getSize(),h+=_.getSize())):(u+=_.getBorderBarSize(),p&&(s-=this._model.getSplitterSize(),u+=_.getSize(),d+=_.getSize()))}}catch(w){f.e(w)}finally{f.f()}for(var g=0,m=!1;c>l&&h>0||u>s&&d>0;){var A=v[g];if(-1!==A.getSelected()){var y=A._getAdjustedSize();c>l&&h>0&&A.getLocation().getOrientation()===o.Orientation.HORZ&&y>0&&y>A.getMinSize()?(A._setAdjustedSize(y-1),c--,h--,m=!0):u>s&&d>0&&A.getLocation().getOrientation()===o.Orientation.VERT&&y>0&&y>A.getMinSize()&&(A._setAdjustedSize(y-1),u--,d--,m=!0)}if(0===(g=(g+1)%v.length)){if(!m)break;m=!1}}var b,T=i(v);try{for(T.s();!(b=T.n()).done;){var E=b.value;e.outer=E._layoutBorderOuter(e.outer,t)}}catch(w){T.e(w)}finally{T.f()}e.inner=e.outer;var S,x=i(v);try{for(x.s();!(S=x.n()).done;){var L=S.value;e.inner=L._layoutBorderInner(e.inner,t)}}catch(w){x.e(w)}finally{x.f()}return e}},{key:"_findDropTargetNode",value:function(e,t,n){var r,a=i(this._borders);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.isShowing()){var s=o.canDrop(e,t,n);if(void 0!==s)return s}}}catch(l){a.e(l)}finally{a.f()}}}],[{key:"_fromJson",value:function(t,n){var i=new e(n);return i._borders=t.map((function(e){return s.BorderNode._fromJson(e,n)})),i}}])}();t.BorderSet=l},28500:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICloseType=void 0,function(e){e[e.Visible=1]="Visible",e[e.Always=2]="Always",e[e.Selected=3]="Selected"}(t.ICloseType||(t.ICloseType={}))},75935:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8810:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},44180:(e,t,n)=>{"use strict";var i=n(41132).default,r=n(17383).default,a=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var o=n(55195),s=n(91117),l=n(55091),u=n(75065),c=n(93205),d=n(67866),h=n(59291),v=n(50527),f=n(40493),_=n(87786),p=n(65316),g=n(79380),m=function(){function e(){r(this,e),this._borderRects={inner:c.Rect.empty(),outer:c.Rect.empty()},this._attributes={},this._idMap={},this._borders=new v.BorderSet(this),this._pointerFine=!0,this._showHiddenBorder=l.DockLocation.CENTER}return a(e,[{key:"_setChangeListener",value:function(e){this._changeListener=e}},{key:"getActiveTabset",value:function(){return this._activeTabSet&&this.getNodeById(this._activeTabSet.getId())?this._activeTabSet:void 0}},{key:"_getShowHiddenBorder",value:function(){return this._showHiddenBorder}},{key:"_setShowHiddenBorder",value:function(e){this._showHiddenBorder=e}},{key:"_setActiveTabset",value:function(e){this._activeTabSet=e}},{key:"getMaximizedTabset",value:function(){return this._maximizedTabSet}},{key:"_setMaximizedTabset",value:function(e){this._maximizedTabSet=e}},{key:"getRoot",value:function(){return this._root}},{key:"isRootOrientationVertical",value:function(){return this._attributes.rootOrientationVertical}},{key:"isUseVisibility",value:function(){return this._attributes.enableUseVisibility}},{key:"isEnableRotateBorderIcons",value:function(){return this._attributes.enableRotateBorderIcons}},{key:"getBorderSet",value:function(){return this._borders}},{key:"_getOuterInnerRects",value:function(){return this._borderRects}},{key:"_getPointerFine",value:function(){return this._pointerFine}},{key:"_setPointerFine",value:function(e){this._pointerFine=e}},{key:"visitNodes",value:function(e){this._borders._forEachNode(e),this._root._forEachNode(e,0)}},{key:"getNodeById",value:function(e){return this._idMap[e]}},{key:"getFirstTabSet",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._root).getChildren()[0];return e instanceof p.TabSetNode?e:this.getFirstTabSet(e)}},{key:"doAction",value:function(e){var t=void 0;switch(e.type){case d.Actions.ADD_NODE:var n=new _.TabNode(this,e.data.json,!0),r=this._idMap[e.data.toNode];(r instanceof p.TabSetNode||r instanceof h.BorderNode||r instanceof f.RowNode)&&(r.drop(n,l.DockLocation.getByName(e.data.location),e.data.index,e.data.select),t=n);break;case d.Actions.MOVE_NODE:var a=this._idMap[e.data.fromNode];if(a instanceof _.TabNode||a instanceof p.TabSetNode){var o=this._idMap[e.data.toNode];(o instanceof p.TabSetNode||o instanceof h.BorderNode||o instanceof f.RowNode)&&o.drop(a,l.DockLocation.getByName(e.data.location),e.data.index,e.data.select)}break;case d.Actions.DELETE_TAB:var s=this._idMap[e.data.node];s instanceof _.TabNode&&s._delete();break;case d.Actions.DELETE_TABSET:var u=this._idMap[e.data.node];if(u instanceof p.TabSetNode){for(var c=i(u.getChildren()),v=0;v<c.length;v++){var m=c[v];m.isEnableClose()&&m._delete()}0===u.getChildren().length&&u._delete(),this._tidy()}break;case d.Actions.FLOAT_TAB:var A=this._idMap[e.data.node];A instanceof _.TabNode&&(A._setFloating(!0),(0,g.adjustSelectedIndexAfterFloat)(A));break;case d.Actions.UNFLOAT_TAB:var y=this._idMap[e.data.node];y instanceof _.TabNode&&(y._setFloating(!1),(0,g.adjustSelectedIndexAfterDock)(y));break;case d.Actions.RENAME_TAB:var b=this._idMap[e.data.node];b instanceof _.TabNode&&b._setName(e.data.text);break;case d.Actions.SELECT_TAB:var T=this._idMap[e.data.tabNode];if(T instanceof _.TabNode){var E=T.getParent(),S=E.getChildren().indexOf(T);E instanceof h.BorderNode?E.getSelected()===S?E._setSelected(-1):E._setSelected(S):E instanceof p.TabSetNode&&(E.getSelected()!==S&&E._setSelected(S),this._activeTabSet=E)}break;case d.Actions.SET_ACTIVE_TABSET:if(void 0===e.data.tabsetNode)this._activeTabSet=void 0;else{var x=this._idMap[e.data.tabsetNode];x instanceof p.TabSetNode&&(this._activeTabSet=x)}break;case d.Actions.ADJUST_SPLIT:var L=this._idMap[e.data.node1],w=this._idMap[e.data.node2];(L instanceof p.TabSetNode||L instanceof f.RowNode)&&(w instanceof p.TabSetNode||w instanceof f.RowNode)&&(this._adjustSplitSide(L,e.data.weight1,e.data.pixelWidth1),this._adjustSplitSide(w,e.data.weight2,e.data.pixelWidth2));break;case d.Actions.ADJUST_BORDER_SPLIT:var C=this._idMap[e.data.node];C instanceof h.BorderNode&&C._setSize(e.data.pos);break;case d.Actions.MAXIMIZE_TOGGLE:var O=this._idMap[e.data.node];O instanceof p.TabSetNode&&(O===this._maximizedTabSet?this._maximizedTabSet=void 0:(this._maximizedTabSet=O,this._activeTabSet=O));break;case d.Actions.UPDATE_MODEL_ATTRIBUTES:this._updateAttrs(e.data.json);break;case d.Actions.UPDATE_NODE_ATTRIBUTES:this._idMap[e.data.node]._updateAttrs(e.data.json)}return this._updateIdMap(),void 0!==this._changeListener&&this._changeListener(e),t}},{key:"_updateIdMap",value:function(){var e=this;this._idMap={},this.visitNodes((function(t){return e._idMap[t.getId()]=t}))}},{key:"_adjustSplitSide",value:function(e,t,n){e._setWeight(t),null!=e.getWidth()&&e.getOrientation()===u.Orientation.VERT?e._updateAttrs({width:n}):null!=e.getHeight()&&e.getOrientation()===u.Orientation.HORZ&&e._updateAttrs({height:n})}},{key:"toJson",value:function(){var t={};return e._attributeDefinitions.toJson(t,this._attributes),this.visitNodes((function(e){e._fireEvent("save",void 0)})),{global:t,borders:this._borders._toJson(),layout:this._root.toJson()}}},{key:"getSplitterSize",value:function(){var e=this._attributes.splitterSize;return-1===e&&(e=this._pointerFine?8:12),e}},{key:"isLegacyOverflowMenu",value:function(){return this._attributes.legacyOverflowMenu}},{key:"getSplitterExtra",value:function(){return this._attributes.splitterExtra}},{key:"isEnableEdgeDock",value:function(){return this._attributes.enableEdgeDock}},{key:"_addNode",value:function(e){var t=e.getId();if(void 0!==this._idMap[t])throw new Error("Error: each node must have a unique id, duplicate id:".concat(e.getId()));"splitter"!==e.getType()&&(this._idMap[t]=e)}},{key:"_layout",value:function(e,t){var n;return this._borderRects=this._borders._layoutBorder({outer:e,inner:e},t),e=this._borderRects.inner.removeInsets(this._getAttribute("marginInsets")),null===(n=this._root)||void 0===n||n.calcMinSize(),this._root._layout(e,t),e}},{key:"_findDropTargetNode",value:function(e,t,n){var i=this._root._findDropTargetNode(e,t,n);return void 0===i&&(i=this._borders._findDropTargetNode(e,t,n)),i}},{key:"_tidy",value:function(){this._root._tidy()}},{key:"_updateAttrs",value:function(t){e._attributeDefinitions.update(t,this._attributes)}},{key:"_nextUniqueId",value:function(){return"#"+(0,g.randomUUID)()}},{key:"_getAttribute",value:function(e){return this._attributes[e]}},{key:"setOnAllowDrop",value:function(e){this._onAllowDrop=e}},{key:"_getOnAllowDrop",value:function(){return this._onAllowDrop}},{key:"setOnCreateTabSet",value:function(e){this._onCreateTabSet=e}},{key:"_getOnCreateTabSet",value:function(){return this._onCreateTabSet}},{key:"toString",value:function(){return JSON.stringify(this.toJson())}}],[{key:"fromJson",value:function(t){var n=new e;return e._attributeDefinitions.fromJson(t.global,n._attributes),t.borders&&(n._borders=v.BorderSet._fromJson(t.borders,n)),n._root=f.RowNode._fromJson(t.layout,n),n._tidy(),n}},{key:"_createAttributeDefinitions",value:function(){var e=new s.AttributeDefinitions;return e.add("legacyOverflowMenu",!1).setType(o.Attribute.BOOLEAN),e.add("enableEdgeDock",!0).setType(o.Attribute.BOOLEAN),e.add("rootOrientationVertical",!1).setType(o.Attribute.BOOLEAN),e.add("marginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),e.add("enableUseVisibility",!1).setType(o.Attribute.BOOLEAN),e.add("enableRotateBorderIcons",!0).setType(o.Attribute.BOOLEAN),e.add("splitterSize",-1).setType(o.Attribute.NUMBER),e.add("splitterExtra",0).setType(o.Attribute.NUMBER),e.add("tabEnableClose",!0).setType(o.Attribute.BOOLEAN),e.add("tabCloseType",1).setType("ICloseType"),e.add("tabEnableFloat",!1).setType(o.Attribute.BOOLEAN),e.add("tabEnableDrag",!0).setType(o.Attribute.BOOLEAN),e.add("tabEnableRename",!0).setType(o.Attribute.BOOLEAN),e.add("tabContentClassName",void 0).setType(o.Attribute.STRING),e.add("tabClassName",void 0).setType(o.Attribute.STRING),e.add("tabIcon",void 0).setType(o.Attribute.STRING),e.add("tabEnableRenderOnDemand",!0).setType(o.Attribute.BOOLEAN),e.add("tabDragSpeed",.3).setType(o.Attribute.NUMBER),e.add("tabBorderWidth",-1).setType(o.Attribute.NUMBER),e.add("tabBorderHeight",-1).setType(o.Attribute.NUMBER),e.add("tabSetEnableDeleteWhenEmpty",!0).setType(o.Attribute.BOOLEAN),e.add("tabSetEnableDrop",!0).setType(o.Attribute.BOOLEAN),e.add("tabSetEnableDrag",!0).setType(o.Attribute.BOOLEAN),e.add("tabSetEnableDivide",!0).setType(o.Attribute.BOOLEAN),e.add("tabSetEnableMaximize",!0).setType(o.Attribute.BOOLEAN),e.add("tabSetEnableClose",!1).setType(o.Attribute.BOOLEAN),e.add("tabSetEnableSingleTabStretch",!1).setType(o.Attribute.BOOLEAN),e.add("tabSetAutoSelectTab",!0).setType(o.Attribute.BOOLEAN),e.add("tabSetClassNameTabStrip",void 0).setType(o.Attribute.STRING),e.add("tabSetClassNameHeader",void 0).setType(o.Attribute.STRING),e.add("tabSetEnableTabStrip",!0).setType(o.Attribute.BOOLEAN),e.add("tabSetHeaderHeight",0).setType(o.Attribute.NUMBER),e.add("tabSetTabStripHeight",0).setType(o.Attribute.NUMBER),e.add("tabSetMarginInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),e.add("tabSetBorderInsets",{top:0,right:0,bottom:0,left:0}).setType("IInsets"),e.add("tabSetTabLocation","top").setType("ITabLocation"),e.add("tabSetMinWidth",0).setType(o.Attribute.NUMBER),e.add("tabSetMinHeight",0).setType(o.Attribute.NUMBER),e.add("borderSize",200).setType(o.Attribute.NUMBER),e.add("borderMinSize",0).setType(o.Attribute.NUMBER),e.add("borderBarSize",0).setType(o.Attribute.NUMBER),e.add("borderEnableDrop",!0).setType(o.Attribute.BOOLEAN),e.add("borderAutoSelectTabWhenOpen",!0).setType(o.Attribute.BOOLEAN),e.add("borderAutoSelectTabWhenClosed",!1).setType(o.Attribute.BOOLEAN),e.add("borderClassName",void 0).setType(o.Attribute.STRING),e.add("borderEnableAutoHide",!1).setType(o.Attribute.BOOLEAN),e}},{key:"toTypescriptInterfaces",value:function(){e._attributeDefinitions.toTypescriptInterface("Global",void 0),f.RowNode.getAttributeDefinitions().toTypescriptInterface("Row",e._attributeDefinitions),p.TabSetNode.getAttributeDefinitions().toTypescriptInterface("TabSet",e._attributeDefinitions),_.TabNode.getAttributeDefinitions().toTypescriptInterface("Tab",e._attributeDefinitions),h.BorderNode.getAttributeDefinitions().toTypescriptInterface("Border",e._attributeDefinitions)}}])}();t.Model=m,m._attributeDefinitions=m._createAttributeDefinitions()},25121:(e,t,n)=>{"use strict";var i=n(50883).default,r=n(17383).default,a=n(34579).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;var o=n(55091),s=n(75065),l=n(93205),u=function(){return a((function e(t){r(this,e),this._dirty=!1,this._tempSize=0,this._model=t,this._attributes={},this._children=[],this._fixed=!1,this._rect=l.Rect.empty(),this._visible=!1,this._listeners={}}),[{key:"getId",value:function(){var e=this._attributes.id;return void 0!==e||(e=this._model._nextUniqueId(),this._setId(e)),e}},{key:"getModel",value:function(){return this._model}},{key:"getType",value:function(){return this._attributes.type}},{key:"getParent",value:function(){return this._parent}},{key:"getChildren",value:function(){return this._children}},{key:"getRect",value:function(){return this._rect}},{key:"isVisible",value:function(){return this._visible}},{key:"getOrientation",value:function(){return void 0===this._parent?this._model.isRootOrientationVertical()?s.Orientation.VERT:s.Orientation.HORZ:s.Orientation.flip(this._parent.getOrientation())}},{key:"setEventListener",value:function(e,t){this._listeners[e]=t}},{key:"removeEventListener",value:function(e){delete this._listeners[e]}},{key:"_setId",value:function(e){this._attributes.id=e}},{key:"_fireEvent",value:function(e,t){void 0!==this._listeners[e]&&this._listeners[e](t)}},{key:"_getAttr",value:function(e){var t=this._attributes[e];if(void 0===t){var n=this._getAttributeDefinitions().getModelName(e);void 0!==n&&(t=this._model._getAttribute(n))}return t}},{key:"_forEachNode",value:function(e,t){e(this,t),t++;var n,r=i(this._children);try{for(r.s();!(n=r.n()).done;){n.value._forEachNode(e,t)}}catch(a){r.e(a)}finally{r.f()}}},{key:"_setVisible",value:function(e){e!==this._visible&&(this._fireEvent("visibility",{visible:e}),this._visible=e)}},{key:"_getDrawChildren",value:function(){return this._children}},{key:"_setParent",value:function(e){this._parent=e}},{key:"_setRect",value:function(e){this._rect=e}},{key:"_setWeight",value:function(e){this._attributes.weight=e}},{key:"_setSelected",value:function(e){this._attributes.selected=e}},{key:"_isFixed",value:function(){return this._fixed}},{key:"_layout",value:function(e,t){this._rect=e}},{key:"_findDropTargetNode",value:function(e,t,n){var r;if(this._rect.contains(t,n))if(void 0!==this._model.getMaximizedTabset())r=this._model.getMaximizedTabset().canDrop(e,t,n);else if(void 0===(r=this.canDrop(e,t,n))&&0!==this._children.length){var a,o=i(this._children);try{for(o.s();!(a=o.n()).done;){if(void 0!==(r=a.value._findDropTargetNode(e,t,n)))break}}catch(s){o.e(s)}finally{o.f()}}return r}},{key:"canDrop",value:function(e,t,n){}},{key:"_canDockInto",value:function(e,t){if(null!=t){if(t.location===o.DockLocation.CENTER&&!1===t.node.isEnableDrop())return!1;if(t.location===o.DockLocation.CENTER&&"tabset"===e.getType()&&void 0!==e.getName())return!1;if(t.location!==o.DockLocation.CENTER&&!1===t.node.isEnableDivide())return!1;if(this._model._getOnAllowDrop())return this._model._getOnAllowDrop()(e,t)}return!0}},{key:"_removeChild",value:function(e){var t=this._children.indexOf(e);return-1!==t&&this._children.splice(t,1),this._dirty=!0,t}},{key:"_addChild",value:function(e,t){return null!=t?this._children.splice(t,0,e):(this._children.push(e),t=this._children.length-1),e._parent=this,this._dirty=!0,t}},{key:"_removeAll",value:function(){this._children=[],this._dirty=!0}},{key:"_styleWithPosition",value:function(e){return null==e&&(e={}),this._rect.styleWithPosition(e)}},{key:"_getTempSize",value:function(){return this._tempSize}},{key:"_setTempSize",value:function(e){this._tempSize=e}},{key:"isEnableDivide",value:function(){return!0}},{key:"_toAttributeString",value:function(){return JSON.stringify(this._attributes,void 0,"\t")}}])}();t.Node=u},40493:(e,t,n)=>{"use strict";var i=n(50883).default,r=n(17383).default,a=n(34579).default,o=n(18336).default,s=n(29901).default,l=n(29511).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RowNode=void 0;var u=n(55195),c=n(91117),d=n(55091),h=n(75946),v=n(75065),f=n(93205),_=n(29894),p=n(59291),g=n(25121),m=n(20134),A=n(65316),y=function(e){function t(e,n){var i;return r(this,t),(i=o(this,t,[e]))._dirty=!0,i._drawChildren=[],i._minHeight=0,i._minWidth=0,t._attributeDefinitions.fromJson(n,i._attributes),e._addNode(i),i}return l(t,e),a(t,[{key:"getWeight",value:function(){return this._attributes.weight}},{key:"getWidth",value:function(){return this._getAttr("width")}},{key:"getHeight",value:function(){return this._getAttr("height")}},{key:"_setWeight",value:function(e){this._attributes.weight=e}},{key:"_layout",value:function(e,n){s(t,"_layout",this,3)([e,n]);var r,a=this._rect._getSize(this.getOrientation()),o=0,l=0,u=0,c=0,d=this._getDrawChildren(),h=i(d);try{for(h.s();!(r=h.n()).done;){var _=r.value,p=_._getPrefSize(this.getOrientation());_._isFixed()?void 0!==p&&(l+=p):void 0===p?o+=_.getWeight():(u+=p,c+=_.getWeight())}}catch(V){h.e(V)}finally{h.f()}var g=!1,A=a-l-u;A<0&&(A=a-l,g=!0,o+=c);var y,b=0,T=0,E=i(d);try{for(E.s();!(y=E.n()).done;){var S=y.value,x=S._getPrefSize(this.getOrientation());if(S._isFixed())void 0!==x&&S._setTempSize(x);else if(null==x||g){if(0===o)S._setTempSize(0);else{var L=S.getMinSize(this.getOrientation()),w=Math.floor(A*(S.getWeight()/o));S._setTempSize(Math.max(L,w))}T+=S._getTempSize()}else S._setTempSize(x);b+=S._getTempSize()}}catch(V){E.e(V)}finally{E.f()}if(T>0){for(;b<a;){var C,O=i(d);try{for(O.s();!(C=O.n()).done;){var k=C.value;if(!(k instanceof m.SplitterNode)){var N=k._getPrefSize(this.getOrientation());!k._isFixed()&&(void 0===N||g)&&b<a&&(k._setTempSize(k._getTempSize()+1),b++)}}}catch(V){O.e(V)}finally{O.f()}}for(;b>a;){var R,D=!1,I=i(d);try{for(I.s();!(R=I.n()).done;){var M=R.value;if(!(M instanceof m.SplitterNode)){var B=M.getMinSize(this.getOrientation());M._getTempSize()>B&&b>a&&(M._setTempSize(M._getTempSize()-1),b--,D=!0)}}}catch(V){I.e(V)}finally{I.f()}if(!D)break}for(;b>a;){var P,F=!1,U=i(d);try{for(U.s();!(P=U.n()).done;){var j=P.value;if(!(j instanceof m.SplitterNode))j._getTempSize()>0&&b>a&&(j._setTempSize(j._getTempSize()-1),b--,F=!0)}}catch(V){U.e(V)}finally{U.f()}if(!F)break}}var z,Y=0,W=i(d);try{for(W.s();!(z=W.n()).done;){var H=z.value;this.getOrientation()===v.Orientation.HORZ?H._layout(new f.Rect(this._rect.x+Y,this._rect.y,H._getTempSize(),this._rect.height),n):H._layout(new f.Rect(this._rect.x,this._rect.y+Y,this._rect.width,H._getTempSize()),n),Y+=H._getTempSize()}}catch(V){W.e(V)}finally{W.f()}return!0}},{key:"_getSplitterBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[0,0],i=this._getDrawChildren(),r=i.indexOf(e),a=i[r-1],o=i[r+1];if(this.getOrientation()===v.Orientation.HORZ){var s=t?a.getMinWidth():0,l=t?o.getMinWidth():0;n[0]=a.getRect().x+s,n[1]=o.getRect().getRight()-e.getWidth()-l}else{var u=t?a.getMinHeight():0,c=t?o.getMinHeight():0;n[0]=a.getRect().y+u,n[1]=o.getRect().getBottom()-e.getHeight()-c}return n}},{key:"_calculateSplit",value:function(e,t){var n,i=this._getDrawChildren(),r=i.indexOf(e),a=this._getSplitterBounds(e),o=i[r-1].getWeight()+i[r+1].getWeight(),s=Math.max(0,t-a[0]),l=Math.max(0,a[1]-t);if(s+l>0){var u=s*o/(s+l),c=l*o/(s+l);n={node1Id:i[r-1].getId(),weight1:u,pixelWidth1:s,node2Id:i[r+1].getId(),weight2:c,pixelWidth2:l}}return n}},{key:"_getDrawChildren",value:function(){if(this._dirty){this._drawChildren=[];for(var e=0;e<this._children.length;e++){var t=this._children[e];if(0!==e){var n=new m.SplitterNode(this._model);n._setParent(this),this._drawChildren.push(n)}this._drawChildren.push(t)}this._dirty=!1}return this._drawChildren}},{key:"getMinSize",value:function(e){return e===v.Orientation.HORZ?this.getMinWidth():this.getMinHeight()}},{key:"getMinWidth",value:function(){return this._minWidth}},{key:"getMinHeight",value:function(){return this._minHeight}},{key:"calcMinSize",value:function(){this._minHeight=0,this._minWidth=0;var e,n=!0,r=i(this._children);try{for(r.s();!(e=r.n()).done;){var a=e.value;a instanceof t&&a.calcMinSize(),this.getOrientation()===v.Orientation.VERT?(this._minHeight+=a.getMinHeight(),n||(this._minHeight+=this._model.getSplitterSize()),this._minWidth=Math.max(this._minWidth,a.getMinWidth())):(this._minWidth+=a.getMinWidth(),n||(this._minWidth+=this._model.getSplitterSize()),this._minHeight=Math.max(this._minHeight,a.getMinHeight())),n=!1}}catch(o){r.e(o)}finally{r.f()}}},{key:"_tidy",value:function(){for(var e=0;e<this._children.length;){var n=this._children[e];if(n instanceof t){n._tidy();var r=n.getChildren();if(0===r.length)this._removeChild(n);else if(1===r.length){var a=r[0];if(this._removeChild(n),a instanceof t){var o,s=0,l=a.getChildren(),u=i(l);try{for(u.s();!(o=u.n()).done;){s+=o.value.getWeight()}}catch(_){u.e(_)}finally{u.f()}for(var c=0;c<l.length;c++){var d=l[c];d._setWeight(n.getWeight()*d.getWeight()/s),this._addChild(d,e+c)}}else a._setWeight(n.getWeight()),this._addChild(a,e)}else e++}else n instanceof A.TabSetNode&&0===n.getChildren().length&&n.isEnableDeleteWhenEmpty()?(this._removeChild(n),n===this._model.getMaximizedTabset()&&this._model._setMaximizedTabset(void 0)):e++}if(this===this._model.getRoot()&&0===this._children.length){var h=this._model._getOnCreateTabSet(),v=h?h():{};v=Object.assign(Object.assign({},v),{selected:-1});var f=new A.TabSetNode(this._model,v);this._model._setActiveTabset(f),this._addChild(f)}}},{key:"canDrop",value:function(e,t,n){var i,r=n-this._rect.y,a=t-this._rect.x,o=this._rect.width,s=this._rect.height,l=50;if(this._model.isEnableEdgeDock()&&void 0===this._parent){if(t<this._rect.x+10&&r>s/2-l&&r<s/2+l){var u=d.DockLocation.LEFT,c=u.getDockRect(this._rect);c.width=c.width/2,i=new h.DropInfo(this,c,u,-1,_.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(t>this._rect.getRight()-10&&r>s/2-l&&r<s/2+l){var v=d.DockLocation.RIGHT,f=v.getDockRect(this._rect);f.width=f.width/2,f.x+=f.width,i=new h.DropInfo(this,f,v,-1,_.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(n<this._rect.y+10&&a>o/2-l&&a<o/2+l){var p=d.DockLocation.TOP,g=p.getDockRect(this._rect);g.height=g.height/2,i=new h.DropInfo(this,g,p,-1,_.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(n>this._rect.getBottom()-10&&a>o/2-l&&a<o/2+l){var m=d.DockLocation.BOTTOM,A=m.getDockRect(this._rect);A.height=A.height/2,A.y+=A.height,i=new h.DropInfo(this,A,m,-1,_.CLASSES.FLEXLAYOUT__OUTLINE_RECT_EDGE)}if(void 0!==i&&!e._canDockInto(e,i))return}return i}},{key:"drop",value:function(e,n,r){var a,o=n,s=e.getParent();if(s&&s._removeChild(e),void 0!==s&&s.getType()===A.TabSetNode.TYPE&&s._setSelected(0),void 0!==s&&s.getType()===p.BorderNode.TYPE&&s._setSelected(-1),e instanceof A.TabSetNode)a=e;else{var l=this._model._getOnCreateTabSet();(a=new A.TabSetNode(this._model,l?l(e):{}))._addChild(e)}var u=this._children.reduce((function(e,t){return e+t.getWeight()}),0);0===u&&(u=100),a._setWeight(u/3);var c=!this._model.isRootOrientationVertical();if(c&&o===d.DockLocation.LEFT||!c&&o===d.DockLocation.TOP)this._addChild(a,0);else if(c&&o===d.DockLocation.RIGHT||!c&&o===d.DockLocation.BOTTOM)this._addChild(a);else if(c&&o===d.DockLocation.TOP||!c&&o===d.DockLocation.LEFT){var h=new t(this._model,{}),v=new t(this._model,{});v._setWeight(75),a._setWeight(25);var f,_=i(this._children);try{for(_.s();!(f=_.n()).done;){var g=f.value;v._addChild(g)}}catch(S){_.e(S)}finally{_.f()}this._removeAll(),h._addChild(a),h._addChild(v),this._addChild(h)}else if(c&&o===d.DockLocation.BOTTOM||!c&&o===d.DockLocation.RIGHT){var m=new t(this._model,{}),y=new t(this._model,{});y._setWeight(75),a._setWeight(25);var b,T=i(this._children);try{for(T.s();!(b=T.n()).done;){var E=b.value;y._addChild(E)}}catch(S){T.e(S)}finally{T.f()}this._removeAll(),m._addChild(y),m._addChild(a),this._addChild(m)}this._model._setActiveTabset(a),this._model._tidy()}},{key:"toJson",value:function(){var e={};t._attributeDefinitions.toJson(e,this._attributes),e.children=[];var n,r=i(this._children);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.children.push(a.toJson())}}catch(o){r.e(o)}finally{r.f()}return e}},{key:"isEnableDrop",value:function(){return!0}},{key:"_getPrefSize",value:function(e){var t=this.getWidth();return e===v.Orientation.VERT&&(t=this.getHeight()),t}},{key:"_getAttributeDefinitions",value:function(){return t._attributeDefinitions}},{key:"_updateAttrs",value:function(e){t._attributeDefinitions.update(e,this._attributes)}}],[{key:"_fromJson",value:function(e,n){var r=new t(n,e);if(null!=e.children){var a,o=i(e.children);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.type===A.TabSetNode.TYPE){var l=A.TabSetNode._fromJson(s,n);r._addChild(l)}else{var u=t._fromJson(s,n);r._addChild(u)}}}catch(c){o.e(c)}finally{o.f()}}return r}},{key:"_createAttributeDefinitions",value:function(){var e=new c.AttributeDefinitions;return e.add("type",t.TYPE,!0).setType(u.Attribute.STRING).setFixed(),e.add("id",void 0).setType(u.Attribute.STRING),e.add("weight",100).setType(u.Attribute.NUMBER),e.add("width",void 0).setType(u.Attribute.NUMBER),e.add("height",void 0).setType(u.Attribute.NUMBER),e}},{key:"getAttributeDefinitions",value:function(){return t._attributeDefinitions}}])}(g.Node);t.RowNode=y,y.TYPE="row",y._attributeDefinitions=y._createAttributeDefinitions()},20134:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default,a=n(18336).default,o=n(29511).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SplitterNode=void 0;var s=n(91117),l=n(75065),u=function(e){function t(e){var n;return i(this,t),(n=a(this,t,[e]))._fixed=!0,n._attributes.type=t.TYPE,e._addNode(n),n}return o(t,e),r(t,[{key:"getWidth",value:function(){return this._model.getSplitterSize()}},{key:"getMinWidth",value:function(){return this.getOrientation()===l.Orientation.VERT?this._model.getSplitterSize():0}},{key:"getHeight",value:function(){return this._model.getSplitterSize()}},{key:"getMinHeight",value:function(){return this.getOrientation()===l.Orientation.HORZ?this._model.getSplitterSize():0}},{key:"getMinSize",value:function(e){return e===l.Orientation.HORZ?this.getMinWidth():this.getMinHeight()}},{key:"getWeight",value:function(){return 0}},{key:"_setWeight",value:function(e){}},{key:"_getPrefSize",value:function(e){return this._model.getSplitterSize()}},{key:"_updateAttrs",value:function(e){}},{key:"_getAttributeDefinitions",value:function(){return new s.AttributeDefinitions}},{key:"toJson",value:function(){}}])}(n(25121).Node);t.SplitterNode=u,u.TYPE="splitter"},87786:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default,a=n(18336).default,o=n(29511).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TabNode=void 0;var s=n(55195),l=n(91117),u=function(e){function t(e,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i(this,t),(r=a(this,t,[e]))._extra={},t._attributeDefinitions.fromJson(n,r._attributes),!0===o&&e._addNode(r),r}return o(t,e),r(t,[{key:"getWindow",value:function(){return this._window}},{key:"getTabRect",value:function(){return this._tabRect}},{key:"_setTabRect",value:function(e){this._tabRect=e}},{key:"_setRenderedName",value:function(e){this._renderedName=e}},{key:"_getNameForOverflowMenu",value:function(){var e=this._getAttr("altName");return void 0!==e?e:this._renderedName}},{key:"getName",value:function(){return this._getAttr("name")}},{key:"getHelpText",value:function(){return this._getAttr("helpText")}},{key:"getComponent",value:function(){return this._getAttr("component")}},{key:"getConfig",value:function(){return this._attributes.config}},{key:"getExtraData",value:function(){return this._extra}},{key:"isFloating",value:function(){return this._getAttr("floating")}},{key:"getIcon",value:function(){return this._getAttr("icon")}},{key:"isEnableClose",value:function(){return this._getAttr("enableClose")}},{key:"getCloseType",value:function(){return this._getAttr("closeType")}},{key:"isEnableFloat",value:function(){return this._getAttr("enableFloat")}},{key:"isEnableDrag",value:function(){return this._getAttr("enableDrag")}},{key:"isEnableRename",value:function(){return this._getAttr("enableRename")}},{key:"getClassName",value:function(){return this._getAttr("className")}},{key:"getContentClassName",value:function(){return this._getAttr("contentClassName")}},{key:"getTabSetClassName",value:function(){return this._getAttr("tabsetClassName")}},{key:"isEnableRenderOnDemand",value:function(){return this._getAttr("enableRenderOnDemand")}},{key:"_setName",value:function(e){this._attributes.name=e,this._window&&this._window.document&&(this._window.document.title=e)}},{key:"_setFloating",value:function(e){this._attributes.floating=e}},{key:"_layout",value:function(e,t){e.equals(this._rect)||this._fireEvent("resize",{rect:e}),this._rect=e}},{key:"_delete",value:function(){this._parent._remove(this),this._fireEvent("close",{})}},{key:"toJson",value:function(){var e={};return t._attributeDefinitions.toJson(e,this._attributes),e}},{key:"_updateAttrs",value:function(e){t._attributeDefinitions.update(e,this._attributes)}},{key:"_getAttributeDefinitions",value:function(){return t._attributeDefinitions}},{key:"_setWindow",value:function(e){this._window=e}},{key:"_setBorderWidth",value:function(e){this._attributes.borderWidth=e}},{key:"_setBorderHeight",value:function(e){this._attributes.borderHeight=e}}],[{key:"_fromJson",value:function(e,n){return new t(n,e,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}},{key:"_createAttributeDefinitions",value:function(){var e=new l.AttributeDefinitions;return e.add("type",t.TYPE,!0).setType(s.Attribute.STRING),e.add("id",void 0).setType(s.Attribute.STRING),e.add("name","[Unnamed Tab]").setType(s.Attribute.STRING),e.add("altName",void 0).setType(s.Attribute.STRING),e.add("helpText",void 0).setType(s.Attribute.STRING),e.add("component",void 0).setType(s.Attribute.STRING),e.add("config",void 0).setType("any"),e.add("floating",!1).setType(s.Attribute.BOOLEAN),e.add("tabsetClassName",void 0).setType(s.Attribute.STRING),e.addInherited("enableClose","tabEnableClose").setType(s.Attribute.BOOLEAN),e.addInherited("closeType","tabCloseType").setType("ICloseType"),e.addInherited("enableDrag","tabEnableDrag").setType(s.Attribute.BOOLEAN),e.addInherited("enableRename","tabEnableRename").setType(s.Attribute.BOOLEAN),e.addInherited("className","tabClassName").setType(s.Attribute.STRING),e.addInherited("contentClassName","tabContentClassName").setType(s.Attribute.STRING),e.addInherited("icon","tabIcon").setType(s.Attribute.STRING),e.addInherited("enableRenderOnDemand","tabEnableRenderOnDemand").setType(s.Attribute.BOOLEAN),e.addInherited("enableFloat","tabEnableFloat").setType(s.Attribute.BOOLEAN),e.addInherited("borderWidth","tabBorderWidth").setType(s.Attribute.NUMBER),e.addInherited("borderHeight","tabBorderHeight").setType(s.Attribute.NUMBER),e}},{key:"getAttributeDefinitions",value:function(){return t._attributeDefinitions}}])}(n(25121).Node);t.TabNode=u,u.TYPE="tab",u._attributeDefinitions=u._createAttributeDefinitions()},65316:(e,t,n)=>{"use strict";var i=n(50883).default,r=n(17383).default,a=n(34579).default,o=n(18336).default,s=n(29511).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TabSetNode=void 0;var l=n(55195),u=n(91117),c=n(55091),d=n(75946),h=n(75065),v=n(93205),f=n(29894),_=n(59291),p=n(25121),g=n(40493),m=n(87786),A=n(79380),y=function(e){function t(e,n){var i;return r(this,t),i=o(this,t,[e]),t._attributeDefinitions.fromJson(n,i._attributes),e._addNode(i),i._calculatedTabBarHeight=0,i._calculatedHeaderBarHeight=0,i}return s(t,e),a(t,[{key:"getName",value:function(){return this._getAttr("name")}},{key:"getSelected",value:function(){var e=this._attributes.selected;return void 0!==e?e:-1}},{key:"getSelectedNode",value:function(){var e=this.getSelected();if(-1!==e)return this._children[e]}},{key:"getWeight",value:function(){return this._getAttr("weight")}},{key:"getWidth",value:function(){return this._getAttr("width")}},{key:"getMinWidth",value:function(){return this._getAttr("minWidth")}},{key:"getHeight",value:function(){return this._getAttr("height")}},{key:"getMinHeight",value:function(){return this._getAttr("minHeight")}},{key:"getMinSize",value:function(e){return e===h.Orientation.HORZ?this.getMinWidth():this.getMinHeight()}},{key:"getConfig",value:function(){return this._attributes.config}},{key:"isMaximized",value:function(){return this._model.getMaximizedTabset()===this}},{key:"isActive",value:function(){return this._model.getActiveTabset()===this}},{key:"isEnableDeleteWhenEmpty",value:function(){return this._getAttr("enableDeleteWhenEmpty")}},{key:"isEnableDrop",value:function(){return this._getAttr("enableDrop")}},{key:"isEnableDrag",value:function(){return this._getAttr("enableDrag")}},{key:"isEnableDivide",value:function(){return this._getAttr("enableDivide")}},{key:"isEnableMaximize",value:function(){return this._getAttr("enableMaximize")}},{key:"isEnableClose",value:function(){return this._getAttr("enableClose")}},{key:"isEnableSingleTabStretch",value:function(){return this._getAttr("enableSingleTabStretch")}},{key:"canMaximize",value:function(){return!!this.isEnableMaximize()&&(this.getModel().getMaximizedTabset()===this||(this.getParent()!==this.getModel().getRoot()||1!==this.getModel().getRoot().getChildren().length))}},{key:"isEnableTabStrip",value:function(){return this._getAttr("enableTabStrip")}},{key:"isAutoSelectTab",value:function(){return this._getAttr("autoSelectTab")}},{key:"getClassNameTabStrip",value:function(){return this._getAttr("classNameTabStrip")}},{key:"getClassNameHeader",value:function(){return this._getAttr("classNameHeader")}},{key:"calculateHeaderBarHeight",value:function(e){var t=this._getAttr("headerHeight");this._calculatedHeaderBarHeight=0!==t?t:e.headerBarSize}},{key:"calculateTabBarHeight",value:function(e){var t=this._getAttr("tabStripHeight");this._calculatedTabBarHeight=0!==t?t:e.tabBarSize}},{key:"getHeaderHeight",value:function(){return this._calculatedHeaderBarHeight}},{key:"getTabStripHeight",value:function(){return this._calculatedTabBarHeight}},{key:"getTabLocation",value:function(){return this._getAttr("tabLocation")}},{key:"_setWeight",value:function(e){this._attributes.weight=e}},{key:"_setSelected",value:function(e){this._attributes.selected=e}},{key:"canDrop",value:function(e,t,n){var i;if(e===this){var r=c.DockLocation.CENTER,a=this._tabHeaderRect;i=new d.DropInfo(this,a,r,-1,f.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(this._contentRect.contains(t,n)){var o=c.DockLocation.CENTER;void 0===this._model.getMaximizedTabset()&&(o=c.DockLocation.getLocation(this._contentRect,t,n));var s=o.getDockRect(this._rect);i=new d.DropInfo(this,s,o,-1,f.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}else if(null!=this._tabHeaderRect&&this._tabHeaderRect.contains(t,n)){var l,u,h;if(0===this._children.length)u=(l=this._tabHeaderRect.clone()).y+3,h=l.height-4,l.width=2;else{var _=this._children[0];u=(l=_.getTabRect()).y,h=l.height;for(var p=this._tabHeaderRect.x,g=0,m=0;m<this._children.length;m++){if(g=(l=(_=this._children[m]).getTabRect()).x+l.width/2,t>=p&&t<g){var A=c.DockLocation.CENTER,y=new v.Rect(l.x-2,u,3,h);i=new d.DropInfo(this,y,A,m,f.CLASSES.FLEXLAYOUT__OUTLINE_RECT);break}p=g}}if(null==i){var b=c.DockLocation.CENTER,T=new v.Rect(l.getRight()-2,u,3,h);i=new d.DropInfo(this,T,b,this._children.length,f.CLASSES.FLEXLAYOUT__OUTLINE_RECT)}}if(e._canDockInto(e,i))return i}},{key:"_layout",value:function(e,t){this.calculateHeaderBarHeight(t),this.calculateTabBarHeight(t),this.isMaximized()&&(e=this._model.getRoot().getRect()),e=e.removeInsets(this._getAttr("marginInsets")),this._rect=e,e=e.removeInsets(this._getAttr("borderInsets"));var n=0,i=0;void 0!==this.getName()&&(n+=this._calculatedHeaderBarHeight,i+=this._calculatedHeaderBarHeight),this.isEnableTabStrip()&&("top"===this.getTabLocation()?this._tabHeaderRect=new v.Rect(e.x,e.y+n,e.width,this._calculatedTabBarHeight):this._tabHeaderRect=new v.Rect(e.x,e.y+e.height-this._calculatedTabBarHeight,e.width,this._calculatedTabBarHeight),i+=this._calculatedTabBarHeight,"top"===this.getTabLocation()&&(n+=this._calculatedTabBarHeight)),this._contentRect=new v.Rect(e.x,e.y+n,e.width,e.height-i);for(var r=0;r<this._children.length;r++){var a=this._children[r];a._layout(this._contentRect,t),a._setVisible(r===this.getSelected())}}},{key:"_delete",value:function(){this._parent._removeChild(this)}},{key:"_remove",value:function(e){var t=this._removeChild(e);this._model._tidy(),(0,A.adjustSelectedIndex)(this,t)}},{key:"drop",value:function(e,n,i,r){var a=n;if(this!==e){var o=e.getParent(),s=0;if(void 0!==o&&(s=o._removeChild(e),o instanceof _.BorderNode&&o.getSelected()===s?o._setSelected(-1):(0,A.adjustSelectedIndex)(o,s)),e.getType()===m.TabNode.TYPE&&o===this&&s<i&&i>0&&i--,a===c.DockLocation.CENTER){var l=i;if(-1===l&&(l=this._children.length),e.getType()===m.TabNode.TYPE)this._addChild(e,l),(r||!1!==r&&this.isAutoSelectTab())&&this._setSelected(l);else{for(var u=0;u<e.getChildren().length;u++){var d=e.getChildren()[u];this._addChild(d,l),l++}-1===this.getSelected()&&this._children.length>0&&this._setSelected(0)}this._model._setActiveTabset(this)}else{var h;if(e instanceof m.TabNode){var v=this._model._getOnCreateTabSet();(h=new t(this._model,v?v(e):{}))._addChild(e),o=h}else h=e;var f=this._parent,p=f.getChildren().indexOf(this);if(f.getOrientation()===a._orientation)h._setWeight(this.getWeight()/2),this._setWeight(this.getWeight()/2),f._addChild(h,p+a._indexPlus);else{var y=new g.RowNode(this._model,{});y._setWeight(this.getWeight()),y._addChild(this),this._setWeight(50),h._setWeight(50),y._addChild(h,a._indexPlus),f._removeChild(this),f._addChild(y,p)}this._model._setActiveTabset(h)}this._model._tidy()}}},{key:"toJson",value:function(){var e={};return t._attributeDefinitions.toJson(e,this._attributes),e.children=this._children.map((function(e){return e.toJson()})),this.isActive()&&(e.active=!0),this.isMaximized()&&(e.maximized=!0),e}},{key:"_updateAttrs",value:function(e){t._attributeDefinitions.update(e,this._attributes)}},{key:"_getAttributeDefinitions",value:function(){return t._attributeDefinitions}},{key:"_getPrefSize",value:function(e){var t=this.getWidth();return e===h.Orientation.VERT&&(t=this.getHeight()),t}}],[{key:"_fromJson",value:function(e,n){var r=new t(n,e);if(null!=e.children){var a,o=i(e.children);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=m.TabNode._fromJson(s,n);r._addChild(l)}}catch(u){o.e(u)}finally{o.f()}}return 0===r._children.length&&r._setSelected(-1),e.maximized&&!0===e.maximized&&n._setMaximizedTabset(r),e.active&&!0===e.active&&n._setActiveTabset(r),r}},{key:"_createAttributeDefinitions",value:function(){var e=new u.AttributeDefinitions;return e.add("type",t.TYPE,!0).setType(l.Attribute.STRING).setFixed(),e.add("id",void 0).setType(l.Attribute.STRING),e.add("weight",100).setType(l.Attribute.NUMBER),e.add("width",void 0).setType(l.Attribute.NUMBER),e.add("height",void 0).setType(l.Attribute.NUMBER),e.add("selected",0).setType(l.Attribute.NUMBER),e.add("name",void 0).setType(l.Attribute.STRING),e.add("config",void 0).setType("any"),e.addInherited("enableDeleteWhenEmpty","tabSetEnableDeleteWhenEmpty"),e.addInherited("enableDrop","tabSetEnableDrop"),e.addInherited("enableDrag","tabSetEnableDrag"),e.addInherited("enableDivide","tabSetEnableDivide"),e.addInherited("enableMaximize","tabSetEnableMaximize"),e.addInherited("enableClose","tabSetEnableClose"),e.addInherited("enableSingleTabStretch","tabSetEnableSingleTabStretch"),e.addInherited("classNameTabStrip","tabSetClassNameTabStrip"),e.addInherited("classNameHeader","tabSetClassNameHeader"),e.addInherited("enableTabStrip","tabSetEnableTabStrip"),e.addInherited("borderInsets","tabSetBorderInsets"),e.addInherited("marginInsets","tabSetMarginInsets"),e.addInherited("minWidth","tabSetMinWidth"),e.addInherited("minHeight","tabSetMinHeight"),e.addInherited("headerHeight","tabSetHeaderHeight"),e.addInherited("tabStripHeight","tabSetTabStripHeight"),e.addInherited("tabLocation","tabSetTabLocation"),e.addInherited("autoSelectTab","tabSetAutoSelectTab").setType(l.Attribute.BOOLEAN),e}},{key:"getAttributeDefinitions",value:function(){return t._attributeDefinitions}}])}(p.Node);t.TabSetNode=y,y.TYPE="tabset",y._attributeDefinitions=y._createAttributeDefinitions()},79380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomUUID=t.adjustSelectedIndex=t.adjustSelectedIndexAfterDock=t.adjustSelectedIndexAfterFloat=void 0;var i=n(65316),r=n(59291);t.adjustSelectedIndexAfterFloat=function(e){var t=e.getParent();if(null!==t)if(t instanceof i.TabSetNode){for(var n=!1,a=0,o=t.getChildren(),s=0;s<o.length;s++){var l=o[s];if(l===e)n=!0;else if(!l.isFloating()&&(a=s,n))break}t._setSelected(a)}else t instanceof r.BorderNode&&t._setSelected(-1)},t.adjustSelectedIndexAfterDock=function(e){var t=e.getParent();if(null!==t&&(t instanceof i.TabSetNode||t instanceof r.BorderNode))for(var n=t.getChildren(),a=0;a<n.length;a++){if(n[a]===e)return void t._setSelected(a)}},t.adjustSelectedIndex=function(e,t){if(void 0!==e&&(e.getType()===i.TabSetNode.TYPE||e.getType()===r.BorderNode.TYPE)){var n=e.getSelected();-1!==n&&(t===n&&e.getChildren().length>0?t>=e.getChildren().length&&e._setSelected(e.getChildren().length-1):t<n?e._setSelected(n-1):t>n||e._setSelected(-1))}},t.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},96455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BorderButton=void 0;var i=n(41594),r=n(86033),a=n(67866),o=n(93205),s=n(28500),l=n(29894),u=n(90304);t.BorderButton=function(e){var t=e.layout,n=e.node,c=e.selected,d=e.border,h=e.iconFactory,v=e.titleFactory,f=e.icons,_=e.path,p=i.useRef(null),g=i.useRef(null),m=function(e){(0,u.isAuxMouseEvent)(e)||t.getEditingTab()||t.dragStart(e,void 0,n,n.isEnableDrag(),y,b)},A=function(e){(0,u.isAuxMouseEvent)(e)&&t.auxMouseClick(n,e)},y=function(){t.doAction(a.Actions.selectTab(n.getId()))},b=function(e){},T=function(e){e.stopPropagation()};i.useLayoutEffect((function(){E(),t.getEditingTab()===n&&g.current.select()}));var E=function(){var e,i=t.getDomRect(),r=null===(e=p.current)||void 0===e?void 0:e.getBoundingClientRect();r&&i&&n._setTabRect(new o.Rect(r.left-i.left,r.top-i.top,r.width,r.height))},S=function(e){e.stopPropagation()},x=t.getClassName,L=x(l.CLASSES.FLEXLAYOUT__BORDER_BUTTON)+" "+x(l.CLASSES.FLEXLAYOUT__BORDER_BUTTON_+d);L+=c?" "+x(l.CLASSES.FLEXLAYOUT__BORDER_BUTTON__SELECTED):" "+x(l.CLASSES.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED),void 0!==n.getClassName()&&(L+=" "+n.getClassName());var w=0;!1===n.getModel().isEnableRotateBorderIcons()&&("left"===d?w=90:"right"===d&&(w=-90));var C=(0,u.getRenderStateEx)(t,n,h,v,w),O=C.content?i.createElement("div",{className:x(l.CLASSES.FLEXLAYOUT__BORDER_BUTTON_CONTENT)},C.content):null,k=C.leading?i.createElement("div",{className:x(l.CLASSES.FLEXLAYOUT__BORDER_BUTTON_LEADING)},C.leading):null;if(t.getEditingTab()===n&&(O=i.createElement("input",{ref:g,className:x(l.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":_+"/textbox",type:"text",autoFocus:!0,defaultValue:n.getName(),onKeyDown:function(e){"Escape"===e.code?t.setEditingTab(void 0):"Enter"===e.code&&(t.setEditingTab(void 0),t.doAction(a.Actions.renameTab(n.getId(),e.target.value)))},onMouseDown:S,onTouchStart:S})),n.isEnableClose()){var N=t.i18nName(r.I18nLabel.Close_Tab);C.buttons.push(i.createElement("div",{key:"close","data-layout-path":_+"/button/close",title:N,className:x(l.CLASSES.FLEXLAYOUT__BORDER_BUTTON_TRAILING),onMouseDown:T,onClick:function(e){!function(){var e=n.getCloseType();return!(!c&&e!==s.ICloseType.Always)||!(e!==s.ICloseType.Visible||!window.matchMedia||!window.matchMedia("(hover: hover) and (pointer: fine)").matches)}()?y():t.doAction(a.Actions.deleteTab(n.getId()))},onTouchStart:T},"function"===typeof f.close?f.close(n):f.close))}return i.createElement("div",{ref:p,"data-layout-path":_,className:L,onMouseDown:m,onClick:A,onAuxClick:A,onContextMenu:function(e){t.showContextMenu(n,e)},onTouchStart:m,title:n.getHelpText()},k,O,C.buttons)}},84146:(e,t,n)=>{"use strict";var i=n(41132).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BorderTabSet=void 0;var r=n(41594),a=n(55091),o=n(96455),s=n(17154),l=n(67866),u=n(86033),c=n(31803),d=n(75065),h=n(29894),v=n(90304);t.BorderTabSet=function(e){for(var t=e.border,n=e.layout,f=e.iconFactory,_=e.titleFactory,p=e.icons,g=e.path,m=r.useRef(null),A=r.useRef(null),y=r.useRef(null),b=(0,c.useTabOverflow)(t,d.Orientation.flip(t.getOrientation()),m,y),T=b.selfRef,E=b.position,S=b.userControlledLeft,x=b.hiddenTabs,L=b.onMouseWheel,w=b.tabsTruncated,C=function(e){(0,v.isAuxMouseEvent)(e)&&n.auxMouseClick(t,e)},O=function(e){e.stopPropagation()},k=function(e){n.doAction(l.Actions.selectTab(e.node.getId())),S.current=!1},N=n.getClassName,R=t.getTabHeaderRect().styleWithPosition({}),D=[],I=function(e){var i=t.getSelected()===e,a=t.getChildren()[e];D.push(r.createElement(o.BorderButton,{layout:n,border:t.getLocation().getName(),node:a,path:g+"/tb"+e,key:a.getId(),selected:i,iconFactory:f,titleFactory:_,icons:p})),e<t.getChildren().length-1&&D.push(r.createElement("div",{key:"divider"+e,className:N(h.CLASSES.FLEXLAYOUT__BORDER_TAB_DIVIDER)}))},M=0;M<t.getChildren().length;M++)I(M);var B=N(h.CLASSES.FLEXLAYOUT__BORDER)+" "+N(h.CLASSES.FLEXLAYOUT__BORDER_+t.getLocation().getName());void 0!==t.getClassName()&&(B+=" "+t.getClassName());var P=[],F=[],U={headerContent:void 0,buttons:P,stickyButtons:F,headerButtons:[],overflowPosition:void 0};if(n.customizeTabSet(t,U),P=U.buttons,void 0===U.overflowPosition&&(U.overflowPosition=F.length),F.length>0&&(w?P=[].concat(F,i(P)):D.push(r.createElement("div",{ref:y,key:"sticky_buttons_container",onMouseDown:O,onTouchStart:O,onDragStart:function(e){e.preventDefault()},className:N(h.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)},F))),x.length>0){var j,z=n.i18nName(u.I18nLabel.Overflow_Menu_Tooltip);j="function"===typeof p.more?p.more(t,x):r.createElement(r.Fragment,null,p.more,r.createElement("div",{className:N(h.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},x.length)),P.splice(Math.min(U.overflowPosition,P.length),0,r.createElement("button",{key:"overflowbutton",ref:A,className:N(h.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+N(h.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW)+" "+N(h.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_+t.getLocation().getName()),title:z,onClick:function(e){var i=n.getShowOverflowMenu();if(void 0!==i)i(t,e,x,k);else{var r=A.current;(0,s.showPopup)(r,x,k,n,f,_)}e.stopPropagation()},onMouseDown:O,onTouchStart:O},j))}var Y=t.getSelected();if(-1!==Y){var W=t.getChildren()[Y];if(void 0!==W&&n.isSupportsPopout()&&W.isEnableFloat()&&!W.isFloating()){var H=n.i18nName(u.I18nLabel.Float_Tab);P.push(r.createElement("button",{key:"float",title:H,className:N(h.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+N(h.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT),onClick:function(e){var i=t.getChildren()[t.getSelected()];void 0!==i&&n.doAction(l.Actions.floatTab(i.getId())),e.stopPropagation()},onMouseDown:O,onTouchStart:O},"function"===typeof p.popout?p.popout(W):p.popout))}}var V=r.createElement("div",{key:"toolbar",ref:m,className:N(h.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR)+" "+N(h.CLASSES.FLEXLAYOUT__BORDER_TOOLBAR_+t.getLocation().getName())},P);R=n.styleFont(R);var X={},G=t.getBorderBarSize()-1;return X=t.getLocation()===a.DockLocation.LEFT?{right:G,height:G,top:E}:t.getLocation()===a.DockLocation.RIGHT?{left:G,height:G,top:E}:{height:G,left:E},r.createElement("div",{ref:T,dir:"ltr",style:R,className:B,"data-layout-path":g,onClick:C,onAuxClick:C,onContextMenu:function(e){n.showContextMenu(t,e)},onWheel:L},r.createElement("div",{style:{height:G},className:N(h.CLASSES.FLEXLAYOUT__BORDER_INNER)+" "+N(h.CLASSES.FLEXLAYOUT__BORDER_INNER_+t.getLocation().getName())},r.createElement("div",{style:X,className:N(h.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER)+" "+N(h.CLASSES.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_+t.getLocation().getName())},D)),V)}},66721:(e,t,n)=>{"use strict";var i=n(17383).default,r=n(34579).default,a=n(18336).default,o=n(29511).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=void 0;var s=n(41594),l=n(29894),u=function(e){function t(e){var n;return i(this,t),(n=a(this,t,[e])).state={hasError:!1},n}return o(t,e),r(t,[{key:"componentDidCatch",value:function(e,t){console.debug(e),console.debug(t)}},{key:"render",value:function(){return this.state.hasError?s.createElement("div",{className:l.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER},s.createElement("div",{className:l.CLASSES.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT},this.props.message)):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}])}(s.Component);t.ErrorBoundary=u},8815:(e,t,n)=>{"use strict";var i=n(50883).default,r=n(41132).default,a=n(85715).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FloatingWindow=void 0;var o=n(41594),s=n(75206),l=n(93205),u=n(29894);t.FloatingWindow=function(e){var t=e.title,n=e.id,c=e.url,d=e.rect,h=e.onCloseWindow,v=e.onSetWindow,f=e.children,_=o.useRef(null),p=o.useRef(null),g=o.useState(void 0),m=a(g,2),A=m[0],y=m[1];return o.useLayoutEffect((function(){p.current&&clearTimeout(p.current);var e=!0,a=d||new l.Rect(0,0,100,100),o=Array.from(window.document.styleSheets).reduce((function(e,t){var n=void 0;try{n=t.cssRules}catch(i){}try{return[].concat(r(e),[{href:t.href,type:t.type,rules:n?Array.from(n).map((function(e){return e.cssText})):null}])}catch(i){return e}}),[]);return _.current=window.open(c,n,"left=".concat(a.x,",top=").concat(a.y,",width=").concat(a.width,",height=").concat(a.height)),null!==_.current?(v(n,_.current),window.addEventListener("beforeunload",(function(){_.current&&(_.current.close(),_.current=null)})),_.current.addEventListener("load",(function(){if(e){var r=_.current.document;r.title=t;var a=r.createElement("div");a.className=u.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_CONTENT,r.body.appendChild(a),function(e,t){var n,r=e.head,a=[],o=i(t);try{var s=function(){var t=n.value;if(t.href){var o=e.createElement("link");o.type=t.type,o.rel="stylesheet",o.href=t.href,r.appendChild(o),a.push(new Promise((function(e){o.onload=function(){return e(!0)}})))}else if(t.rules){var s,l=e.createElement("style"),u=i(t.rules);try{for(u.s();!(s=u.n()).done;){var c=s.value;l.appendChild(e.createTextNode(c))}}catch(d){u.e(d)}finally{u.f()}r.appendChild(l)}};for(o.s();!(n=o.n()).done;)s()}catch(l){o.e(l)}finally{o.f()}return Promise.all(a)}(r,o).then((function(){y(a)})),_.current.addEventListener("beforeunload",(function(){h(n)}))}}))):(console.warn("Unable to open window ".concat(c)),h(n)),function(){e=!1,p.current=setTimeout((function(){_.current&&(_.current.close(),_.current=null)}),0)}}),[]),void 0!==A?(0,s.createPortal)(f,A):null}},41276:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FloatingWindowTab=void 0;var i=n(41594),r=n(66721),a=n(86033),o=n(41594),s=n(29894);t.FloatingWindowTab=function(e){var t=e.layout,n=e.node,l=e.factory,u=t.getClassName,c=l(n);return i.createElement("div",{className:u(s.CLASSES.FLEXLAYOUT__FLOATING_WINDOW_TAB)},i.createElement(r.ErrorBoundary,{message:e.layout.i18nName(a.I18nLabel.Error_rendering_component)},i.createElement(o.Fragment,null,c)))}},32287:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestoreIcon=t.PopoutIcon=t.EdgeIcon=t.OverflowIcon=t.MaximizeIcon=t.CloseIcon=void 0;var i=n(41594),r={width:"1em",height:"1em",display:"flex",alignItems:"center"};t.CloseIcon=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:r,viewBox:"0 0 24 24"},i.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),i.createElement("path",{stroke:"var(--color-icon)",fill:"var(--color-icon)",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))};t.MaximizeIcon=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:r,viewBox:"0 0 24 24",fill:"var(--color-icon)"},i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.createElement("path",{stroke:"var(--color-icon)",d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))};t.OverflowIcon=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:r,viewBox:"0 0 24 24",fill:"var(--color-icon)"},i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.createElement("path",{stroke:"var(--color-icon)",d:"M7 10l5 5 5-5z"}))};t.EdgeIcon=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"block",width:10,height:10},preserveAspectRatio:"none",viewBox:"0 0 100 100"},i.createElement("path",{fill:"var(--color-edge-icon)",stroke:"var(--color-edge-icon)",d:"M10 30 L90 30 l-40 40 Z"}))};t.PopoutIcon=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:r,viewBox:"0 0 20 20",fill:"var(--color-icon)"},i.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),i.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}))};t.RestoreIcon=function(){return i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:r,viewBox:"0 0 24 24",fill:"var(--color-icon)"},i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.createElement("path",{stroke:"var(--color-icon)",d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))}},11511:(e,t,n)=>{"use strict";var i=n(50883).default,r=n(17383).default,a=n(34579).default,o=n(18336).default,s=n(29511).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var l=n(41594),u=n(75206),c=n(55091),d=n(55760),h=n(67866),v=n(59291),f=n(20134),_=n(87786),p=n(65316),g=n(93205),m=n(29894),A=n(84146),y=n(78714),b=n(85710),T=n(53608),E=n(8815),S=n(41276),x=n(79512),L=n(75065),w=n(32287),C=n(78159),O={close:l.createElement(w.CloseIcon,null),closeTabset:l.createElement(w.CloseIcon,null),popout:l.createElement(w.PopoutIcon,null),maximize:l.createElement(w.MaximizeIcon,null),restore:l.createElement(w.RestoreIcon,null),more:l.createElement(w.OverflowIcon,null),edgeArrow:l.createElement(w.EdgeIcon,null)},k="undefined"!==typeof window&&(window.document.documentMode||/Edge\//.test(window.navigator.userAgent)),N="undefined"!==typeof window&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches&&!k,R=function(e){function t(e){var n;return r(this,t),(n=o(this,t,[e])).firstMove=!1,n.dragRectRendered=!0,n.dragDivText=void 0,n.edgeRectLength=100,n.edgeRectWidth=10,n.onModelChange=function(e){n.forceUpdate(),n.props.onModelChange&&n.props.onModelChange(n.props.model,e)},n.updateRect=function(e){if(e||(e=n.getDomRect()),e){var t=new g.Rect(0,0,e.width,e.height);t.equals(n.state.rect)||0===t.width||0===t.height||n.setState({rect:t})}},n.updateLayoutMetrics=function(){if(n.findHeaderBarSizeRef.current){var e=n.findHeaderBarSizeRef.current.getBoundingClientRect().height;e!==n.state.calculatedHeaderBarSize&&n.setState({calculatedHeaderBarSize:e})}if(n.findTabBarSizeRef.current){var t=n.findTabBarSizeRef.current.getBoundingClientRect().height;t!==n.state.calculatedTabBarSize&&n.setState({calculatedTabBarSize:t})}if(n.findBorderBarSizeRef.current){var i=n.findBorderBarSizeRef.current.getBoundingClientRect().height;i!==n.state.calculatedBorderBarSize&&n.setState({calculatedBorderBarSize:i})}},n.getClassName=function(e){return void 0===n.props.classNameMapper?e:n.props.classNameMapper(e)},n.onCloseWindow=function(e){n.doAction(h.Actions.unFloatTab(e));try{n.props.model.getNodeById(e)._setWindow(void 0)}catch(t){}},n.onSetWindow=function(e,t){n.props.model.getNodeById(e)._setWindow(t)},n.onCancelAdd=function(){var e,t,i=n.selfRef.current;i&&n.dragDiv&&i.removeChild(n.dragDiv),n.dragDiv=void 0,n.hidePortal(),null!=n.fnNewNodeDropped&&(n.fnNewNodeDropped(),n.fnNewNodeDropped=void 0);try{null===(t=null===(e=n.customDrop)||void 0===e?void 0:e.invalidated)||void 0===t||t.call(e)}catch(r){console.error(r)}d.DragDrop.instance.hideGlass(),n.newTabJson=void 0,n.customDrop=void 0},n.onCancelDrag=function(e){var t,i;if(e){var r=n.selfRef.current,a=n.outlineDiv;if(r&&a)try{r.removeChild(a)}catch(s){}var o=n.dragDiv;if(r&&o)try{r.removeChild(o)}catch(s){}n.dragDiv=void 0,n.hidePortal(),n.setState({showEdges:!1}),null!=n.fnNewNodeDropped&&(n.fnNewNodeDropped(),n.fnNewNodeDropped=void 0);try{null===(i=null===(t=n.customDrop)||void 0===t?void 0:t.invalidated)||void 0===i||i.call(t)}catch(s){console.error(s)}d.DragDrop.instance.hideGlass(),n.newTabJson=void 0,n.customDrop=void 0}n.setState({showHiddenBorder:c.DockLocation.CENTER})},n.onDragDivMouseDown=function(e){e.preventDefault(),n.dragStart(e,n.dragDivText,_.TabNode._fromJson(n.newTabJson,n.props.model,!1),!0,void 0,void 0)},n.dragStart=function(e,t,i,r,a,o){var s,l;r?(n.dragNode=i,n.dragDivText=t,d.DragDrop.instance.startDrag(e,n.onDragStart,n.onDragMove,n.onDragEnd,n.onCancelDrag,a,o,n.currentDocument,null!==(l=n.selfRef.current)&&void 0!==l?l:void 0)):d.DragDrop.instance.startDrag(e,void 0,void 0,void 0,void 0,a,o,n.currentDocument,null!==(s=n.selfRef.current)&&void 0!==s?s:void 0)},n.dragRectRender=function(e,t,i,r){var a;if(void 0!==e?a=l.createElement("div",{style:{whiteSpace:"pre"}},e.replace("<br>","\n")):t&&t instanceof _.TabNode&&(a=l.createElement(C.TabButtonStamp,{node:t,layout:n,iconFactory:n.props.iconFactory,titleFactory:n.props.titleFactory})),void 0!==n.props.onRenderDragRect){var o=n.props.onRenderDragRect(a,t,i);void 0!==o&&(a=o)}n.dragRectRendered=!1;var s=n.dragDiv;s&&(s.style.visibility="hidden",n.showPortal(l.createElement(D,{onRendered:function(){n.dragRectRendered=!0,null===r||void 0===r||r()}},a),s))},n.showPortal=function(e,t){var i=(0,u.createPortal)(e,t);n.setState({portal:i})},n.hidePortal=function(){n.setState({portal:void 0})},n.onDragStart=function(){var e;n.dropInfo=void 0,n.customDrop=void 0;var t=n.selfRef.current;return n.outlineDiv=n.currentDocument.createElement("div"),n.outlineDiv.className=n.getClassName(m.CLASSES.FLEXLAYOUT__OUTLINE_RECT),n.outlineDiv.style.visibility="hidden",t&&t.appendChild(n.outlineDiv),null==n.dragDiv&&(n.dragDiv=n.currentDocument.createElement("div"),n.dragDiv.className=n.getClassName(m.CLASSES.FLEXLAYOUT__DRAG_RECT),n.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),n.dragRectRender(n.dragDivText,n.dragNode,n.newTabJson),t&&t.appendChild(n.dragDiv)),void 0===n.props.model.getMaximizedTabset()&&n.setState({showEdges:n.props.model.isEnableEdgeDock()}),n.dragNode&&n.outlineDiv&&n.dragNode instanceof _.TabNode&&void 0!==n.dragNode.getTabRect()&&(null===(e=n.dragNode.getTabRect())||void 0===e||e.positionElement(n.outlineDiv)),n.firstMove=!0,!0},n.onDragMove=function(e){var t,i,r,a,o,s,l;if(!1===n.firstMove){var u=n.props.model._getAttribute("tabDragSpeed");n.outlineDiv&&(n.outlineDiv.style.transition="top ".concat(u,"s, left ").concat(u,"s, width ").concat(u,"s, height ").concat(u,"s"))}n.firstMove=!1;var c=null===(t=n.selfRef.current)||void 0===t?void 0:t.getBoundingClientRect(),d={x:e.clientX-(null!==(i=null===c||void 0===c?void 0:c.left)&&void 0!==i?i:0),y:e.clientY-(null!==(r=null===c||void 0===c?void 0:c.top)&&void 0!==r?r:0)};n.checkForBorderToShow(d.x,d.y);var h=null!==(o=null===(a=n.dragDiv)||void 0===a?void 0:a.getBoundingClientRect())&&void 0!==o?o:new DOMRect(0,0,100,100),v=d.x-h.width/2;v+h.width>(null!==(s=null===c||void 0===c?void 0:c.width)&&void 0!==s?s:0)&&(v=(null!==(l=null===c||void 0===c?void 0:c.width)&&void 0!==l?l:0)-h.width),v=Math.max(0,v),n.dragDiv&&(n.dragDiv.style.left=v+"px",n.dragDiv.style.top=d.y+5+"px",n.dragRectRendered&&"hidden"===n.dragDiv.style.visibility&&(n.dragDiv.style.visibility="visible"));var f=n.props.model._findDropTargetNode(n.dragNode,d.x,d.y);f&&(n.props.onTabDrag?n.handleCustomTabDrag(f,d,e):(n.dropInfo=f,n.outlineDiv&&(n.outlineDiv.className=n.getClassName(f.className),f.rect.positionElement(n.outlineDiv),n.outlineDiv.style.visibility="visible")))},n.onDragEnd=function(e){var t=n.selfRef.current;if(t&&(n.outlineDiv&&t.removeChild(n.outlineDiv),n.dragDiv&&t.removeChild(n.dragDiv)),n.dragDiv=void 0,n.hidePortal(),n.setState({showEdges:!1}),d.DragDrop.instance.hideGlass(),n.dropInfo)if(n.customDrop){n.newTabJson=void 0;try{var i=n.customDrop;(0,i.callback)(i.dragging,i.over,i.x,i.y,i.location),null!=n.fnNewNodeDropped&&(n.fnNewNodeDropped(),n.fnNewNodeDropped=void 0)}catch(a){console.error(a)}}else if(void 0!==n.newTabJson){var r=n.doAction(h.Actions.addNode(n.newTabJson,n.dropInfo.node.getId(),n.dropInfo.location,n.dropInfo.index));null!=n.fnNewNodeDropped&&(n.fnNewNodeDropped(r,e),n.fnNewNodeDropped=void 0),n.newTabJson=void 0}else void 0!==n.dragNode&&n.doAction(h.Actions.moveNode(n.dragNode.getId(),n.dropInfo.node.getId(),n.dropInfo.location,n.dropInfo.index));n.setState({showHiddenBorder:c.DockLocation.CENTER})},n.props.model._setChangeListener(n.onModelChange),n.tabIds=[],n.selfRef=l.createRef(),n.findHeaderBarSizeRef=l.createRef(),n.findTabBarSizeRef=l.createRef(),n.findBorderBarSizeRef=l.createRef(),n.supportsPopout=void 0!==e.supportsPopout?e.supportsPopout:N,n.popoutURL=e.popoutURL?e.popoutURL:"popout.html",n.icons=Object.assign(Object.assign({},O),e.icons),n.state={rect:new g.Rect(0,0,0,0),calculatedHeaderBarSize:25,calculatedTabBarSize:26,calculatedBorderBarSize:30,editingTab:void 0,showHiddenBorder:c.DockLocation.CENTER,showEdges:!1},n.onDragEnter=n.onDragEnter.bind(n),n}return s(t,e),a(t,[{key:"styleFont",value:function(e){return this.props.font&&(this.selfRef.current&&(this.props.font.size&&this.selfRef.current.style.setProperty("--font-size",this.props.font.size),this.props.font.family&&this.selfRef.current.style.setProperty("--font-family",this.props.font.family)),this.props.font.style&&(e.fontStyle=this.props.font.style),this.props.font.weight&&(e.fontWeight=this.props.font.weight)),e}},{key:"doAction",value:function(e){if(void 0!==this.props.onAction){var t=this.props.onAction(e);return void 0!==t?this.props.model.doAction(t):void 0}return this.props.model.doAction(e)}},{key:"componentDidMount",value:function(){var e=this;this.updateRect(),this.updateLayoutMetrics(),this.currentDocument=this.selfRef.current.ownerDocument,this.currentWindow=this.currentDocument.defaultView,this.resizeObserver=new ResizeObserver((function(t){e.updateRect(t[0].contentRect)}));var t=this.selfRef.current;t&&this.resizeObserver.observe(t)}},{key:"componentDidUpdate",value:function(){this.updateLayoutMetrics(),this.props.model!==this.previousModel&&(void 0!==this.previousModel&&this.previousModel._setChangeListener(void 0),this.props.model._setChangeListener(this.onModelChange),this.previousModel=this.props.model)}},{key:"getCurrentDocument",value:function(){return this.currentDocument}},{key:"getDomRect",value:function(){var e;return null===(e=this.selfRef.current)||void 0===e?void 0:e.getBoundingClientRect()}},{key:"getRootDiv",value:function(){return this.selfRef.current}},{key:"isSupportsPopout",value:function(){return this.supportsPopout}},{key:"isRealtimeResize",value:function(){var e;return null!==(e=this.props.realtimeResize)&&void 0!==e&&e}},{key:"onTabDrag",value:function(){for(var e,t,n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return null===(n=(t=this.props).onTabDrag)||void 0===n?void 0:(e=n).call.apply(e,[t].concat(r))}},{key:"getPopoutURL",value:function(){return this.popoutURL}},{key:"componentWillUnmount",value:function(){var e,t=this.selfRef.current;t&&(null===(e=this.resizeObserver)||void 0===e||e.unobserve(t))}},{key:"setEditingTab",value:function(e){this.setState({editingTab:e})}},{key:"getEditingTab",value:function(){return this.state.editingTab}},{key:"render",value:function(){if(!this.selfRef.current)return l.createElement("div",{ref:this.selfRef,className:this.getClassName(m.CLASSES.FLEXLAYOUT__LAYOUT)},this.metricsElements());this.props.model._setPointerFine(window&&window.matchMedia&&window.matchMedia("(pointer: fine)").matches);var e=[],t=[],n=[],r={},a=[],o={headerBarSize:this.state.calculatedHeaderBarSize,tabBarSize:this.state.calculatedTabBarSize,borderBarSize:this.state.calculatedBorderBarSize};this.props.model._setShowHiddenBorder(this.state.showHiddenBorder),this.centerRect=this.props.model._layout(this.state.rect,o),this.renderBorder(this.props.model.getBorderSet(),e,r,n,a),this.renderChildren("",this.props.model.getRoot(),t,r,n,a);var s,u=[],c={},d=i(this.tabIds);try{for(d.s();!(s=d.n()).done;){var h=s.value;r[h]&&(u.push(h),c[h]=h)}}catch(x){d.e(x)}finally{d.f()}this.tabIds=u;for(var v=0,f=Object.keys(r);v<f.length;v++){var _=f[v];c[_]||this.tabIds.push(_)}var p=[],g=this.icons.edgeArrow;if(this.state.showEdges){var A=this.centerRect,y=this.edgeRectLength,b=this.edgeRectWidth,T=this.edgeRectLength/2,E=this.getClassName(m.CLASSES.FLEXLAYOUT__EDGE_RECT),S=50;p.push(l.createElement("div",{key:"North",style:{top:A.y,left:A.x+A.width/2-T,width:y,height:b,borderBottomLeftRadius:S,borderBottomRightRadius:S},className:E+" "+this.getClassName(m.CLASSES.FLEXLAYOUT__EDGE_RECT_TOP)},l.createElement("div",{style:{transform:"rotate(180deg)"}},g))),p.push(l.createElement("div",{key:"West",style:{top:A.y+A.height/2-T,left:A.x,width:b,height:y,borderTopRightRadius:S,borderBottomRightRadius:S},className:E+" "+this.getClassName(m.CLASSES.FLEXLAYOUT__EDGE_RECT_LEFT)},l.createElement("div",{style:{transform:"rotate(90deg)"}},g))),p.push(l.createElement("div",{key:"South",style:{top:A.y+A.height-b,left:A.x+A.width/2-T,width:y,height:b,borderTopLeftRadius:S,borderTopRightRadius:S},className:E+" "+this.getClassName(m.CLASSES.FLEXLAYOUT__EDGE_RECT_BOTTOM)},l.createElement("div",null,g))),p.push(l.createElement("div",{key:"East",style:{top:A.y+A.height/2-T,left:A.x+A.width-b,width:b,height:y,borderTopLeftRadius:S,borderBottomLeftRadius:S},className:E+" "+this.getClassName(m.CLASSES.FLEXLAYOUT__EDGE_RECT_RIGHT)},l.createElement("div",{style:{transform:"rotate(-90deg)"}},g)))}return l.createElement("div",{ref:this.selfRef,className:this.getClassName(m.CLASSES.FLEXLAYOUT__LAYOUT),onDragEnter:this.props.onExternalDrag?this.onDragEnter:void 0},t,this.tabIds.map((function(e){return r[e]})),e,a,p,n,this.metricsElements(),this.state.portal)}},{key:"metricsElements",value:function(){var e=this.styleFont({visibility:"hidden"});return l.createElement(l.Fragment,null,l.createElement("div",{key:"findHeaderBarSize",ref:this.findHeaderBarSizeRef,style:e,className:this.getClassName(m.CLASSES.FLEXLAYOUT__TABSET_HEADER_SIZER)},"FindHeaderBarSize"),l.createElement("div",{key:"findTabBarSize",ref:this.findTabBarSizeRef,style:e,className:this.getClassName(m.CLASSES.FLEXLAYOUT__TABSET_SIZER)},"FindTabBarSize"),l.createElement("div",{key:"findBorderBarSize",ref:this.findBorderBarSizeRef,style:e,className:this.getClassName(m.CLASSES.FLEXLAYOUT__BORDER_SIZER)},"FindBorderBarSize"))}},{key:"renderBorder",value:function(e,t,n,r,a){var o,s=i(e.getBorders());try{for(s.s();!(o=s.n()).done;){var u=o.value,c="/border/".concat(u.getLocation().getName());if(u.isShowing()){t.push(l.createElement(A.BorderTabSet,{key:"border_".concat(u.getLocation().getName()),path:c,border:u,layout:this,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons}));var d,h=u._getDrawChildren(),v=0,p=0,g=i(h);try{for(g.s();!(d=g.n()).done;){var m=d.value;if(m instanceof f.SplitterNode){var T=c+"/s";a.push(l.createElement(y.Splitter,{key:m.getId(),layout:this,node:m,path:T}))}else if(m instanceof _.TabNode){var w=c+"/t"+p++;if(this.supportsPopout&&m.isFloating()){var C=this._getScreenRect(m),O=m._getAttr("borderWidth"),k=m._getAttr("borderHeight");C&&(-1!==O&&u.getLocation().getOrientation()===L.Orientation.HORZ?C.width=O:-1!==k&&u.getLocation().getOrientation()===L.Orientation.VERT&&(C.height=k)),r.push(l.createElement(E.FloatingWindow,{key:m.getId(),url:this.popoutURL,rect:C,title:m.getName(),id:m.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},l.createElement(S.FloatingWindowTab,{layout:this,node:m,factory:this.props.factory}))),n[m.getId()]=l.createElement(x.TabFloating,{key:m.getId(),layout:this,path:w,node:m,selected:v===u.getSelected()})}else n[m.getId()]=l.createElement(b.Tab,{key:m.getId(),layout:this,path:w,node:m,selected:v===u.getSelected(),factory:this.props.factory})}v++}}catch(N){g.e(N)}finally{g.f()}}}}catch(N){s.e(N)}finally{s.f()}}},{key:"renderChildren",value:function(e,t,n,r,a,o){var s,u=t._getDrawChildren(),c=0,d=0,h=0,v=i(u);try{for(v.s();!(s=v.n()).done;){var g=s.value;if(g instanceof f.SplitterNode){var m=e+"/s"+c++;o.push(l.createElement(y.Splitter,{key:g.getId(),layout:this,path:m,node:g}))}else if(g instanceof p.TabSetNode){var A=e+"/ts"+h++;n.push(l.createElement(T.TabSet,{key:g.getId(),layout:this,path:A,node:g,iconFactory:this.props.iconFactory,titleFactory:this.props.titleFactory,icons:this.icons})),this.renderChildren(A,g,n,r,a,o)}else if(g instanceof _.TabNode){var w=e+"/t"+d++,C=g.getParent().getChildren()[g.getParent().getSelected()];if(void 0===C&&console.warn("undefined selectedTab should not happen"),this.supportsPopout&&g.isFloating()){var O=this._getScreenRect(g);a.push(l.createElement(E.FloatingWindow,{key:g.getId(),url:this.popoutURL,rect:O,title:g.getName(),id:g.getId(),onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},l.createElement(S.FloatingWindowTab,{layout:this,node:g,factory:this.props.factory}))),r[g.getId()]=l.createElement(x.TabFloating,{key:g.getId(),layout:this,path:w,node:g,selected:g===C})}else r[g.getId()]=l.createElement(b.Tab,{key:g.getId(),layout:this,path:w,node:g,selected:g===C,factory:this.props.factory})}else{var k=e+(g.getOrientation()===L.Orientation.HORZ?"/r":"/c")+h++;this.renderChildren(k,g,n,r,a,o)}}}catch(N){v.e(N)}finally{v.f()}}},{key:"_getScreenRect",value:function(e){var t,n=e.getRect().clone(),i=null===(t=this.selfRef.current)||void 0===t?void 0:t.getBoundingClientRect();if(!i)return null;var r=Math.min(80,this.currentWindow.outerHeight-this.currentWindow.innerHeight),a=Math.min(80,this.currentWindow.outerWidth-this.currentWindow.innerWidth);return n.x=n.x+i.x+this.currentWindow.screenX+a,n.y=n.y+i.y+this.currentWindow.screenY+r,n}},{key:"addTabToTabSet",value:function(e,t){if(void 0!==this.props.model.getNodeById(e))return this.doAction(h.Actions.addNode(t,e,c.DockLocation.CENTER,-1))}},{key:"addTabToActiveTabSet",value:function(e){var t=this.props.model.getActiveTabset();if(void 0!==t)return this.doAction(h.Actions.addNode(e,t.getId(),c.DockLocation.CENTER,-1))}},{key:"addTabWithDragAndDrop",value:function(e,t,n){this.fnNewNodeDropped=n,this.newTabJson=t,this.dragStart(void 0,e,_.TabNode._fromJson(t,this.props.model,!1),!0,void 0,void 0)}},{key:"moveTabWithDragAndDrop",value:function(e,t){this.dragStart(void 0,t,e,!0,void 0,void 0)}},{key:"addTabWithDragAndDropIndirect",value:function(e,t,n){var i=this;this.fnNewNodeDropped=n,this.newTabJson=t,d.DragDrop.instance.addGlass(this.onCancelAdd),this.dragDivText=e,this.dragDiv=this.currentDocument.createElement("div"),this.dragDiv.className=this.getClassName(m.CLASSES.FLEXLAYOUT__DRAG_RECT),this.dragDiv.addEventListener("mousedown",this.onDragDivMouseDown),this.dragDiv.addEventListener("touchstart",this.onDragDivMouseDown,{passive:!1}),this.dragRectRender(this.dragDivText,void 0,this.newTabJson,(function(){if(i.dragDiv){i.dragDiv.style.visibility="visible";var e=i.dragDiv.getBoundingClientRect(),t=new g.Rect(0,0,null===e||void 0===e?void 0:e.width,null===e||void 0===e?void 0:e.height);t.centerInRect(i.state.rect),i.dragDiv.setAttribute("data-layout-path","/drag-rectangle"),i.dragDiv.style.left=t.x+"px",i.dragDiv.style.top=t.y+"px"}})),this.selfRef.current.appendChild(this.dragDiv)}},{key:"handleCustomTabDrag",value:function(e,t,n){var i,r,a,o=this,s=null===(i=this.customDrop)||void 0===i?void 0:i.invalidated,l=null===(r=this.customDrop)||void 0===r?void 0:r.callback;this.customDrop=void 0;var u=this.newTabJson||(this.dragNode instanceof _.TabNode?this.dragNode:void 0);if(u&&(e.node instanceof p.TabSetNode||e.node instanceof v.BorderNode)&&-1===e.index){var c=e.node.getSelectedNode(),h=null===c||void 0===c?void 0:c.getRect();if(c&&(null===h||void 0===h?void 0:h.contains(t.x,t.y))){var f=void 0;try{var A=this.onTabDrag(u,c,t.x-h.x,t.y-h.y,e.location,(function(){return o.onDragMove(n)}));A&&(f={rect:new g.Rect(A.x+h.x,A.y+h.y,A.width,A.height),callback:A.callback,invalidated:A.invalidated,dragging:u,over:c,x:t.x-h.x,y:t.y-h.y,location:e.location,cursor:A.cursor})}catch(y){console.error(y)}(null===f||void 0===f?void 0:f.callback)===l&&(s=void 0),this.customDrop=f}}this.dropInfo=e,this.outlineDiv&&(this.outlineDiv.className=this.getClassName(this.customDrop?m.CLASSES.FLEXLAYOUT__OUTLINE_RECT:e.className),this.customDrop?this.customDrop.rect.positionElement(this.outlineDiv):e.rect.positionElement(this.outlineDiv)),d.DragDrop.instance.setGlassCursorOverride(null===(a=this.customDrop)||void 0===a?void 0:a.cursor),this.outlineDiv&&(this.outlineDiv.style.visibility="visible");try{null===s||void 0===s||s()}catch(y){console.error(y)}}},{key:"onDragEnter",value:function(e){if(!d.DragDrop.instance.isDragging()){var t=this.props.onExternalDrag(e);t&&(this.fnNewNodeDropped=t.onDrop,this.newTabJson=t.json,this.dragStart(e,t.dragText,_.TabNode._fromJson(t.json,this.props.model,!1),!0,void 0,void 0))}}},{key:"checkForBorderToShow",value:function(e,t){var n=this.props.model._getOuterInnerRects().outer,i=n.getCenter(),r=this.edgeRectWidth,a=this.edgeRectLength/2,o=!1;this.props.model.isEnableEdgeDock()&&this.state.showHiddenBorder===c.DockLocation.CENTER&&(t>i.y-a&&t<i.y+a||e>i.x-a&&e<i.x+a)&&(o=!0);var s=c.DockLocation.CENTER;o||(e<=n.x+r?s=c.DockLocation.LEFT:e>=n.getRight()-r?s=c.DockLocation.RIGHT:t<=n.y+r?s=c.DockLocation.TOP:t>=n.getBottom()-r&&(s=c.DockLocation.BOTTOM)),s!==this.state.showHiddenBorder&&this.setState({showHiddenBorder:s})}},{key:"maximize",value:function(e){this.doAction(h.Actions.maximizeToggle(e.getId()))}},{key:"customizeTab",value:function(e,t){this.props.onRenderTab&&this.props.onRenderTab(e,t)}},{key:"customizeTabSet",value:function(e,t){this.props.onRenderTabSet&&this.props.onRenderTabSet(e,t)}},{key:"i18nName",value:function(e,t){var n;return this.props.i18nMapper&&(n=this.props.i18nMapper(e,t)),void 0===n&&(n=e+(void 0===t?"":t)),n}},{key:"getOnRenderFloatingTabPlaceholder",value:function(){return this.props.onRenderFloatingTabPlaceholder}},{key:"getShowOverflowMenu",value:function(){return this.props.onShowOverflowMenu}},{key:"getTabSetPlaceHolderCallback",value:function(){return this.props.onTabSetPlaceHolder}},{key:"showContextMenu",value:function(e,t){this.props.onContextMenu&&this.props.onContextMenu(e,t)}},{key:"auxMouseClick",value:function(e,t){this.props.onAuxMouseClick&&this.props.onAuxMouseClick(e,t)}}])}(l.Component);t.Layout=R;var D=function(e){return l.useEffect((function(){var t;null===(t=e.onRendered)||void 0===t||t.call(e)}),[e]),l.createElement(l.Fragment,null,e.children)}},78714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Splitter=void 0;var i=n(41594),r=n(55760),a=n(67866),o=n(59291),s=n(75065),l=n(29894);t.Splitter=function(e){var t=e.layout,n=e.node,u=e.path,c=i.useRef([]),d=i.useRef(void 0),h=n.getParent(),v=function(e){var i;r.DragDrop.instance.setGlassCursorOverride(n.getOrientation()===s.Orientation.HORZ?"ns-resize":"ew-resize"),r.DragDrop.instance.startDrag(e,_,p,m,f,void 0,void 0,t.getCurrentDocument(),null!==(i=t.getRootDiv())&&void 0!==i?i:void 0),c.current=h._getSplitterBounds(n,!0);var a=t.getRootDiv();d.current=t.getCurrentDocument().createElement("div"),d.current.style.position="absolute",d.current.className=t.getClassName(l.CLASSES.FLEXLAYOUT__SPLITTER_DRAG),d.current.style.cursor=n.getOrientation()===s.Orientation.HORZ?"ns-resize":"ew-resize";var o=n.getRect();n.getOrientation()===s.Orientation.VERT&&o.width<2?o.width=2:n.getOrientation()===s.Orientation.HORZ&&o.height<2&&(o.height=2),o.positionElement(d.current),a&&a.appendChild(d.current)},f=function(e){var n=t.getRootDiv();n&&n.removeChild(d.current)},_=function(){return!0},p=function(e){var i=t.getDomRect();if(i){var r=e.clientX-i.left,a=e.clientY-i.top;d&&(n.getOrientation()===s.Orientation.HORZ?d.current.style.top=A(a-4)+"px":d.current.style.left=A(r-4)+"px"),t.isRealtimeResize()&&g()}},g=function(){var e=0;if(d&&(e=n.getOrientation()===s.Orientation.HORZ?d.current.offsetTop:d.current.offsetLeft),h instanceof o.BorderNode){var i=h._calculateSplit(n,e);t.doAction(a.Actions.adjustBorderSplit(n.getParent().getId(),i))}else{var r=h._calculateSplit(n,e);void 0!==r&&t.doAction(a.Actions.adjustSplit(r))}},m=function(){g();var e=t.getRootDiv();e&&e.removeChild(d.current)},A=function(e){var t=c.current,n=e;return e<t[0]&&(n=t[0]),e>t[1]&&(n=t[1]),n},y=t.getClassName,b=n.getRect(),T=b.styleWithPosition({cursor:n.getOrientation()===s.Orientation.HORZ?"ns-resize":"ew-resize"}),E=y(l.CLASSES.FLEXLAYOUT__SPLITTER)+" "+y(l.CLASSES.FLEXLAYOUT__SPLITTER_+n.getOrientation().getName());h instanceof o.BorderNode?E+=" "+y(l.CLASSES.FLEXLAYOUT__SPLITTER_BORDER):void 0!==n.getModel().getMaximizedTabset()&&(T.display="none");var S=n.getModel().getSplitterExtra();if(0===S)return i.createElement("div",{style:T,"data-layout-path":u,className:E,onTouchStart:v,onMouseDown:v});var x=b.clone();x.x=0,x.y=0,n.getOrientation()===s.Orientation.VERT?x.width+=S:x.height+=S;var L=x.styleWithPosition({cursor:n.getOrientation()===s.Orientation.HORZ?"ns-resize":"ew-resize"}),w=y(l.CLASSES.FLEXLAYOUT__SPLITTER_EXTRA);return i.createElement("div",{style:T,"data-layout-path":u,className:E},i.createElement("div",{style:L,className:w,onTouchStart:v,onMouseDown:v}))}},85710:(e,t,n)=>{"use strict";var i=n(85715).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=void 0;var r=n(41594),a=n(41594),o=n(67866),s=n(65316),l=n(29894),u=n(66721),c=n(86033),d=n(59291),h=n(90304);t.Tab=function(e){var t=e.layout,n=e.selected,v=e.node,f=e.factory,_=e.path,p=r.useState(!e.node.isEnableRenderOnDemand()||e.selected),g=i(p,2),m=g[0],A=g[1];r.useLayoutEffect((function(){!m&&n&&A(!0)}));var y,b=function(){var e=v.getParent();e.getType()===s.TabSetNode.TYPE&&(e.isActive()||t.doAction(o.Actions.setActiveTabset(e.getId())))},T=t.getClassName,E=v.getModel().isUseVisibility(),S=v.getParent(),x=v._styleWithPosition();n||(0,h.hideElement)(x,E),S instanceof s.TabSetNode&&(void 0===v.getModel().getMaximizedTabset()||S.isMaximized()||(0,h.hideElement)(x,E)),m&&(y=f(v));var L=T(l.CLASSES.FLEXLAYOUT__TAB);return S instanceof d.BorderNode&&(L+=" "+T(l.CLASSES.FLEXLAYOUT__TAB_BORDER),L+=" "+T(l.CLASSES.FLEXLAYOUT__TAB_BORDER_+S.getLocation().getName())),void 0!==v.getContentClassName()&&(L+=" "+v.getContentClassName()),r.createElement("div",{className:L,"data-layout-path":_,onMouseDown:b,onTouchStart:b,style:x},r.createElement(u.ErrorBoundary,{message:e.layout.i18nName(c.I18nLabel.Error_rendering_component)},r.createElement(a.Fragment,null,y)))}},70762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabButton=void 0;var i=n(41594),r=n(86033),a=n(67866),o=n(93205),s=n(28500),l=n(29894),u=n(90304);t.TabButton=function(e){var t=e.layout,n=e.node,c=e.selected,d=e.iconFactory,h=e.titleFactory,v=e.icons,f=e.path,_=i.useRef(null),p=i.useRef(null),g=function(e){(0,u.isAuxMouseEvent)(e)||t.getEditingTab()||t.dragStart(e,void 0,n,n.isEnableDrag(),A,y)},m=function(e){(0,u.isAuxMouseEvent)(e)&&t.auxMouseClick(n,e)},A=function(){t.doAction(a.Actions.selectTab(n.getId()))},y=function(e){n.isEnableRename()&&b()},b=function(){t.setEditingTab(n),t.getCurrentDocument().body.addEventListener("mousedown",T),t.getCurrentDocument().body.addEventListener("touchstart",T)},T=function(e){e.target!==p.current&&(t.getCurrentDocument().body.removeEventListener("mousedown",T),t.getCurrentDocument().body.removeEventListener("touchstart",T),t.setEditingTab(void 0))},E=function(e){e.stopPropagation()};i.useLayoutEffect((function(){S(),t.getEditingTab()===n&&p.current.select()}));var S=function(){var e,i=t.getDomRect(),r=null===(e=_.current)||void 0===e?void 0:e.getBoundingClientRect();r&&i&&n._setTabRect(new o.Rect(r.left-i.left,r.top-i.top,r.width,r.height))},x=function(e){e.stopPropagation()},L=t.getClassName,w=n.getParent(),C=w.isEnableSingleTabStretch()&&1===w.getChildren().length,O=C?l.CLASSES.FLEXLAYOUT__TAB_BUTTON_STRETCH:l.CLASSES.FLEXLAYOUT__TAB_BUTTON,k=L(O);k+=" "+L(O+"_"+w.getTabLocation()),C||(k+=c?" "+L(O+"--selected"):" "+L(O+"--unselected")),void 0!==n.getClassName()&&(k+=" "+n.getClassName());var N=(0,u.getRenderStateEx)(t,n,d,h),R=N.content?i.createElement("div",{className:L(l.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT)},N.content):null,D=N.leading?i.createElement("div",{className:L(l.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING)},N.leading):null;if(t.getEditingTab()===n&&(R=i.createElement("input",{ref:p,className:L(l.CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":f+"/textbox",type:"text",autoFocus:!0,defaultValue:n.getName(),onKeyDown:function(e){"Escape"===e.code?t.setEditingTab(void 0):"Enter"===e.code&&(t.setEditingTab(void 0),t.doAction(a.Actions.renameTab(n.getId(),e.target.value)))},onMouseDown:x,onTouchStart:x})),n.isEnableClose()&&!C){var I=t.i18nName(r.I18nLabel.Close_Tab);N.buttons.push(i.createElement("div",{key:"close","data-layout-path":f+"/button/close",title:I,className:L(l.CLASSES.FLEXLAYOUT__TAB_BUTTON_TRAILING),onMouseDown:E,onClick:function(e){!function(){var e=n.getCloseType();return!(!c&&e!==s.ICloseType.Always)||!(e!==s.ICloseType.Visible||!window.matchMedia||!window.matchMedia("(hover: hover) and (pointer: fine)").matches)}()?A():t.doAction(a.Actions.deleteTab(n.getId()))},onTouchStart:E},"function"===typeof v.close?v.close(n):v.close))}return i.createElement("div",{ref:_,"data-layout-path":f,className:k,onMouseDown:g,onClick:m,onAuxClick:m,onContextMenu:function(e){t.showContextMenu(n,e)},onTouchStart:g,title:n.getHelpText()},D,R,N.buttons)}},78159:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabButtonStamp=void 0;var i=n(41594),r=n(29894),a=n(90304);t.TabButtonStamp=function(e){var t=e.layout,n=e.node,o=e.iconFactory,s=e.titleFactory,l=i.useRef(null),u=t.getClassName,c=u(r.CLASSES.FLEXLAYOUT__TAB_BUTTON_STAMP),d=(0,a.getRenderStateEx)(t,n,o,s),h=d.content?i.createElement("div",{className:u(r.CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT)},d.content):n._getNameForOverflowMenu(),v=d.leading?i.createElement("div",{className:u(r.CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING)},d.leading):null;return i.createElement("div",{ref:l,className:c,title:n.getHelpText()},v,h)}},79512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabFloating=void 0;var i=n(41594),r=n(67866),a=n(65316),o=n(29894),s=n(86033),l=n(90304);t.TabFloating=function(e){var t=e.layout,n=e.selected,u=e.node,c=e.path,d=function(){u.getWindow()&&u.getWindow().focus()},h=function(){t.doAction(r.Actions.unFloatTab(u.getId()))},v=function(){var e=u.getParent();e.getType()===a.TabSetNode.TYPE&&(e.isActive()||t.doAction(r.Actions.setActiveTabset(e.getId())))},f=t.getClassName,_=u.getParent(),p=u._styleWithPosition();n||(0,l.hideElement)(p,u.getModel().isUseVisibility()),_ instanceof a.TabSetNode&&(void 0===u.getModel().getMaximizedTabset()||_.isMaximized()||(0,l.hideElement)(p,u.getModel().isUseVisibility()));var g=t.i18nName(s.I18nLabel.Floating_Window_Message),m=t.i18nName(s.I18nLabel.Floating_Window_Show_Window),A=t.i18nName(s.I18nLabel.Floating_Window_Dock_Window),y=t.getOnRenderFloatingTabPlaceholder();return y?i.createElement("div",{className:f(o.CLASSES.FLEXLAYOUT__TAB_FLOATING),onMouseDown:v,onTouchStart:v,style:p},y(h,d)):i.createElement("div",{className:f(o.CLASSES.FLEXLAYOUT__TAB_FLOATING),"data-layout-path":c,onMouseDown:v,onTouchStart:v,style:p},i.createElement("div",{className:f(o.CLASSES.FLEXLAYOUT__TAB_FLOATING_INNER)},i.createElement("div",null,g),i.createElement("div",null,i.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),d()}},m)),i.createElement("div",null,i.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),h()}},A))))}},31803:(e,t,n)=>{"use strict";var i=n(85715).default;Object.defineProperty(t,"__esModule",{value:!0}),t.useTabOverflow=void 0;var r=n(41594),a=n(93205),o=n(65316),s=n(75065);t.useTabOverflow=function(e,t,n,l){var u=r.useRef(!0),c=r.useRef(!1),d=r.useRef(new a.Rect(0,0,0,0)),h=r.useRef(null),v=r.useState(0),f=i(v,2),_=f[0],p=f[1],g=r.useRef(!1),m=r.useState([]),A=i(m,2),y=A[0],b=A[1],T=r.useRef(0);r.useLayoutEffect((function(){g.current=!1}),[e.getSelectedNode(),e.getRect().width,e.getRect().height]),r.useLayoutEffect((function(){C()}));var E=h.current;r.useEffect((function(){if(E)return E.addEventListener("wheel",S,{passive:!1}),function(){E.removeEventListener("wheel",S)}}),[E]);var S=function(e){e.preventDefault()},x=function(e){return t===s.Orientation.HORZ?e.x:e.y},L=function(e){return t===s.Orientation.HORZ?e.getRight():e.getBottom()},w=function(e){return t===s.Orientation.HORZ?e.width:e.height},C=function(){!0===u.current&&(c.current=!1);var t=e instanceof o.TabSetNode?e.getRect():e.getTabHeaderRect(),i=e.getChildren()[e.getChildren().length-1],r=null===l.current?0:w(l.current.getBoundingClientRect());if(!0===u.current||0===T.current&&0!==y.length||t.width!==d.current.width||t.height!==d.current.height){T.current=y.length,d.current=t;var a=!(e instanceof o.TabSetNode)||!0===e.isEnableTabStrip(),s=L(t)-r;if(null!==n.current&&(s-=w(n.current.getBoundingClientRect())),a&&e.getChildren().length>0){if(0===y.length&&0===_&&L(i.getTabRect())+2<s)return;var h=0,v=e.getSelectedNode();if(v&&!g.current){var f=v.getTabRect(),m=x(f)-2,A=L(f)+2;w(f)+4>=s-x(t)?h=x(t)-m:(A>s||m<x(t))&&(m<x(t)&&(h=x(t)-m),A+h>s&&(h=s-A))}for(var E=Math.max(0,s-(L(i.getTabRect())+2+h)),S=Math.min(0,_+h+E),C=S-_,O=[],k=0;k<e.getChildren().length;k++){var N=e.getChildren()[k];(x(N.getTabRect())+C<x(t)||L(N.getTabRect())+C>s)&&O.push({node:N,index:k})}O.length>0&&(c.current=!0),u.current=!1,b(O),p(S)}}else u.current=!0};return{selfRef:h,position:_,userControlledLeft:g,hiddenTabs:y,onMouseWheel:function(e){var t=0;t=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY,1===e.deltaMode&&(t*=40),p(_+t),g.current=!0,e.stopPropagation()},tabsTruncated:c.current}}},53608:(e,t,n)=>{"use strict";var i=n(41132).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TabSet=void 0;var r=n(41594),a=n(86033),o=n(67866),s=n(17154),l=n(70762),u=n(31803),c=n(75065),d=n(29894),h=n(90304);t.TabSet=function(e){var t=e.node,n=e.layout,v=e.iconFactory,f=e.titleFactory,_=e.icons,p=e.path,g=r.useRef(null),m=r.useRef(null),A=r.useRef(null),y=r.useRef(null),b=(0,u.useTabOverflow)(t,c.Orientation.HORZ,g,y),T=b.selfRef,E=b.position,S=b.userControlledLeft,x=b.hiddenTabs,L=b.onMouseWheel,w=b.tabsTruncated,C=function(e){n.doAction(o.Actions.selectTab(e.node.getId())),S.current=!1},O=function(e){if(!(0,h.isAuxMouseEvent)(e)){var i=t.getName();if(i=void 0===i?"":": "+i,n.doAction(o.Actions.setActiveTabset(t.getId())),!n.getEditingTab()){var r=n.i18nName(a.I18nLabel.Move_Tabset,i);void 0!==t.getModel().getMaximizedTabset()?n.dragStart(e,r,t,!1,(function(e){}),D):n.dragStart(e,r,t,t.isEnableDrag(),(function(e){}),D)}}},k=function(e){(0,h.isAuxMouseEvent)(e)&&n.auxMouseClick(t,e)},N=function(e){n.showContextMenu(t,e)},R=function(e){e.stopPropagation()},D=function(e){t.canMaximize()&&n.maximize(t)},I=n.getClassName;null!==A.current&&0!==A.current.scrollLeft&&(A.current.scrollLeft=0);var M=t.getSelectedNode(),B=t._styleWithPosition();void 0===t.getModel().getMaximizedTabset()||t.isMaximized()||(0,h.hideElement)(B,t.getModel().isUseVisibility());var P=[];if(t.isEnableTabStrip())for(var F=0;F<t.getChildren().length;F++){var U=t.getChildren()[F],j=t.getSelected()===F;P.push(r.createElement(l.TabButton,{layout:n,node:U,path:p+"/tb"+F,key:U.getId(),selected:j,iconFactory:v,titleFactory:f,icons:_})),F<t.getChildren().length-1&&P.push(r.createElement("div",{key:"divider"+F,className:I(d.CLASSES.FLEXLAYOUT__TABSET_TAB_DIVIDER)}))}var z=void 0!==t.getName(),Y=[],W=[],H=[],V={headerContent:t.getName(),stickyButtons:Y,buttons:W,headerButtons:H,overflowPosition:void 0};n.customizeTabSet(t,V);var X=V.headerContent;Y=V.stickyButtons,W=V.buttons,H=V.headerButtons;var G=t.isEnableSingleTabStretch()&&1===t.getChildren().length,q=G&&t.getChildren()[0].isEnableClose()||t.isEnableClose();if(void 0===V.overflowPosition&&(V.overflowPosition=Y.length),Y.length>0&&(w||G?W=[].concat(i(Y),i(W)):P.push(r.createElement("div",{ref:y,key:"sticky_buttons_container",onMouseDown:R,onTouchStart:R,onDragStart:function(e){e.preventDefault()},className:I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)},Y))),x.length>0){var J,K=n.i18nName(a.I18nLabel.Overflow_Menu_Tooltip);J="function"===typeof _.more?_.more(t,x):r.createElement(r.Fragment,null,_.more,r.createElement("div",{className:I(d.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},x.length)),W.splice(Math.min(V.overflowPosition,W.length),0,r.createElement("button",{key:"overflowbutton","data-layout-path":p+"/button/overflow",ref:m,className:I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+I(d.CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW),title:K,onClick:function(e){var i=n.getShowOverflowMenu();if(void 0!==i)i(t,e,x,C);else{var r=m.current;(0,s.showPopup)(r,x,C,n,v,f)}e.stopPropagation()},onMouseDown:R,onTouchStart:R},J))}if(void 0!==M&&n.isSupportsPopout()&&M.isEnableFloat()&&!M.isFloating()){var Z=n.i18nName(a.I18nLabel.Float_Tab);W.push(r.createElement("button",{key:"float","data-layout-path":p+"/button/float",title:Z,className:I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT),onClick:function(e){void 0!==M&&n.doAction(o.Actions.floatTab(M.getId())),e.stopPropagation()},onMouseDown:R,onTouchStart:R},"function"===typeof _.popout?_.popout(M):_.popout))}if(t.canMaximize()){var Q=n.i18nName(a.I18nLabel.Restore),$=n.i18nName(a.I18nLabel.Maximize);(z?H:W).push(r.createElement("button",{key:"max","data-layout-path":p+"/button/max",title:t.isMaximized()?Q:$,className:I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_+(t.isMaximized()?"max":"min")),onClick:function(e){t.canMaximize()&&n.maximize(t),e.stopPropagation()},onMouseDown:R,onTouchStart:R},t.isMaximized()?"function"===typeof _.restore?_.restore(t):_.restore:"function"===typeof _.maximize?_.maximize(t):_.maximize))}if(!t.isMaximized()&&q){var ee=G?n.i18nName(a.I18nLabel.Close_Tab):n.i18nName(a.I18nLabel.Close_Tabset);(z?H:W).push(r.createElement("button",{key:"close","data-layout-path":p+"/button/close",title:ee,className:I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE),onClick:G?function(e){n.doAction(o.Actions.deleteTab(t.getChildren()[0].getId())),e.stopPropagation()}:function(e){n.doAction(o.Actions.deleteTabset(t.getId())),e.stopPropagation()},onMouseDown:R,onTouchStart:R},"function"===typeof _.closeTabset?_.closeTabset(t):_.closeTabset))}var te,ne,ie=r.createElement("div",{key:"toolbar",ref:g,className:I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:R,onTouchStart:R,onDragStart:function(e){e.preventDefault()}},W),re=I(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER);if(void 0!==t.getClassNameTabStrip()&&(re+=" "+t.getClassNameTabStrip()),re+=" "+d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER_+t.getTabLocation(),t.isActive()&&!z&&(re+=" "+I(d.CLASSES.FLEXLAYOUT__TABSET_SELECTED)),t.isMaximized()&&!z&&(re+=" "+I(d.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED)),G){var ae=t.getChildren()[0];void 0!==ae.getTabSetClassName()&&(re+=" "+ae.getTabSetClassName())}if(z){var oe=r.createElement("div",{key:"toolbar",ref:g,className:I(d.CLASSES.FLEXLAYOUT__TAB_TOOLBAR),onMouseDown:R,onTouchStart:R,onDragStart:function(e){e.preventDefault()}},H),se=I(d.CLASSES.FLEXLAYOUT__TABSET_HEADER);t.isActive()&&(se+=" "+I(d.CLASSES.FLEXLAYOUT__TABSET_SELECTED)),t.isMaximized()&&(se+=" "+I(d.CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED)),void 0!==t.getClassNameHeader()&&(se+=" "+t.getClassNameHeader()),te=r.createElement("div",{className:se,style:{height:t.getHeaderHeight()+"px"},"data-layout-path":p+"/header",onMouseDown:O,onContextMenu:N,onClick:k,onAuxClick:k,onTouchStart:O},r.createElement("div",{className:I(d.CLASSES.FLEXLAYOUT__TABSET_HEADER_CONTENT)},X),oe)}var le={height:t.getTabStripHeight()+"px"};ne=r.createElement("div",{className:re,style:le,"data-layout-path":p+"/tabstrip",onMouseDown:O,onContextMenu:N,onClick:k,onAuxClick:k,onTouchStart:O},r.createElement("div",{ref:A,className:I(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER)+" "+I(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_+t.getTabLocation())},r.createElement("div",{style:{left:E,width:G?"100%":"10000px"},className:I(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER)+" "+I(d.CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_+t.getTabLocation())},P)),ie),B=n.styleFont(B);var ue=void 0;if(0===t.getChildren().length){var ce=n.getTabSetPlaceHolderCallback();ce&&(ue=ce(t))}var de,he=r.createElement("div",{className:I(d.CLASSES.FLEXLAYOUT__TABSET_CONTENT)},ue);return de="top"===t.getTabLocation()?r.createElement(r.Fragment,null,te,ne,he):r.createElement(r.Fragment,null,te,he,ne),r.createElement("div",{ref:T,dir:"ltr","data-layout-path":p,style:B,className:I(d.CLASSES.FLEXLAYOUT__TABSET),onWheel:L},de)}},90304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAuxMouseEvent=t.hideElement=t.getRenderStateEx=void 0;var i=n(41594);t.getRenderStateEx=function(e,t,n,r,a){var o=n?n(t):void 0,s=t.getName(),l=t.getName();if(void 0===a&&(a=0),void 0!==r){var u=r(t);void 0!==u&&("string"===typeof u?(s=u,l=u):void 0!==u.titleContent?(s=u.titleContent,l=u.name):s=u)}void 0===o&&void 0!==t.getIcon()&&(o=0!==a?i.createElement("img",{style:{width:"1em",height:"1em",transform:"rotate("+a+"deg)"},src:t.getIcon(),alt:"leadingContent"}):i.createElement("img",{style:{width:"1em",height:"1em"},src:t.getIcon(),alt:"leadingContent"}));var c={leading:o,content:s,name:l,buttons:[]};return e.customizeTab(t,c),t._setRenderedName(c.name),c},t.hideElement=function(e,t){t?e.visibility="hidden":e.display="none"},t.isAuxMouseEvent=function(e){var t=!1;return e.nativeEvent instanceof MouseEvent&&(0!==e.nativeEvent.button||e.ctrlKey||e.altKey||e.metaKey||e.shiftKey)&&(t=!0),t}},97359:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},39457:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={textLight:"textColor_textLight__vYnYI",fqCritical:"textColor_fqCritical__-WH0s",textAmplifed:"textColor_textAmplifed__FNdWp"}},70079:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},92987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},5901:(e,t,n)=>{var i=n(70079);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},50883:(e,t,n)=>{var i=n(17122);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},32395:(e,t,n)=>{var i=n(39552);function r(){return e.exports=r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(null,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},99291:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},81156:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},47752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},41869:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},85715:(e,t,n)=>{var i=n(92987),r=n(81156),a=n(17122),o=n(47752);e.exports=function(e,t){return i(e)||r(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},39552:(e,t,n)=>{var i=n(63072);e.exports=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},29901:(e,t,n)=>{var i=n(32395),r=n(63072);e.exports=function(e,t,n,a){var o=i(r(1&a?e.prototype:e),t,n);return 2&a&&"function"==typeof o?function(e){return o.apply(n,e)}:o},e.exports.__esModule=!0,e.exports.default=e.exports},41132:(e,t,n)=>{var i=n(5901),r=n(99291),a=n(17122),o=n(41869);e.exports=function(e){return i(e)||r(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},17122:(e,t,n)=>{var i=n(70079);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},58168:(e,t,n)=>{"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(null,arguments)}n.d(t,{A:()=>i})},20454:(e,t,n)=>{"use strict";function i(e){if(null==e)throw new TypeError("Cannot destructure "+e)}n.d(t,{A:()=>i})}}]);
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/comb-trade/vendors-node_modules_ok_blade_lib_utils_src_deep-clone_js-node_modules_ok_blade_lib_utils_src-35d34e/index.cd51d1b6.js.map